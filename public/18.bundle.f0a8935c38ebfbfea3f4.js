(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1045:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),i=t(1042),a=t(1029),c=t.n(a);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,n,t,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void t(e)}c.done?n(u):Promise.resolve(u).then(r,o)}function l(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,n){return(y=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function h(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var d=function(e){function n(e){var t,r,i;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,i=f(n).call(this,e),t=!i||"object"!==u(i)&&"function"!=typeof i?p(r):i,h(p(t),"state",{error:null}),h(p(t),"viewer",null),h(p(t),"onWindowResize",(function(){t.debouncedResize()})),t.container=o.a.createRef(),t.debouncedResize=c()((function(){t.viewer&&t.viewer.resize()}),100),t}var r,a,d;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&y(e,n)}(n,e),r=n,(a=[{key:"installOpenLayersRenderer",value:function(e,n){var r=this,o=n.dicomWebClient,i={studyInstanceUID:n.StudyInstanceUID,seriesInstanceUID:n.SeriesInstanceUID};o.searchForInstances(i).then((function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r]["00080018"].Value[0],a={studyInstanceUID:n.StudyInstanceUID,seriesInstanceUID:n.SeriesInstanceUID,sopInstanceUID:i},c=o.retrieveInstanceMetadata(a).then((function(e){if("VOLUME"===e[0]["00080008"].Value[2])return e[0]}));t.push(c)}return Promise.all(t)})).then(function(){var n,i=(n=regeneratorRuntime.mark((function n(i){var a,c,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=i.filter((function(e){return e})),n.next=3,t.e(12).then(t.t.bind(null,1041,7));case 3:a=n.sent,c=a.api,u=c.VLWholeSlideMicroscopyImageViewer,r.viewer=new u({client:o,metadata:i,retrieveRendered:!1}),r.viewer.render({container:e});case 8:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e){return i.apply(this,arguments)}}())}},{key:"componentDidMount",value:function(){var e=this.props.viewportData.displaySet;this.installOpenLayersRenderer(this.container.current,e)}},{key:"render",value:function(){var e={width:"100%",height:"100%"};return o.a.createElement("div",{className:"DicomMicroscopyViewer",style:e},i.a&&o.a.createElement(i.a,{handleWidth:!0,handleHeight:!0,onResize:this.onWindowResize}),this.state.error?o.a.createElement("h2",null,JSON.stringify(this.state.error)):o.a.createElement("div",{style:e,ref:this.container}))}}])&&l(r.prototype,a),d&&l(r,d),n}(r.Component);n.default=d}}]);
//# sourceMappingURL=18.bundle.f0a8935c38ebfbfea3f4.js.map