{"version":3,"sources":["webpack:///C:/dev/Viewers/node_modules/dicom-microscopy-viewer/build/dicom-microscopy-viewer.js"],"names":["exports","abstract","Error","uidCounter_","getUid","obj","ol_uid","String","VERSION","AssertionError","code","message","split","call","this","name","__proto__","prototype","Object","create","constructor","CollectionEventType","ADD","REMOVE","ObjectEventType","assign","target","var_sources","arguments$1","arguments","TypeError","output","i","ii","length","source","key","hasOwnProperty","clear","object","property","getValues","values","push","isEmpty","findListener","listeners","listener","opt_this","opt_setDeleteIndex","listenerObj","bindTo","deleteIndex","getListeners","type","listenerMap","getListenerMap","undefined","opt_create","ol_lm","removeListeners","removeEventListener","boundListener","keys","removeListenerMap","listen","opt_once","callOnce","addEventListener","evt","unlistenByKey","bindListener","listenOnce","unlisten","indexOf","splice","unlistenAll","Disposable","disposed_","TRUE","FALSE","VOID","dispose","disposeInternal","Event","propagationStopped","stopPropagation","preventDefault","Target","Disposable$$1","pendingRemovals_","dispatching_","listeners_","dispatchEvent","event","propagate","pendingRemovals","hasListener","opt_type","index","EventType","CHANGE","CLEAR","CONTEXTMENU","CLICK","DBLCLICK","DRAGENTER","DRAGOVER","DROP","ERROR","KEYDOWN","KEYPRESS","LOAD","MOUSEDOWN","MOUSEMOVE","MOUSEOUT","MOUSEUP","MOUSEWHEEL","MSPOINTERDOWN","RESIZE","TOUCHSTART","TOUCHMOVE","TOUCHEND","WHEEL","Observable","EventTarget","revision_","changed","getRevision","on","Array","isArray","len","once","un","ObjectEvent","Event$$1","oldValue","BaseObject","Observable$$1","opt_values","values_","setProperties","get","value","getKeys","getProperties","notify","eventType","getChangeEventType","set","opt_silent","unset","changeEventTypeCache","MAX_TEXTURE_SIZE","EXTENSIONS","Property","CollectionEvent","opt_element","element","Collection","BaseObject$$1","opt_array","opt_options","options","unique_","unique","array_","assertUnique_","updateLength_","getLength","pop","extend","arr","forEach","f","array","getArray","item","insertAt","elem","removeAt","n","remove","prev","setAt","j","opt_except","MapEvent","map","opt_frameState","frameState","MapBrowserEvent","MapEvent$$1","browserEvent","opt_dragging","originalEvent","pixel","getEventPixel","coordinate","getCoordinateFromPixel","dragging","LINEAR","TEXTURE_WRAP_S","TEXTURE_WRAP_T","TEXTURE_2D","CONTEXT_IDS","getContext","canvas","opt_attributes","context","e","window","gl","document","createElement","failIfMajorPerformanceCaveat","getParameter","getSupportedExtensions","ua","navigator","userAgent","toLowerCase","FIREFOX","SAFARI","WEBKIT","MAC","DEVICE_PIXEL_RATIO","devicePixelRatio","CANVAS_LINE_DASH","has","setLineDash","TOUCH","POINTER","MSPOINTER","MapBrowserEventType","SINGLECLICK","POINTERDRAG","POINTERMOVE","POINTERDOWN","POINTERUP","POINTEROVER","POINTEROUT","POINTERENTER","POINTERLEAVE","POINTERCANCEL","MapBrowserPointerEvent","MapBrowserEvent$$1","pointerEvent","PointerEventType","EventSource","dispatcher","mapping","mapping_","getEvents","getHandlerForEvent","POINTER_ID","POINTER_TYPE","mousedown","inEvent","isEventSimulatedFromTouch_","toString","pointerMap","cancel","prepareEvent","down","mousemove","move","mouseup","p","button","up","cleanupMouse","mouseover","enterOver","mouseout","leaveOut","MouseSource","EventSource$$1","lastTouches","lts","x","clientX","y","clientY","l","t","dx","Math","abs","dy","cloneEvent","pd","pointerId","isPrimary","pointerType","POINTER_TYPES","msPointerDown","prepareEvent_","msPointerMove","msPointerUp","cleanup","msPointerOut","msPointerOver","msPointerCancel","msLostPointerCapture","makeEvent","msGotPointerCapture","MsSource","pointerDown","fireNativeEvent","pointerMove","pointerUp","pointerOut","pointerOver","pointerCancel","lostPointerCapture","gotPointerCapture","NativeSource","HAS_BUTTONS","PointerEvent","_Event","opt_eventDict","eventDict","buttons","which","getButtons","pressure","getPressure","bubbles","cancelable","view","detail","screenX","screenY","ctrlKey","altKey","shiftKey","metaKey","relatedTarget","width","height","tiltX","tiltY","hwTimestamp","numberSafeCompareFunction","a","b","includes","linearFindNearest","direction","reverseSubArray","begin","end","tmp","data","extension","equals","arr1","arr2","len1","stableSort","compareFnc","sort","touchstart","vacuumTouches_","setPrimaryTouch_","changedTouches","dedupSynthMouse_","clickCount_","processTouches_","overDown_","touchmove","moveOverOut_","touchend","upOut_","touchcancel","cancelOut_","ev","MouseEvent","TouchSource","mouseSource","firstTouchId_","resetId_","dedupTimeout_","isPrimaryTouch_","inTouch","identifier","count","cancelResetClickCount_","removePrimaryPointer_","inPointer","resetClickCount_","setTimeout","resetClickCountHandler_","bind","clearTimeout","touchToPointer_","radiusX","radiusY","force","inFunction","touches","slice","pointer","findTouch_","touchList","searchId","d","Number","out","i$1","outTarget","over","enter","outEvent","leave","cleanUpPointer_","lt","CLONE_PROPS","PointerEventHandler","element_","eventMap_","eventSourceList_","registerSources","registerSource","register_","s","newEvents","handler","eventSource","addEvents_","unregister_","removeEvents_","eventHandler_","events","eventName","eventCopy","fireEvent","contains_","container","contained","contains","inType","wrapMouseEvent","MapBrowserEventHandler","moveTolerance","map_","clickTimeoutId_","dragging_","dragListenerKeys_","moveTolerance_","down_","getViewport","activePointers_","trackedTouches_","pointerEventHandler_","documentPointerEventHandler_","pointerdownListenerKey_","handlePointerDown_","relayedListenerKey_","relayEvent_","emulateClick_","newEvent","updateActivePointers_","handlePointerUp_","isMouseActionButton_","handlePointerMove_","isMoving_","MapEventType","POSTRENDER","MOVESTART","MOVEEND","MapProperty","LAYERGROUP","SIZE","TARGET","VIEW","RenderEventType","TileState","IDLE","LOADING","LOADED","EMPTY","ABORT","assert","assertion","errorCode","PriorityQueue","priorityFunction","keyFunction","priorityFunction_","keyFunction_","elements_","priorities_","queuedElements_","dequeue","elements","priorities","siftUp_","elementKey","enqueue","priority","Infinity","siftDown_","getCount","getLeftChildIndex_","getRightChildIndex_","getParentIndex_","heapify_","isKeyQueued","isQueued","startIndex","lIndex","rIndex","smallerChildIndex","parentIndex","reprioritize","TileQueue","PriorityQueue$$1","tilePriorityFunction","tileChangeCallback","apply","getKey","tileChangeCallback_","tilesLoading_","tilesLoadingKeys_","added","handleTileChange","getTilesLoading","tile","state","getState","tileKey","loadMoreTiles","maxTotalLoading","maxNewLoads","newLoads","abortedTiles","load","DEFAULT_MAX_ZOOM","DEFAULT_TILE_SIZE","clamp","min","max","cosh","exp","squaredSegmentDistance","x1","y1","x2","y2","squaredDistance","toRadians","angleInDegrees","PI","modulo","r","lerp","none","center","disable","rotation","delta","none$1","ViewHint","ViewProperty","add","closestOnSegment","segment","x0","y0","start","along","equals$1","coordinate1","coordinate2","rotate","angle","cosAngle","cos","sinAngle","sin","scale","squaredDistance$1","coord1","coord2","distance","sqrt","squaredDistanceToSegment","easeIn","pow","easeOut","inAndOut","linear","Corner","BOTTOM_LEFT","BOTTOM_RIGHT","TOP_LEFT","TOP_RIGHT","Relationship","UNKNOWN","INTERSECTING","ABOVE","RIGHT","BELOW","LEFT","boundingExtent","coordinates","extent","extendCoordinate","buffer","opt_extent","clone","closestSquaredDistanceXY","containsCoordinate","containsXY","containsExtent","extent1","extent2","coordinateRelationship","minX","minY","maxX","maxY","relationship","createOrUpdate","createOrUpdateEmpty","createOrUpdateFromCoordinate","createOrUpdateFromCoordinates","extendCoordinates","createOrUpdateFromFlatCoordinates","flatCoordinates","offset","stride","extendFlatCoordinates","equals$2","extend$1","extendXY","forEachCorner","callback","val","getBottomLeft","getBottomRight","getTopRight","getTopLeft","getArea","area","isEmpty$1","getWidth","getHeight","getCenter","getCorner","corner","getForViewAndSize","resolution","size","cosRotation","sinRotation","xCos","xSin","yCos","ySin","x3","y3","getIntersection","intersection","intersects","scaleFromCenter","deltaX","deltaY","GeometryType","POINT","LINE_STRING","LINEAR_RING","POLYGON","MULTI_POINT","MULTI_LINE_STRING","MULTI_POLYGON","GEOMETRY_COLLECTION","CIRCLE","GeometryLayout","XY","XYZ","XYM","XYZM","transform2D","transform","opt_dest","dest","translate","k","DEFAULT_RADIUS","getDistance","c1","c2","opt_radius","radius","lat1","lat2","deltaLatBy2","deltaLonBy2","atan2","Units","DEGREES","FEET","METERS","PIXELS","TILE_PIXELS","USFEET","METERS_PER_UNIT","Projection","code_","units_","extent_","worldExtent_","worldExtent","axisOrientation_","axisOrientation","global_","global","canWrapX_","getPointResolutionFunc_","getPointResolution","defaultTileGrid_","metersPerUnit_","metersPerUnit","canWrapX","getCode","getExtent","getUnits","getMetersPerUnit","getWorldExtent","getAxisOrientation","isGlobal","setGlobal","getDefaultTileGrid","setDefaultTileGrid","tileGrid","setExtent","setWorldExtent","setGetPointResolution","func","getPointResolutionFunc","RADIUS","HALF_SIZE","EXTENT","WORLD_EXTENT","EPSG3857Projection","Projection$$1","units","point","PROJECTIONS","fromEPSG4326","input","opt_output","opt_dimension","dimension","halfSize","log","tan","toEPSG4326","atan","projections2","forwardTransform","inverseTransform","EXTENT$1","METERS_PER_UNIT$1","EPSG4326Projection","opt_axisOrientation","PROJECTIONS$1","cache","transforms","add$2","destination","transformFn","sourceCode","destinationCode","cloneTransform","identityTransform","addProjection","projection","add$1","get$2","projectionLike","opt_units","pointResolution","getter","toEPSG4326$$1","getTransformFromProjections","vertices","addEquivalentProjections","projections","addProjections","createProjection","defaultCode","equivalent","projection1","projection2","equalUnits","sourceProjection","destinationProjection","transformFunc","get$1","getTransform","tmp_","reset","multiply","transform1","transform2","a1","b1","d1","e1","f1","a2","b2","d2","e2","f2","c","setFromArray","rotate$2","scale$2","translate$1","compose","dx1","dy1","sx","sy","dx2","dy2","invert","mat","det","tmpTransform","SimpleGeometry","Geometry$$1","layout","computeExtent","getCoordinates","getFirstCoordinate","getFlatCoordinates","getLastCoordinate","getLayout","getSimplifiedGeometry","squaredTolerance","simplifiedGeometryRevision","simplifiedGeometryCache","simplifiedGeometryMaxMinSquaredTolerance","simplifiedGeometry","getSimplifiedGeometryInternal","getStride","setFlatCoordinates","getStrideForLayout","setCoordinates","opt_layout","setLayout","nesting","getLayoutForStride","applyTransform","anchor","anchorX","anchorY","rotate$1","opt_sy","opt_anchor","scale$1","Geometry","extentRevision_","closestPointXY","closestPoint","minSquaredDistance","getClosestPoint","opt_closestPoint","NaN","intersectsCoordinate","returnOrUpdate","simplify","tolerance","getType","intersectsExtent","sourceProj","inCoordinates","outCoordinates","pixelExtent","projectedExtent","linearRing","twiceArea","linearRings","ends","assignClosest","offset1","offset2","maxSquaredDelta","squaredDelta","arrayMaxSquaredDelta","assignClosestPoint","maxDelta","isRing","opt_tmpPoint","squaredDistance$$1","tmpPoint","assignClosestArrayPoint","deflateCoordinate","deflateCoordinates","deflateCoordinatesArray","coordinatess","opt_ends","jj","inflateCoordinates","opt_coordinates","inflateCoordinatesArray","opt_coordinatess","inflateMultiCoordinatesArray","endss","opt_coordinatesss","coordinatesss","douglasPeucker","simplifiedFlatCoordinates","simplifiedOffset","markers","stack","last","first","maxSquaredDistance","snap","round","quantize","quantizeArray","simplifiedEnds","LinearRing","SimpleGeometry$$1","maxDelta_","maxDeltaRevision_","Point","linearRingContainsExtent","linearRingContainsXY","wn","linearRingsContainsXY","getInteriorPointOfArray","flatCenters","flatCentersOffset","intersections","rr","pointX","maxSegmentLength","segmentLength","isNaN","ret","point1","point2","intersectsLineString","coordinatesExtent","startRel","endRel","startX","startY","endX","endY","slope","intersectsSegment","intersectsLinearRingArray","intersectsLinearRing","linearRingIsClockwise","edge","linearRingIsOriented","opt_right","right","isClockwise","orientLinearRings","orientLinearRingsArray","Polygon","ends_","flatInteriorPointRevision_","flatInteriorPoint_","orientedRevision_","orientedFlatCoordinates_","appendLinearRing","linearRing$$1","getOrientedFlatCoordinates","getEnds","getFlatInteriorPoint","flatCenter","getInteriorPoint","getLinearRingCount","getLinearRing","getLinearRings","linearRings$$1","offset$$1","fromExtent","fromCircle","circle","opt_sides","opt_angle","sides","arrayLength","polygon","makeRegular","getRadius","startAngle","DEFAULT_MIN_ZOOM","View","hints_","animations_","updateAnimationKey_","updateAnimations_","projection_","applyOptions_","properties","resolutionConstraintInfo","resolutionConstraint","maxResolution","minResolution","minZoom","maxZoom","zoomFactor","resolutions","z","floor","power","createSnapToResolutions","defaultMaxResolution","defaultMinResolution","opt_maxLevel","oldLevel","newLevel","createSnapToPower","constraint","createResolutionConstraint","maxResolution_","minResolution_","zoomFactor_","resolutions_","minZoom_","centerConstraint","createCenterConstraint","rotationConstraint","enableRotation","constrainRotation","opt_tolerance","theta","createRotationConstraint","constraints_","zoom","constrainResolution","getResolution","options_","getUpdatedOptions_","newOptions","getZoom","getRotation","animate","var_args","animationCount","isDef","setCenter","setZoom","setRotation","animationCallback","Date","now","series","animation","complete","duration","easing","sourceCenter","targetCenter","sourceResolution","targetResolution","sourceRotation","targetRotation","isNoopAnimation","setHint","getAnimating","getInteracting","cancelAnimations","cancelAnimationFrame","more","seriesComplete","elapsed","fraction","progress","calculateCenterZoom","calculateCenterRotate","filter","Boolean","requestAnimationFrame","currentCenter","currentResolution","getSizeFromViewport_","selector","querySelector","metrics","getComputedStyle","parseInt","constrainCenter","opt_delta","opt_direction","getConstraints","getHints","opt_hints","calculateExtent","opt_size","getMaxResolution","getMinResolution","getMaxZoom","getZoomForResolution","setMaxZoom","getMinZoom","setMinZoom","getProjection","getResolutions","getResolutionForExtent","xResolution","yResolution","getResolutionForValueFunction","opt_power","getValueForResolutionFunction","pixelRatio","pixelResolution","nearest","getResolutionForZoom","fit","geometryOrExtent","geometry","padding","coords","minRotX","minRotY","maxRotX","maxRotY","rotX","rotY","constrainedResolution","centerRotX","centerRotY","setResolution","centerOn","position","centerX","centerY","hint","returnValue","createCanvasContext2D","opt_width","opt_height","outerWidth","offsetWidth","style","marginLeft","marginRight","outerHeight","offsetHeight","marginTop","marginBottom","replaceNode","newNode","oldNode","parent","parentNode","replaceChild","removeNode","node","removeChild","removeChildren","lastChild","LayerProperty","OPACITY","VISIBLE","Z_INDEX","MAX_RESOLUTION","MIN_RESOLUTION","SOURCE","BaseLayer","opacity","visible","zIndex","state_","getLayerState","layer","managed","getOpacity","sourceState","getSourceState","getVisible","getZIndex","getLayersArray","getLayerStatesArray","opt_states","setMaxResolution","setMinResolution","setOpacity","setVisible","setZIndex","zindex","SourceState","UNDEFINED","READY","Property$1","LAYERS","LayerGroup","BaseLayer$$1","baseOptions","layers","layersListenerKeys_","listenerKeys_","handleLayersChanged_","setLayers","handleLayerChange_","getLayers","id","handleLayersAdd_","handleLayersRemove_","layersArray","collectionEvent","states","pos","ownLayerState","layerState","toSize","PluggableMap","optionsInternal","keyboardEventTarget","getElementById","controls","interactions","overlays","layerGroup","createOptionsInternal","maxTilesLoading_","maxTilesLoading","loadTilesWhileAnimating_","loadTilesWhileAnimating","loadTilesWhileInteracting_","loadTilesWhileInteracting","pixelRatio_","animationDelayKey_","animationDelay_","renderFrame_","coordinateToPixelTransform_","pixelToCoordinateTransform_","frameIndex_","frameState_","previousExtent_","viewPropertyListenerKey_","viewChangeListenerKey_","layerGroupPropertyListenerKeys_","viewport_","className","overflow","msTouchAction","touchAction","overlayContainer_","appendChild","overlayContainerStopEvent_","overlayEvents","mapBrowserEventHandler_","handleMapBrowserEvent","keyboardEventTarget_","keyHandlerKeys_","handleBrowserEvent","overlays_","overlayIdIndex_","renderer_","createRenderer","handleResize_","focus_","postRenderFunctions_","tileQueue_","getTilePriority","handleTileChange_","skippedFeatureUids_","handleLayerGroupChanged_","handleViewChanged_","handleSizeChanged_","handleTargetChanged_","control","setMap","interaction","addOverlayInternal_","getId","addControl","getControls","addInteraction","getInteractions","addLayer","getLayerGroup","addOverlay","overlay","getOverlays","setTarget","forEachFeatureAtPixel","hitTolerance","layerFilter","forEachFeatureAtCoordinate","getFeaturesAtPixel","features","feature","forEachLayerAtPixel","hasFeatureAtPixel","hasFeatureAtCoordinate","getEventCoordinate","viewportPosition","getBoundingClientRect","eventPosition","left","top","getTarget","getTargetElement","pixelToCoordinateTransform","getOverlayById","getPixelFromCoordinate","coordinateToPixelTransform","getRenderer","getSize","getView","getOverlayContainer","getOverlayContainerStopEvent","tileSourceKey","tileCenter","tileResolution","wantedTiles","focus","mapBrowserEvent","interactionsArray","getActive","handleEvent","handlePostRender","tileQueue","hints","viewHints","getLoading","getSource","loading","dispatchRenderEvent","postRenderFunctions","render","targetElement","updateSize","removeLayerRenderers","handleViewPropertyChanged_","setAttribute","isRendered","renderSync","removeControl","removeInteraction","removeLayer","removeOverlay","time","viewState","previousFrameState","hasArea","layerStatesArray","layerStates","skippedFeatureUids","usedTiles","renderFrame","setLayerGroup","setSize","setView","skipFeature","computedStyle","parseFloat","unskipFeature","Control","target_","listenerKeys","getMap","CLASS_HIDDEN","CLASS_SELECTABLE","CLASS_UNSELECTABLE","CLASS_UNSUPPORTED","CLASS_CONTROL","CLASS_COLLAPSED","getFontFamilies","font","family","fontFamily","Layer","mapPrecomposeKey_","mapRenderKey_","sourceChangeKey_","handleSourcePropertyChange_","setSource","handleSourceChange_","renderEvent","visibleAtResolution","Attribution","Control$$1","ulElement_","collapsed_","collapsed","overrideCollapsible_","collapsible","collapsible_","tipLabel","collapseLabel","collapseLabel_","textContent","label","label_","activeLabel","title","handleClick_","cssClasses","renderedAttributions_","renderedVisible_","collectSourceAttributions_","lookup","visibleAttributions","attributionGetter","getAttributions","attributions","getAttributionsCollapsible","setCollapsible","updateElement_","display","innerHTML","handleToggle_","classList","toggle","getCollapsible","setCollapsed","getCollapsed","mapEvent","changeType","getChangeType","body","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","requestFullscreen","FullScreen","cssClassName_","labelNode_","createTextNode","labelActive","labelActiveNode_","button_","setClassName_","isFullScreen","isFullScreenSupported","keys_","source_","handleFullScreen_","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","mozRequestFullScreenWithKeys","requestFullScreen","requestFullScreenWithKeys","handleFullScreenChange_","fullscreen","activeClassName","inactiveClassName","nextClassName","mozFullScreenEnabled","msFullscreenEnabled","fullscreenEnabled","webkitIsFullScreen","mozFullScreen","msFullscreenElement","fullscreenElement","Rotate","render$2","callResetNorth_","resetNorth","duration_","autoHide_","autoHide","rotation_","resetNorth_","msTransform","webkitTransform","Zoom","zoomInLabel","zoomOutLabel","zoomInTipLabel","zoomOutTipLabel","inElement","outElement","zoomByDelta_","newResolution","defaults","zoomOptions","rotateOptions","attribution","attributionOptions","Kinetic","decay","minVelocity","delay","decay_","minVelocity_","delay_","points_","angle_","initialVelocity_","update","lastIndex","firstIndex","getAngle","InteractionProperty","ACTIVE","Interaction","setActive","active","rotate$3","opt_duration","rotateWithoutConstraints","currentRotation","zoomWithoutConstraints","zoomByDelta","DoubleClickZoom","Interaction$$1","delta_","stopEvent","altKeyOnly","altShiftKeysOnly","activeElement","always","mouseActionButton","never","pointerMove$1","singleClick","noModifierKeys","shiftKeyOnly","targetNotEditable","tagName","mouseOnly","primaryAction","PointerInteraction","handleDownEvent","handleDragEvent","handleMoveEvent","handleUpEvent","stopDown","handlingDownUpSequence","trackedPointers_","targetPointers","updateTrackedPointers_","handledUp","handled","isPointerDraggingEvent","centroid","pointerEvents","DragPan","PointerInteraction$$1","kinetic_","kinetic","lastCentroid","lastPointersCount_","panning_","condition_","condition","noKinetic_","centroid$$1","distance$$1","centerpx","DragRotate","lastAngle_","RenderBox","geometry_","startPixel_","endPixel_","render_","startPixel","endPixel","setPixels","createOrUpdateGeometry","getGeometry","DragBoxEventType","DragBoxEvent","DragZoom","DragBox$$1","onBoxEnd","out_","DragBox","box_","minArea_","minArea","onBoxEnd_","boxEndCondition_","boxEndCondition","defaultBoxEndCondition","mapExtent","boxPixelExtent","KeyCode","UP","DOWN","KeyboardPan","handleEvent$1","defaultCondition_","pixelDelta_","pixelDelta","keyCode","mapUnitsDelta","pan","KeyboardZoom","handleEvent$2","charCode","charCodeAt","Mode","MouseWheelZoom","timeout_","timeout","useAnchor_","useAnchor","constrainResolution_","lastAnchor_","startTime_","timeoutId_","mode_","trackpadEventGap_","trackpadTimeoutId_","trackpadDeltaPerZoom_","trackpadZoomBuffer_","decrementInteractingHint_","wheelEvent","deltaMode","WheelEvent","DOM_DELTA_PIXEL","DOM_DELTA_LINE","wheelDeltaY","rebound","timeLeft","handleWheelZoom_","setMouseAnchor","PinchRotate","pointerOptions","anchor_","rotating_","rotationDelta_","threshold_","threshold","rotationDelta","touch0","touch1","PinchZoom","lastDistance_","lastScaleDelta_","scaleDelta","Feature","opt_geometryOrProperties","id_","geometryName_","style_","styleFunction_","geometryChangeKey_","handleGeometryChanged_","setGeometry","setGeometryName","getGeometryName","getStyle","setStyle","getStyleFunction","handleGeometryChange_","styles","setId","Circle","setCenterAndRadius","getRadiusSquared_","setRadius","interpolatePoint","pointY","cumulativeLengths","haystack","needle","opt_comparator","mid","cmp","comparator","low","high","found","binarySearch","o","lineStringCoordinateAtM","m","extrapolate","lo","hi","m0","lineStringLength","LineString","flatMidpoint_","flatMidpointRevision_","appendCoordinate","forEachSegment","getCoordinateAtM","opt_extrapolate","getCoordinateAt","getFlatMidpoint","MultiLineString","lineStrings","lineString","appendLineString","opt_interpolate","interpolate","lineStringsCoordinateAtM","getLineString","getLineStrings","getFlatMidpoints","midpoints","douglasPeuckerArray","intersectsLineStringArray","MultiPoint","appendPoint","getPoint","getPoints","points","MultiPolygon","opt_endss","endss_","flatInteriorPointsRevision_","flatInteriorPoints_","polygons","appendPolygon","newEndss","multiArrayMaxSquaredDelta","assignClosestMultiArrayPoint","linearRingssContainsXY","linearRingss","getEndss","getFlatInteriorPoints","linearRingss$1","interiorPoints","getInteriorPointsOfMultiArray","getInteriorPoints","linearRingsAreOriented","simplifiedEndss","quantizeMultiArray","getPolygon","prevEnds","getPolygons","intersectsLinearRingMultiArray","deflateMultiCoordinatesArray","lastEnds","LayerType","IMAGE","TILE","VECTOR_TILE","VECTOR","VectorRenderType","HEX_COLOR_RE_","NAMED_COLOR_RE_","asString","color","fromString","cacheSize","g","exec","el","rgb","fromNamed","hasAlpha","substr","normalize","fromStringInternal_","asArray","asColorLike","ImageState","LRUCache","opt_highWaterMark","highWaterMark","count_","entries_","oldest_","newest_","canExpireCache","containsKey","entry","value_","key_","newer","older","peekLast","peekLastKey","peekFirstKey","replace","prune","defaultFillStyle","defaultLineDash","defaultStrokeStyle","defaultPadding","labelCache","checkedFonts","measureContext","textHeights","checkFont","interval","referenceWidth","retries","checked","referenceFonts","text","isAvailable","getMeasureContext","weight","fontWeight","available","referenceFont","measureText","check","done","clearInterval","fontSpec","fontFamilies","setInterval","span","heights","measureTextHeight","margin","measureTextWidth","rotateAtOffset","offsetX","offsetY","resetTransform","drawImage","image","originX","originY","w","h","alpha","globalAlpha","setTransform","ImageStyle","opacity_","rotateWithView_","rotateWithView","scale_","getScale","getRotateWithView","getSnapToPixel","getAnchor","getImage","getHitDetectionImage","getImageState","getImageSize","getHitDetectionImageSize","getOrigin","setRotateWithView","setScale","setSnapToPixel","snapToPixel","listenImageChange","thisArg","unlistenImageChange","CircleStyle","RegularShape$$1","fill","stroke","atlasManager","getFill","getStroke","atlasManager_","radius_","ImageStyle$$1","RegularShape","checksums_","canvas_","hitDetectionCanvas_","fill_","origin_","radius1","radius2_","radius2","stroke_","size_","imageSize_","hitDetectionImageSize_","getRadius2","imageSize","strokeStyle","lineCap","lineJoin","miterLimit","lineDash","lineDashOffset","strokeWidth","getColor","getLineDash","getLineDashOffset","getLineJoin","getLineCap","getMiterLimit","renderOptions","draw_","createHitDetectionCanvas_","renderHitDetectionCallback","hasCustomHitDetectionImage","drawHitDetectionCanvas_","getChecksum","info","hitImage","angle0","radiusC","beginPath","arc","lineTo","fillStyle","lineWidth","closePath","strokeChecksum","fillChecksum","checksum","Fill","color_","checksum_","setColor","Stroke","lineCap_","lineDash_","lineDashOffset_","lineJoin_","miterLimit_","width_","setLineCap","setLineDashOffset","setLineJoin","setMiterLimit","setWidth","Style","geometryFunction_","defaultGeometryFunction","image_","renderer","text_","zIndex_","getText","setRenderer","getGeometryFunction","setFill","setImage","setStroke","setText","defaultStyles","createDefaultStyle","createEditingStyle","white","blue","concat","Property$2","VectorLayer","Layer$$1","renderBuffer","updateWhileAnimating","updateWhileInteracting","declutter_","declutter","renderBuffer_","updateWhileAnimating_","updateWhileInteracting_","renderMode_","renderMode","getDeclutter","setDeclutter","getRenderBuffer","getRenderOrder","getUpdateWhileAnimating","getUpdateWhileInteracting","setRenderOrder","renderOrder","styleFunction","toFunction","getRenderMode","FormatType","ARRAY_BUFFER","JSON","TEXT","XML","xhr","url","format","success","failure","XMLHttpRequest","open","responseType","onload","status","responseText","responseXML","DOMParser","parseFromString","readFeatures","featureProjection","readProjection","getLastExtent","onerror","send","loadFeaturesXhr","dataProjection","addFeatures","all","Source","attributions_","adaptAttributions","attributionsCollapsible_","attributionsCollapsible","wrapX_","wrapX","getWrapX","refresh","setAttributions","setState","attributionLike","VectorEventType","ADDFEATURE","CHANGEFEATURE","REMOVEFEATURE","createCommonjsModule","fn","module","self","quickselect","swap","defaultCompare","compare","quickselectStep","sd","newLeft","newRight","factory","quickselect$1","freeze","default","__moduleExports","quickselect$2","rbush_1","rbush","default_1","maxEntries","_maxEntries","_minEntries","ceil","_initFormat","findItem","items","equalsFn","calcBBox","toBBox","distBBox","children","destNode","createNode","child","extend$2","leaf","compareNodeMinX","compareNodeMinY","bboxArea","bboxMargin","intersects$1","multiSelect","_all","search","bbox","result","childBBox","nodesToSearch","collides","insert","_build","_splitRoot","tmpNode","_insert","goingUp","path","indexes","_condense","compareMinX","compareMinY","toJSON","fromJSON","N","M","right2","right3","N2","N1","_chooseSubtree","level","targetNode","enlargement","minEnlargement","isNode","insertPath","_split","_adjustParentBBoxes","_chooseSplitAxis","splitIndex","_chooseSplitIndex","bbox1","bbox2","overlap","minOverlap","_allDistMargin","leftBBox","rightBBox","siblings","compareArr","Function","join","RBush","opt_maxEntries","rbush_","items_","extents","uid","getAll","getInExtent","forEach_","forEachInExtent","VectorSourceEvent","opt_feature","VectorSource","Source$$1","loader_","format_","overlaps_","overlaps","url_","loader","strategy_","strategy","collection","useSpatialIndex","featuresRtree_","loadedExtentsRtree_","nullGeometryFeatures_","idIndex_","undefIdIndex_","featureChangeKeys_","featuresCollection_","addFeaturesInternal","bindFeaturesCollection_","addFeature","addFeatureInternal","featureKey","addToIndex_","setupChangeEvents_","handleFeatureChange_","valid","newFeatures","geometryFeatures","length$1","feature$1","featureKey$1","i$2","length$2","modifyingCollection","removeFeature","opt_fast","featureId","removeFeatureInternal","clearEvent","forEachFeature","forEachFeatureAtCoordinateDirect","forEachFeatureInExtent","forEachFeatureIntersectingExtent","getFeaturesCollection","getFeatures","getFeaturesAtCoordinate","getFeaturesInExtent","getClosestFeatureToCoordinate","opt_filter","closestFeature","previousMinSquaredDistance","minDistance","getFeatureById","getFormat","getOverlaps","getUrl","sid","removeFromIdIndex_","hasFeature","loadFeatures","this$1","loadedExtentsRtree","extentsToLoad","loop","extentToLoad","removeLoadedExtent","removed","setLoader","Mode$1","DrawEventType","DrawEvent","Draw","shouldHandle_","downPx_","downTimeout_","lastDragTime_","freehand_","features_","snapTolerance_","snapTolerance","type_","mode","getMode","stopClick_","stopClick","minPoints_","minPoints","maxPoints_","maxPoints","finishCondition_","finishCondition","geometryFunction","opt_geometry","squaredLength","Constructor","dragVertexDelay_","dragVertexDelay","finishCoordinate_","sketchFeature_","sketchPoint_","sketchCoords_","sketchLine_","sketchLineCoords_","squaredClickTolerance_","clickTolerance","overlay_","geometryName","freehandCondition_","freehand","freehandCondition","updateState_","getOverlay","pass","addToDrawing_","startDrawing_","circleMode","finishDrawing","atFinish_","abortDrawing_","downPx","clickPx","modifyDrawing_","createOrUpdateSketchPoint_","at","potentiallyDone","potentiallyFinishCoordinates","sketchCoords","finishCoordinate","finishPixel","updateSketchFeatures_","sketchLineGeom","ring","removeLastPoint","sketchFeature","sketchFeatures","overlaySource","CIRCLE_CIRCUMFERENCE_INDEX","ModifyEventType","ModifyEvent","mapBrowserPointerEvent","Modify","defaultDeleteCondition_","deleteCondition_","deleteCondition","insertVertexCondition_","insertVertexCondition","vertexFeature_","vertexSegments_","lastPixel_","ignoreNextSingleClick_","modified_","rBush_","pixelTolerance_","pixelTolerance","snappedToVertex_","changingFeature_","dragSegments_","SEGMENT_WRITERS_","writePointGeometry_","writeLineStringGeometry_","writePolygonGeometry_","writeMultiPointGeometry_","writeMultiLineStringGeometry_","writeMultiPolygonGeometry_","writeCircleGeometry_","writeGeometryCollectionGeometry_","handleSourceAdd_","handleSourceRemove_","addFeature_","handleFeatureAdd_","handleFeatureRemove_","lastPointerEvent_","handlePointerAtPixel_","willModifyFeatures_","removeFeature_","removeFeatureSegmentData_","rBush","nodesToRemove","segmentData","depth","lines","rings","kk","centerSegmentData","circumferenceSegmentData","featureSegments","geometries","getGeometriesArray","createOrUpdateVertexFeature_","vertexFeature","removePoint","vertex","dragSegment","setGeometryCoordinates_","pixelCoordinate","insertVertices","vertexExtent","segmentDataMatches","componentSegments","compareIndexes","segmentDataMatch","closestOnSegmentData","insertVertex_","box","nodes","pointDistanceToSegmentDataSquared","closestSegment","vertexPixel","dist","vertexSegments","pixel1","pixel2","squaredDist1","squaredDist2","rTree","updateSegmentIndices_","newSegmentData","newSegmentData2","removeVertex_","component","newIndex","dragSegments","segmentsByFeature","deleted","segments","pointCoordinates","circleGeometry","distanceToCenterSquared","distanceToCircumference","SelectEventType","SELECT","SelectEvent","selected","deselected","Select","handleEvent$3","addCondition_","addCondition","removeCondition_","removeCondition","toggleCondition_","toggleCondition","multi_","multi","filter_","hitTolerance_","featureOverlay","featureOverlay_","layerFilter_","featureLayerAssociation_","addFeatureLayerAssociation_","getHitTolerance","getLayer","setHitTolerance","currentMap","selectedFeatures","removeFeatureLayerAssociation_","remove$$1","defaults$1","altShiftDragRotate","doubleClickZoom","zoomDelta","zoomDuration","dragPan","onFocusOnly","pinchRotate","pinchZoom","keyboard","mouseWheelZoom","shiftDragZoom","ERROR_THRESHOLD","ImageCanvas","ImageBase$$1","opt_loader","error_","getError","handleLoad_","err","ImageBase","getPixelRatio","RenderEvent","opt_vectorContext","opt_context","opt_glContext","vectorContext","glContext","VectorContext","drawCustom","drawGeometry","drawCircle","drawFeature","drawGeometryCollection","geometryCollectionGeometry","drawLineString","lineStringGeometry","drawMultiLineString","multiLineStringGeometry","drawMultiPoint","multiPointGeometry","drawMultiPolygon","multiPolygonGeometry","drawPoint","pointGeometry","drawPolygon","polygonGeometry","drawText","setFillStrokeStyle","setImageStyle","imageStyle","opt_declutterGroup","setTextStyle","textStyle","CanvasImmediateRenderer","VectorContext$$1","viewRotation","context_","transform_","viewRotation_","contextFillState_","contextStrokeState_","contextTextState_","fillState_","strokeState_","imageAnchorX_","imageAnchorY_","imageHeight_","imageOpacity_","imageOriginX_","imageOriginY_","imageRotateWithView_","imageRotation_","imageScale_","imageWidth_","textOffsetX_","textOffsetY_","textRotateWithView_","textRotation_","textScale_","textFillState_","textStrokeState_","textState_","pixelCoordinates_","tmpLocalTransform_","drawImages_","pixelCoordinates","localTransform","drawText_","setContextFillState_","setContextStrokeState_","setContextTextState_","strokeText","fillText","moveToLineTo_","close","moveTo","drawRings_","simpleGeometry","transformGeom2D","flatMidpoint","geometryExtent","flatMidpoints","flatInteriorPoint","flatInteriorPoints","fillState","contextFillState","strokeState","contextStrokeState","textState","contextTextState","textAlign","textBaseline","fillStyleColor","strokeStyleColor","strokeStyleLineCap","strokeStyleLineDash","strokeStyleLineDashOffset","strokeStyleLineJoin","strokeStyleWidth","strokeStyleMiterLimit","imageAnchor","imageImage","imageOrigin","textFillStyle","textFillStyleColor","textStrokeStyle","textStrokeStyleColor","textStrokeStyleLineCap","textStrokeStyleLineDash","textStrokeStyleLineDashOffset","textStrokeStyleLineJoin","textStrokeStyleWidth","textStrokeStyleMiterLimit","textFont","getFont","textOffsetX","getOffsetX","textOffsetY","getOffsetY","textRotateWithView","textRotation","textScale","textText","textTextAlign","getTextAlign","textTextBaseline","getTextBaseline","IconImageCache","cache_","cacheSize_","maxCacheSize_","src","crossOrigin","expire","iconImage","maxCacheSize","shared","MapRenderer","layerRenderers_","layerRendererListeners_","layerRendererConstructors_","registerLayerRenderers","constructors","calculateMatrices2D","removeLayerRendererByKey_","thisArg2","viewResolution","translatedCoordinate","projectionExtent","worldWidth","layerRenderer","getLayerRenderer","layerKey","candidate","handleLayerRendererChange_","getLayerRendererByKey","getLayerRenderers","removeUnusedLayerRenderers_","scheduleExpireIconCache","scheduleRemoveUnusedLayerRenderers","expireIconCache","sortByZIndex","state1","state2","layerRendererConstructors","CanvasMapRenderer","MapRenderer$$1","insertBefore","childNodes","composeEvent","clearRect","save","prepareFrame","composeFrame","restore","numLayers","forEachLayerAtCoordinate","ctor","LayerRenderer","layer_","createLoadedTileFinder","tiles","tileRange","forEachLoadedTile","tileCoord","handleImageChange_","renderIfReadyAndVisible","loadImage","imageState","scheduleExpireCache","tileSource","postRenderFunction","expireCache","updateUsedTiles","zKey","manageTilePyramid","currentZ","preload","opt_tileCallback","getTileRangeForExtentAndZ","getTile","getTileCoordCenter","useTile","CanvasLayerRenderer","LayerRenderer$$1","renderedResolution","clip","topLeft","topRight","bottomRight","bottomLeft","dispatchComposeEvent_","opt_transform","postCompose","preCompose","IntermediateCanvasRenderer","CanvasLayerRenderer$$1","coordinateToCanvasPixelTransform","hitCanvasContext_","clipped","imageTransform","getImageTransform","dw","dh","imageData","getImageData","CanvasImageLayerRenderer","IntermediateCanvasRenderer$$1","imageLayer","imageTransform_","skippedFeatures_","vectorRenderer_","viewCenter","imageSource","vectorRenderer","renderedExtent","skippedFeatures","imageFrameState","newSkippedFeatures","replayGroupChanged","imageExtent","imageResolution","imagePixelRatio","mapRenderer","TileRange","createOrUpdate$1","containsTileRange","CanvasTileLayerRenderer","tileLayer","opt_noContext","oversampling_","renderedExtent_","renderedRevision","renderedTiles","newTiles_","tmpExtent","tmpTileRange_","zDirection","isDrawableTile_","tileState","useInterimTilesOnError","getUseInterimTilesOnError","getPreload","getInterimTile","sourceRevision","getTileGridForProjection","getZForResolution","oversampling","getTileRangeExtent","tilePixelRatio","getTilePixelRatio","tilesToDrawByZ","findLoadedTiles","animatingOrInteracting","tmpTileRange","inTransition","getAlpha","childTileRange","getTileCoordChildTileRange","covered","forEachTileCoordParentTileRange","tilePixelSize","getTilePixelSize","currentScale","currentTilePixelSize","tileExtent","tileGutter","tilesToDraw","zs","tileCoordKey","getGutterForProjection","getTileCoordExtent","getTileCoord","drawTileImage","gutter","transition","getTileImage","getOpaque","alphaChanged","endTransition","ReplayGroup","getReplay","replayType","addDeclutter","group","ReplayType","DEFAULT","drawTextOnPath","measure","startM","maxAngle","previousAngle","reverse","numChars","segmentM","chunk","chunkLength","char","charAt","charLength","charM","segmentPos","unshift","Instruction","fillInstruction","strokeInstruction","beginPathInstruction","closePathInstruction","ORDER","TEXT_ALIGN","tmpTransform$1","CanvasReplay","maxExtent","declutterTree","maxLineWidth","alignFill_","beginGeometryInstruction1_","beginGeometryInstruction2_","bufferedMaxExtent_","instructions","coordinateCache_","renderedTransform_","hitDetectionInstructions","replayTextBackground_","p1","p2","p3","p4","fillInstruction$$1","strokeInstruction$$1","setStrokeStyle_","replayImage_","declutterGroup","fillStroke","boxW","boxH","boxX","boxY","strokePadding","intersects$$1","declutterArgs","applyPixelRatio","dashArray","dash","appendFlatCoordinates","closed","skipFirst","myEnd","getBufferedMaxExtent","lastRel","nextRel","lastCoord","nextCoord","skipped","drawCustomCoordinates_","replayEnds","replayEnd","beginGeometry","replayEndss","replayBegin","myEnds","endGeometry","finish","origin","repeatSize","instruction","renderDeclutter_","groupCount","declutterData","replay_","skippedFeaturesHash","featureCallback","opt_hitExtent","dd","prevX","prevY","roundX","roundY","skipFeatures","pendingFill","pendingStroke","lastFillInstruction","lastStrokeInstruction","coordinateCache","batchSize","backgroundFill","backgroundStroke","baseline","fillKey","strokeKey","textKey","pathLength","textLength","textStates","parts","cc","chars","part","replay","replayHitDetection","opt_featureCallback","reverseHitDetectionInstructions","createFill","applyStroke","createStroke","updateFillStyle","currentFillStyle","updateStrokeStyle","currentStrokeStyle","currentLineCap","currentLineDash","currentLineDashOffset","currentLineJoin","currentLineWidth","currentMiterLimit","endGeometryInstruction","CanvasImageReplay","CanvasReplay$$1","declutterGroup_","hitDetectionImage_","anchorX_","anchorY_","height_","originX_","originY_","drawCoordinates_","myBegin","hitDetectionImage","CanvasLineStringReplay","drawFlatCoordinates_","moveToLineToInstruction","lastStroke","CanvasPolygonReplay","drawFlatCoordinatess_","numEnds","setFillStrokeStyles_","circleInstruction","matchingChunk","m12","m23","x12","y12","x23","y23","chunkStart","chunkEnd","chunkM","acos","TextPlacement","BATCH_CONSTRUCTORS","CanvasTextReplay","labels_","fillStates","strokeStates","textKey_","fillKey_","strokeKey_","widths_","geometryType","placement","flatEnd","flatOffset","oo","range","drawChars_","drawTextImage_","align","numLines","widths","currentWidth","measureTextWidths","lineHeight","renderWidth","leftRight","getOverflow","getMaxAngle","getPlacement","getBackgroundFill","getBackgroundStroke","getPadding","CanvasReplayGroup","ReplayGroup$$1","opt_renderBuffer","declutterTree_","tolerance_","maxExtent_","resolution_","replaysByZIndex_","hitDetectionContext_","hitDetectionTransform_","flatClipCoords","getClipCoords","hasReplays","replays","candidates","replayKey","declutterReplays","hitExtent","contextSize","declutteredFeatures","mask","circleArrayCache","arraySize","error","fillCircleArrayRowToMiddle","getCircleArray","zIndexKey","getReplays","opt_replayTypes","opt_declutterReplays","replayTypes","0","SIMPLIFY_TOLERANCE","GEOMETRY_RENDERERS","replayGroup","imageReplay","textReplay","lineStringReplay","polygonReplay","geometryRenderer","circleReplay","defaultOrder","feature1","feature2","getSquaredTolerance","getTolerance","renderFeature","renderGeometry","getGeometries","renderFeatureInternal","CanvasVectorLayerRenderer","vectorLayer","dirty_","renderedRevision_","renderedResolution_","renderedRenderOrder_","replayGroup_","handleFontsChanged_","vectorSource","clipExtent","replayContext","drawOffsetX","drawOffsetY","transparentLayer","hasRenderListeners","drawWidth","drawHeight","drawSize","world","mainContextAlpha","handleStyleImageChange_","animating","interacting","frameStateExtent","vectorLayerRevision","vectorLayerRenderBuffer","vectorLayerRenderOrder","dirty","VectorTileRenderType","HYBRID","IMAGE_REPLAYS","VECTOR_REPLAYS","CanvasVectorTileLayerRenderer","CanvasTileLayerRenderer$$1","renderedLayerRevision_","tmpTransform_","createReplayGroup_","renderTileImage_","layerRevision","revision","replayState","getReplayState","renderedRenderOrder","sourceTileGrid","getTileGrid","tt","sourceTile","tileKeys","sourceTileCoord","sourceTileExtent","sharedExtent","bufferedExtent","tileProjection","reproject","setProjection","setReplayGroup","getReplayGroup","getReplayTransform_","renderResolution","clips","worldOffset","transform$$1","currentClip","zz","replayData","replayDeclutter","renderedTileRevision","wrappedTileCoord","pixelScale","Map","PluggableMap$$1","OverlayPositioning","BOTTOM_CENTER","CENTER_LEFT","CENTER_CENTER","CENTER_RIGHT","TOP_CENTER","Property$3","ELEMENT","MAP","OFFSET","POSITION","POSITIONING","Overlay","insertFirst","autoPan","autoPanAnimation","autoPanMargin","rendered","bottom_","left_","right_","top_","mapPostrenderListenerKey","handleElementChanged","handleMapChanged","handleOffsetChanged","handlePositionChanged","handlePositioningChanged","setElement","setOffset","setPositioning","positioning","setPosition","getElement","getOffset","getPosition","getPositioning","updatePixelPosition","panIntoView","mapRect","getRect","overlayRect","offsetLeft","offsetRight","offsetTop","offsetBottom","centerPx","newCenterPx","pageXOffset","pageYOffset","mapSize","updateRenderedPosition","bottom","getOptions","OverviewMap","render$3","ovmapDiv_","ovmap_","ovmap","boxSizing","boxOverlay_","scope","overlayBox","mousePosition","endMoving","oldMap","oldView","unbindView_","handleMapPropertyChange_","bindView_","resetExtent_","newView","handleRotationChanged_","validateExtent_","ovmapSize","ovextent","topLeftPixel","bottomRightPixel","boxWidth","boxHeight","ovmapWidth","ovmapHeight","recenter_","ovview","steps","MAX_RATIO","LN2","updateBox_","ovresolution","rotateBottomLeft","calculateCoordinateRotate_","coordinateRotate","getOverviewMap","UNITS_PROP","Units$1","IMPERIAL","NAUTICAL","METRIC","US","LEADING_DIGITS","ScaleLine","render$4","innerElement_","viewState_","minWidth_","minWidth","renderedWidth_","renderedHTML_","handleUnitsChanged_","setUnits","pointResolutionUnits","nominalCount","suffix","metersPerDegree","html","WebGLShader","isAnimated","WebGLFragment","WebGLShader$$1","WebGLVertex","fragment","Locations","program","u_projectionMatrix","getUniformLocation","u_offsetScaleMatrix","u_offsetRotateMatrix","u_lineWidth","u_pixelRatio","u_opacity","u_fillColor","u_strokeColor","u_size","a_position","getAttribLocation","a_instruction","a_radius","fromTransform","mat4","WebGLReplay","projectionMatrix_","offsetRotateMatrix_","offsetScaleMatrix_","tmpMat4_","indices","indicesBuffer","startIndices","startIndicesFeature","verticesBuffer","getDeleteResourcesFunction","setUpProgram","shutDownProgram","locations","drawReplay","hitDetection","drawHitDetectionReplayOneByOne","drawHitDetectionReplay","oneByOne","drawHitDetectionReplayAll","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","tmpStencil","tmpStencilFunc","tmpStencilMaskVal","tmpStencilRef","tmpStencilMask","tmpStencilOpFail","tmpStencilOpPass","tmpStencilOpZFail","getGL","isEnabled","STENCIL_TEST","STENCIL_FUNC","STENCIL_VALUE_MASK","STENCIL_REF","STENCIL_WRITEMASK","STENCIL_FAIL","STENCIL_PASS_DEPTH_PASS","STENCIL_PASS_DEPTH_FAIL","enable","STENCIL_BUFFER_BIT","stencilMask","stencilFunc","ALWAYS","stencilOp","KEEP","REPLACE","NOTEQUAL","bindBuffer","projectionMatrix","offsetScaleMatrix","offsetRotateMatrix","uniformMatrix4fv","uniform1f","drawElements","elementType","hasOESElementIndexUint","numItems","offsetInBytes","DEFAULT_FILLSTYLE","DEFAULT_LINEDASH","DEFAULT_STROKESTYLE","EPSILON","triangleIsCounterClockwise","BufferUsage","WebGLBuffer","opt_arr","opt_usage","arr_","usage_","getUsage","WebGLCircleReplay","WebGLReplay$$1","defaultLocations_","styles_","styleIndices_","fillColor","strokeColor","numVertices","numIndices","lastState","deleteBuffer","getProgram","useProgram","enableVertexAttribArray","vertexAttribPointer","uniform2fv","disableVertexAttribArray","nextStyle","setFillStyle_","drawReplaySkipping_","groupStart","featureIndex","featureStart","uniform4fv","CanvasGradient","CanvasPattern","fragment$1","vertex$1","Locations$1","u_image","a_texCoord","a_offsets","a_opacity","a_rotateWithView","ContextEventType","LOST","RESTORED","WebGLContext","gl_","bufferCache_","shaderCache_","programCache_","currentProgram_","hitDetectionFramebuffer_","hitDetectionTexture_","hitDetectionRenderbuffer_","getExtension","handleWebGLContextLost","handleWebGLContextRestored","buf","bufferKey","bufferCacheEntry","arrayBuffer","createBuffer","Float32Array","Uint32Array","Uint16Array","bufferData","isContextLost","key$1","deleteProgram","key$2","deleteShader","deleteFramebuffer","deleteRenderbuffer","deleteTexture","getCanvas","getHitDetectionFramebuffer","initHitDetectionFramebuffer_","getShader","shaderObject","shaderKey","shader","createShader","shaderSource","compileShader","fragmentShaderObject","vertexShaderObject","programKey","createProgram","attachShader","linkProgram","framebuffer","createFramebuffer","bindFramebuffer","FRAMEBUFFER","texture","createEmptyTexture","renderbuffer","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","DEPTH_COMPONENT16","framebufferTexture2D","COLOR_ATTACHMENT0","framebufferRenderbuffer","DEPTH_ATTACHMENT","bindTexture","createTextureInternal","opt_wrapS","opt_wrapT","createTexture","texParameteri","TEXTURE_MAG_FILTER","TEXTURE_MIN_FILTER","texImage2D","RGBA","UNSIGNED_BYTE","WebGLTextureReplay","groupIndices","hitDetectionGroupIndices","imageHeight","imageWidth","defaultLocations","textures","getTextures","drawCoordinates","createTextures","images","texturePerImage","getHitDetectionTextures","drawReplaySkipping","groupEnd","hitDetectionTextures","opt_all","WebGLImageReplay","WebGLTextureReplay$$1","images_","hitDetectionImages_","textures_","hitDetectionTextures_","lineStringIsClosed","fragment$2","vertex$2","Locations$2","u_miterLimit","u_color","a_lastPos","a_nextPos","a_direction","Instruction$1","WebGLLineStringReplay","startCoords","sign","p0","lastSign","addVertices_","product","isValid_","indexCount","drawPolygonCoordinates","holeFlatCoordinates","setPolygonStyle","opt_index","getCurrentIndex","tmpDepthFunc","DEPTH_FUNC","tmpDepthMask","DEPTH_WRITEMASK","DEPTH_TEST","depthMask","depthFunc","fragment$3","vertex$3","Locations$3","LinkedList","opt_circular","first_","last_","head_","circular_","length_","insertItem","next","head","removeItem","firstItem","lastItem","nextItem","getNextItem","prevItem","getPrevItem","getCurrItem","setFirstItem","list","WebGLPolygonReplay","outerRing","rtree","processFlatCoordinates_","maxCoords","getMaxCoords_","holeLists","holeList","classifyPoints_","currList","currItem","getIntersections_","bridgeHole_","triangulate_","clockwise","createPoint_","insertItem_","seg","ccw","s0","s1","pointsReclassified","reflex","removeItem_","hole","holeMaxX","listMaxX","bestPoint","p5","minDist","intersectingSegments","currSeg","calculateIntersection_","pointsInTriangle","getPointsInTriangle_","currPoint","currTheta","p0Bridge","p1Bridge","simple","isSimple_","clipEars_","resolveSelfIntersections_","splitPolygon_","isClockwise_","s2","s3","processedEars","variableCriterion","diagonalIsInside_","opt_touch","resolvedIntersections","breakCond","newPolygon","newRtree","opt_rtree","opt_reflex","segmentsInExtent","denom","ub","p1IsLeftOf","p1IsRightOf","p3IsLeftOf","p3IsRightOf","p1InCone","p3InCone","currIndex","currLineIndex","holes","holeFlatCoords","lineDeleter","nullStrokeStyle","Atlas","space","space_","emptyBlocks_","renderCallback","block","split_","newBlock1","newBlock2","updateBlocks_","args","AtlasManager","currentSize_","initialSize","maxSize_","maxSize","atlases_","currentHitSize_","hitAtlases_","getInfo","getInfo_","hitInfo","mergeInfos_","atlases","opt_renderHitCallback","add_","renderHitCallback","isHitAtlas","atlas","HIT_DETECTION_SIZE","BATCH_CONSTRUCTORS$1","WebGLTextReplay","measureCanvas_","textAlign_","textBaseline_","offsetX_","offsetY_","currAtlas_","currX","currY","charArr","charInfo","glyphAtlas","textSize","getTextSize_","textHeight","str","sum","curr","addCharToAtlas_","reduce","mCtx","ctx","getAtlas_","params","hash","calculateHash_","WebGLReplayGroup","functions","replayHitDetection_","Uint8Array","readPixels","WebGLImmediateRenderer","center_","imageStyle_","fillStyle_","strokeStyle_","textStyle_","fragment$4","vertex$4","Locations$4","u_texCoordMatrix","u_texture","WebGLLayerRenderer","arrayBuffer_","framebufferDimension","texCoordMatrix","uniform1i","getTexCoordMatrix","getProjectionMatrix","getTexture","drawArrays","WebGLImageLayerRenderer","WebGLLayerRenderer$$1","hitTransformationMatrix_","createTexture_","imageElement","updateProjectionMatrix_","canvasWidth","canvasHeight","canvasExtentWidth","canvasExtentHeight","getHitTransformationMatrix_","pixelOnFrameBuffer","mapCoordTransform","projectionMatrixInv","WebGLMapRenderer","clipTileCanvasWidth_","clipTileCanvasHeight_","clipTileContext_","antialias","preserveDrawingBuffer","stencil","textureCache_","tileTextureQueue_","loadNextTileTexture_","tileSize","bindTileTexture","textureCacheFrameMarkerCount_","initializeGL_","magFilter","minFilter","textureCacheEntry","imageTile","clipTileCanvas","clipTileContext","expireCache_","getTileTextureQueue","renderers","activeTexture","blendFuncSeparate","isTileTextureLoaded","layerStatesToDraw","clearColor","viewport","layerState$1","Tile","interimTile","transition_","transitionStarts_","refreshInterimChain","ImageTile","Tile$$1","tileLoadFunction","crossOrigin_","src_","Image","imageListenerKeys_","tileLoadFunction_","unlistenImage_","getBlankImage","handleImageError_","handleImageLoad_","naturalWidth","naturalHeight","fillRect","createOrUpdate$2","opt_tileCoord","getKeyZXY","getKey$1","TileCache","LRUCache$$1","pruneExceptNewestZ","fromKey","tmpTileCoord","TileGrid","opt_strict","every","currentVal","res","origins","origins_","tileSizes_","tileSizes","tileSize_","fullTileRanges_","tmpSize_","sizes","calculateTileRanges_","getForProjection","opt_maxZoom","opt_tileSize","opt_corner","resolutionsFromExtent","createForExtent","extentFromProjection","createForProjection","half","forEachTileCoord","opt_tileRange","tileCoordExtent","getTileSize","getTileCoordForXYAndZ_","getTileCoordForCoordAndResolution","getTileCoordForXYAndResolution_","reverseIntersectionPolicy","adjustX","adjustY","xFromOrigin","yFromOrigin","tileCoordX","tileCoordY","getTileCoordForCoordAndZ","getTileCoordResolution","getFullTileRange","fullTileRanges","TileSource","opaque_","opaque","tilePixelRatio_","tileCache","tmpSize","tileOptions","getTileCacheForProjection","loaded","setKey","thisProj","ratio","getTileCoordForTileUrlFunction","opt_projection","worldsAway","withinExtentAndZ","TileSourceEvent","fragment$5","vertex$5","Locations$5","u_tileOffset","WebGLTileLayerRenderer","fragmentShader_","vertexShader_","locations_","renderArrayBuffer_","renderedTileRange_","renderedFramebufferExtent_","framebufferExtent","tilePixelResolution","tileRangeSize","roundUpToPowerOfTwo","framebufferExtentDimension","allTilesLoaded","tileTextureQueue","pixelOnMapScaled","pixelOnFrameBufferScaled","WebGLVectorLayerRenderer","layerState_","SCISSOR_TEST","scissor","WebGLMap","TileProperty","TileLayer","setPreload","setUseInterimTilesOnError","calculateSourceResolution","targetProj","targetMetersPerUnit","sourceMetersPerUnit","sourceExtent","compensationFactor","isFinite","enlargeClipPoint","centroidX","centroidY","dX","dY","render$6","targetExtent","triangulation","sources","opt_renderEdges","sourceDataExtent","canvasWidthInUnits","canvasHeightInUnits","stitchContext","stitchScale","xPos","yPos","srcWidth","srcHeight","targetTopLeft","getTriangles","triangle","u0","v0","u1","v1","u2","v2","sourceNumericalShiftX","sourceNumericalShiftY","affineCoefs","maxRow","maxEl","absValue","coef","solveLinearSystem","Triangulation","maxSourceExtent","errorThreshold","sourceProj_","targetProj_","transformInvCache","transformInv","transformInv_","maxSourceExtent_","errorThresholdSquared_","triangles_","wrapsXInSource_","canWrapXInSource_","sourceWorldWidth_","targetWorldWidth_","destinationTopLeft","destinationTopRight","destinationBottomRight","destinationBottomLeft","sourceTopLeft","sourceTopRight","sourceBottomRight","sourceBottomLeft","addQuad_","leftBound","newTriangle","addTriangle_","aSrc","bSrc","cSrc","dSrc","maxSubdivision","sourceQuadExtent","sourceCoverageX","sourceWorldWidth","wrapsX","needsSubdivision","centerSrc","bc","bcSrc","da","daSrc","ab","abSrc","cd","cdSrc","calculateSourceExtent","ReprojTile","targetTileGrid","getTileFunction","opt_errorThreshold","renderEdges_","gutter_","sourceTileGrid_","targetTileGrid_","wrappedTileCoord_","sourceTiles_","sourcesListenerKeys_","sourceZ_","maxTargetExtent","limitedTargetExtent","sourceProjExtent","errorThresholdInPixels","triangulation_","sourceRange","srcX","srcY","unlistenSources_","reproject_","leftToLoad","sourceListenKey","createFromTemplate","template","zRegEx","xRegEx","yRegEx","dashYRegEx","createFromTemplates","templates","tileUrlFunctions","createFromTileUrlFunctions","nullTileUrlFunction","TileEventType","defaultTileLoadFunction","TileImage$$1","xyzOptions","gridOptions","createXYZ","reprojectionErrorThreshold","tileUrlFunction","urls","UrlTile$$1","TileImage","tileClass","tileCacheForProjection","tileGridForProjection","reprojectionErrorThreshold_","renderReprojectionEdges_","usedTileCache","getGutter","projKey","createTile_","urlTileCoord","tileUrl","newTile","getTileInternal","setRenderReprojectionEdges","setTileGridForProjection","tilegrid","proj","TileSource$$1","UrlTile","generateTileUrlFunction_","setUrls","setUrl","setTileUrlFunction","tileLoadingKeys_","getTileLoadFunction","getTileUrlFunction","getUrls","setTileLoadFunction","match","startCharCode","stopCharCode","fromCharCode","stop","expandUrl","publish","payload","CustomEvent","createEvent","initCustomEvent","PROJECT_NAME","EVENTS","ROI_ADDED","ROI_REMOVED","ROI_DRAWN","ROI_SELECTED","ROI_MODIFIED","MOVE_STARTED","MOVE_ENDED","tagToKeyword","generateUID","random","_uid","Symbol","_scoord3d","ROI","scoord3d","_coordinates","_frameOfReferenceUID","_fiducialUID","Scoord3D","frameOfReferenceUID","fiducialUID","Point$1","some","super","Polyline","find","Polygon$1","Ellipse","dicomwebClient","_typeof","iterator","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","stringToUint8Array","containsToken","token","findToken","maxSearchLength","searchLength","multipartEncode","datasets","boundary","s4","substring","guid","contentType","contentTypeString","header","footer","headerArray","footerArray","headerLength","footerLength","contentArrays","datasetBuffer","contentArray","contentLength","multipartArray","multipartDecode","response","separator","headerIndex","boundaryString","identifyBoundary","itemLimit","uint8ArrayToString","boundaryIndex","boundaryLength","components","headerTokenIndex","isObject","isEmptyObject","getFirstResult","getFirstResultIfLengthGtOne","MEDIATYPES","findSubstring","before","after","beforeIndex","lastIndexOf","afterIndex","api","DICOMwebClient","instance","_classCallCheck","baseURL","console","username","password","qidoURLPrefix","qidoURL","wadoURLPrefix","wadoURL","stowURLPrefix","stowURL","headers","protoProps","staticProps","queryString","encodeURIComponent","mediaType","sepIndex","mediaTypeType","_assertMediaTypeIsValid","mediaTypes","supportedMediaTypes","fieldValueParts","transferSyntaxUID","fieldValue","flat","endsWith","expectedMediaTypes","actualType","_parseMediaType","expectedMediaType","expectedType","byteRange","commonMediaTypes","Set","startsWith","from","method","_this","Promise","resolve","reject","request","setRequestHeader","userHeaders","onloadstart","onloadend","onreadystatechange","readyState","warn","progressCallback","onprogress","_httpRequest","urlWithQueryParams","_parseQueryParameters","Accept","_httpGet","acceptHeaderFieldValue","_buildAcceptHeaderFieldValue","Range","_buildRangeHeaderFieldValue","_buildMultipartAcceptHeaderFieldValue","then","defaultMediaType","acceptableMediaTypes","_httpPost","queryParams","_httpGetApplicationJson","studyInstanceUID","seriesInstanceUID","transferSyntax","sopInstanceUID","paramString","frameNumbers","_httpGetMultipartApplicationOctetStream","commonMediaType","_getCommonMediaType","_httpGetMultipartImage","_httpGetMultipartVideo","_httpGetImage","_httpGetVideo","_httpGetText","_httpGetApplicationPdf","debug","_httpGetMultipartApplicationDicom","BulkDataURI","_multipartEncode","utils","getStudyInstanceUIDFromUri","uri","getSeriesInstanceUIDFromUri","getSOPInstanceUIDFromUri","getFrameNumbersFromUri","numbers","version","__esModule","_getPixelSpacing","metadata","SharedFunctionalGroupsSequence","PixelMeasuresSequence","PixelSpacing","_geometryCoordinates2scoord3dCoordinates","pyramid","TotalPixelMatrixOriginSequence","xOffset","XOffsetInSlideCoordinateSystem","yOffset","YOffsetInSlideCoordinateSystem","pixelSpacing","toFixed","_coordinateFormatGeometry2Scoord3d","_scoord3dCoordinates2geometryCoordinates","coord","_coordinateFormatScoord3d2Geometry","_getROIFromFeature","roi","FrameOfReferenceUID","centerCoordinate","_geometry2Scoord3d","_usewebgl","_map","_features","_drawingSource","_drawingLayer","_segmentations","_client","_controls","_interactions","_pyramidMetadata","_pyramidFrameMappings","_pyramidBaseMetadata","_metadata","VLWholeSlideMicroscopyImageViewer","useWebGL","client","retrieveRendered","sopClassUID","imageType","loadJSONDataset","dataset","tag","keyword","vr","NumberOfFrames","formatImageMetadata","sizeDiff","TotalPixelMatrixColumns","ConcatenationFrameOffsetNumber","frameMappings","rows","Rows","columns","Columns","totalPixelMatrixColumns","TotalPixelMatrixRows","SOPInstanceUID","numberOfFrames","frameOffsetNumber","dimensionOrganizationType","DimensionOrganizationType","tilesPerRow","frameMapping","limit","rowFraction","rowIndex","frameNumber","functionalGroups","PerFrameFunctionalGroupsSequence","planePositions","PlanePositionSlideSequence","rowPosition","RowPositionInTotalImagePixelMatrix","columnPosition","ColumnPositionInTotalImagePixelMatrix","getFrameMapping","cols","alreadyExists","SOPInstanceUIDOfConcatenationSource","ConcatenationUID","InConcatenationNumber","nLevels","totalSizes","basePixelSpacing","baseTotalPixelMatrixColumns","baseTotalPixelMatrixRows","totalPixelMatrixRows","adjustedTotalPixelMatrixColumns","adjustedTotalPixelMatrixRows","pyramidFrameMappings","degrees","ImageOrientationSlide","pixelRes","rasterSource","StudyInstanceUID","SeriesInstanceUID","img","retrieveOptions","retrieveInstanceFramesRendered","renderedFrame","blob","Blob","URL","createObjectURL","retrieveInstanceFrames","rawFrames","overviewView","draw","select","modify","overview","logo","scaleElement","backgroundColor","borderRadius","scaleInnerElement","fontSize","borderWidth","borderStyle","borderTop","borderRightColor","borderLeftColor","borderBottomColor","willChange","getAllROIs","deactivateDrawInteraction","customOptionsMapping","freehandpolygon","line","freehandline","defaultDrawOptions","customDrawOptions","allDrawOptions","deactivateSelectInteraction","deactivateModifyInteraction","rois","getROI","graphicType","graphicData","majorAxisCoordinates","_scoord3d2Geometry","Multipoint","Ellipsoid"],"mappings":"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","file":"vendors~dicom-microscopy-viewer.bundle.42d3991a7d294761739a.js","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.DICOMMicroscopyViewer = {})));\n}(this, (function (exports) { 'use strict';\n\n  /**\n   * @module ol/util\n   */\n\n  /**\n   * @return {?} Any return.\n   */\n  function abstract() {\n    return /** @type {?} */ ((function() {\n      throw new Error('Unimplemented abstract method.');\n    })());\n  }\n\n  /**\n   * Counter for getUid.\n   * @type {number}\n   * @private\n   */\n  var uidCounter_ = 0;\n\n  /**\n   * Gets a unique ID for an object. This mutates the object so that further calls\n   * with the same object as a parameter returns the same value. Unique IDs are generated\n   * as a strictly increasing sequence. Adapted from goog.getUid.\n   *\n   * @param {Object} obj The object to get the unique ID for.\n   * @return {string} The unique ID for the object.\n   * @function module:ol.getUid\n   * @api\n   */\n  function getUid(obj) {\n    return obj.ol_uid || (obj.ol_uid = String(++uidCounter_));\n  }\n\n  /**\n   * OpenLayers version.\n   * @type {string}\n   */\n  var VERSION = '5.3.0';\n\n  /**\n   * @module ol/AssertionError\n   */\n\n  /**\n   * Error object thrown when an assertion failed. This is an ECMA-262 Error,\n   * extended with a `code` property.\n   * See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error.\n   */\n  var AssertionError = /*@__PURE__*/(function (Error) {\n    function AssertionError(code) {\n      var path = 'v' + VERSION.split('-')[0];\n      var message = 'Assertion failed. See https://openlayers.org/en/' + path +\n      '/doc/errors/#' + code + ' for details.';\n\n      Error.call(this, message);\n\n      /**\n       * Error code. The meaning of the code can be found on\n       * https://openlayers.org/en/latest/doc/errors/ (replace `latest` with\n       * the version found in the OpenLayers script's header comment if a version\n       * other than the latest is used).\n       * @type {number}\n       * @api\n       */\n      this.code = code;\n\n      /**\n       * @type {string}\n       */\n      this.name = 'AssertionError';\n\n      // Re-assign message, see https://github.com/Rich-Harris/buble/issues/40\n      this.message = message;\n    }\n\n    if ( Error ) AssertionError.__proto__ = Error;\n    AssertionError.prototype = Object.create( Error && Error.prototype );\n    AssertionError.prototype.constructor = AssertionError;\n\n    return AssertionError;\n  }(Error));\n\n  /**\n   * @module ol/CollectionEventType\n   */\n\n  /**\n   * @enum {string}\n   */\n  var CollectionEventType = {\n    /**\n     * Triggered when an item is added to the collection.\n     * @event module:ol/Collection.CollectionEvent#add\n     * @api\n     */\n    ADD: 'add',\n    /**\n     * Triggered when an item is removed from the collection.\n     * @event module:ol/Collection.CollectionEvent#remove\n     * @api\n     */\n    REMOVE: 'remove'\n  };\n\n  /**\n   * @module ol/ObjectEventType\n   */\n\n  /**\n   * @enum {string}\n   */\n  var ObjectEventType = {\n    /**\n     * Triggered when a property is changed.\n     * @event module:ol/Object.ObjectEvent#propertychange\n     * @api\n     */\n    PROPERTYCHANGE: 'propertychange'\n  };\n\n  /**\n   * @module ol/obj\n   */\n\n\n  /**\n   * Polyfill for Object.assign().  Assigns enumerable and own properties from\n   * one or more source objects to a target object.\n   * See https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign.\n   *\n   * @param {!Object} target The target object.\n   * @param {...Object} var_sources The source object(s).\n   * @return {!Object} The modified target object.\n   */\n  var assign = (typeof Object.assign === 'function') ? Object.assign : function(target, var_sources) {\n    var arguments$1 = arguments;\n\n    if (target === undefined || target === null) {\n      throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    var output = Object(target);\n    for (var i = 1, ii = arguments.length; i < ii; ++i) {\n      var source = arguments$1[i];\n      if (source !== undefined && source !== null) {\n        for (var key in source) {\n          if (source.hasOwnProperty(key)) {\n            output[key] = source[key];\n          }\n        }\n      }\n    }\n    return output;\n  };\n\n\n  /**\n   * Removes all properties from an object.\n   * @param {Object} object The object to clear.\n   */\n  function clear(object) {\n    for (var property in object) {\n      delete object[property];\n    }\n  }\n\n\n  /**\n   * Get an array of property values from an object.\n   * @param {Object<K,V>} object The object from which to get the values.\n   * @return {!Array<V>} The property values.\n   * @template K,V\n   */\n  function getValues(object) {\n    var values = [];\n    for (var property in object) {\n      values.push(object[property]);\n    }\n    return values;\n  }\n\n\n  /**\n   * Determine if an object has any properties.\n   * @param {Object} object The object to check.\n   * @return {boolean} The object is empty.\n   */\n  function isEmpty(object) {\n    var property;\n    for (property in object) {\n      return false;\n    }\n    return !property;\n  }\n\n  /**\n   * @module ol/events\n   */\n\n\n  /**\n   * Key to use with {@link module:ol/Observable~Observable#unByKey}.\n   * @typedef {Object} EventsKey\n   * @property {Object} [bindTo]\n   * @property {ListenerFunction} [boundListener]\n   * @property {boolean} callOnce\n   * @property {number} [deleteIndex]\n   * @property {ListenerFunction} listener\n   * @property {import(\"./events/Target.js\").EventTargetLike} target\n   * @property {string} type\n   * @api\n   */\n\n\n  /**\n   * Listener function. This function is called with an event object as argument.\n   * When the function returns `false`, event propagation will stop.\n   *\n   * @typedef {function((Event|import(\"./events/Event.js\").default)): (void|boolean)} ListenerFunction\n   * @api\n   */\n\n\n  /**\n   * @param {EventsKey} listenerObj Listener object.\n   * @return {ListenerFunction} Bound listener.\n   */\n  function bindListener(listenerObj) {\n    var boundListener = function(evt) {\n      var listener = listenerObj.listener;\n      var bindTo = listenerObj.bindTo || listenerObj.target;\n      if (listenerObj.callOnce) {\n        unlistenByKey(listenerObj);\n      }\n      return listener.call(bindTo, evt);\n    };\n    listenerObj.boundListener = boundListener;\n    return boundListener;\n  }\n\n\n  /**\n   * Finds the matching {@link module:ol/events~EventsKey} in the given listener\n   * array.\n   *\n   * @param {!Array<!EventsKey>} listeners Array of listeners.\n   * @param {!Function} listener The listener function.\n   * @param {Object=} opt_this The `this` value inside the listener.\n   * @param {boolean=} opt_setDeleteIndex Set the deleteIndex on the matching\n   *     listener, for {@link module:ol/events~unlistenByKey}.\n   * @return {EventsKey|undefined} The matching listener object.\n   */\n  function findListener(listeners, listener, opt_this, opt_setDeleteIndex) {\n    var listenerObj;\n    for (var i = 0, ii = listeners.length; i < ii; ++i) {\n      listenerObj = listeners[i];\n      if (listenerObj.listener === listener &&\n          listenerObj.bindTo === opt_this) {\n        if (opt_setDeleteIndex) {\n          listenerObj.deleteIndex = i;\n        }\n        return listenerObj;\n      }\n    }\n    return undefined;\n  }\n\n\n  /**\n   * @param {import(\"./events/Target.js\").EventTargetLike} target Target.\n   * @param {string} type Type.\n   * @return {Array<EventsKey>|undefined} Listeners.\n   */\n  function getListeners(target, type) {\n    var listenerMap = getListenerMap(target);\n    return listenerMap ? listenerMap[type] : undefined;\n  }\n\n\n  /**\n   * Get the lookup of listeners.\n   * @param {Object} target Target.\n   * @param {boolean=} opt_create If a map should be created if it doesn't exist.\n   * @return {!Object<string, Array<EventsKey>>} Map of\n   *     listeners by event type.\n   */\n  function getListenerMap(target, opt_create) {\n    var listenerMap = target.ol_lm;\n    if (!listenerMap && opt_create) {\n      listenerMap = target.ol_lm = {};\n    }\n    return listenerMap;\n  }\n\n\n  /**\n   * Remove the listener map from a target.\n   * @param {Object} target Target.\n   */\n  function removeListenerMap(target) {\n    delete target.ol_lm;\n  }\n\n\n  /**\n   * Clean up all listener objects of the given type.  All properties on the\n   * listener objects will be removed, and if no listeners remain in the listener\n   * map, it will be removed from the target.\n   * @param {import(\"./events/Target.js\").EventTargetLike} target Target.\n   * @param {string} type Type.\n   */\n  function removeListeners(target, type) {\n    var listeners = getListeners(target, type);\n    if (listeners) {\n      for (var i = 0, ii = listeners.length; i < ii; ++i) {\n        /** @type {import(\"./events/Target.js\").default} */ (target).\n          removeEventListener(type, listeners[i].boundListener);\n        clear(listeners[i]);\n      }\n      listeners.length = 0;\n      var listenerMap = getListenerMap(target);\n      if (listenerMap) {\n        delete listenerMap[type];\n        if (Object.keys(listenerMap).length === 0) {\n          removeListenerMap(target);\n        }\n      }\n    }\n  }\n\n\n  /**\n   * Registers an event listener on an event target. Inspired by\n   * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n   *\n   * This function efficiently binds a `listener` to a `this` object, and returns\n   * a key for use with {@link module:ol/events~unlistenByKey}.\n   *\n   * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n   * @param {string} type Event type.\n   * @param {ListenerFunction} listener Listener.\n   * @param {Object=} opt_this Object referenced by the `this` keyword in the\n   *     listener. Default is the `target`.\n   * @param {boolean=} opt_once If true, add the listener as one-off listener.\n   * @return {EventsKey} Unique key for the listener.\n   */\n  function listen(target, type, listener, opt_this, opt_once) {\n    var listenerMap = getListenerMap(target, true);\n    var listeners = listenerMap[type];\n    if (!listeners) {\n      listeners = listenerMap[type] = [];\n    }\n    var listenerObj = findListener(listeners, listener, opt_this, false);\n    if (listenerObj) {\n      if (!opt_once) {\n        // Turn one-off listener into a permanent one.\n        listenerObj.callOnce = false;\n      }\n    } else {\n      listenerObj = /** @type {EventsKey} */ ({\n        bindTo: opt_this,\n        callOnce: !!opt_once,\n        listener: listener,\n        target: target,\n        type: type\n      });\n      /** @type {import(\"./events/Target.js\").default} */ (target).\n        addEventListener(type, bindListener(listenerObj));\n      listeners.push(listenerObj);\n    }\n\n    return listenerObj;\n  }\n\n\n  /**\n   * Registers a one-off event listener on an event target. Inspired by\n   * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n   *\n   * This function efficiently binds a `listener` as self-unregistering listener\n   * to a `this` object, and returns a key for use with\n   * {@link module:ol/events~unlistenByKey} in case the listener needs to be\n   * unregistered before it is called.\n   *\n   * When {@link module:ol/events~listen} is called with the same arguments after this\n   * function, the self-unregistering listener will be turned into a permanent\n   * listener.\n   *\n   * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n   * @param {string} type Event type.\n   * @param {ListenerFunction} listener Listener.\n   * @param {Object=} opt_this Object referenced by the `this` keyword in the\n   *     listener. Default is the `target`.\n   * @return {EventsKey} Key for unlistenByKey.\n   */\n  function listenOnce(target, type, listener, opt_this) {\n    return listen(target, type, listener, opt_this, true);\n  }\n\n\n  /**\n   * Unregisters an event listener on an event target. Inspired by\n   * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n   *\n   * To return a listener, this function needs to be called with the exact same\n   * arguments that were used for a previous {@link module:ol/events~listen} call.\n   *\n   * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n   * @param {string} type Event type.\n   * @param {ListenerFunction} listener Listener.\n   * @param {Object=} opt_this Object referenced by the `this` keyword in the\n   *     listener. Default is the `target`.\n   */\n  function unlisten(target, type, listener, opt_this) {\n    var listeners = getListeners(target, type);\n    if (listeners) {\n      var listenerObj = findListener(listeners, listener, opt_this, true);\n      if (listenerObj) {\n        unlistenByKey(listenerObj);\n      }\n    }\n  }\n\n\n  /**\n   * Unregisters event listeners on an event target. Inspired by\n   * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n   *\n   * The argument passed to this function is the key returned from\n   * {@link module:ol/events~listen} or {@link module:ol/events~listenOnce}.\n   *\n   * @param {EventsKey} key The key.\n   */\n  function unlistenByKey(key) {\n    if (key && key.target) {\n      /** @type {import(\"./events/Target.js\").default} */ (key.target).\n        removeEventListener(key.type, key.boundListener);\n      var listeners = getListeners(key.target, key.type);\n      if (listeners) {\n        var i = 'deleteIndex' in key ? key.deleteIndex : listeners.indexOf(key);\n        if (i !== -1) {\n          listeners.splice(i, 1);\n        }\n        if (listeners.length === 0) {\n          removeListeners(key.target, key.type);\n        }\n      }\n      clear(key);\n    }\n  }\n\n\n  /**\n   * Unregisters all event listeners on an event target. Inspired by\n   * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n   *\n   * @param {import(\"./events/Target.js\").EventTargetLike} target Target.\n   */\n  function unlistenAll(target) {\n    var listenerMap = getListenerMap(target);\n    if (listenerMap) {\n      for (var type in listenerMap) {\n        removeListeners(target, type);\n      }\n    }\n  }\n\n  /**\n   * @module ol/Disposable\n   */\n\n  /**\n   * @classdesc\n   * Objects that need to clean up after themselves.\n   */\n  var Disposable = function Disposable() {\n    /**\n     * The object has already been disposed.\n     * @type {boolean}\n     * @private\n     */\n    this.disposed_ = false;\n  };\n\n  /**\n   * Clean up.\n   */\n  Disposable.prototype.dispose = function dispose () {\n    if (!this.disposed_) {\n      this.disposed_ = true;\n      this.disposeInternal();\n    }\n  };\n\n  /**\n   * Extension point for disposable objects.\n   * @protected\n   */\n  Disposable.prototype.disposeInternal = function disposeInternal () {};\n\n  /**\n   * @module ol/functions\n   */\n\n  /**\n   * Always returns true.\n   * @returns {boolean} true.\n   */\n  function TRUE() {\n    return true;\n  }\n\n  /**\n   * Always returns false.\n   * @returns {boolean} false.\n   */\n  function FALSE() {\n    return false;\n  }\n\n  /**\n   * A reusable function, used e.g. as a default for callbacks.\n   *\n   * @return {void} Nothing.\n   */\n  function VOID() {}\n\n  /**\n   * @module ol/events/Event\n   */\n\n  /**\n   * @classdesc\n   * Stripped down implementation of the W3C DOM Level 2 Event interface.\n   * See https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-interface.\n   *\n   * This implementation only provides `type` and `target` properties, and\n   * `stopPropagation` and `preventDefault` methods. It is meant as base class\n   * for higher level events defined in the library, and works with\n   * {@link module:ol/events/Target~Target}.\n   */\n  var Event = function Event(type) {\n\n    /**\n     * @type {boolean}\n     */\n    this.propagationStopped;\n\n    /**\n     * The event type.\n     * @type {string}\n     * @api\n     */\n    this.type = type;\n\n    /**\n     * The event target.\n     * @type {Object}\n     * @api\n     */\n    this.target = null;\n  };\n\n  /**\n   * Stop event propagation.\n   * @api\n   */\n  Event.prototype.preventDefault = function preventDefault () {\n    this.propagationStopped = true;\n  };\n\n  /**\n   * Stop event propagation.\n   * @api\n   */\n  Event.prototype.stopPropagation = function stopPropagation () {\n    this.propagationStopped = true;\n  };\n\n\n  /**\n   * @param {Event|import(\"./Event.js\").default} evt Event\n   */\n  function stopPropagation(evt) {\n    evt.stopPropagation();\n  }\n\n  /**\n   * @module ol/events/Target\n   */\n\n\n  /**\n   * @typedef {EventTarget|Target} EventTargetLike\n   */\n\n\n  /**\n   * @classdesc\n   * A simplified implementation of the W3C DOM Level 2 EventTarget interface.\n   * See https://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-EventTarget.\n   *\n   * There are two important simplifications compared to the specification:\n   *\n   * 1. The handling of `useCapture` in `addEventListener` and\n   *    `removeEventListener`. There is no real capture model.\n   * 2. The handling of `stopPropagation` and `preventDefault` on `dispatchEvent`.\n   *    There is no event target hierarchy. When a listener calls\n   *    `stopPropagation` or `preventDefault` on an event object, it means that no\n   *    more listeners after this one will be called. Same as when the listener\n   *    returns false.\n   */\n  var Target = /*@__PURE__*/(function (Disposable$$1) {\n    function Target() {\n\n      Disposable$$1.call(this);\n\n      /**\n       * @private\n       * @type {!Object<string, number>}\n       */\n      this.pendingRemovals_ = {};\n\n      /**\n       * @private\n       * @type {!Object<string, number>}\n       */\n      this.dispatching_ = {};\n\n      /**\n       * @private\n       * @type {!Object<string, Array<import(\"../events.js\").ListenerFunction>>}\n       */\n      this.listeners_ = {};\n\n    }\n\n    if ( Disposable$$1 ) Target.__proto__ = Disposable$$1;\n    Target.prototype = Object.create( Disposable$$1 && Disposable$$1.prototype );\n    Target.prototype.constructor = Target;\n\n    /**\n     * @param {string} type Type.\n     * @param {import(\"../events.js\").ListenerFunction} listener Listener.\n     */\n    Target.prototype.addEventListener = function addEventListener (type, listener) {\n      var listeners = this.listeners_[type];\n      if (!listeners) {\n        listeners = this.listeners_[type] = [];\n      }\n      if (listeners.indexOf(listener) === -1) {\n        listeners.push(listener);\n      }\n    };\n\n    /**\n     * Dispatches an event and calls all listeners listening for events\n     * of this type. The event parameter can either be a string or an\n     * Object with a `type` property.\n     *\n     * @param {{type: string,\n     *     target: (EventTargetLike|undefined),\n     *     propagationStopped: (boolean|undefined)}|\n     *     import(\"./Event.js\").default|string} event Event object.\n     * @return {boolean|undefined} `false` if anyone called preventDefault on the\n     *     event object or if any of the listeners returned false.\n     * @api\n     */\n    Target.prototype.dispatchEvent = function dispatchEvent (event) {\n      var evt = typeof event === 'string' ? new Event(event) : event;\n      var type = evt.type;\n      evt.target = this;\n      var listeners = this.listeners_[type];\n      var propagate;\n      if (listeners) {\n        if (!(type in this.dispatching_)) {\n          this.dispatching_[type] = 0;\n          this.pendingRemovals_[type] = 0;\n        }\n        ++this.dispatching_[type];\n        for (var i = 0, ii = listeners.length; i < ii; ++i) {\n          if (listeners[i].call(this, evt) === false || evt.propagationStopped) {\n            propagate = false;\n            break;\n          }\n        }\n        --this.dispatching_[type];\n        if (this.dispatching_[type] === 0) {\n          var pendingRemovals = this.pendingRemovals_[type];\n          delete this.pendingRemovals_[type];\n          while (pendingRemovals--) {\n            this.removeEventListener(type, VOID);\n          }\n          delete this.dispatching_[type];\n        }\n        return propagate;\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Target.prototype.disposeInternal = function disposeInternal () {\n      unlistenAll(this);\n    };\n\n    /**\n     * Get the listeners for a specified event type. Listeners are returned in the\n     * order that they will be called in.\n     *\n     * @param {string} type Type.\n     * @return {Array<import(\"../events.js\").ListenerFunction>} Listeners.\n     */\n    Target.prototype.getListeners = function getListeners$$1 (type) {\n      return this.listeners_[type];\n    };\n\n    /**\n     * @param {string=} opt_type Type. If not provided,\n     *     `true` will be returned if this event target has any listeners.\n     * @return {boolean} Has listeners.\n     */\n    Target.prototype.hasListener = function hasListener (opt_type) {\n      return opt_type ?\n        opt_type in this.listeners_ :\n        Object.keys(this.listeners_).length > 0;\n    };\n\n    /**\n     * @param {string} type Type.\n     * @param {import(\"../events.js\").ListenerFunction} listener Listener.\n     */\n    Target.prototype.removeEventListener = function removeEventListener (type, listener) {\n      var listeners = this.listeners_[type];\n      if (listeners) {\n        var index = listeners.indexOf(listener);\n        if (type in this.pendingRemovals_) {\n          // make listener a no-op, and remove later in #dispatchEvent()\n          listeners[index] = VOID;\n          ++this.pendingRemovals_[type];\n        } else {\n          listeners.splice(index, 1);\n          if (listeners.length === 0) {\n            delete this.listeners_[type];\n          }\n        }\n      }\n    };\n\n    return Target;\n  }(Disposable));\n\n  /**\n   * @module ol/events/EventType\n   */\n\n  /**\n   * @enum {string}\n   * @const\n   */\n  var EventType = {\n    /**\n     * Generic change event. Triggered when the revision counter is increased.\n     * @event module:ol/events/Event~Event#change\n     * @api\n     */\n    CHANGE: 'change',\n\n    CLEAR: 'clear',\n    CONTEXTMENU: 'contextmenu',\n    CLICK: 'click',\n    DBLCLICK: 'dblclick',\n    DRAGENTER: 'dragenter',\n    DRAGOVER: 'dragover',\n    DROP: 'drop',\n    ERROR: 'error',\n    KEYDOWN: 'keydown',\n    KEYPRESS: 'keypress',\n    LOAD: 'load',\n    MOUSEDOWN: 'mousedown',\n    MOUSEMOVE: 'mousemove',\n    MOUSEOUT: 'mouseout',\n    MOUSEUP: 'mouseup',\n    MOUSEWHEEL: 'mousewheel',\n    MSPOINTERDOWN: 'MSPointerDown',\n    RESIZE: 'resize',\n    TOUCHSTART: 'touchstart',\n    TOUCHMOVE: 'touchmove',\n    TOUCHEND: 'touchend',\n    WHEEL: 'wheel'\n  };\n\n  /**\n   * @module ol/Observable\n   */\n\n  /**\n   * @classdesc\n   * Abstract base class; normally only used for creating subclasses and not\n   * instantiated in apps.\n   * An event target providing convenient methods for listener registration\n   * and unregistration. A generic `change` event is always available through\n   * {@link module:ol/Observable~Observable#changed}.\n   *\n   * @fires import(\"./events/Event.js\").Event\n   * @api\n   */\n  var Observable = /*@__PURE__*/(function (EventTarget) {\n    function Observable() {\n\n      EventTarget.call(this);\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.revision_ = 0;\n\n    }\n\n    if ( EventTarget ) Observable.__proto__ = EventTarget;\n    Observable.prototype = Object.create( EventTarget && EventTarget.prototype );\n    Observable.prototype.constructor = Observable;\n\n    /**\n     * Increases the revision counter and dispatches a 'change' event.\n     * @api\n     */\n    Observable.prototype.changed = function changed () {\n      ++this.revision_;\n      this.dispatchEvent(EventType.CHANGE);\n    };\n\n    /**\n     * Get the version number for this object.  Each time the object is modified,\n     * its version number will be incremented.\n     * @return {number} Revision.\n     * @api\n     */\n    Observable.prototype.getRevision = function getRevision () {\n      return this.revision_;\n    };\n\n    /**\n     * Listen for a certain type of event.\n     * @param {string|Array<string>} type The event type or array of event types.\n     * @param {function(?): ?} listener The listener function.\n     * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Unique key for the listener. If\n     *     called with an array of event types as the first argument, the return\n     *     will be an array of keys.\n     * @api\n     */\n    Observable.prototype.on = function on (type, listener) {\n      if (Array.isArray(type)) {\n        var len = type.length;\n        var keys = new Array(len);\n        for (var i = 0; i < len; ++i) {\n          keys[i] = listen(this, type[i], listener);\n        }\n        return keys;\n      } else {\n        return listen(this, /** @type {string} */ (type), listener);\n      }\n    };\n\n    /**\n     * Listen once for a certain type of event.\n     * @param {string|Array<string>} type The event type or array of event types.\n     * @param {function(?): ?} listener The listener function.\n     * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Unique key for the listener. If\n     *     called with an array of event types as the first argument, the return\n     *     will be an array of keys.\n     * @api\n     */\n    Observable.prototype.once = function once (type, listener) {\n      if (Array.isArray(type)) {\n        var len = type.length;\n        var keys = new Array(len);\n        for (var i = 0; i < len; ++i) {\n          keys[i] = listenOnce(this, type[i], listener);\n        }\n        return keys;\n      } else {\n        return listenOnce(this, /** @type {string} */ (type), listener);\n      }\n    };\n\n    /**\n     * Unlisten for a certain type of event.\n     * @param {string|Array<string>} type The event type or array of event types.\n     * @param {function(?): ?} listener The listener function.\n     * @api\n     */\n    Observable.prototype.un = function un (type, listener) {\n      if (Array.isArray(type)) {\n        for (var i = 0, ii = type.length; i < ii; ++i) {\n          unlisten(this, type[i], listener);\n        }\n        return;\n      } else {\n        unlisten(this, /** @type {string} */ (type), listener);\n      }\n    };\n\n    return Observable;\n  }(Target));\n\n  /**\n   * @module ol/Object\n   */\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/Object~BaseObject} instances are instances of this type.\n   */\n  var ObjectEvent = /*@__PURE__*/(function (Event$$1) {\n    function ObjectEvent(type, key, oldValue) {\n      Event$$1.call(this, type);\n\n      /**\n       * The name of the property whose value is changing.\n       * @type {string}\n       * @api\n       */\n      this.key = key;\n\n      /**\n       * The old value. To get the new value use `e.target.get(e.key)` where\n       * `e` is the event object.\n       * @type {*}\n       * @api\n       */\n      this.oldValue = oldValue;\n\n    }\n\n    if ( Event$$1 ) ObjectEvent.__proto__ = Event$$1;\n    ObjectEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    ObjectEvent.prototype.constructor = ObjectEvent;\n\n    return ObjectEvent;\n  }(Event));\n\n\n  /**\n   * @classdesc\n   * Abstract base class; normally only used for creating subclasses and not\n   * instantiated in apps.\n   * Most non-trivial classes inherit from this.\n   *\n   * This extends {@link module:ol/Observable} with observable\n   * properties, where each property is observable as well as the object as a\n   * whole.\n   *\n   * Classes that inherit from this have pre-defined properties, to which you can\n   * add your owns. The pre-defined properties are listed in this documentation as\n   * 'Observable Properties', and have their own accessors; for example,\n   * {@link module:ol/Map~Map} has a `target` property, accessed with\n   * `getTarget()` and changed with `setTarget()`. Not all properties are however\n   * settable. There are also general-purpose accessors `get()` and `set()`. For\n   * example, `get('target')` is equivalent to `getTarget()`.\n   *\n   * The `set` accessors trigger a change event, and you can monitor this by\n   * registering a listener. For example, {@link module:ol/View~View} has a\n   * `center` property, so `view.on('change:center', function(evt) {...});` would\n   * call the function whenever the value of the center property changes. Within\n   * the function, `evt.target` would be the view, so `evt.target.getCenter()`\n   * would return the new center.\n   *\n   * You can add your own observable properties with\n   * `object.set('prop', 'value')`, and retrieve that with `object.get('prop')`.\n   * You can listen for changes on that property value with\n   * `object.on('change:prop', listener)`. You can get a list of all\n   * properties with {@link module:ol/Object~BaseObject#getProperties}.\n   *\n   * Note that the observable properties are separate from standard JS properties.\n   * You can, for example, give your map object a title with\n   * `map.title='New title'` and with `map.set('title', 'Another title')`. The\n   * first will be a `hasOwnProperty`; the second will appear in\n   * `getProperties()`. Only the second is observable.\n   *\n   * Properties can be deleted by using the unset method. E.g.\n   * object.unset('foo').\n   *\n   * @fires ObjectEvent\n   * @api\n   */\n  var BaseObject = /*@__PURE__*/(function (Observable$$1) {\n    function BaseObject(opt_values) {\n      Observable$$1.call(this);\n\n      // Call {@link module:ol/util~getUid} to ensure that the order of objects' ids is\n      // the same as the order in which they were created.  This also helps to\n      // ensure that object properties are always added in the same order, which\n      // helps many JavaScript engines generate faster code.\n      getUid(this);\n\n      /**\n       * @private\n       * @type {!Object<string, *>}\n       */\n      this.values_ = {};\n\n      if (opt_values !== undefined) {\n        this.setProperties(opt_values);\n      }\n    }\n\n    if ( Observable$$1 ) BaseObject.__proto__ = Observable$$1;\n    BaseObject.prototype = Object.create( Observable$$1 && Observable$$1.prototype );\n    BaseObject.prototype.constructor = BaseObject;\n\n    /**\n     * Gets a value.\n     * @param {string} key Key name.\n     * @return {*} Value.\n     * @api\n     */\n    BaseObject.prototype.get = function get (key) {\n      var value;\n      if (this.values_.hasOwnProperty(key)) {\n        value = this.values_[key];\n      }\n      return value;\n    };\n\n    /**\n     * Get a list of object property names.\n     * @return {Array<string>} List of property names.\n     * @api\n     */\n    BaseObject.prototype.getKeys = function getKeys () {\n      return Object.keys(this.values_);\n    };\n\n    /**\n     * Get an object of all property names and values.\n     * @return {Object<string, *>} Object.\n     * @api\n     */\n    BaseObject.prototype.getProperties = function getProperties () {\n      return assign({}, this.values_);\n    };\n\n    /**\n     * @param {string} key Key name.\n     * @param {*} oldValue Old value.\n     */\n    BaseObject.prototype.notify = function notify (key, oldValue) {\n      var eventType;\n      eventType = getChangeEventType(key);\n      this.dispatchEvent(new ObjectEvent(eventType, key, oldValue));\n      eventType = ObjectEventType.PROPERTYCHANGE;\n      this.dispatchEvent(new ObjectEvent(eventType, key, oldValue));\n    };\n\n    /**\n     * Sets a value.\n     * @param {string} key Key name.\n     * @param {*} value Value.\n     * @param {boolean=} opt_silent Update without triggering an event.\n     * @api\n     */\n    BaseObject.prototype.set = function set (key, value, opt_silent) {\n      if (opt_silent) {\n        this.values_[key] = value;\n      } else {\n        var oldValue = this.values_[key];\n        this.values_[key] = value;\n        if (oldValue !== value) {\n          this.notify(key, oldValue);\n        }\n      }\n    };\n\n    /**\n     * Sets a collection of key-value pairs.  Note that this changes any existing\n     * properties and adds new ones (it does not remove any existing properties).\n     * @param {Object<string, *>} values Values.\n     * @param {boolean=} opt_silent Update without triggering an event.\n     * @api\n     */\n    BaseObject.prototype.setProperties = function setProperties (values, opt_silent) {\n      for (var key in values) {\n        this.set(key, values[key], opt_silent);\n      }\n    };\n\n    /**\n     * Unsets a property.\n     * @param {string} key Key name.\n     * @param {boolean=} opt_silent Unset without triggering an event.\n     * @api\n     */\n    BaseObject.prototype.unset = function unset (key, opt_silent) {\n      if (key in this.values_) {\n        var oldValue = this.values_[key];\n        delete this.values_[key];\n        if (!opt_silent) {\n          this.notify(key, oldValue);\n        }\n      }\n    };\n\n    return BaseObject;\n  }(Observable));\n\n\n  /**\n   * @type {Object<string, string>}\n   */\n  var changeEventTypeCache = {};\n\n\n  /**\n   * @param {string} key Key name.\n   * @return {string} Change name.\n   */\n  function getChangeEventType(key) {\n    return changeEventTypeCache.hasOwnProperty(key) ?\n      changeEventTypeCache[key] :\n      (changeEventTypeCache[key] = 'change:' + key);\n  }\n\n  /**\n   * @module ol/Collection\n   */\n\n\n  /**\n   * @enum {string}\n   * @private\n   */\n  var Property = {\n    LENGTH: 'length'\n  };\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/Collection~Collection} instances are instances of this\n   * type.\n   */\n  var CollectionEvent = /*@__PURE__*/(function (Event$$1) {\n    function CollectionEvent(type, opt_element) {\n      Event$$1.call(this, type);\n\n      /**\n       * The element that is added to or removed from the collection.\n       * @type {*}\n       * @api\n       */\n      this.element = opt_element;\n\n    }\n\n    if ( Event$$1 ) CollectionEvent.__proto__ = Event$$1;\n    CollectionEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    CollectionEvent.prototype.constructor = CollectionEvent;\n\n    return CollectionEvent;\n  }(Event));\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {boolean} [unique=false] Disallow the same item from being added to\n   * the collection twice.\n   */\n\n  /**\n   * @classdesc\n   * An expanded version of standard JS Array, adding convenience methods for\n   * manipulation. Add and remove changes to the Collection trigger a Collection\n   * event. Note that this does not cover changes to the objects _within_ the\n   * Collection; they trigger events on the appropriate object, not on the\n   * Collection as a whole.\n   *\n   * @fires CollectionEvent\n   *\n   * @template T\n   * @api\n   */\n  var Collection = /*@__PURE__*/(function (BaseObject$$1) {\n    function Collection(opt_array, opt_options) {\n\n      BaseObject$$1.call(this);\n\n      var options = opt_options || {};\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.unique_ = !!options.unique;\n\n      /**\n       * @private\n       * @type {!Array<T>}\n       */\n      this.array_ = opt_array ? opt_array : [];\n\n      if (this.unique_) {\n        for (var i = 0, ii = this.array_.length; i < ii; ++i) {\n          this.assertUnique_(this.array_[i], i);\n        }\n      }\n\n      this.updateLength_();\n\n    }\n\n    if ( BaseObject$$1 ) Collection.__proto__ = BaseObject$$1;\n    Collection.prototype = Object.create( BaseObject$$1 && BaseObject$$1.prototype );\n    Collection.prototype.constructor = Collection;\n\n    /**\n     * Remove all elements from the collection.\n     * @api\n     */\n    Collection.prototype.clear = function clear () {\n      while (this.getLength() > 0) {\n        this.pop();\n      }\n    };\n\n    /**\n     * Add elements to the collection.  This pushes each item in the provided array\n     * to the end of the collection.\n     * @param {!Array<T>} arr Array.\n     * @return {Collection<T>} This collection.\n     * @api\n     */\n    Collection.prototype.extend = function extend (arr) {\n      for (var i = 0, ii = arr.length; i < ii; ++i) {\n        this.push(arr[i]);\n      }\n      return this;\n    };\n\n    /**\n     * Iterate over each element, calling the provided callback.\n     * @param {function(T, number, Array<T>): *} f The function to call\n     *     for every element. This function takes 3 arguments (the element, the\n     *     index and the array). The return value is ignored.\n     * @api\n     */\n    Collection.prototype.forEach = function forEach (f) {\n      var array = this.array_;\n      for (var i = 0, ii = array.length; i < ii; ++i) {\n        f(array[i], i, array);\n      }\n    };\n\n    /**\n     * Get a reference to the underlying Array object. Warning: if the array\n     * is mutated, no events will be dispatched by the collection, and the\n     * collection's \"length\" property won't be in sync with the actual length\n     * of the array.\n     * @return {!Array<T>} Array.\n     * @api\n     */\n    Collection.prototype.getArray = function getArray () {\n      return this.array_;\n    };\n\n    /**\n     * Get the element at the provided index.\n     * @param {number} index Index.\n     * @return {T} Element.\n     * @api\n     */\n    Collection.prototype.item = function item (index) {\n      return this.array_[index];\n    };\n\n    /**\n     * Get the length of this collection.\n     * @return {number} The length of the array.\n     * @observable\n     * @api\n     */\n    Collection.prototype.getLength = function getLength () {\n      return this.get(Property.LENGTH);\n    };\n\n    /**\n     * Insert an element at the provided index.\n     * @param {number} index Index.\n     * @param {T} elem Element.\n     * @api\n     */\n    Collection.prototype.insertAt = function insertAt (index, elem) {\n      if (this.unique_) {\n        this.assertUnique_(elem);\n      }\n      this.array_.splice(index, 0, elem);\n      this.updateLength_();\n      this.dispatchEvent(\n        new CollectionEvent(CollectionEventType.ADD, elem));\n    };\n\n    /**\n     * Remove the last element of the collection and return it.\n     * Return `undefined` if the collection is empty.\n     * @return {T|undefined} Element.\n     * @api\n     */\n    Collection.prototype.pop = function pop () {\n      return this.removeAt(this.getLength() - 1);\n    };\n\n    /**\n     * Insert the provided element at the end of the collection.\n     * @param {T} elem Element.\n     * @return {number} New length of the collection.\n     * @api\n     */\n    Collection.prototype.push = function push (elem) {\n      if (this.unique_) {\n        this.assertUnique_(elem);\n      }\n      var n = this.getLength();\n      this.insertAt(n, elem);\n      return this.getLength();\n    };\n\n    /**\n     * Remove the first occurrence of an element from the collection.\n     * @param {T} elem Element.\n     * @return {T|undefined} The removed element or undefined if none found.\n     * @api\n     */\n    Collection.prototype.remove = function remove (elem) {\n      var arr = this.array_;\n      for (var i = 0, ii = arr.length; i < ii; ++i) {\n        if (arr[i] === elem) {\n          return this.removeAt(i);\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * Remove the element at the provided index and return it.\n     * Return `undefined` if the collection does not contain this index.\n     * @param {number} index Index.\n     * @return {T|undefined} Value.\n     * @api\n     */\n    Collection.prototype.removeAt = function removeAt (index) {\n      var prev = this.array_[index];\n      this.array_.splice(index, 1);\n      this.updateLength_();\n      this.dispatchEvent(new CollectionEvent(CollectionEventType.REMOVE, prev));\n      return prev;\n    };\n\n    /**\n     * Set the element at the provided index.\n     * @param {number} index Index.\n     * @param {T} elem Element.\n     * @api\n     */\n    Collection.prototype.setAt = function setAt (index, elem) {\n      var n = this.getLength();\n      if (index < n) {\n        if (this.unique_) {\n          this.assertUnique_(elem, index);\n        }\n        var prev = this.array_[index];\n        this.array_[index] = elem;\n        this.dispatchEvent(\n          new CollectionEvent(CollectionEventType.REMOVE, prev));\n        this.dispatchEvent(\n          new CollectionEvent(CollectionEventType.ADD, elem));\n      } else {\n        for (var j = n; j < index; ++j) {\n          this.insertAt(j, undefined);\n        }\n        this.insertAt(index, elem);\n      }\n    };\n\n    /**\n     * @private\n     */\n    Collection.prototype.updateLength_ = function updateLength_ () {\n      this.set(Property.LENGTH, this.array_.length);\n    };\n\n    /**\n     * @private\n     * @param {T} elem Element.\n     * @param {number=} opt_except Optional index to ignore.\n     */\n    Collection.prototype.assertUnique_ = function assertUnique_ (elem, opt_except) {\n      for (var i = 0, ii = this.array_.length; i < ii; ++i) {\n        if (this.array_[i] === elem && i !== opt_except) {\n          throw new AssertionError(58);\n        }\n      }\n    };\n\n    return Collection;\n  }(BaseObject));\n\n  /**\n   * @module ol/MapEvent\n   */\n\n  /**\n   * @classdesc\n   * Events emitted as map events are instances of this type.\n   * See {@link module:ol/PluggableMap~PluggableMap} for which events trigger a map event.\n   */\n  var MapEvent = /*@__PURE__*/(function (Event$$1) {\n    function MapEvent(type, map, opt_frameState) {\n\n      Event$$1.call(this, type);\n\n      /**\n       * The map where the event occurred.\n       * @type {import(\"./PluggableMap.js\").default}\n       * @api\n       */\n      this.map = map;\n\n      /**\n       * The frame state at the time of the event.\n       * @type {?import(\"./PluggableMap.js\").FrameState}\n       * @api\n       */\n      this.frameState = opt_frameState !== undefined ? opt_frameState : null;\n\n    }\n\n    if ( Event$$1 ) MapEvent.__proto__ = Event$$1;\n    MapEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    MapEvent.prototype.constructor = MapEvent;\n\n    return MapEvent;\n  }(Event));\n\n  /**\n   * @module ol/MapBrowserEvent\n   */\n\n  /**\n   * @classdesc\n   * Events emitted as map browser events are instances of this type.\n   * See {@link module:ol/PluggableMap~PluggableMap} for which events trigger a map browser event.\n   */\n  var MapBrowserEvent = /*@__PURE__*/(function (MapEvent$$1) {\n    function MapBrowserEvent(type, map, browserEvent, opt_dragging, opt_frameState) {\n\n      MapEvent$$1.call(this, type, map, opt_frameState);\n\n      /**\n       * The original browser event.\n       * @const\n       * @type {Event}\n       * @api\n       */\n      this.originalEvent = browserEvent;\n\n      /**\n       * The map pixel relative to the viewport corresponding to the original browser event.\n       * @type {import(\"./pixel.js\").Pixel}\n       * @api\n       */\n      this.pixel = map.getEventPixel(browserEvent);\n\n      /**\n       * The coordinate in view projection corresponding to the original browser event.\n       * @type {import(\"./coordinate.js\").Coordinate}\n       * @api\n       */\n      this.coordinate = map.getCoordinateFromPixel(this.pixel);\n\n      /**\n       * Indicates if the map is currently being dragged. Only set for\n       * `POINTERDRAG` and `POINTERMOVE` events. Default is `false`.\n       *\n       * @type {boolean}\n       * @api\n       */\n      this.dragging = opt_dragging !== undefined ? opt_dragging : false;\n\n    }\n\n    if ( MapEvent$$1 ) MapBrowserEvent.__proto__ = MapEvent$$1;\n    MapBrowserEvent.prototype = Object.create( MapEvent$$1 && MapEvent$$1.prototype );\n    MapBrowserEvent.prototype.constructor = MapBrowserEvent;\n\n    /**\n     * Prevents the default browser action.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/event.preventDefault.\n     * @override\n     * @api\n     */\n    MapBrowserEvent.prototype.preventDefault = function preventDefault () {\n      MapEvent$$1.prototype.preventDefault.call(this);\n      this.originalEvent.preventDefault();\n    };\n\n    /**\n     * Prevents further propagation of the current event.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/event.stopPropagation.\n     * @override\n     * @api\n     */\n    MapBrowserEvent.prototype.stopPropagation = function stopPropagation () {\n      MapEvent$$1.prototype.stopPropagation.call(this);\n      this.originalEvent.stopPropagation();\n    };\n\n    return MapBrowserEvent;\n  }(MapEvent));\n\n  /**\n   * @module ol/webgl\n   */\n\n\n  /**\n   * Constants taken from goog.webgl\n   */\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var ONE = 1;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var SRC_ALPHA = 0x0302;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var COLOR_ATTACHMENT0 = 0x8CE0;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var COLOR_BUFFER_BIT = 0x00004000;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var TRIANGLES = 0x0004;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var TRIANGLE_STRIP = 0x0005;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var ONE_MINUS_SRC_ALPHA = 0x0303;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var ARRAY_BUFFER = 0x8892;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var ELEMENT_ARRAY_BUFFER = 0x8893;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var STREAM_DRAW = 0x88E0;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var STATIC_DRAW = 0x88E4;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var DYNAMIC_DRAW = 0x88E8;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var CULL_FACE = 0x0B44;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var BLEND = 0x0BE2;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var STENCIL_TEST = 0x0B90;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var DEPTH_TEST = 0x0B71;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var SCISSOR_TEST = 0x0C11;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var UNSIGNED_BYTE = 0x1401;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var UNSIGNED_SHORT = 0x1403;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var UNSIGNED_INT = 0x1405;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var FLOAT = 0x1406;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var RGBA = 0x1908;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var FRAGMENT_SHADER = 0x8B30;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var VERTEX_SHADER = 0x8B31;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var LINEAR = 0x2601;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var TEXTURE_MAG_FILTER = 0x2800;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var TEXTURE_MIN_FILTER = 0x2801;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var TEXTURE_WRAP_S = 0x2802;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var TEXTURE_WRAP_T = 0x2803;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var TEXTURE_2D = 0x0DE1;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var TEXTURE0 = 0x84C0;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var CLAMP_TO_EDGE = 0x812F;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var FRAMEBUFFER = 0x8D40;\n\n\n  /** end of goog.webgl constants\n   */\n\n\n  /**\n   * @const\n   * @type {Array<string>}\n   */\n  var CONTEXT_IDS = [\n    'experimental-webgl',\n    'webgl',\n    'webkit-3d',\n    'moz-webgl'\n  ];\n\n\n  /**\n   * @param {HTMLCanvasElement} canvas Canvas.\n   * @param {Object=} opt_attributes Attributes.\n   * @return {WebGLRenderingContext} WebGL rendering context.\n   */\n  function getContext(canvas, opt_attributes) {\n    var ii = CONTEXT_IDS.length;\n    for (var i = 0; i < ii; ++i) {\n      try {\n        var context = canvas.getContext(CONTEXT_IDS[i], opt_attributes);\n        if (context) {\n          return /** @type {!WebGLRenderingContext} */ (context);\n        }\n      } catch (e) {\n        // pass\n      }\n    }\n    return null;\n  }\n\n\n  /**\n   * The maximum supported WebGL texture size in pixels. If WebGL is not\n   * supported, the value is set to `undefined`.\n   * @type {number|undefined}\n   */\n  var MAX_TEXTURE_SIZE; // value is set below\n\n\n  /**\n   * List of supported WebGL extensions.\n   * @type {Array<string>}\n   */\n  var EXTENSIONS; // value is set below\n\n  //TODO Remove side effects\n  if (typeof window !== 'undefined' && 'WebGLRenderingContext' in window) {\n    try {\n      var canvas = /** @type {HTMLCanvasElement} */ (document.createElement('canvas'));\n      var gl = getContext(canvas, {failIfMajorPerformanceCaveat: true});\n      if (gl) {\n        MAX_TEXTURE_SIZE = /** @type {number} */ (gl.getParameter(gl.MAX_TEXTURE_SIZE));\n        EXTENSIONS = gl.getSupportedExtensions();\n      }\n    } catch (e) {\n      // pass\n    }\n  }\n\n  /**\n   * @module ol/has\n   */\n\n  var ua = typeof navigator !== 'undefined' ?\n    navigator.userAgent.toLowerCase() : '';\n\n  /**\n   * User agent string says we are dealing with Firefox as browser.\n   * @type {boolean}\n   */\n  var FIREFOX = ua.indexOf('firefox') !== -1;\n\n  /**\n   * User agent string says we are dealing with Safari as browser.\n   * @type {boolean}\n   */\n  var SAFARI = ua.indexOf('safari') !== -1 && ua.indexOf('chrom') == -1;\n\n  /**\n   * User agent string says we are dealing with a WebKit engine.\n   * @type {boolean}\n   */\n  var WEBKIT = ua.indexOf('webkit') !== -1 && ua.indexOf('edge') == -1;\n\n  /**\n   * User agent string says we are dealing with a Mac as platform.\n   * @type {boolean}\n   */\n  var MAC = ua.indexOf('macintosh') !== -1;\n\n\n  /**\n   * The ratio between physical pixels and device-independent pixels\n   * (dips) on the device (`window.devicePixelRatio`).\n   * @const\n   * @type {number}\n   * @api\n   */\n  var DEVICE_PIXEL_RATIO = window.devicePixelRatio || 1;\n\n\n  /**\n   * True if the browser's Canvas implementation implements {get,set}LineDash.\n   * @type {boolean}\n   */\n  var CANVAS_LINE_DASH = function() {\n    var has = false;\n    try {\n      has = !!document.createElement('canvas').getContext('2d').setLineDash;\n    } catch (e) {\n      // pass\n    }\n    return has;\n  }();\n\n\n  /**\n   * True if browser supports touch events.\n   * @const\n   * @type {boolean}\n   * @api\n   */\n  var TOUCH = 'ontouchstart' in window;\n\n\n  /**\n   * True if browser supports pointer events.\n   * @const\n   * @type {boolean}\n   */\n  var POINTER = 'PointerEvent' in window;\n\n\n  /**\n   * True if browser supports ms pointer events (IE 10).\n   * @const\n   * @type {boolean}\n   */\n  var MSPOINTER = !!(navigator.msPointerEnabled);\n\n  /**\n   * @module ol/MapBrowserEventType\n   */\n\n  /**\n   * Constants for event names.\n   * @enum {string}\n   */\n  var MapBrowserEventType = {\n\n    /**\n     * A true single click with no dragging and no double click. Note that this\n     * event is delayed by 250 ms to ensure that it is not a double click.\n     * @event module:ol/MapBrowserEvent~MapBrowserEvent#singleclick\n     * @api\n     */\n    SINGLECLICK: 'singleclick',\n\n    /**\n     * A click with no dragging. A double click will fire two of this.\n     * @event module:ol/MapBrowserEvent~MapBrowserEvent#click\n     * @api\n     */\n    CLICK: EventType.CLICK,\n\n    /**\n     * A true double click, with no dragging.\n     * @event module:ol/MapBrowserEvent~MapBrowserEvent#dblclick\n     * @api\n     */\n    DBLCLICK: EventType.DBLCLICK,\n\n    /**\n     * Triggered when a pointer is dragged.\n     * @event module:ol/MapBrowserEvent~MapBrowserEvent#pointerdrag\n     * @api\n     */\n    POINTERDRAG: 'pointerdrag',\n\n    /**\n     * Triggered when a pointer is moved. Note that on touch devices this is\n     * triggered when the map is panned, so is not the same as mousemove.\n     * @event module:ol/MapBrowserEvent~MapBrowserEvent#pointermove\n     * @api\n     */\n    POINTERMOVE: 'pointermove',\n\n    POINTERDOWN: 'pointerdown',\n    POINTERUP: 'pointerup',\n    POINTEROVER: 'pointerover',\n    POINTEROUT: 'pointerout',\n    POINTERENTER: 'pointerenter',\n    POINTERLEAVE: 'pointerleave',\n    POINTERCANCEL: 'pointercancel'\n  };\n\n  /**\n   * @module ol/MapBrowserPointerEvent\n   */\n\n  var MapBrowserPointerEvent = /*@__PURE__*/(function (MapBrowserEvent$$1) {\n    function MapBrowserPointerEvent(type, map, pointerEvent, opt_dragging, opt_frameState) {\n\n      MapBrowserEvent$$1.call(this, type, map, pointerEvent.originalEvent, opt_dragging, opt_frameState);\n\n      /**\n       * @const\n       * @type {import(\"./pointer/PointerEvent.js\").default}\n       */\n      this.pointerEvent = pointerEvent;\n\n    }\n\n    if ( MapBrowserEvent$$1 ) MapBrowserPointerEvent.__proto__ = MapBrowserEvent$$1;\n    MapBrowserPointerEvent.prototype = Object.create( MapBrowserEvent$$1 && MapBrowserEvent$$1.prototype );\n    MapBrowserPointerEvent.prototype.constructor = MapBrowserPointerEvent;\n\n    return MapBrowserPointerEvent;\n  }(MapBrowserEvent));\n\n  /**\n   * @module ol/pointer/EventType\n   */\n\n  /**\n   * Constants for event names.\n   * @enum {string}\n   */\n  var PointerEventType = {\n    POINTERMOVE: 'pointermove',\n    POINTERDOWN: 'pointerdown',\n    POINTERUP: 'pointerup',\n    POINTEROVER: 'pointerover',\n    POINTEROUT: 'pointerout',\n    POINTERENTER: 'pointerenter',\n    POINTERLEAVE: 'pointerleave',\n    POINTERCANCEL: 'pointercancel'\n  };\n\n  /**\n   * @module ol/pointer/EventSource\n   */\n\n  var EventSource = function EventSource(dispatcher, mapping) {\n\n    /**\n     * @type {import(\"./PointerEventHandler.js\").default}\n     */\n    this.dispatcher = dispatcher;\n\n    /**\n     * @private\n     * @const\n     * @type {!Object<string, function(Event)>}\n     */\n    this.mapping_ = mapping;\n  };\n\n  /**\n   * List of events supported by this source.\n   * @return {Array<string>} Event names\n   */\n  EventSource.prototype.getEvents = function getEvents () {\n    return Object.keys(this.mapping_);\n  };\n\n  /**\n   * Returns the handler that should handle a given event type.\n   * @param {string} eventType The event type.\n   * @return {function(Event)} Handler\n   */\n  EventSource.prototype.getHandlerForEvent = function getHandlerForEvent (eventType) {\n    return this.mapping_[eventType];\n  };\n\n  /**\n   * @module ol/pointer/MouseSource\n   */\n\n\n  /**\n   * @type {number}\n   */\n  var POINTER_ID = 1;\n\n\n  /**\n   * @type {string}\n   */\n  var POINTER_TYPE = 'mouse';\n\n\n  /**\n   * Radius around touchend that swallows mouse events.\n   *\n   * @type {number}\n   */\n  var DEDUP_DIST = 25;\n\n  /**\n   * Handler for `mousedown`.\n   *\n   * @this {MouseSource}\n   * @param {MouseEvent} inEvent The in event.\n   */\n  function mousedown(inEvent) {\n    if (!this.isEventSimulatedFromTouch_(inEvent)) {\n      // TODO(dfreedman) workaround for some elements not sending mouseup\n      // http://crbug/149091\n      if (POINTER_ID.toString() in this.pointerMap) {\n        this.cancel(inEvent);\n      }\n      var e = prepareEvent(inEvent, this.dispatcher);\n      this.pointerMap[POINTER_ID.toString()] = inEvent;\n      this.dispatcher.down(e, inEvent);\n    }\n  }\n\n  /**\n   * Handler for `mousemove`.\n   *\n   * @this {MouseSource}\n   * @param {MouseEvent} inEvent The in event.\n   */\n  function mousemove(inEvent) {\n    if (!this.isEventSimulatedFromTouch_(inEvent)) {\n      var e = prepareEvent(inEvent, this.dispatcher);\n      this.dispatcher.move(e, inEvent);\n    }\n  }\n\n  /**\n   * Handler for `mouseup`.\n   *\n   * @this {MouseSource}\n   * @param {MouseEvent} inEvent The in event.\n   */\n  function mouseup(inEvent) {\n    if (!this.isEventSimulatedFromTouch_(inEvent)) {\n      var p = this.pointerMap[POINTER_ID.toString()];\n\n      if (p && p.button === inEvent.button) {\n        var e = prepareEvent(inEvent, this.dispatcher);\n        this.dispatcher.up(e, inEvent);\n        this.cleanupMouse();\n      }\n    }\n  }\n\n  /**\n   * Handler for `mouseover`.\n   *\n   * @this {MouseSource}\n   * @param {MouseEvent} inEvent The in event.\n   */\n  function mouseover(inEvent) {\n    if (!this.isEventSimulatedFromTouch_(inEvent)) {\n      var e = prepareEvent(inEvent, this.dispatcher);\n      this.dispatcher.enterOver(e, inEvent);\n    }\n  }\n\n  /**\n   * Handler for `mouseout`.\n   *\n   * @this {MouseSource}\n   * @param {MouseEvent} inEvent The in event.\n   */\n  function mouseout(inEvent) {\n    if (!this.isEventSimulatedFromTouch_(inEvent)) {\n      var e = prepareEvent(inEvent, this.dispatcher);\n      this.dispatcher.leaveOut(e, inEvent);\n    }\n  }\n\n\n  var MouseSource = /*@__PURE__*/(function (EventSource$$1) {\n    function MouseSource(dispatcher) {\n      var mapping = {\n        'mousedown': mousedown,\n        'mousemove': mousemove,\n        'mouseup': mouseup,\n        'mouseover': mouseover,\n        'mouseout': mouseout\n      };\n      EventSource$$1.call(this, dispatcher, mapping);\n\n      /**\n       * @const\n       * @type {!Object<string, Event|Object>}\n       */\n      this.pointerMap = dispatcher.pointerMap;\n\n      /**\n       * @const\n       * @type {Array<import(\"../pixel.js\").Pixel>}\n       */\n      this.lastTouches = [];\n    }\n\n    if ( EventSource$$1 ) MouseSource.__proto__ = EventSource$$1;\n    MouseSource.prototype = Object.create( EventSource$$1 && EventSource$$1.prototype );\n    MouseSource.prototype.constructor = MouseSource;\n\n    /**\n     * Detect if a mouse event was simulated from a touch by\n     * checking if previously there was a touch event at the\n     * same position.\n     *\n     * FIXME - Known problem with the native Android browser on\n     * Samsung GT-I9100 (Android 4.1.2):\n     * In case the page is scrolled, this function does not work\n     * correctly when a canvas is used (WebGL or canvas renderer).\n     * Mouse listeners on canvas elements (for this browser), create\n     * two mouse events: One 'good' and one 'bad' one (on other browsers or\n     * when a div is used, there is only one event). For the 'bad' one,\n     * clientX/clientY and also pageX/pageY are wrong when the page\n     * is scrolled. Because of that, this function can not detect if\n     * the events were simulated from a touch event. As result, a\n     * pointer event at a wrong position is dispatched, which confuses\n     * the map interactions.\n     * It is unclear, how one can get the correct position for the event\n     * or detect that the positions are invalid.\n     *\n     * @private\n     * @param {MouseEvent} inEvent The in event.\n     * @return {boolean} True, if the event was generated by a touch.\n     */\n    MouseSource.prototype.isEventSimulatedFromTouch_ = function isEventSimulatedFromTouch_ (inEvent) {\n      var lts = this.lastTouches;\n      var x = inEvent.clientX;\n      var y = inEvent.clientY;\n      for (var i = 0, l = lts.length, t = (void 0); i < l && (t = lts[i]); i++) {\n        // simulated mouse events will be swallowed near a primary touchend\n        var dx = Math.abs(x - t[0]);\n        var dy = Math.abs(y - t[1]);\n        if (dx <= DEDUP_DIST && dy <= DEDUP_DIST) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    /**\n     * Dispatches a `pointercancel` event.\n     *\n     * @param {Event} inEvent The in event.\n     */\n    MouseSource.prototype.cancel = function cancel (inEvent) {\n      var e = prepareEvent(inEvent, this.dispatcher);\n      this.dispatcher.cancel(e, inEvent);\n      this.cleanupMouse();\n    };\n\n    /**\n     * Remove the mouse from the list of active pointers.\n     */\n    MouseSource.prototype.cleanupMouse = function cleanupMouse () {\n      delete this.pointerMap[POINTER_ID.toString()];\n    };\n\n    return MouseSource;\n  }(EventSource));\n\n\n  /**\n   * Creates a copy of the original event that will be used\n   * for the fake pointer event.\n   *\n   * @param {Event} inEvent The in event.\n   * @param {import(\"./PointerEventHandler.js\").default} dispatcher Event handler.\n   * @return {Object} The copied event.\n   */\n  function prepareEvent(inEvent, dispatcher) {\n    var e = dispatcher.cloneEvent(inEvent, inEvent);\n\n    // forward mouse preventDefault\n    var pd = e.preventDefault;\n    e.preventDefault = function() {\n      inEvent.preventDefault();\n      pd();\n    };\n\n    e.pointerId = POINTER_ID;\n    e.isPrimary = true;\n    e.pointerType = POINTER_TYPE;\n\n    return e;\n  }\n\n  /**\n   * @module ol/pointer/MsSource\n   */\n\n\n  /**\n   * @const\n   * @type {Array<string>}\n   */\n  var POINTER_TYPES = [\n    '',\n    'unavailable',\n    'touch',\n    'pen',\n    'mouse'\n  ];\n\n  /**\n   * Handler for `msPointerDown`.\n   *\n   * @this {MsSource}\n   * @param {MSPointerEvent} inEvent The in event.\n   */\n  function msPointerDown(inEvent) {\n    this.pointerMap[inEvent.pointerId.toString()] = inEvent;\n    var e = this.prepareEvent_(inEvent);\n    this.dispatcher.down(e, inEvent);\n  }\n\n  /**\n   * Handler for `msPointerMove`.\n   *\n   * @this {MsSource}\n   * @param {MSPointerEvent} inEvent The in event.\n   */\n  function msPointerMove(inEvent) {\n    var e = this.prepareEvent_(inEvent);\n    this.dispatcher.move(e, inEvent);\n  }\n\n  /**\n   * Handler for `msPointerUp`.\n   *\n   * @this {MsSource}\n   * @param {MSPointerEvent} inEvent The in event.\n   */\n  function msPointerUp(inEvent) {\n    var e = this.prepareEvent_(inEvent);\n    this.dispatcher.up(e, inEvent);\n    this.cleanup(inEvent.pointerId);\n  }\n\n  /**\n   * Handler for `msPointerOut`.\n   *\n   * @this {MsSource}\n   * @param {MSPointerEvent} inEvent The in event.\n   */\n  function msPointerOut(inEvent) {\n    var e = this.prepareEvent_(inEvent);\n    this.dispatcher.leaveOut(e, inEvent);\n  }\n\n  /**\n   * Handler for `msPointerOver`.\n   *\n   * @this {MsSource}\n   * @param {MSPointerEvent} inEvent The in event.\n   */\n  function msPointerOver(inEvent) {\n    var e = this.prepareEvent_(inEvent);\n    this.dispatcher.enterOver(e, inEvent);\n  }\n\n  /**\n   * Handler for `msPointerCancel`.\n   *\n   * @this {MsSource}\n   * @param {MSPointerEvent} inEvent The in event.\n   */\n  function msPointerCancel(inEvent) {\n    var e = this.prepareEvent_(inEvent);\n    this.dispatcher.cancel(e, inEvent);\n    this.cleanup(inEvent.pointerId);\n  }\n\n  /**\n   * Handler for `msLostPointerCapture`.\n   *\n   * @this {MsSource}\n   * @param {MSPointerEvent} inEvent The in event.\n   */\n  function msLostPointerCapture(inEvent) {\n    var e = this.dispatcher.makeEvent('lostpointercapture', inEvent, inEvent);\n    this.dispatcher.dispatchEvent(e);\n  }\n\n  /**\n   * Handler for `msGotPointerCapture`.\n   *\n   * @this {MsSource}\n   * @param {MSPointerEvent} inEvent The in event.\n   */\n  function msGotPointerCapture(inEvent) {\n    var e = this.dispatcher.makeEvent('gotpointercapture', inEvent, inEvent);\n    this.dispatcher.dispatchEvent(e);\n  }\n\n  var MsSource = /*@__PURE__*/(function (EventSource$$1) {\n    function MsSource(dispatcher) {\n      var mapping = {\n        'MSPointerDown': msPointerDown,\n        'MSPointerMove': msPointerMove,\n        'MSPointerUp': msPointerUp,\n        'MSPointerOut': msPointerOut,\n        'MSPointerOver': msPointerOver,\n        'MSPointerCancel': msPointerCancel,\n        'MSGotPointerCapture': msGotPointerCapture,\n        'MSLostPointerCapture': msLostPointerCapture\n      };\n      EventSource$$1.call(this, dispatcher, mapping);\n\n      /**\n       * @const\n       * @type {!Object<string, MSPointerEvent|Object>}\n       */\n      this.pointerMap = dispatcher.pointerMap;\n    }\n\n    if ( EventSource$$1 ) MsSource.__proto__ = EventSource$$1;\n    MsSource.prototype = Object.create( EventSource$$1 && EventSource$$1.prototype );\n    MsSource.prototype.constructor = MsSource;\n\n    /**\n     * Creates a copy of the original event that will be used\n     * for the fake pointer event.\n     *\n     * @private\n     * @param {MSPointerEvent} inEvent The in event.\n     * @return {Object} The copied event.\n     */\n    MsSource.prototype.prepareEvent_ = function prepareEvent_ (inEvent) {\n      /** @type {MSPointerEvent|Object} */\n      var e = inEvent;\n      if (typeof inEvent.pointerType === 'number') {\n        e = this.dispatcher.cloneEvent(inEvent, inEvent);\n        e.pointerType = POINTER_TYPES[inEvent.pointerType];\n      }\n\n      return e;\n    };\n\n    /**\n     * Remove this pointer from the list of active pointers.\n     * @param {number} pointerId Pointer identifier.\n     */\n    MsSource.prototype.cleanup = function cleanup (pointerId) {\n      delete this.pointerMap[pointerId.toString()];\n    };\n\n    return MsSource;\n  }(EventSource));\n\n  /**\n   * @module ol/pointer/NativeSource\n   */\n\n  /**\n   * Handler for `pointerdown`.\n   *\n   * @this {NativeSource}\n   * @param {Event} inEvent The in event.\n   */\n  function pointerDown(inEvent) {\n    this.dispatcher.fireNativeEvent(inEvent);\n  }\n\n  /**\n   * Handler for `pointermove`.\n   *\n   * @this {NativeSource}\n   * @param {Event} inEvent The in event.\n   */\n  function pointerMove(inEvent) {\n    this.dispatcher.fireNativeEvent(inEvent);\n  }\n\n  /**\n   * Handler for `pointerup`.\n   *\n   * @this {NativeSource}\n   * @param {Event} inEvent The in event.\n   */\n  function pointerUp(inEvent) {\n    this.dispatcher.fireNativeEvent(inEvent);\n  }\n\n  /**\n   * Handler for `pointerout`.\n   *\n   * @this {NativeSource}\n   * @param {Event} inEvent The in event.\n   */\n  function pointerOut(inEvent) {\n    this.dispatcher.fireNativeEvent(inEvent);\n  }\n\n  /**\n   * Handler for `pointerover`.\n   *\n   * @this {NativeSource}\n   * @param {Event} inEvent The in event.\n   */\n  function pointerOver(inEvent) {\n    this.dispatcher.fireNativeEvent(inEvent);\n  }\n\n  /**\n   * Handler for `pointercancel`.\n   *\n   * @this {NativeSource}\n   * @param {Event} inEvent The in event.\n   */\n  function pointerCancel(inEvent) {\n    this.dispatcher.fireNativeEvent(inEvent);\n  }\n\n  /**\n   * Handler for `lostpointercapture`.\n   *\n   * @this {NativeSource}\n   * @param {Event} inEvent The in event.\n   */\n  function lostPointerCapture(inEvent) {\n    this.dispatcher.fireNativeEvent(inEvent);\n  }\n\n  /**\n   * Handler for `gotpointercapture`.\n   *\n   * @this {NativeSource}\n   * @param {Event} inEvent The in event.\n   */\n  function gotPointerCapture(inEvent) {\n    this.dispatcher.fireNativeEvent(inEvent);\n  }\n\n  var NativeSource = /*@__PURE__*/(function (EventSource$$1) {\n    function NativeSource(dispatcher) {\n      var mapping = {\n        'pointerdown': pointerDown,\n        'pointermove': pointerMove,\n        'pointerup': pointerUp,\n        'pointerout': pointerOut,\n        'pointerover': pointerOver,\n        'pointercancel': pointerCancel,\n        'gotpointercapture': gotPointerCapture,\n        'lostpointercapture': lostPointerCapture\n      };\n      EventSource$$1.call(this, dispatcher, mapping);\n    }\n\n    if ( EventSource$$1 ) NativeSource.__proto__ = EventSource$$1;\n    NativeSource.prototype = Object.create( EventSource$$1 && EventSource$$1.prototype );\n    NativeSource.prototype.constructor = NativeSource;\n\n    return NativeSource;\n  }(EventSource));\n\n  /**\n   * @module ol/pointer/PointerEvent\n   */\n\n\n  /**\n   * Is the `buttons` property supported?\n   * @type {boolean}\n   */\n  var HAS_BUTTONS = false;\n\n\n  var PointerEvent = /*@__PURE__*/(function (_Event) {\n    function PointerEvent(type, originalEvent, opt_eventDict) {\n      _Event.call(this, type);\n\n      /**\n       * @const\n       * @type {Event}\n       */\n      this.originalEvent = originalEvent;\n\n      var eventDict = opt_eventDict ? opt_eventDict : {};\n\n      /**\n       * @type {number}\n       */\n      this.buttons = getButtons(eventDict);\n\n      /**\n       * @type {number}\n       */\n      this.pressure = getPressure(eventDict, this.buttons);\n\n      // MouseEvent related properties\n\n      /**\n       * @type {boolean}\n       */\n      this.bubbles = 'bubbles' in eventDict ? eventDict['bubbles'] : false;\n\n      /**\n       * @type {boolean}\n       */\n      this.cancelable = 'cancelable' in eventDict ? eventDict['cancelable'] : false;\n\n      /**\n       * @type {Object}\n       */\n      this.view = 'view' in eventDict ? eventDict['view'] : null;\n\n      /**\n       * @type {number}\n       */\n      this.detail = 'detail' in eventDict ? eventDict['detail'] : null;\n\n      /**\n       * @type {number}\n       */\n      this.screenX = 'screenX' in eventDict ? eventDict['screenX'] : 0;\n\n      /**\n       * @type {number}\n       */\n      this.screenY = 'screenY' in eventDict ? eventDict['screenY'] : 0;\n\n      /**\n       * @type {number}\n       */\n      this.clientX = 'clientX' in eventDict ? eventDict['clientX'] : 0;\n\n      /**\n       * @type {number}\n       */\n      this.clientY = 'clientY' in eventDict ? eventDict['clientY'] : 0;\n\n      /**\n       * @type {boolean}\n       */\n      this.ctrlKey = 'ctrlKey' in eventDict ? eventDict['ctrlKey'] : false;\n\n      /**\n       * @type {boolean}\n       */\n      this.altKey = 'altKey' in eventDict ? eventDict['altKey'] : false;\n\n      /**\n       * @type {boolean}\n       */\n      this.shiftKey = 'shiftKey' in eventDict ? eventDict['shiftKey'] : false;\n\n      /**\n       * @type {boolean}\n       */\n      this.metaKey = 'metaKey' in eventDict ? eventDict['metaKey'] : false;\n\n      /**\n       * @type {number}\n       */\n      this.button = 'button' in eventDict ? eventDict['button'] : 0;\n\n      /**\n       * @type {Node}\n       */\n      this.relatedTarget = 'relatedTarget' in eventDict ?\n        eventDict['relatedTarget'] : null;\n\n      // PointerEvent related properties\n\n      /**\n       * @const\n       * @type {number}\n       */\n      this.pointerId = 'pointerId' in eventDict ? eventDict['pointerId'] : 0;\n\n      /**\n       * @type {number}\n       */\n      this.width = 'width' in eventDict ? eventDict['width'] : 0;\n\n      /**\n       * @type {number}\n       */\n      this.height = 'height' in eventDict ? eventDict['height'] : 0;\n\n      /**\n       * @type {number}\n       */\n      this.tiltX = 'tiltX' in eventDict ? eventDict['tiltX'] : 0;\n\n      /**\n       * @type {number}\n       */\n      this.tiltY = 'tiltY' in eventDict ? eventDict['tiltY'] : 0;\n\n      /**\n       * @type {string}\n       */\n      this.pointerType = 'pointerType' in eventDict ? eventDict['pointerType'] : '';\n\n      /**\n       * @type {number}\n       */\n      this.hwTimestamp = 'hwTimestamp' in eventDict ? eventDict['hwTimestamp'] : 0;\n\n      /**\n       * @type {boolean}\n       */\n      this.isPrimary = 'isPrimary' in eventDict ? eventDict['isPrimary'] : false;\n\n      // keep the semantics of preventDefault\n      if (originalEvent.preventDefault) {\n        this.preventDefault = function() {\n          originalEvent.preventDefault();\n        };\n      }\n    }\n\n    if ( _Event ) PointerEvent.__proto__ = _Event;\n    PointerEvent.prototype = Object.create( _Event && _Event.prototype );\n    PointerEvent.prototype.constructor = PointerEvent;\n\n    return PointerEvent;\n  }(Event));\n\n\n  /**\n   * @param {Object<string, ?>} eventDict The event dictionary.\n   * @return {number} Button indicator.\n   */\n  function getButtons(eventDict) {\n    // According to the w3c spec,\n    // http://www.w3.org/TR/DOM-Level-3-Events/#events-MouseEvent-button\n    // MouseEvent.button == 0 can mean either no mouse button depressed, or the\n    // left mouse button depressed.\n    //\n    // As of now, the only way to distinguish between the two states of\n    // MouseEvent.button is by using the deprecated MouseEvent.which property, as\n    // this maps mouse buttons to positive integers > 0, and uses 0 to mean that\n    // no mouse button is held.\n    //\n    // MouseEvent.which is derived from MouseEvent.button at MouseEvent creation,\n    // but initMouseEvent does not expose an argument with which to set\n    // MouseEvent.which. Calling initMouseEvent with a buttonArg of 0 will set\n    // MouseEvent.button == 0 and MouseEvent.which == 1, breaking the expectations\n    // of app developers.\n    //\n    // The only way to propagate the correct state of MouseEvent.which and\n    // MouseEvent.button to a new MouseEvent.button == 0 and MouseEvent.which == 0\n    // is to call initMouseEvent with a buttonArg value of -1.\n    //\n    // This is fixed with DOM Level 4's use of buttons\n    var buttons;\n    if (eventDict.buttons || HAS_BUTTONS) {\n      buttons = eventDict.buttons;\n    } else {\n      switch (eventDict.which) {\n        case 1: buttons = 1; break;\n        case 2: buttons = 4; break;\n        case 3: buttons = 2; break;\n        default: buttons = 0;\n      }\n    }\n    return buttons;\n  }\n\n\n  /**\n   * @param {Object<string, ?>} eventDict The event dictionary.\n   * @param {number} buttons Button indicator.\n   * @return {number} The pressure.\n   */\n  function getPressure(eventDict, buttons) {\n    // Spec requires that pointers without pressure specified use 0.5 for down\n    // state and 0 for up state.\n    var pressure = 0;\n    if (eventDict.pressure) {\n      pressure = eventDict.pressure;\n    } else {\n      pressure = buttons ? 0.5 : 0;\n    }\n    return pressure;\n  }\n\n\n  /**\n   * Checks if the `buttons` property is supported.\n   */\n  (function() {\n    try {\n      var ev = new MouseEvent('click', {buttons: 1});\n      HAS_BUTTONS = ev.buttons === 1;\n    } catch (e) {\n      // pass\n    }\n  })();\n\n  /**\n   * @module ol/array\n   */\n\n\n  /**\n   * Performs a binary search on the provided sorted list and returns the index of the item if found. If it can't be found it'll return -1.\n   * https://github.com/darkskyapp/binary-search\n   *\n   * @param {Array<*>} haystack Items to search through.\n   * @param {*} needle The item to look for.\n   * @param {Function=} opt_comparator Comparator function.\n   * @return {number} The index of the item if found, -1 if not.\n   */\n  function binarySearch(haystack, needle, opt_comparator) {\n    var mid, cmp;\n    var comparator = opt_comparator || numberSafeCompareFunction;\n    var low = 0;\n    var high = haystack.length;\n    var found = false;\n\n    while (low < high) {\n      /* Note that \"(low + high) >>> 1\" may overflow, and results in a typecast\n       * to double (which gives the wrong results). */\n      mid = low + (high - low >> 1);\n      cmp = +comparator(haystack[mid], needle);\n\n      if (cmp < 0.0) { /* Too low. */\n        low = mid + 1;\n\n      } else { /* Key found or too high */\n        high = mid;\n        found = !cmp;\n      }\n    }\n\n    /* Key not found. */\n    return found ? low : ~low;\n  }\n\n\n  /**\n   * Compare function for array sort that is safe for numbers.\n   * @param {*} a The first object to be compared.\n   * @param {*} b The second object to be compared.\n   * @return {number} A negative number, zero, or a positive number as the first\n   *     argument is less than, equal to, or greater than the second.\n   */\n  function numberSafeCompareFunction(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n\n  /**\n   * Whether the array contains the given object.\n   * @param {Array<*>} arr The array to test for the presence of the element.\n   * @param {*} obj The object for which to test.\n   * @return {boolean} The object is in the array.\n   */\n  function includes(arr, obj) {\n    return arr.indexOf(obj) >= 0;\n  }\n\n\n  /**\n   * @param {Array<number>} arr Array.\n   * @param {number} target Target.\n   * @param {number} direction 0 means return the nearest, > 0\n   *    means return the largest nearest, < 0 means return the\n   *    smallest nearest.\n   * @return {number} Index.\n   */\n  function linearFindNearest(arr, target, direction) {\n    var n = arr.length;\n    if (arr[0] <= target) {\n      return 0;\n    } else if (target <= arr[n - 1]) {\n      return n - 1;\n    } else {\n      var i;\n      if (direction > 0) {\n        for (i = 1; i < n; ++i) {\n          if (arr[i] < target) {\n            return i - 1;\n          }\n        }\n      } else if (direction < 0) {\n        for (i = 1; i < n; ++i) {\n          if (arr[i] <= target) {\n            return i;\n          }\n        }\n      } else {\n        for (i = 1; i < n; ++i) {\n          if (arr[i] == target) {\n            return i;\n          } else if (arr[i] < target) {\n            if (arr[i - 1] - target < target - arr[i]) {\n              return i - 1;\n            } else {\n              return i;\n            }\n          }\n        }\n      }\n      return n - 1;\n    }\n  }\n\n\n  /**\n   * @param {Array<*>} arr Array.\n   * @param {number} begin Begin index.\n   * @param {number} end End index.\n   */\n  function reverseSubArray(arr, begin, end) {\n    while (begin < end) {\n      var tmp = arr[begin];\n      arr[begin] = arr[end];\n      arr[end] = tmp;\n      ++begin;\n      --end;\n    }\n  }\n\n\n  /**\n   * @param {Array<VALUE>} arr The array to modify.\n   * @param {!Array<VALUE>|VALUE} data The elements or arrays of elements to add to arr.\n   * @template VALUE\n   */\n  function extend(arr, data) {\n    var extension = Array.isArray(data) ? data : [data];\n    var length = extension.length;\n    for (var i = 0; i < length; i++) {\n      arr[arr.length] = extension[i];\n    }\n  }\n\n\n  /**\n   * @param {Array<VALUE>} arr The array to modify.\n   * @param {VALUE} obj The element to remove.\n   * @template VALUE\n   * @return {boolean} If the element was removed.\n   */\n  function remove(arr, obj) {\n    var i = arr.indexOf(obj);\n    var found = i > -1;\n    if (found) {\n      arr.splice(i, 1);\n    }\n    return found;\n  }\n\n\n  /**\n   * @param {Array|Uint8ClampedArray} arr1 The first array to compare.\n   * @param {Array|Uint8ClampedArray} arr2 The second array to compare.\n   * @return {boolean} Whether the two arrays are equal.\n   */\n  function equals(arr1, arr2) {\n    var len1 = arr1.length;\n    if (len1 !== arr2.length) {\n      return false;\n    }\n    for (var i = 0; i < len1; i++) {\n      if (arr1[i] !== arr2[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n\n  /**\n   * Sort the passed array such that the relative order of equal elements is preverved.\n   * See https://en.wikipedia.org/wiki/Sorting_algorithm#Stability for details.\n   * @param {Array<*>} arr The array to sort (modifies original).\n   * @param {!function(*, *): number} compareFnc Comparison function.\n   * @api\n   */\n  function stableSort(arr, compareFnc) {\n    var length = arr.length;\n    var tmp = Array(arr.length);\n    var i;\n    for (i = 0; i < length; i++) {\n      tmp[i] = {index: i, value: arr[i]};\n    }\n    tmp.sort(function(a, b) {\n      return compareFnc(a.value, b.value) || a.index - b.index;\n    });\n    for (i = 0; i < arr.length; i++) {\n      arr[i] = tmp[i].value;\n    }\n  }\n\n\n  /**\n   * @param {Array<*>} arr The array to test.\n   * @param {Function=} opt_func Comparison function.\n   * @param {boolean=} opt_strict Strictly sorted (default false).\n   * @return {boolean} Return index.\n   */\n  function isSorted(arr, opt_func, opt_strict) {\n    var compare = opt_func || numberSafeCompareFunction;\n    return arr.every(function(currentVal, index) {\n      if (index === 0) {\n        return true;\n      }\n      var res = compare(arr[index - 1], currentVal);\n      return !(res > 0 || opt_strict && res === 0);\n    });\n  }\n\n  /**\n   * @module ol/pointer/TouchSource\n   */\n\n\n  /**\n   * @type {number}\n   */\n  var CLICK_COUNT_TIMEOUT = 200;\n\n  /**\n   * @type {string}\n   */\n  var POINTER_TYPE$1 = 'touch';\n\n  /**\n   * Handler for `touchstart`, triggers `pointerover`,\n   * `pointerenter` and `pointerdown` events.\n   *\n   * @this {TouchSource}\n   * @param {TouchEvent} inEvent The in event.\n   */\n  function touchstart(inEvent) {\n    this.vacuumTouches_(inEvent);\n    this.setPrimaryTouch_(inEvent.changedTouches[0]);\n    this.dedupSynthMouse_(inEvent);\n    this.clickCount_++;\n    this.processTouches_(inEvent, this.overDown_);\n  }\n\n  /**\n   * Handler for `touchmove`.\n   *\n   * @this {TouchSource}\n   * @param {TouchEvent} inEvent The in event.\n   */\n  function touchmove(inEvent) {\n    this.processTouches_(inEvent, this.moveOverOut_);\n  }\n\n  /**\n   * Handler for `touchend`, triggers `pointerup`,\n   * `pointerout` and `pointerleave` events.\n   *\n   * @this {TouchSource}\n   * @param {TouchEvent} inEvent The event.\n   */\n  function touchend(inEvent) {\n    this.dedupSynthMouse_(inEvent);\n    this.processTouches_(inEvent, this.upOut_);\n  }\n\n  /**\n   * Handler for `touchcancel`, triggers `pointercancel`,\n   * `pointerout` and `pointerleave` events.\n   *\n   * @this {TouchSource}\n   * @param {TouchEvent} inEvent The in event.\n   */\n  function touchcancel(inEvent) {\n    this.processTouches_(inEvent, this.cancelOut_);\n  }\n\n\n  var TouchSource = /*@__PURE__*/(function (EventSource$$1) {\n    function TouchSource(dispatcher, mouseSource) {\n      var mapping = {\n        'touchstart': touchstart,\n        'touchmove': touchmove,\n        'touchend': touchend,\n        'touchcancel': touchcancel\n      };\n      EventSource$$1.call(this, dispatcher, mapping);\n\n      /**\n       * @const\n       * @type {!Object<string, Event|Object>}\n       */\n      this.pointerMap = dispatcher.pointerMap;\n\n      /**\n       * @const\n       * @type {import(\"./MouseSource.js\").default}\n       */\n      this.mouseSource = mouseSource;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.firstTouchId_ = undefined;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.clickCount_ = 0;\n\n      /**\n       * @private\n       * @type {?}\n       */\n      this.resetId_;\n\n      /**\n       * Mouse event timeout: This should be long enough to\n       * ignore compat mouse events made by touch.\n       * @private\n       * @type {number}\n       */\n      this.dedupTimeout_ = 2500;\n    }\n\n    if ( EventSource$$1 ) TouchSource.__proto__ = EventSource$$1;\n    TouchSource.prototype = Object.create( EventSource$$1 && EventSource$$1.prototype );\n    TouchSource.prototype.constructor = TouchSource;\n\n    /**\n     * @private\n     * @param {Touch} inTouch The in touch.\n     * @return {boolean} True, if this is the primary touch.\n     */\n    TouchSource.prototype.isPrimaryTouch_ = function isPrimaryTouch_ (inTouch) {\n      return this.firstTouchId_ === inTouch.identifier;\n    };\n\n    /**\n     * Set primary touch if there are no pointers, or the only pointer is the mouse.\n     * @param {Touch} inTouch The in touch.\n     * @private\n     */\n    TouchSource.prototype.setPrimaryTouch_ = function setPrimaryTouch_ (inTouch) {\n      var count = Object.keys(this.pointerMap).length;\n      if (count === 0 || (count === 1 && POINTER_ID.toString() in this.pointerMap)) {\n        this.firstTouchId_ = inTouch.identifier;\n        this.cancelResetClickCount_();\n      }\n    };\n\n    /**\n     * @private\n     * @param {PointerEvent} inPointer The in pointer object.\n     */\n    TouchSource.prototype.removePrimaryPointer_ = function removePrimaryPointer_ (inPointer) {\n      if (inPointer.isPrimary) {\n        this.firstTouchId_ = undefined;\n        this.resetClickCount_();\n      }\n    };\n\n    /**\n     * @private\n     */\n    TouchSource.prototype.resetClickCount_ = function resetClickCount_ () {\n      this.resetId_ = setTimeout(\n        this.resetClickCountHandler_.bind(this),\n        CLICK_COUNT_TIMEOUT);\n    };\n\n    /**\n     * @private\n     */\n    TouchSource.prototype.resetClickCountHandler_ = function resetClickCountHandler_ () {\n      this.clickCount_ = 0;\n      this.resetId_ = undefined;\n    };\n\n    /**\n     * @private\n     */\n    TouchSource.prototype.cancelResetClickCount_ = function cancelResetClickCount_ () {\n      if (this.resetId_ !== undefined) {\n        clearTimeout(this.resetId_);\n      }\n    };\n\n    /**\n     * @private\n     * @param {TouchEvent} browserEvent Browser event\n     * @param {Touch} inTouch Touch event\n     * @return {PointerEvent} A pointer object.\n     */\n    TouchSource.prototype.touchToPointer_ = function touchToPointer_ (browserEvent, inTouch) {\n      var e = this.dispatcher.cloneEvent(browserEvent, inTouch);\n      // Spec specifies that pointerId 1 is reserved for Mouse.\n      // Touch identifiers can start at 0.\n      // Add 2 to the touch identifier for compatibility.\n      e.pointerId = inTouch.identifier + 2;\n      // TODO: check if this is necessary?\n      //e.target = findTarget(e);\n      e.bubbles = true;\n      e.cancelable = true;\n      e.detail = this.clickCount_;\n      e.button = 0;\n      e.buttons = 1;\n      e.width = inTouch.radiusX || 0;\n      e.height = inTouch.radiusY || 0;\n      e.pressure = inTouch.force || 0.5;\n      e.isPrimary = this.isPrimaryTouch_(inTouch);\n      e.pointerType = POINTER_TYPE$1;\n\n      // make sure that the properties that are different for\n      // each `Touch` object are not copied from the BrowserEvent object\n      e.clientX = inTouch.clientX;\n      e.clientY = inTouch.clientY;\n      e.screenX = inTouch.screenX;\n      e.screenY = inTouch.screenY;\n\n      return e;\n    };\n\n    /**\n     * @private\n     * @param {TouchEvent} inEvent Touch event\n     * @param {function(TouchEvent, PointerEvent)} inFunction In function.\n     */\n    TouchSource.prototype.processTouches_ = function processTouches_ (inEvent, inFunction) {\n      var touches = Array.prototype.slice.call(inEvent.changedTouches);\n      var count = touches.length;\n      function preventDefault() {\n        inEvent.preventDefault();\n      }\n      for (var i = 0; i < count; ++i) {\n        var pointer = this.touchToPointer_(inEvent, touches[i]);\n        // forward touch preventDefaults\n        pointer.preventDefault = preventDefault;\n        inFunction.call(this, inEvent, pointer);\n      }\n    };\n\n    /**\n     * @private\n     * @param {TouchList} touchList The touch list.\n     * @param {number} searchId Search identifier.\n     * @return {boolean} True, if the `Touch` with the given id is in the list.\n     */\n    TouchSource.prototype.findTouch_ = function findTouch_ (touchList, searchId) {\n      var l = touchList.length;\n      for (var i = 0; i < l; i++) {\n        var touch = touchList[i];\n        if (touch.identifier === searchId) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    /**\n     * In some instances, a touchstart can happen without a touchend. This\n     * leaves the pointermap in a broken state.\n     * Therefore, on every touchstart, we remove the touches that did not fire a\n     * touchend event.\n     * To keep state globally consistent, we fire a pointercancel for\n     * this \"abandoned\" touch\n     *\n     * @private\n     * @param {TouchEvent} inEvent The in event.\n     */\n    TouchSource.prototype.vacuumTouches_ = function vacuumTouches_ (inEvent) {\n      var touchList = inEvent.touches;\n      // pointerMap.getCount() should be < touchList.length here,\n      // as the touchstart has not been processed yet.\n      var keys = Object.keys(this.pointerMap);\n      var count = keys.length;\n      if (count >= touchList.length) {\n        var d = [];\n        for (var i = 0; i < count; ++i) {\n          var key = Number(keys[i]);\n          var value = this.pointerMap[key];\n          // Never remove pointerId == 1, which is mouse.\n          // Touch identifiers are 2 smaller than their pointerId, which is the\n          // index in pointermap.\n          if (key != POINTER_ID && !this.findTouch_(touchList, key - 2)) {\n            d.push(value.out);\n          }\n        }\n        for (var i$1 = 0; i$1 < d.length; ++i$1) {\n          this.cancelOut_(inEvent, d[i$1]);\n        }\n      }\n    };\n\n    /**\n     * @private\n     * @param {TouchEvent} browserEvent The event.\n     * @param {PointerEvent} inPointer The in pointer object.\n     */\n    TouchSource.prototype.overDown_ = function overDown_ (browserEvent, inPointer) {\n      this.pointerMap[inPointer.pointerId] = {\n        target: inPointer.target,\n        out: inPointer,\n        outTarget: inPointer.target\n      };\n      this.dispatcher.over(inPointer, browserEvent);\n      this.dispatcher.enter(inPointer, browserEvent);\n      this.dispatcher.down(inPointer, browserEvent);\n    };\n\n    /**\n     * @private\n     * @param {TouchEvent} browserEvent The event.\n     * @param {PointerEvent} inPointer The in pointer.\n     */\n    TouchSource.prototype.moveOverOut_ = function moveOverOut_ (browserEvent, inPointer) {\n      var event = inPointer;\n      var pointer = this.pointerMap[event.pointerId];\n      // a finger drifted off the screen, ignore it\n      if (!pointer) {\n        return;\n      }\n      var outEvent = pointer.out;\n      var outTarget = pointer.outTarget;\n      this.dispatcher.move(event, browserEvent);\n      if (outEvent && outTarget !== event.target) {\n        outEvent.relatedTarget = event.target;\n        /** @type {Object} */ (event).relatedTarget = outTarget;\n        // recover from retargeting by shadow\n        outEvent.target = outTarget;\n        if (event.target) {\n          this.dispatcher.leaveOut(outEvent, browserEvent);\n          this.dispatcher.enterOver(event, browserEvent);\n        } else {\n          // clean up case when finger leaves the screen\n          /** @type {Object} */ (event).target = outTarget;\n          /** @type {Object} */ (event).relatedTarget = null;\n          this.cancelOut_(browserEvent, event);\n        }\n      }\n      pointer.out = event;\n      pointer.outTarget = event.target;\n    };\n\n    /**\n     * @private\n     * @param {TouchEvent} browserEvent An event.\n     * @param {PointerEvent} inPointer The inPointer object.\n     */\n    TouchSource.prototype.upOut_ = function upOut_ (browserEvent, inPointer) {\n      this.dispatcher.up(inPointer, browserEvent);\n      this.dispatcher.out(inPointer, browserEvent);\n      this.dispatcher.leave(inPointer, browserEvent);\n      this.cleanUpPointer_(inPointer);\n    };\n\n    /**\n     * @private\n     * @param {TouchEvent} browserEvent The event.\n     * @param {PointerEvent} inPointer The in pointer.\n     */\n    TouchSource.prototype.cancelOut_ = function cancelOut_ (browserEvent, inPointer) {\n      this.dispatcher.cancel(inPointer, browserEvent);\n      this.dispatcher.out(inPointer, browserEvent);\n      this.dispatcher.leave(inPointer, browserEvent);\n      this.cleanUpPointer_(inPointer);\n    };\n\n    /**\n     * @private\n     * @param {PointerEvent} inPointer The inPointer object.\n     */\n    TouchSource.prototype.cleanUpPointer_ = function cleanUpPointer_ (inPointer) {\n      delete this.pointerMap[inPointer.pointerId];\n      this.removePrimaryPointer_(inPointer);\n    };\n\n    /**\n     * Prevent synth mouse events from creating pointer events.\n     *\n     * @private\n     * @param {TouchEvent} inEvent The in event.\n     */\n    TouchSource.prototype.dedupSynthMouse_ = function dedupSynthMouse_ (inEvent) {\n      var lts = this.mouseSource.lastTouches;\n      var t = inEvent.changedTouches[0];\n      // only the primary finger will synth mouse events\n      if (this.isPrimaryTouch_(t)) {\n        // remember x/y of last touch\n        var lt = [t.clientX, t.clientY];\n        lts.push(lt);\n\n        setTimeout(function() {\n          // remove touch after timeout\n          remove(lts, lt);\n        }, this.dedupTimeout_);\n      }\n    };\n\n    return TouchSource;\n  }(EventSource));\n\n  /**\n   * @module ol/pointer/PointerEventHandler\n   */\n\n\n  /**\n   * Properties to copy when cloning an event, with default values.\n   * @type {Array<Array>}\n   */\n  var CLONE_PROPS = [\n    // MouseEvent\n    ['bubbles', false],\n    ['cancelable', false],\n    ['view', null],\n    ['detail', null],\n    ['screenX', 0],\n    ['screenY', 0],\n    ['clientX', 0],\n    ['clientY', 0],\n    ['ctrlKey', false],\n    ['altKey', false],\n    ['shiftKey', false],\n    ['metaKey', false],\n    ['button', 0],\n    ['relatedTarget', null],\n    // DOM Level 3\n    ['buttons', 0],\n    // PointerEvent\n    ['pointerId', 0],\n    ['width', 0],\n    ['height', 0],\n    ['pressure', 0],\n    ['tiltX', 0],\n    ['tiltY', 0],\n    ['pointerType', ''],\n    ['hwTimestamp', 0],\n    ['isPrimary', false],\n    // event instance\n    ['type', ''],\n    ['target', null],\n    ['currentTarget', null],\n    ['which', 0]\n  ];\n\n\n  var PointerEventHandler = /*@__PURE__*/(function (EventTarget) {\n    function PointerEventHandler(element) {\n      EventTarget.call(this);\n\n      /**\n       * @const\n       * @private\n       * @type {Element|HTMLDocument}\n       */\n      this.element_ = element;\n\n      /**\n       * @const\n       * @type {!Object<string, Event|Object>}\n       */\n      this.pointerMap = {};\n\n      /**\n       * @type {Object<string, function(Event)>}\n       * @private\n       */\n      this.eventMap_ = {};\n\n      /**\n       * @type {Array<import(\"./EventSource.js\").default>}\n       * @private\n       */\n      this.eventSourceList_ = [];\n\n      this.registerSources();\n    }\n\n    if ( EventTarget ) PointerEventHandler.__proto__ = EventTarget;\n    PointerEventHandler.prototype = Object.create( EventTarget && EventTarget.prototype );\n    PointerEventHandler.prototype.constructor = PointerEventHandler;\n\n    /**\n     * Set up the event sources (mouse, touch and native pointers)\n     * that generate pointer events.\n     */\n    PointerEventHandler.prototype.registerSources = function registerSources () {\n      if (POINTER) {\n        this.registerSource('native', new NativeSource(this));\n      } else if (MSPOINTER) {\n        this.registerSource('ms', new MsSource(this));\n      } else {\n        var mouseSource = new MouseSource(this);\n        this.registerSource('mouse', mouseSource);\n\n        if (TOUCH) {\n          this.registerSource('touch', new TouchSource(this, mouseSource));\n        }\n      }\n\n      // register events on the viewport element\n      this.register_();\n    };\n\n    /**\n     * Add a new event source that will generate pointer events.\n     *\n     * @param {string} name A name for the event source\n     * @param {import(\"./EventSource.js\").default} source The source event.\n     */\n    PointerEventHandler.prototype.registerSource = function registerSource (name, source) {\n      var s = source;\n      var newEvents = s.getEvents();\n\n      if (newEvents) {\n        newEvents.forEach(function(e) {\n          var handler = s.getHandlerForEvent(e);\n\n          if (handler) {\n            this.eventMap_[e] = handler.bind(s);\n          }\n        }.bind(this));\n        this.eventSourceList_.push(s);\n      }\n    };\n\n    /**\n     * Set up the events for all registered event sources.\n     * @private\n     */\n    PointerEventHandler.prototype.register_ = function register_ () {\n      var l = this.eventSourceList_.length;\n      for (var i = 0; i < l; i++) {\n        var eventSource = this.eventSourceList_[i];\n        this.addEvents_(eventSource.getEvents());\n      }\n    };\n\n    /**\n     * Remove all registered events.\n     * @private\n     */\n    PointerEventHandler.prototype.unregister_ = function unregister_ () {\n      var l = this.eventSourceList_.length;\n      for (var i = 0; i < l; i++) {\n        var eventSource = this.eventSourceList_[i];\n        this.removeEvents_(eventSource.getEvents());\n      }\n    };\n\n    /**\n     * Calls the right handler for a new event.\n     * @private\n     * @param {Event} inEvent Browser event.\n     */\n    PointerEventHandler.prototype.eventHandler_ = function eventHandler_ (inEvent) {\n      var type = inEvent.type;\n      var handler = this.eventMap_[type];\n      if (handler) {\n        handler(inEvent);\n      }\n    };\n\n    /**\n     * Setup listeners for the given events.\n     * @private\n     * @param {Array<string>} events List of events.\n     */\n    PointerEventHandler.prototype.addEvents_ = function addEvents_ (events) {\n      events.forEach(function(eventName) {\n        listen(this.element_, eventName, this.eventHandler_, this);\n      }.bind(this));\n    };\n\n    /**\n     * Unregister listeners for the given events.\n     * @private\n     * @param {Array<string>} events List of events.\n     */\n    PointerEventHandler.prototype.removeEvents_ = function removeEvents_ (events) {\n      events.forEach(function(e) {\n        unlisten(this.element_, e, this.eventHandler_, this);\n      }.bind(this));\n    };\n\n    /**\n     * Returns a snapshot of inEvent, with writable properties.\n     *\n     * @param {Event} event Browser event.\n     * @param {Event|Touch} inEvent An event that contains\n     *    properties to copy.\n     * @return {Object} An object containing shallow copies of\n     *    `inEvent`'s properties.\n     */\n    PointerEventHandler.prototype.cloneEvent = function cloneEvent (event, inEvent) {\n      var eventCopy = {};\n      for (var i = 0, ii = CLONE_PROPS.length; i < ii; i++) {\n        var p = CLONE_PROPS[i][0];\n        eventCopy[p] = event[p] || inEvent[p] || CLONE_PROPS[i][1];\n      }\n\n      return eventCopy;\n    };\n\n    // EVENTS\n\n\n    /**\n     * Triggers a 'pointerdown' event.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.down = function down (data, event) {\n      this.fireEvent(PointerEventType.POINTERDOWN, data, event);\n    };\n\n    /**\n     * Triggers a 'pointermove' event.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.move = function move (data, event) {\n      this.fireEvent(PointerEventType.POINTERMOVE, data, event);\n    };\n\n    /**\n     * Triggers a 'pointerup' event.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.up = function up (data, event) {\n      this.fireEvent(PointerEventType.POINTERUP, data, event);\n    };\n\n    /**\n     * Triggers a 'pointerenter' event.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.enter = function enter (data, event) {\n      data.bubbles = false;\n      this.fireEvent(PointerEventType.POINTERENTER, data, event);\n    };\n\n    /**\n     * Triggers a 'pointerleave' event.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.leave = function leave (data, event) {\n      data.bubbles = false;\n      this.fireEvent(PointerEventType.POINTERLEAVE, data, event);\n    };\n\n    /**\n     * Triggers a 'pointerover' event.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.over = function over (data, event) {\n      data.bubbles = true;\n      this.fireEvent(PointerEventType.POINTEROVER, data, event);\n    };\n\n    /**\n     * Triggers a 'pointerout' event.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.out = function out (data, event) {\n      data.bubbles = true;\n      this.fireEvent(PointerEventType.POINTEROUT, data, event);\n    };\n\n    /**\n     * Triggers a 'pointercancel' event.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.cancel = function cancel (data, event) {\n      this.fireEvent(PointerEventType.POINTERCANCEL, data, event);\n    };\n\n    /**\n     * Triggers a combination of 'pointerout' and 'pointerleave' events.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.leaveOut = function leaveOut (data, event) {\n      this.out(data, event);\n      if (!this.contains_(data.target, data.relatedTarget)) {\n        this.leave(data, event);\n      }\n    };\n\n    /**\n     * Triggers a combination of 'pointerover' and 'pointerevents' events.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.enterOver = function enterOver (data, event) {\n      this.over(data, event);\n      if (!this.contains_(data.target, data.relatedTarget)) {\n        this.enter(data, event);\n      }\n    };\n\n    /**\n     * @private\n     * @param {Element} container The container element.\n     * @param {Element} contained The contained element.\n     * @return {boolean} Returns true if the container element\n     *   contains the other element.\n     */\n    PointerEventHandler.prototype.contains_ = function contains_ (container, contained) {\n      if (!container || !contained) {\n        return false;\n      }\n      return container.contains(contained);\n    };\n\n    // EVENT CREATION AND TRACKING\n    /**\n     * Creates a new Event of type `inType`, based on the information in\n     * `data`.\n     *\n     * @param {string} inType A string representing the type of event to create.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     * @return {PointerEvent} A PointerEvent of type `inType`.\n     */\n    PointerEventHandler.prototype.makeEvent = function makeEvent (inType, data, event) {\n      return new PointerEvent(inType, event, data);\n    };\n\n    /**\n     * Make and dispatch an event in one call.\n     * @param {string} inType A string representing the type of event.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.fireEvent = function fireEvent (inType, data, event) {\n      var e = this.makeEvent(inType, data, event);\n      this.dispatchEvent(e);\n    };\n\n    /**\n     * Creates a pointer event from a native pointer event\n     * and dispatches this event.\n     * @param {Event} event A platform event with a target.\n     */\n    PointerEventHandler.prototype.fireNativeEvent = function fireNativeEvent (event) {\n      var e = this.makeEvent(event.type, event, event);\n      this.dispatchEvent(e);\n    };\n\n    /**\n     * Wrap a native mouse event into a pointer event.\n     * This proxy method is required for the legacy IE support.\n     * @param {string} eventType The pointer event type.\n     * @param {Event} event The event.\n     * @return {PointerEvent} The wrapped event.\n     */\n    PointerEventHandler.prototype.wrapMouseEvent = function wrapMouseEvent (eventType, event) {\n      var pointerEvent = this.makeEvent(\n        eventType, prepareEvent(event, this), event);\n      return pointerEvent;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    PointerEventHandler.prototype.disposeInternal = function disposeInternal () {\n      this.unregister_();\n      EventTarget.prototype.disposeInternal.call(this);\n    };\n\n    return PointerEventHandler;\n  }(Target));\n\n  /**\n   * @module ol/MapBrowserEventHandler\n   */\n\n  var MapBrowserEventHandler = /*@__PURE__*/(function (EventTarget) {\n    function MapBrowserEventHandler(map, moveTolerance) {\n\n      EventTarget.call(this);\n\n      /**\n       * This is the element that we will listen to the real events on.\n       * @type {import(\"./PluggableMap.js\").default}\n       * @private\n       */\n      this.map_ = map;\n\n      /**\n       * @type {any}\n       * @private\n       */\n      this.clickTimeoutId_;\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this.dragging_ = false;\n\n      /**\n       * @type {!Array<import(\"./events.js\").EventsKey>}\n       * @private\n       */\n      this.dragListenerKeys_ = [];\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.moveTolerance_ = moveTolerance ?\n        moveTolerance * DEVICE_PIXEL_RATIO : DEVICE_PIXEL_RATIO;\n\n      /**\n       * The most recent \"down\" type event (or null if none have occurred).\n       * Set on pointerdown.\n       * @type {import(\"./pointer/PointerEvent.js\").default}\n       * @private\n       */\n      this.down_ = null;\n\n      var element = this.map_.getViewport();\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.activePointers_ = 0;\n\n      /**\n       * @type {!Object<number, boolean>}\n       * @private\n       */\n      this.trackedTouches_ = {};\n\n      /**\n       * Event handler which generates pointer events for\n       * the viewport element.\n       *\n       * @type {PointerEventHandler}\n       * @private\n       */\n      this.pointerEventHandler_ = new PointerEventHandler(element);\n\n      /**\n       * Event handler which generates pointer events for\n       * the document (used when dragging).\n       *\n       * @type {PointerEventHandler}\n       * @private\n       */\n      this.documentPointerEventHandler_ = null;\n\n      /**\n       * @type {?import(\"./events.js\").EventsKey}\n       * @private\n       */\n      this.pointerdownListenerKey_ = listen(this.pointerEventHandler_,\n        PointerEventType.POINTERDOWN,\n        this.handlePointerDown_, this);\n\n      /**\n       * @type {?import(\"./events.js\").EventsKey}\n       * @private\n       */\n      this.relayedListenerKey_ = listen(this.pointerEventHandler_,\n        PointerEventType.POINTERMOVE,\n        this.relayEvent_, this);\n\n    }\n\n    if ( EventTarget ) MapBrowserEventHandler.__proto__ = EventTarget;\n    MapBrowserEventHandler.prototype = Object.create( EventTarget && EventTarget.prototype );\n    MapBrowserEventHandler.prototype.constructor = MapBrowserEventHandler;\n\n    /**\n     * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.emulateClick_ = function emulateClick_ (pointerEvent) {\n      var newEvent = new MapBrowserPointerEvent(\n        MapBrowserEventType.CLICK, this.map_, pointerEvent);\n      this.dispatchEvent(newEvent);\n      if (this.clickTimeoutId_ !== undefined) {\n        // double-click\n        clearTimeout(this.clickTimeoutId_);\n        this.clickTimeoutId_ = undefined;\n        newEvent = new MapBrowserPointerEvent(\n          MapBrowserEventType.DBLCLICK, this.map_, pointerEvent);\n        this.dispatchEvent(newEvent);\n      } else {\n        // click\n        this.clickTimeoutId_ = setTimeout(function() {\n          this.clickTimeoutId_ = undefined;\n          var newEvent = new MapBrowserPointerEvent(\n            MapBrowserEventType.SINGLECLICK, this.map_, pointerEvent);\n          this.dispatchEvent(newEvent);\n        }.bind(this), 250);\n      }\n    };\n\n    /**\n     * Keeps track on how many pointers are currently active.\n     *\n     * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.updateActivePointers_ = function updateActivePointers_ (pointerEvent) {\n      var event = pointerEvent;\n\n      if (event.type == MapBrowserEventType.POINTERUP ||\n          event.type == MapBrowserEventType.POINTERCANCEL) {\n        delete this.trackedTouches_[event.pointerId];\n      } else if (event.type == MapBrowserEventType.POINTERDOWN) {\n        this.trackedTouches_[event.pointerId] = true;\n      }\n      this.activePointers_ = Object.keys(this.trackedTouches_).length;\n    };\n\n    /**\n     * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.handlePointerUp_ = function handlePointerUp_ (pointerEvent) {\n      this.updateActivePointers_(pointerEvent);\n      var newEvent = new MapBrowserPointerEvent(\n        MapBrowserEventType.POINTERUP, this.map_, pointerEvent);\n      this.dispatchEvent(newEvent);\n\n      // We emulate click events on left mouse button click, touch contact, and pen\n      // contact. isMouseActionButton returns true in these cases (evt.button is set\n      // to 0).\n      // See http://www.w3.org/TR/pointerevents/#button-states\n      // We only fire click, singleclick, and doubleclick if nobody has called\n      // event.stopPropagation() or event.preventDefault().\n      if (!newEvent.propagationStopped && !this.dragging_ && this.isMouseActionButton_(pointerEvent)) {\n        this.emulateClick_(this.down_);\n      }\n\n      if (this.activePointers_ === 0) {\n        this.dragListenerKeys_.forEach(unlistenByKey);\n        this.dragListenerKeys_.length = 0;\n        this.dragging_ = false;\n        this.down_ = null;\n        this.documentPointerEventHandler_.dispose();\n        this.documentPointerEventHandler_ = null;\n      }\n    };\n\n    /**\n     * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n     * event.\n     * @return {boolean} If the left mouse button was pressed.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.isMouseActionButton_ = function isMouseActionButton_ (pointerEvent) {\n      return pointerEvent.button === 0;\n    };\n\n    /**\n     * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.handlePointerDown_ = function handlePointerDown_ (pointerEvent) {\n      this.updateActivePointers_(pointerEvent);\n      var newEvent = new MapBrowserPointerEvent(\n        MapBrowserEventType.POINTERDOWN, this.map_, pointerEvent);\n      this.dispatchEvent(newEvent);\n\n      this.down_ = pointerEvent;\n\n      if (this.dragListenerKeys_.length === 0) {\n        /* Set up a pointer event handler on the `document`,\n         * which is required when the pointer is moved outside\n         * the viewport when dragging.\n         */\n        this.documentPointerEventHandler_ =\n            new PointerEventHandler(document);\n\n        this.dragListenerKeys_.push(\n          listen(this.documentPointerEventHandler_,\n            MapBrowserEventType.POINTERMOVE,\n            this.handlePointerMove_, this),\n          listen(this.documentPointerEventHandler_,\n            MapBrowserEventType.POINTERUP,\n            this.handlePointerUp_, this),\n          /* Note that the listener for `pointercancel is set up on\n           * `pointerEventHandler_` and not `documentPointerEventHandler_` like\n           * the `pointerup` and `pointermove` listeners.\n           *\n           * The reason for this is the following: `TouchSource.vacuumTouches_()`\n           * issues `pointercancel` events, when there was no `touchend` for a\n           * `touchstart`. Now, let's say a first `touchstart` is registered on\n           * `pointerEventHandler_`. The `documentPointerEventHandler_` is set up.\n           * But `documentPointerEventHandler_` doesn't know about the first\n           * `touchstart`. If there is no `touchend` for the `touchstart`, we can\n           * only receive a `touchcancel` from `pointerEventHandler_`, because it is\n           * only registered there.\n           */\n          listen(this.pointerEventHandler_,\n            MapBrowserEventType.POINTERCANCEL,\n            this.handlePointerUp_, this)\n        );\n      }\n    };\n\n    /**\n     * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.handlePointerMove_ = function handlePointerMove_ (pointerEvent) {\n      // Between pointerdown and pointerup, pointermove events are triggered.\n      // To avoid a 'false' touchmove event to be dispatched, we test if the pointer\n      // moved a significant distance.\n      if (this.isMoving_(pointerEvent)) {\n        this.dragging_ = true;\n        var newEvent = new MapBrowserPointerEvent(\n          MapBrowserEventType.POINTERDRAG, this.map_, pointerEvent,\n          this.dragging_);\n        this.dispatchEvent(newEvent);\n      }\n\n      // Some native android browser triggers mousemove events during small period\n      // of time. See: https://code.google.com/p/android/issues/detail?id=5491 or\n      // https://code.google.com/p/android/issues/detail?id=19827\n      // ex: Galaxy Tab P3110 + Android 4.1.1\n      pointerEvent.preventDefault();\n    };\n\n    /**\n     * Wrap and relay a pointer event.  Note that this requires that the type\n     * string for the MapBrowserPointerEvent matches the PointerEvent type.\n     * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.relayEvent_ = function relayEvent_ (pointerEvent) {\n      var dragging = !!(this.down_ && this.isMoving_(pointerEvent));\n      this.dispatchEvent(new MapBrowserPointerEvent(\n        pointerEvent.type, this.map_, pointerEvent, dragging));\n    };\n\n    /**\n     * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n     * event.\n     * @return {boolean} Is moving.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.isMoving_ = function isMoving_ (pointerEvent) {\n      return this.dragging_ ||\n          Math.abs(pointerEvent.clientX - this.down_.clientX) > this.moveTolerance_ ||\n          Math.abs(pointerEvent.clientY - this.down_.clientY) > this.moveTolerance_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    MapBrowserEventHandler.prototype.disposeInternal = function disposeInternal () {\n      if (this.relayedListenerKey_) {\n        unlistenByKey(this.relayedListenerKey_);\n        this.relayedListenerKey_ = null;\n      }\n      if (this.pointerdownListenerKey_) {\n        unlistenByKey(this.pointerdownListenerKey_);\n        this.pointerdownListenerKey_ = null;\n      }\n\n      this.dragListenerKeys_.forEach(unlistenByKey);\n      this.dragListenerKeys_.length = 0;\n\n      if (this.documentPointerEventHandler_) {\n        this.documentPointerEventHandler_.dispose();\n        this.documentPointerEventHandler_ = null;\n      }\n      if (this.pointerEventHandler_) {\n        this.pointerEventHandler_.dispose();\n        this.pointerEventHandler_ = null;\n      }\n      EventTarget.prototype.disposeInternal.call(this);\n    };\n\n    return MapBrowserEventHandler;\n  }(Target));\n\n  /**\n   * @module ol/MapEventType\n   */\n\n  /**\n   * @enum {string}\n   */\n  var MapEventType = {\n\n    /**\n     * Triggered after a map frame is rendered.\n     * @event module:ol/MapEvent~MapEvent#postrender\n     * @api\n     */\n    POSTRENDER: 'postrender',\n\n    /**\n     * Triggered when the map starts moving.\n     * @event module:ol/MapEvent~MapEvent#movestart\n     * @api\n     */\n    MOVESTART: 'movestart',\n\n    /**\n     * Triggered after the map is moved.\n     * @event module:ol/MapEvent~MapEvent#moveend\n     * @api\n     */\n    MOVEEND: 'moveend'\n\n  };\n\n  /**\n   * @module ol/MapProperty\n   */\n\n  /**\n   * @enum {string}\n   */\n  var MapProperty = {\n    LAYERGROUP: 'layergroup',\n    SIZE: 'size',\n    TARGET: 'target',\n    VIEW: 'view'\n  };\n\n  /**\n   * @module ol/render/EventType\n   */\n\n  /**\n   * @enum {string}\n   */\n  var RenderEventType = {\n    /**\n     * @event module:ol/render/Event~RenderEvent#postcompose\n     * @api\n     */\n    POSTCOMPOSE: 'postcompose',\n    /**\n     * @event module:ol/render/Event~RenderEvent#precompose\n     * @api\n     */\n    PRECOMPOSE: 'precompose',\n    /**\n     * @event module:ol/render/Event~RenderEvent#render\n     * @api\n     */\n    RENDER: 'render',\n    /**\n     * Triggered when rendering is complete, i.e. all sources and tiles have\n     * finished loading for the current viewport, and all tiles are faded in.\n     * @event module:ol/render/Event~RenderEvent#rendercomplete\n     * @api\n     */\n    RENDERCOMPLETE: 'rendercomplete'\n  };\n\n  /**\n   * @module ol/TileState\n   */\n\n  /**\n   * @enum {number}\n   */\n  var TileState = {\n    IDLE: 0,\n    LOADING: 1,\n    LOADED: 2,\n    /**\n     * Indicates that tile loading failed\n     * @type {number}\n     */\n    ERROR: 3,\n    EMPTY: 4,\n    ABORT: 5\n  };\n\n  /**\n   * @module ol/asserts\n   */\n\n  /**\n   * @param {*} assertion Assertion we expected to be truthy.\n   * @param {number} errorCode Error code.\n   */\n  function assert(assertion, errorCode) {\n    if (!assertion) {\n      throw new AssertionError(errorCode);\n    }\n  }\n\n  /**\n   * @module ol/structs/PriorityQueue\n   */\n\n\n  /**\n   * @type {number}\n   */\n  var DROP = Infinity;\n\n\n  /**\n   * @classdesc\n   * Priority queue.\n   *\n   * The implementation is inspired from the Closure Library's Heap class and\n   * Python's heapq module.\n   *\n   * See http://closure-library.googlecode.com/svn/docs/closure_goog_structs_heap.js.source.html\n   * and http://hg.python.org/cpython/file/2.7/Lib/heapq.py.\n   *\n   * @template T\n   */\n  var PriorityQueue = function PriorityQueue(priorityFunction, keyFunction) {\n\n    /**\n     * @type {function(T): number}\n     * @private\n     */\n    this.priorityFunction_ = priorityFunction;\n\n    /**\n     * @type {function(T): string}\n     * @private\n     */\n    this.keyFunction_ = keyFunction;\n\n    /**\n     * @type {Array<T>}\n     * @private\n     */\n    this.elements_ = [];\n\n    /**\n     * @type {Array<number>}\n     * @private\n     */\n    this.priorities_ = [];\n\n    /**\n     * @type {!Object<string, boolean>}\n     * @private\n     */\n    this.queuedElements_ = {};\n\n  };\n\n  /**\n   * FIXME empty description for jsdoc\n   */\n  PriorityQueue.prototype.clear = function clear$1 () {\n    this.elements_.length = 0;\n    this.priorities_.length = 0;\n    clear(this.queuedElements_);\n  };\n\n\n  /**\n   * Remove and return the highest-priority element. O(log N).\n   * @return {T} Element.\n   */\n  PriorityQueue.prototype.dequeue = function dequeue () {\n    var elements = this.elements_;\n    var priorities = this.priorities_;\n    var element = elements[0];\n    if (elements.length == 1) {\n      elements.length = 0;\n      priorities.length = 0;\n    } else {\n      elements[0] = elements.pop();\n      priorities[0] = priorities.pop();\n      this.siftUp_(0);\n    }\n    var elementKey = this.keyFunction_(element);\n    delete this.queuedElements_[elementKey];\n    return element;\n  };\n\n\n  /**\n   * Enqueue an element. O(log N).\n   * @param {T} element Element.\n   * @return {boolean} The element was added to the queue.\n   */\n  PriorityQueue.prototype.enqueue = function enqueue (element) {\n    assert(!(this.keyFunction_(element) in this.queuedElements_),\n      31); // Tried to enqueue an `element` that was already added to the queue\n    var priority = this.priorityFunction_(element);\n    if (priority != DROP) {\n      this.elements_.push(element);\n      this.priorities_.push(priority);\n      this.queuedElements_[this.keyFunction_(element)] = true;\n      this.siftDown_(0, this.elements_.length - 1);\n      return true;\n    }\n    return false;\n  };\n\n\n  /**\n   * @return {number} Count.\n   */\n  PriorityQueue.prototype.getCount = function getCount () {\n    return this.elements_.length;\n  };\n\n\n  /**\n   * Gets the index of the left child of the node at the given index.\n   * @param {number} index The index of the node to get the left child for.\n   * @return {number} The index of the left child.\n   * @private\n   */\n  PriorityQueue.prototype.getLeftChildIndex_ = function getLeftChildIndex_ (index) {\n    return index * 2 + 1;\n  };\n\n\n  /**\n   * Gets the index of the right child of the node at the given index.\n   * @param {number} index The index of the node to get the right child for.\n   * @return {number} The index of the right child.\n   * @private\n   */\n  PriorityQueue.prototype.getRightChildIndex_ = function getRightChildIndex_ (index) {\n    return index * 2 + 2;\n  };\n\n\n  /**\n   * Gets the index of the parent of the node at the given index.\n   * @param {number} index The index of the node to get the parent for.\n   * @return {number} The index of the parent.\n   * @private\n   */\n  PriorityQueue.prototype.getParentIndex_ = function getParentIndex_ (index) {\n    return (index - 1) >> 1;\n  };\n\n\n  /**\n   * Make this a heap. O(N).\n   * @private\n   */\n  PriorityQueue.prototype.heapify_ = function heapify_ () {\n    var i;\n    for (i = (this.elements_.length >> 1) - 1; i >= 0; i--) {\n      this.siftUp_(i);\n    }\n  };\n\n\n  /**\n   * @return {boolean} Is empty.\n   */\n  PriorityQueue.prototype.isEmpty = function isEmpty$$1 () {\n    return this.elements_.length === 0;\n  };\n\n\n  /**\n   * @param {string} key Key.\n   * @return {boolean} Is key queued.\n   */\n  PriorityQueue.prototype.isKeyQueued = function isKeyQueued (key) {\n    return key in this.queuedElements_;\n  };\n\n\n  /**\n   * @param {T} element Element.\n   * @return {boolean} Is queued.\n   */\n  PriorityQueue.prototype.isQueued = function isQueued (element) {\n    return this.isKeyQueued(this.keyFunction_(element));\n  };\n\n\n  /**\n   * @param {number} index The index of the node to move down.\n   * @private\n   */\n  PriorityQueue.prototype.siftUp_ = function siftUp_ (index) {\n    var elements = this.elements_;\n    var priorities = this.priorities_;\n    var count = elements.length;\n    var element = elements[index];\n    var priority = priorities[index];\n    var startIndex = index;\n\n    while (index < (count >> 1)) {\n      var lIndex = this.getLeftChildIndex_(index);\n      var rIndex = this.getRightChildIndex_(index);\n\n      var smallerChildIndex = rIndex < count &&\n          priorities[rIndex] < priorities[lIndex] ?\n        rIndex : lIndex;\n\n      elements[index] = elements[smallerChildIndex];\n      priorities[index] = priorities[smallerChildIndex];\n      index = smallerChildIndex;\n    }\n\n    elements[index] = element;\n    priorities[index] = priority;\n    this.siftDown_(startIndex, index);\n  };\n\n\n  /**\n   * @param {number} startIndex The index of the root.\n   * @param {number} index The index of the node to move up.\n   * @private\n   */\n  PriorityQueue.prototype.siftDown_ = function siftDown_ (startIndex, index) {\n    var elements = this.elements_;\n    var priorities = this.priorities_;\n    var element = elements[index];\n    var priority = priorities[index];\n\n    while (index > startIndex) {\n      var parentIndex = this.getParentIndex_(index);\n      if (priorities[parentIndex] > priority) {\n        elements[index] = elements[parentIndex];\n        priorities[index] = priorities[parentIndex];\n        index = parentIndex;\n      } else {\n        break;\n      }\n    }\n    elements[index] = element;\n    priorities[index] = priority;\n  };\n\n\n  /**\n   * FIXME empty description for jsdoc\n   */\n  PriorityQueue.prototype.reprioritize = function reprioritize () {\n    var priorityFunction = this.priorityFunction_;\n    var elements = this.elements_;\n    var priorities = this.priorities_;\n    var index = 0;\n    var n = elements.length;\n    var element, i, priority;\n    for (i = 0; i < n; ++i) {\n      element = elements[i];\n      priority = priorityFunction(element);\n      if (priority == DROP) {\n        delete this.queuedElements_[this.keyFunction_(element)];\n      } else {\n        priorities[index] = priority;\n        elements[index++] = element;\n      }\n    }\n    elements.length = index;\n    priorities.length = index;\n    this.heapify_();\n  };\n\n  /**\n   * @module ol/TileQueue\n   */\n\n\n  /**\n   * @typedef {function(import(\"./Tile.js\").default, string, import(\"./coordinate.js\").Coordinate, number): number} PriorityFunction\n   */\n\n\n  var TileQueue = /*@__PURE__*/(function (PriorityQueue$$1) {\n    function TileQueue(tilePriorityFunction, tileChangeCallback) {\n\n      PriorityQueue$$1.call(\n        /**\n         * @param {Array} element Element.\n         * @return {number} Priority.\n         */\n        this, function(element) {\n          return tilePriorityFunction.apply(null, element);\n        },\n        /**\n         * @param {Array} element Element.\n         * @return {string} Key.\n         */\n        function(element) {\n          return (/** @type {import(\"./Tile.js\").default} */ (element[0]).getKey());\n        });\n\n      /**\n       * @private\n       * @type {function(): ?}\n       */\n      this.tileChangeCallback_ = tileChangeCallback;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.tilesLoading_ = 0;\n\n      /**\n       * @private\n       * @type {!Object<string,boolean>}\n       */\n      this.tilesLoadingKeys_ = {};\n\n    }\n\n    if ( PriorityQueue$$1 ) TileQueue.__proto__ = PriorityQueue$$1;\n    TileQueue.prototype = Object.create( PriorityQueue$$1 && PriorityQueue$$1.prototype );\n    TileQueue.prototype.constructor = TileQueue;\n\n    /**\n     * @inheritDoc\n     */\n    TileQueue.prototype.enqueue = function enqueue (element) {\n      var added = PriorityQueue$$1.prototype.enqueue.call(this, element);\n      if (added) {\n        var tile = element[0];\n        listen(tile, EventType.CHANGE, this.handleTileChange, this);\n      }\n      return added;\n    };\n\n    /**\n     * @return {number} Number of tiles loading.\n     */\n    TileQueue.prototype.getTilesLoading = function getTilesLoading () {\n      return this.tilesLoading_;\n    };\n\n    /**\n     * @param {import(\"./events/Event.js\").default} event Event.\n     * @protected\n     */\n    TileQueue.prototype.handleTileChange = function handleTileChange (event) {\n      var tile = /** @type {import(\"./Tile.js\").default} */ (event.target);\n      var state = tile.getState();\n      if (state === TileState.LOADED || state === TileState.ERROR ||\n          state === TileState.EMPTY || state === TileState.ABORT) {\n        unlisten(tile, EventType.CHANGE, this.handleTileChange, this);\n        var tileKey = tile.getKey();\n        if (tileKey in this.tilesLoadingKeys_) {\n          delete this.tilesLoadingKeys_[tileKey];\n          --this.tilesLoading_;\n        }\n        this.tileChangeCallback_();\n      }\n    };\n\n    /**\n     * @param {number} maxTotalLoading Maximum number tiles to load simultaneously.\n     * @param {number} maxNewLoads Maximum number of new tiles to load.\n     */\n    TileQueue.prototype.loadMoreTiles = function loadMoreTiles (maxTotalLoading, maxNewLoads) {\n      var newLoads = 0;\n      var abortedTiles = false;\n      var state, tile, tileKey;\n      while (this.tilesLoading_ < maxTotalLoading && newLoads < maxNewLoads &&\n             this.getCount() > 0) {\n        tile = /** @type {import(\"./Tile.js\").default} */ (this.dequeue()[0]);\n        tileKey = tile.getKey();\n        state = tile.getState();\n        if (state === TileState.ABORT) {\n          abortedTiles = true;\n        } else if (state === TileState.IDLE && !(tileKey in this.tilesLoadingKeys_)) {\n          this.tilesLoadingKeys_[tileKey] = true;\n          ++this.tilesLoading_;\n          ++newLoads;\n          tile.load();\n        }\n      }\n      if (newLoads === 0 && abortedTiles) {\n        // Do not stop the render loop when all wanted tiles were aborted due to\n        // a small, saturated tile cache.\n        this.tileChangeCallback_();\n      }\n    };\n\n    return TileQueue;\n  }(PriorityQueue));\n\n  /**\n   * @module ol/tilegrid/common\n   */\n\n  /**\n   * Default maximum zoom for default tile grids.\n   * @type {number}\n   */\n  var DEFAULT_MAX_ZOOM = 42;\n\n  /**\n   * Default tile size.\n   * @type {number}\n   */\n  var DEFAULT_TILE_SIZE = 256;\n\n  /**\n   * @module ol/math\n   */\n\n  /**\n   * Takes a number and clamps it to within the provided bounds.\n   * @param {number} value The input number.\n   * @param {number} min The minimum value to return.\n   * @param {number} max The maximum value to return.\n   * @return {number} The input number if it is within bounds, or the nearest\n   *     number within the bounds.\n   */\n  function clamp(value, min, max) {\n    return Math.min(Math.max(value, min), max);\n  }\n\n\n  /**\n   * Return the hyperbolic cosine of a given number. The method will use the\n   * native `Math.cosh` function if it is available, otherwise the hyperbolic\n   * cosine will be calculated via the reference implementation of the Mozilla\n   * developer network.\n   *\n   * @param {number} x X.\n   * @return {number} Hyperbolic cosine of x.\n   */\n  var cosh = (function() {\n    // Wrapped in a iife, to save the overhead of checking for the native\n    // implementation on every invocation.\n    var cosh;\n    if ('cosh' in Math) {\n      // The environment supports the native Math.cosh function, use it…\n      cosh = Math.cosh;\n    } else {\n      // … else, use the reference implementation of MDN:\n      cosh = function(x) {\n        var y = /** @type {Math} */ (Math).exp(x);\n        return (y + 1 / y) / 2;\n      };\n    }\n    return cosh;\n  }());\n\n\n  /**\n   * @param {number} x X.\n   * @return {number} The smallest power of two greater than or equal to x.\n   */\n  function roundUpToPowerOfTwo(x) {\n    assert(0 < x, 29); // `x` must be greater than `0`\n    return Math.pow(2, Math.ceil(Math.log(x) / Math.LN2));\n  }\n\n\n  /**\n   * Returns the square of the closest distance between the point (x, y) and the\n   * line segment (x1, y1) to (x2, y2).\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @param {number} x1 X1.\n   * @param {number} y1 Y1.\n   * @param {number} x2 X2.\n   * @param {number} y2 Y2.\n   * @return {number} Squared distance.\n   */\n  function squaredSegmentDistance(x, y, x1, y1, x2, y2) {\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    if (dx !== 0 || dy !== 0) {\n      var t = ((x - x1) * dx + (y - y1) * dy) / (dx * dx + dy * dy);\n      if (t > 1) {\n        x1 = x2;\n        y1 = y2;\n      } else if (t > 0) {\n        x1 += dx * t;\n        y1 += dy * t;\n      }\n    }\n    return squaredDistance(x, y, x1, y1);\n  }\n\n\n  /**\n   * Returns the square of the distance between the points (x1, y1) and (x2, y2).\n   * @param {number} x1 X1.\n   * @param {number} y1 Y1.\n   * @param {number} x2 X2.\n   * @param {number} y2 Y2.\n   * @return {number} Squared distance.\n   */\n  function squaredDistance(x1, y1, x2, y2) {\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    return dx * dx + dy * dy;\n  }\n\n\n  /**\n   * Solves system of linear equations using Gaussian elimination method.\n   *\n   * @param {Array<Array<number>>} mat Augmented matrix (n x n + 1 column)\n   *                                     in row-major order.\n   * @return {Array<number>} The resulting vector.\n   */\n  function solveLinearSystem(mat) {\n    var n = mat.length;\n\n    for (var i = 0; i < n; i++) {\n      // Find max in the i-th column (ignoring i - 1 first rows)\n      var maxRow = i;\n      var maxEl = Math.abs(mat[i][i]);\n      for (var r = i + 1; r < n; r++) {\n        var absValue = Math.abs(mat[r][i]);\n        if (absValue > maxEl) {\n          maxEl = absValue;\n          maxRow = r;\n        }\n      }\n\n      if (maxEl === 0) {\n        return null; // matrix is singular\n      }\n\n      // Swap max row with i-th (current) row\n      var tmp = mat[maxRow];\n      mat[maxRow] = mat[i];\n      mat[i] = tmp;\n\n      // Subtract the i-th row to make all the remaining rows 0 in the i-th column\n      for (var j = i + 1; j < n; j++) {\n        var coef = -mat[j][i] / mat[i][i];\n        for (var k = i; k < n + 1; k++) {\n          if (i == k) {\n            mat[j][k] = 0;\n          } else {\n            mat[j][k] += coef * mat[i][k];\n          }\n        }\n      }\n    }\n\n    // Solve Ax=b for upper triangular matrix A (mat)\n    var x = new Array(n);\n    for (var l = n - 1; l >= 0; l--) {\n      x[l] = mat[l][n] / mat[l][l];\n      for (var m = l - 1; m >= 0; m--) {\n        mat[m][n] -= mat[m][l] * x[l];\n      }\n    }\n    return x;\n  }\n\n\n  /**\n   * Converts degrees to radians.\n   *\n   * @param {number} angleInDegrees Angle in degrees.\n   * @return {number} Angle in radians.\n   */\n  function toRadians(angleInDegrees) {\n    return angleInDegrees * Math.PI / 180;\n  }\n\n  /**\n   * Returns the modulo of a / b, depending on the sign of b.\n   *\n   * @param {number} a Dividend.\n   * @param {number} b Divisor.\n   * @return {number} Modulo.\n   */\n  function modulo(a, b) {\n    var r = a % b;\n    return r * b < 0 ? r + b : r;\n  }\n\n  /**\n   * Calculates the linearly interpolated value of x between a and b.\n   *\n   * @param {number} a Number\n   * @param {number} b Number\n   * @param {number} x Value to be interpolated.\n   * @return {number} Interpolated value.\n   */\n  function lerp(a, b, x) {\n    return a + x * (b - a);\n  }\n\n  /**\n   * @module ol/centerconstraint\n   */\n\n\n  /**\n   * @typedef {function((import(\"./coordinate.js\").Coordinate|undefined)): (import(\"./coordinate.js\").Coordinate|undefined)} Type\n   */\n\n\n  /**\n   * @param {import(\"./extent.js\").Extent} extent Extent.\n   * @return {Type} The constraint.\n   */\n  function createExtent(extent) {\n    return (\n      /**\n       * @param {import(\"./coordinate.js\").Coordinate=} center Center.\n       * @return {import(\"./coordinate.js\").Coordinate|undefined} Center.\n       */\n      function(center) {\n        if (center) {\n          return [\n            clamp(center[0], extent[0], extent[2]),\n            clamp(center[1], extent[1], extent[3])\n          ];\n        } else {\n          return undefined;\n        }\n      }\n    );\n  }\n\n\n  /**\n   * @param {import(\"./coordinate.js\").Coordinate=} center Center.\n   * @return {import(\"./coordinate.js\").Coordinate|undefined} Center.\n   */\n  function none(center) {\n    return center;\n  }\n\n  /**\n   * @module ol/resolutionconstraint\n   */\n\n\n  /**\n   * @typedef {function((number|undefined), number, number): (number|undefined)} Type\n   */\n\n\n  /**\n   * @param {Array<number>} resolutions Resolutions.\n   * @return {Type} Zoom function.\n   */\n  function createSnapToResolutions(resolutions) {\n    return (\n      /**\n       * @param {number|undefined} resolution Resolution.\n       * @param {number} delta Delta.\n       * @param {number} direction Direction.\n       * @return {number|undefined} Resolution.\n       */\n      function(resolution, delta, direction) {\n        if (resolution !== undefined) {\n          var z = linearFindNearest(resolutions, resolution, direction);\n          z = clamp(z + delta, 0, resolutions.length - 1);\n          var index = Math.floor(z);\n          if (z != index && index < resolutions.length - 1) {\n            var power = resolutions[index] / resolutions[index + 1];\n            return resolutions[index] / Math.pow(power, z - index);\n          } else {\n            return resolutions[index];\n          }\n        } else {\n          return undefined;\n        }\n      }\n    );\n  }\n\n\n  /**\n   * @param {number} power Power.\n   * @param {number} maxResolution Maximum resolution.\n   * @param {number=} opt_maxLevel Maximum level.\n   * @return {Type} Zoom function.\n   */\n  function createSnapToPower(power, maxResolution, opt_maxLevel) {\n    return (\n      /**\n       * @param {number|undefined} resolution Resolution.\n       * @param {number} delta Delta.\n       * @param {number} direction Direction.\n       * @return {number|undefined} Resolution.\n       */\n      function(resolution, delta, direction) {\n        if (resolution !== undefined) {\n          var offset = -direction / 2 + 0.5;\n          var oldLevel = Math.floor(\n            Math.log(maxResolution / resolution) / Math.log(power) + offset);\n          var newLevel = Math.max(oldLevel + delta, 0);\n          if (opt_maxLevel !== undefined) {\n            newLevel = Math.min(newLevel, opt_maxLevel);\n          }\n          return maxResolution / Math.pow(power, newLevel);\n        } else {\n          return undefined;\n        }\n      });\n  }\n\n  /**\n   * @module ol/rotationconstraint\n   */\n\n\n  /**\n   * @typedef {function((number|undefined), number): (number|undefined)} Type\n   */\n\n\n  /**\n   * @param {number|undefined} rotation Rotation.\n   * @param {number} delta Delta.\n   * @return {number|undefined} Rotation.\n   */\n  function disable(rotation, delta) {\n    if (rotation !== undefined) {\n      return 0;\n    } else {\n      return undefined;\n    }\n  }\n\n\n  /**\n   * @param {number|undefined} rotation Rotation.\n   * @param {number} delta Delta.\n   * @return {number|undefined} Rotation.\n   */\n  function none$1(rotation, delta) {\n    if (rotation !== undefined) {\n      return rotation + delta;\n    } else {\n      return undefined;\n    }\n  }\n\n\n  /**\n   * @param {number} n N.\n   * @return {Type} Rotation constraint.\n   */\n  function createSnapToN(n) {\n    var theta = 2 * Math.PI / n;\n    return (\n      /**\n       * @param {number|undefined} rotation Rotation.\n       * @param {number} delta Delta.\n       * @return {number|undefined} Rotation.\n       */\n      function(rotation, delta) {\n        if (rotation !== undefined) {\n          rotation = Math.floor((rotation + delta) / theta + 0.5) * theta;\n          return rotation;\n        } else {\n          return undefined;\n        }\n      });\n  }\n\n\n  /**\n   * @param {number=} opt_tolerance Tolerance.\n   * @return {Type} Rotation constraint.\n   */\n  function createSnapToZero(opt_tolerance) {\n    var tolerance = opt_tolerance || toRadians(5);\n    return (\n      /**\n       * @param {number|undefined} rotation Rotation.\n       * @param {number} delta Delta.\n       * @return {number|undefined} Rotation.\n       */\n      function(rotation, delta) {\n        if (rotation !== undefined) {\n          if (Math.abs(rotation + delta) <= tolerance) {\n            return 0;\n          } else {\n            return rotation + delta;\n          }\n        } else {\n          return undefined;\n        }\n      });\n  }\n\n  /**\n   * @module ol/ViewHint\n   */\n\n  /**\n   * @enum {number}\n   */\n  var ViewHint = {\n    ANIMATING: 0,\n    INTERACTING: 1\n  };\n\n  /**\n   * @module ol/ViewProperty\n   */\n\n  /**\n   * @enum {string}\n   */\n  var ViewProperty = {\n    CENTER: 'center',\n    RESOLUTION: 'resolution',\n    ROTATION: 'rotation'\n  };\n\n  /**\n   * @module ol/string\n   */\n\n  /**\n   * @module ol/coordinate\n   */\n\n\n  /**\n   * An array of numbers representing an xy coordinate. Example: `[16, 48]`.\n   * @typedef {Array<number>} Coordinate\n   * @api\n   */\n\n\n  /**\n   * A function that takes a {@link module:ol/coordinate~Coordinate} and\n   * transforms it into a `{string}`.\n   *\n   * @typedef {function((Coordinate|undefined)): string} CoordinateFormat\n   * @api\n   */\n\n\n  /**\n   * Add `delta` to `coordinate`. `coordinate` is modified in place and returned\n   * by the function.\n   *\n   * Example:\n   *\n   *     import {add} from 'ol/coordinate';\n   *\n   *     var coord = [7.85, 47.983333];\n   *     add(coord, [-2, 4]);\n   *     // coord is now [5.85, 51.983333]\n   *\n   * @param {Coordinate} coordinate Coordinate.\n   * @param {Coordinate} delta Delta.\n   * @return {Coordinate} The input coordinate adjusted by\n   * the given delta.\n   * @api\n   */\n  function add(coordinate, delta) {\n    coordinate[0] += delta[0];\n    coordinate[1] += delta[1];\n    return coordinate;\n  }\n\n\n  /**\n   * Calculates the point closest to the passed coordinate on the passed circle.\n   *\n   * @param {Coordinate} coordinate The coordinate.\n   * @param {import(\"./geom/Circle.js\").default} circle The circle.\n   * @return {Coordinate} Closest point on the circumference.\n   */\n  function closestOnCircle(coordinate, circle) {\n    var r = circle.getRadius();\n    var center = circle.getCenter();\n    var x0 = center[0];\n    var y0 = center[1];\n    var x1 = coordinate[0];\n    var y1 = coordinate[1];\n\n    var dx = x1 - x0;\n    var dy = y1 - y0;\n    if (dx === 0 && dy === 0) {\n      dx = 1;\n    }\n    var d = Math.sqrt(dx * dx + dy * dy);\n\n    var x = x0 + r * dx / d;\n    var y = y0 + r * dy / d;\n\n    return [x, y];\n  }\n\n\n  /**\n   * Calculates the point closest to the passed coordinate on the passed segment.\n   * This is the foot of the perpendicular of the coordinate to the segment when\n   * the foot is on the segment, or the closest segment coordinate when the foot\n   * is outside the segment.\n   *\n   * @param {Coordinate} coordinate The coordinate.\n   * @param {Array<Coordinate>} segment The two coordinates\n   * of the segment.\n   * @return {Coordinate} The foot of the perpendicular of\n   * the coordinate to the segment.\n   */\n  function closestOnSegment(coordinate, segment) {\n    var x0 = coordinate[0];\n    var y0 = coordinate[1];\n    var start = segment[0];\n    var end = segment[1];\n    var x1 = start[0];\n    var y1 = start[1];\n    var x2 = end[0];\n    var y2 = end[1];\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    var along = (dx === 0 && dy === 0) ? 0 :\n      ((dx * (x0 - x1)) + (dy * (y0 - y1))) / ((dx * dx + dy * dy) || 0);\n    var x, y;\n    if (along <= 0) {\n      x = x1;\n      y = y1;\n    } else if (along >= 1) {\n      x = x2;\n      y = y2;\n    } else {\n      x = x1 + along * dx;\n      y = y1 + along * dy;\n    }\n    return [x, y];\n  }\n\n\n  /**\n   * @param {Coordinate} coordinate1 First coordinate.\n   * @param {Coordinate} coordinate2 Second coordinate.\n   * @return {boolean} The two coordinates are equal.\n   */\n  function equals$1(coordinate1, coordinate2) {\n    var equals = true;\n    for (var i = coordinate1.length - 1; i >= 0; --i) {\n      if (coordinate1[i] != coordinate2[i]) {\n        equals = false;\n        break;\n      }\n    }\n    return equals;\n  }\n\n\n  /**\n   * Rotate `coordinate` by `angle`. `coordinate` is modified in place and\n   * returned by the function.\n   *\n   * Example:\n   *\n   *     import {rotate} from 'ol/coordinate';\n   *\n   *     var coord = [7.85, 47.983333];\n   *     var rotateRadians = Math.PI / 2; // 90 degrees\n   *     rotate(coord, rotateRadians);\n   *     // coord is now [-47.983333, 7.85]\n   *\n   * @param {Coordinate} coordinate Coordinate.\n   * @param {number} angle Angle in radian.\n   * @return {Coordinate} Coordinate.\n   * @api\n   */\n  function rotate(coordinate, angle) {\n    var cosAngle = Math.cos(angle);\n    var sinAngle = Math.sin(angle);\n    var x = coordinate[0] * cosAngle - coordinate[1] * sinAngle;\n    var y = coordinate[1] * cosAngle + coordinate[0] * sinAngle;\n    coordinate[0] = x;\n    coordinate[1] = y;\n    return coordinate;\n  }\n\n\n  /**\n   * Scale `coordinate` by `scale`. `coordinate` is modified in place and returned\n   * by the function.\n   *\n   * Example:\n   *\n   *     import {scale as scaleCoordinate} from 'ol/coordinate';\n   *\n   *     var coord = [7.85, 47.983333];\n   *     var scale = 1.2;\n   *     scaleCoordinate(coord, scale);\n   *     // coord is now [9.42, 57.5799996]\n   *\n   * @param {Coordinate} coordinate Coordinate.\n   * @param {number} scale Scale factor.\n   * @return {Coordinate} Coordinate.\n   */\n  function scale(coordinate, scale) {\n    coordinate[0] *= scale;\n    coordinate[1] *= scale;\n    return coordinate;\n  }\n\n\n  /**\n   * @param {Coordinate} coord1 First coordinate.\n   * @param {Coordinate} coord2 Second coordinate.\n   * @return {number} Squared distance between coord1 and coord2.\n   */\n  function squaredDistance$1(coord1, coord2) {\n    var dx = coord1[0] - coord2[0];\n    var dy = coord1[1] - coord2[1];\n    return dx * dx + dy * dy;\n  }\n\n\n  /**\n   * @param {Coordinate} coord1 First coordinate.\n   * @param {Coordinate} coord2 Second coordinate.\n   * @return {number} Distance between coord1 and coord2.\n   */\n  function distance(coord1, coord2) {\n    return Math.sqrt(squaredDistance$1(coord1, coord2));\n  }\n\n\n  /**\n   * Calculate the squared distance from a coordinate to a line segment.\n   *\n   * @param {Coordinate} coordinate Coordinate of the point.\n   * @param {Array<Coordinate>} segment Line segment (2\n   * coordinates).\n   * @return {number} Squared distance from the point to the line segment.\n   */\n  function squaredDistanceToSegment(coordinate, segment) {\n    return squaredDistance$1(coordinate,\n      closestOnSegment(coordinate, segment));\n  }\n\n  /**\n   * @module ol/easing\n   */\n\n\n  /**\n   * Start slow and speed up.\n   * @param {number} t Input between 0 and 1.\n   * @return {number} Output between 0 and 1.\n   * @api\n   */\n  function easeIn(t) {\n    return Math.pow(t, 3);\n  }\n\n\n  /**\n   * Start fast and slow down.\n   * @param {number} t Input between 0 and 1.\n   * @return {number} Output between 0 and 1.\n   * @api\n   */\n  function easeOut(t) {\n    return 1 - easeIn(1 - t);\n  }\n\n\n  /**\n   * Start slow, speed up, and then slow down again.\n   * @param {number} t Input between 0 and 1.\n   * @return {number} Output between 0 and 1.\n   * @api\n   */\n  function inAndOut(t) {\n    return 3 * t * t - 2 * t * t * t;\n  }\n\n\n  /**\n   * Maintain a constant speed over time.\n   * @param {number} t Input between 0 and 1.\n   * @return {number} Output between 0 and 1.\n   * @api\n   */\n  function linear(t) {\n    return t;\n  }\n\n  /**\n   * @module ol/extent/Corner\n   */\n\n  /**\n   * Extent corner.\n   * @enum {string}\n   */\n  var Corner = {\n    BOTTOM_LEFT: 'bottom-left',\n    BOTTOM_RIGHT: 'bottom-right',\n    TOP_LEFT: 'top-left',\n    TOP_RIGHT: 'top-right'\n  };\n\n  /**\n   * @module ol/extent/Relationship\n   */\n\n  /**\n   * Relationship to an extent.\n   * @enum {number}\n   */\n  var Relationship = {\n    UNKNOWN: 0,\n    INTERSECTING: 1,\n    ABOVE: 2,\n    RIGHT: 4,\n    BELOW: 8,\n    LEFT: 16\n  };\n\n  /**\n   * @module ol/extent\n   */\n\n\n  /**\n   * An array of numbers representing an extent: `[minx, miny, maxx, maxy]`.\n   * @typedef {Array<number>} Extent\n   * @api\n   */\n\n  /**\n   * Build an extent that includes all given coordinates.\n   *\n   * @param {Array<import(\"./coordinate.js\").Coordinate>} coordinates Coordinates.\n   * @return {Extent} Bounding extent.\n   * @api\n   */\n  function boundingExtent(coordinates) {\n    var extent = createEmpty();\n    for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n      extendCoordinate(extent, coordinates[i]);\n    }\n    return extent;\n  }\n\n\n  /**\n   * Return extent increased by the provided value.\n   * @param {Extent} extent Extent.\n   * @param {number} value The amount by which the extent should be buffered.\n   * @param {Extent=} opt_extent Extent.\n   * @return {Extent} Extent.\n   * @api\n   */\n  function buffer(extent, value, opt_extent) {\n    if (opt_extent) {\n      opt_extent[0] = extent[0] - value;\n      opt_extent[1] = extent[1] - value;\n      opt_extent[2] = extent[2] + value;\n      opt_extent[3] = extent[3] + value;\n      return opt_extent;\n    } else {\n      return [\n        extent[0] - value,\n        extent[1] - value,\n        extent[2] + value,\n        extent[3] + value\n      ];\n    }\n  }\n\n\n  /**\n   * Creates a clone of an extent.\n   *\n   * @param {Extent} extent Extent to clone.\n   * @param {Extent=} opt_extent Extent.\n   * @return {Extent} The clone.\n   */\n  function clone(extent, opt_extent) {\n    if (opt_extent) {\n      opt_extent[0] = extent[0];\n      opt_extent[1] = extent[1];\n      opt_extent[2] = extent[2];\n      opt_extent[3] = extent[3];\n      return opt_extent;\n    } else {\n      return extent.slice();\n    }\n  }\n\n\n  /**\n   * @param {Extent} extent Extent.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @return {number} Closest squared distance.\n   */\n  function closestSquaredDistanceXY(extent, x, y) {\n    var dx, dy;\n    if (x < extent[0]) {\n      dx = extent[0] - x;\n    } else if (extent[2] < x) {\n      dx = x - extent[2];\n    } else {\n      dx = 0;\n    }\n    if (y < extent[1]) {\n      dy = extent[1] - y;\n    } else if (extent[3] < y) {\n      dy = y - extent[3];\n    } else {\n      dy = 0;\n    }\n    return dx * dx + dy * dy;\n  }\n\n\n  /**\n   * Check if the passed coordinate is contained or on the edge of the extent.\n   *\n   * @param {Extent} extent Extent.\n   * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n   * @return {boolean} The coordinate is contained in the extent.\n   * @api\n   */\n  function containsCoordinate(extent, coordinate) {\n    return containsXY(extent, coordinate[0], coordinate[1]);\n  }\n\n\n  /**\n   * Check if one extent contains another.\n   *\n   * An extent is deemed contained if it lies completely within the other extent,\n   * including if they share one or more edges.\n   *\n   * @param {Extent} extent1 Extent 1.\n   * @param {Extent} extent2 Extent 2.\n   * @return {boolean} The second extent is contained by or on the edge of the\n   *     first.\n   * @api\n   */\n  function containsExtent(extent1, extent2) {\n    return extent1[0] <= extent2[0] && extent2[2] <= extent1[2] &&\n        extent1[1] <= extent2[1] && extent2[3] <= extent1[3];\n  }\n\n\n  /**\n   * Check if the passed coordinate is contained or on the edge of the extent.\n   *\n   * @param {Extent} extent Extent.\n   * @param {number} x X coordinate.\n   * @param {number} y Y coordinate.\n   * @return {boolean} The x, y values are contained in the extent.\n   * @api\n   */\n  function containsXY(extent, x, y) {\n    return extent[0] <= x && x <= extent[2] && extent[1] <= y && y <= extent[3];\n  }\n\n\n  /**\n   * Get the relationship between a coordinate and extent.\n   * @param {Extent} extent The extent.\n   * @param {import(\"./coordinate.js\").Coordinate} coordinate The coordinate.\n   * @return {Relationship} The relationship (bitwise compare with\n   *     import(\"./extent/Relationship.js\").Relationship).\n   */\n  function coordinateRelationship(extent, coordinate) {\n    var minX = extent[0];\n    var minY = extent[1];\n    var maxX = extent[2];\n    var maxY = extent[3];\n    var x = coordinate[0];\n    var y = coordinate[1];\n    var relationship = Relationship.UNKNOWN;\n    if (x < minX) {\n      relationship = relationship | Relationship.LEFT;\n    } else if (x > maxX) {\n      relationship = relationship | Relationship.RIGHT;\n    }\n    if (y < minY) {\n      relationship = relationship | Relationship.BELOW;\n    } else if (y > maxY) {\n      relationship = relationship | Relationship.ABOVE;\n    }\n    if (relationship === Relationship.UNKNOWN) {\n      relationship = Relationship.INTERSECTING;\n    }\n    return relationship;\n  }\n\n\n  /**\n   * Create an empty extent.\n   * @return {Extent} Empty extent.\n   * @api\n   */\n  function createEmpty() {\n    return [Infinity, Infinity, -Infinity, -Infinity];\n  }\n\n\n  /**\n   * Create a new extent or update the provided extent.\n   * @param {number} minX Minimum X.\n   * @param {number} minY Minimum Y.\n   * @param {number} maxX Maximum X.\n   * @param {number} maxY Maximum Y.\n   * @param {Extent=} opt_extent Destination extent.\n   * @return {Extent} Extent.\n   */\n  function createOrUpdate(minX, minY, maxX, maxY, opt_extent) {\n    if (opt_extent) {\n      opt_extent[0] = minX;\n      opt_extent[1] = minY;\n      opt_extent[2] = maxX;\n      opt_extent[3] = maxY;\n      return opt_extent;\n    } else {\n      return [minX, minY, maxX, maxY];\n    }\n  }\n\n\n  /**\n   * Create a new empty extent or make the provided one empty.\n   * @param {Extent=} opt_extent Extent.\n   * @return {Extent} Extent.\n   */\n  function createOrUpdateEmpty(opt_extent) {\n    return createOrUpdate(\n      Infinity, Infinity, -Infinity, -Infinity, opt_extent);\n  }\n\n\n  /**\n   * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n   * @param {Extent=} opt_extent Extent.\n   * @return {Extent} Extent.\n   */\n  function createOrUpdateFromCoordinate(coordinate, opt_extent) {\n    var x = coordinate[0];\n    var y = coordinate[1];\n    return createOrUpdate(x, y, x, y, opt_extent);\n  }\n\n\n  /**\n   * @param {Array<import(\"./coordinate.js\").Coordinate>} coordinates Coordinates.\n   * @param {Extent=} opt_extent Extent.\n   * @return {Extent} Extent.\n   */\n  function createOrUpdateFromCoordinates(coordinates, opt_extent) {\n    var extent = createOrUpdateEmpty(opt_extent);\n    return extendCoordinates(extent, coordinates);\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {Extent=} opt_extent Extent.\n   * @return {Extent} Extent.\n   */\n  function createOrUpdateFromFlatCoordinates(flatCoordinates, offset, end, stride, opt_extent) {\n    var extent = createOrUpdateEmpty(opt_extent);\n    return extendFlatCoordinates(extent, flatCoordinates, offset, end, stride);\n  }\n\n\n  /**\n   * Determine if two extents are equivalent.\n   * @param {Extent} extent1 Extent 1.\n   * @param {Extent} extent2 Extent 2.\n   * @return {boolean} The two extents are equivalent.\n   * @api\n   */\n  function equals$2(extent1, extent2) {\n    return extent1[0] == extent2[0] && extent1[2] == extent2[2] &&\n        extent1[1] == extent2[1] && extent1[3] == extent2[3];\n  }\n\n\n  /**\n   * Modify an extent to include another extent.\n   * @param {Extent} extent1 The extent to be modified.\n   * @param {Extent} extent2 The extent that will be included in the first.\n   * @return {Extent} A reference to the first (extended) extent.\n   * @api\n   */\n  function extend$1(extent1, extent2) {\n    if (extent2[0] < extent1[0]) {\n      extent1[0] = extent2[0];\n    }\n    if (extent2[2] > extent1[2]) {\n      extent1[2] = extent2[2];\n    }\n    if (extent2[1] < extent1[1]) {\n      extent1[1] = extent2[1];\n    }\n    if (extent2[3] > extent1[3]) {\n      extent1[3] = extent2[3];\n    }\n    return extent1;\n  }\n\n\n  /**\n   * @param {Extent} extent Extent.\n   * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n   */\n  function extendCoordinate(extent, coordinate) {\n    if (coordinate[0] < extent[0]) {\n      extent[0] = coordinate[0];\n    }\n    if (coordinate[0] > extent[2]) {\n      extent[2] = coordinate[0];\n    }\n    if (coordinate[1] < extent[1]) {\n      extent[1] = coordinate[1];\n    }\n    if (coordinate[1] > extent[3]) {\n      extent[3] = coordinate[1];\n    }\n  }\n\n\n  /**\n   * @param {Extent} extent Extent.\n   * @param {Array<import(\"./coordinate.js\").Coordinate>} coordinates Coordinates.\n   * @return {Extent} Extent.\n   */\n  function extendCoordinates(extent, coordinates) {\n    for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n      extendCoordinate(extent, coordinates[i]);\n    }\n    return extent;\n  }\n\n\n  /**\n   * @param {Extent} extent Extent.\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @return {Extent} Extent.\n   */\n  function extendFlatCoordinates(extent, flatCoordinates, offset, end, stride) {\n    for (; offset < end; offset += stride) {\n      extendXY(extent, flatCoordinates[offset], flatCoordinates[offset + 1]);\n    }\n    return extent;\n  }\n\n\n  /**\n   * @param {Extent} extent Extent.\n   * @param {number} x X.\n   * @param {number} y Y.\n   */\n  function extendXY(extent, x, y) {\n    extent[0] = Math.min(extent[0], x);\n    extent[1] = Math.min(extent[1], y);\n    extent[2] = Math.max(extent[2], x);\n    extent[3] = Math.max(extent[3], y);\n  }\n\n\n  /**\n   * This function calls `callback` for each corner of the extent. If the\n   * callback returns a truthy value the function returns that value\n   * immediately. Otherwise the function returns `false`.\n   * @param {Extent} extent Extent.\n   * @param {function(this:T, import(\"./coordinate.js\").Coordinate): S} callback Callback.\n   * @param {T=} opt_this Value to use as `this` when executing `callback`.\n   * @return {S|boolean} Value.\n   * @template S, T\n   */\n  function forEachCorner(extent, callback, opt_this) {\n    var val;\n    val = callback.call(opt_this, getBottomLeft(extent));\n    if (val) {\n      return val;\n    }\n    val = callback.call(opt_this, getBottomRight(extent));\n    if (val) {\n      return val;\n    }\n    val = callback.call(opt_this, getTopRight(extent));\n    if (val) {\n      return val;\n    }\n    val = callback.call(opt_this, getTopLeft(extent));\n    if (val) {\n      return val;\n    }\n    return false;\n  }\n\n\n  /**\n   * Get the size of an extent.\n   * @param {Extent} extent Extent.\n   * @return {number} Area.\n   * @api\n   */\n  function getArea(extent) {\n    var area = 0;\n    if (!isEmpty$1(extent)) {\n      area = getWidth(extent) * getHeight(extent);\n    }\n    return area;\n  }\n\n\n  /**\n   * Get the bottom left coordinate of an extent.\n   * @param {Extent} extent Extent.\n   * @return {import(\"./coordinate.js\").Coordinate} Bottom left coordinate.\n   * @api\n   */\n  function getBottomLeft(extent) {\n    return [extent[0], extent[1]];\n  }\n\n\n  /**\n   * Get the bottom right coordinate of an extent.\n   * @param {Extent} extent Extent.\n   * @return {import(\"./coordinate.js\").Coordinate} Bottom right coordinate.\n   * @api\n   */\n  function getBottomRight(extent) {\n    return [extent[2], extent[1]];\n  }\n\n\n  /**\n   * Get the center coordinate of an extent.\n   * @param {Extent} extent Extent.\n   * @return {import(\"./coordinate.js\").Coordinate} Center.\n   * @api\n   */\n  function getCenter(extent) {\n    return [(extent[0] + extent[2]) / 2, (extent[1] + extent[3]) / 2];\n  }\n\n\n  /**\n   * Get a corner coordinate of an extent.\n   * @param {Extent} extent Extent.\n   * @param {Corner} corner Corner.\n   * @return {import(\"./coordinate.js\").Coordinate} Corner coordinate.\n   */\n  function getCorner(extent, corner) {\n    var coordinate;\n    if (corner === Corner.BOTTOM_LEFT) {\n      coordinate = getBottomLeft(extent);\n    } else if (corner === Corner.BOTTOM_RIGHT) {\n      coordinate = getBottomRight(extent);\n    } else if (corner === Corner.TOP_LEFT) {\n      coordinate = getTopLeft(extent);\n    } else if (corner === Corner.TOP_RIGHT) {\n      coordinate = getTopRight(extent);\n    } else {\n      assert(false, 13); // Invalid corner\n    }\n    return coordinate;\n  }\n\n\n  /**\n   * @param {import(\"./coordinate.js\").Coordinate} center Center.\n   * @param {number} resolution Resolution.\n   * @param {number} rotation Rotation.\n   * @param {import(\"./size.js\").Size} size Size.\n   * @param {Extent=} opt_extent Destination extent.\n   * @return {Extent} Extent.\n   */\n  function getForViewAndSize(center, resolution, rotation, size, opt_extent) {\n    var dx = resolution * size[0] / 2;\n    var dy = resolution * size[1] / 2;\n    var cosRotation = Math.cos(rotation);\n    var sinRotation = Math.sin(rotation);\n    var xCos = dx * cosRotation;\n    var xSin = dx * sinRotation;\n    var yCos = dy * cosRotation;\n    var ySin = dy * sinRotation;\n    var x = center[0];\n    var y = center[1];\n    var x0 = x - xCos + ySin;\n    var x1 = x - xCos - ySin;\n    var x2 = x + xCos - ySin;\n    var x3 = x + xCos + ySin;\n    var y0 = y - xSin - yCos;\n    var y1 = y - xSin + yCos;\n    var y2 = y + xSin + yCos;\n    var y3 = y + xSin - yCos;\n    return createOrUpdate(\n      Math.min(x0, x1, x2, x3), Math.min(y0, y1, y2, y3),\n      Math.max(x0, x1, x2, x3), Math.max(y0, y1, y2, y3),\n      opt_extent);\n  }\n\n\n  /**\n   * Get the height of an extent.\n   * @param {Extent} extent Extent.\n   * @return {number} Height.\n   * @api\n   */\n  function getHeight(extent) {\n    return extent[3] - extent[1];\n  }\n\n\n  /**\n   * Get the intersection of two extents.\n   * @param {Extent} extent1 Extent 1.\n   * @param {Extent} extent2 Extent 2.\n   * @param {Extent=} opt_extent Optional extent to populate with intersection.\n   * @return {Extent} Intersecting extent.\n   * @api\n   */\n  function getIntersection(extent1, extent2, opt_extent) {\n    var intersection = opt_extent ? opt_extent : createEmpty();\n    if (intersects(extent1, extent2)) {\n      if (extent1[0] > extent2[0]) {\n        intersection[0] = extent1[0];\n      } else {\n        intersection[0] = extent2[0];\n      }\n      if (extent1[1] > extent2[1]) {\n        intersection[1] = extent1[1];\n      } else {\n        intersection[1] = extent2[1];\n      }\n      if (extent1[2] < extent2[2]) {\n        intersection[2] = extent1[2];\n      } else {\n        intersection[2] = extent2[2];\n      }\n      if (extent1[3] < extent2[3]) {\n        intersection[3] = extent1[3];\n      } else {\n        intersection[3] = extent2[3];\n      }\n    } else {\n      createOrUpdateEmpty(intersection);\n    }\n    return intersection;\n  }\n\n\n  /**\n   * Get the top left coordinate of an extent.\n   * @param {Extent} extent Extent.\n   * @return {import(\"./coordinate.js\").Coordinate} Top left coordinate.\n   * @api\n   */\n  function getTopLeft(extent) {\n    return [extent[0], extent[3]];\n  }\n\n\n  /**\n   * Get the top right coordinate of an extent.\n   * @param {Extent} extent Extent.\n   * @return {import(\"./coordinate.js\").Coordinate} Top right coordinate.\n   * @api\n   */\n  function getTopRight(extent) {\n    return [extent[2], extent[3]];\n  }\n\n\n  /**\n   * Get the width of an extent.\n   * @param {Extent} extent Extent.\n   * @return {number} Width.\n   * @api\n   */\n  function getWidth(extent) {\n    return extent[2] - extent[0];\n  }\n\n\n  /**\n   * Determine if one extent intersects another.\n   * @param {Extent} extent1 Extent 1.\n   * @param {Extent} extent2 Extent.\n   * @return {boolean} The two extents intersect.\n   * @api\n   */\n  function intersects(extent1, extent2) {\n    return extent1[0] <= extent2[2] &&\n        extent1[2] >= extent2[0] &&\n        extent1[1] <= extent2[3] &&\n        extent1[3] >= extent2[1];\n  }\n\n\n  /**\n   * Determine if an extent is empty.\n   * @param {Extent} extent Extent.\n   * @return {boolean} Is empty.\n   * @api\n   */\n  function isEmpty$1(extent) {\n    return extent[2] < extent[0] || extent[3] < extent[1];\n  }\n\n\n  /**\n   * @param {Extent} extent Extent.\n   * @param {Extent=} opt_extent Extent.\n   * @return {Extent} Extent.\n   */\n  function returnOrUpdate(extent, opt_extent) {\n    if (opt_extent) {\n      opt_extent[0] = extent[0];\n      opt_extent[1] = extent[1];\n      opt_extent[2] = extent[2];\n      opt_extent[3] = extent[3];\n      return opt_extent;\n    } else {\n      return extent;\n    }\n  }\n\n\n  /**\n   * @param {Extent} extent Extent.\n   * @param {number} value Value.\n   */\n  function scaleFromCenter(extent, value) {\n    var deltaX = ((extent[2] - extent[0]) / 2) * (value - 1);\n    var deltaY = ((extent[3] - extent[1]) / 2) * (value - 1);\n    extent[0] -= deltaX;\n    extent[2] += deltaX;\n    extent[1] -= deltaY;\n    extent[3] += deltaY;\n  }\n\n\n  /**\n   * Determine if the segment between two coordinates intersects (crosses,\n   * touches, or is contained by) the provided extent.\n   * @param {Extent} extent The extent.\n   * @param {import(\"./coordinate.js\").Coordinate} start Segment start coordinate.\n   * @param {import(\"./coordinate.js\").Coordinate} end Segment end coordinate.\n   * @return {boolean} The segment intersects the extent.\n   */\n  function intersectsSegment(extent, start, end) {\n    var intersects = false;\n    var startRel = coordinateRelationship(extent, start);\n    var endRel = coordinateRelationship(extent, end);\n    if (startRel === Relationship.INTERSECTING ||\n        endRel === Relationship.INTERSECTING) {\n      intersects = true;\n    } else {\n      var minX = extent[0];\n      var minY = extent[1];\n      var maxX = extent[2];\n      var maxY = extent[3];\n      var startX = start[0];\n      var startY = start[1];\n      var endX = end[0];\n      var endY = end[1];\n      var slope = (endY - startY) / (endX - startX);\n      var x, y;\n      if (!!(endRel & Relationship.ABOVE) &&\n          !(startRel & Relationship.ABOVE)) {\n        // potentially intersects top\n        x = endX - ((endY - maxY) / slope);\n        intersects = x >= minX && x <= maxX;\n      }\n      if (!intersects && !!(endRel & Relationship.RIGHT) &&\n          !(startRel & Relationship.RIGHT)) {\n        // potentially intersects right\n        y = endY - ((endX - maxX) * slope);\n        intersects = y >= minY && y <= maxY;\n      }\n      if (!intersects && !!(endRel & Relationship.BELOW) &&\n          !(startRel & Relationship.BELOW)) {\n        // potentially intersects bottom\n        x = endX - ((endY - minY) / slope);\n        intersects = x >= minX && x <= maxX;\n      }\n      if (!intersects && !!(endRel & Relationship.LEFT) &&\n          !(startRel & Relationship.LEFT)) {\n        // potentially intersects left\n        y = endY - ((endX - minX) * slope);\n        intersects = y >= minY && y <= maxY;\n      }\n\n    }\n    return intersects;\n  }\n\n  /**\n   * @module ol/geom/GeometryType\n   */\n\n  /**\n   * The geometry type. One of `'Point'`, `'LineString'`, `'LinearRing'`,\n   * `'Polygon'`, `'MultiPoint'`, `'MultiLineString'`, `'MultiPolygon'`,\n   * `'GeometryCollection'`, `'Circle'`.\n   * @enum {string}\n   */\n  var GeometryType = {\n    POINT: 'Point',\n    LINE_STRING: 'LineString',\n    LINEAR_RING: 'LinearRing',\n    POLYGON: 'Polygon',\n    MULTI_POINT: 'MultiPoint',\n    MULTI_LINE_STRING: 'MultiLineString',\n    MULTI_POLYGON: 'MultiPolygon',\n    GEOMETRY_COLLECTION: 'GeometryCollection',\n    CIRCLE: 'Circle'\n  };\n\n  /**\n   * @module ol/geom/GeometryLayout\n   */\n\n  /**\n   * The coordinate layout for geometries, indicating whether a 3rd or 4th z ('Z')\n   * or measure ('M') coordinate is available. Supported values are `'XY'`,\n   * `'XYZ'`, `'XYM'`, `'XYZM'`.\n   * @enum {string}\n   */\n  var GeometryLayout = {\n    XY: 'XY',\n    XYZ: 'XYZ',\n    XYM: 'XYM',\n    XYZM: 'XYZM'\n  };\n\n  /**\n   * @module ol/geom/flat/transform\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {import(\"../../transform.js\").Transform} transform Transform.\n   * @param {Array<number>=} opt_dest Destination.\n   * @return {Array<number>} Transformed coordinates.\n   */\n  function transform2D(flatCoordinates, offset, end, stride, transform, opt_dest) {\n    var dest = opt_dest ? opt_dest : [];\n    var i = 0;\n    for (var j = offset; j < end; j += stride) {\n      var x = flatCoordinates[j];\n      var y = flatCoordinates[j + 1];\n      dest[i++] = transform[0] * x + transform[2] * y + transform[4];\n      dest[i++] = transform[1] * x + transform[3] * y + transform[5];\n    }\n    if (opt_dest && dest.length != i) {\n      dest.length = i;\n    }\n    return dest;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {number} angle Angle.\n   * @param {Array<number>} anchor Rotation anchor point.\n   * @param {Array<number>=} opt_dest Destination.\n   * @return {Array<number>} Transformed coordinates.\n   */\n  function rotate$1(flatCoordinates, offset, end, stride, angle, anchor, opt_dest) {\n    var dest = opt_dest ? opt_dest : [];\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    var anchorX = anchor[0];\n    var anchorY = anchor[1];\n    var i = 0;\n    for (var j = offset; j < end; j += stride) {\n      var deltaX = flatCoordinates[j] - anchorX;\n      var deltaY = flatCoordinates[j + 1] - anchorY;\n      dest[i++] = anchorX + deltaX * cos - deltaY * sin;\n      dest[i++] = anchorY + deltaX * sin + deltaY * cos;\n      for (var k = j + 2; k < j + stride; ++k) {\n        dest[i++] = flatCoordinates[k];\n      }\n    }\n    if (opt_dest && dest.length != i) {\n      dest.length = i;\n    }\n    return dest;\n  }\n\n\n  /**\n   * Scale the coordinates.\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {number} sx Scale factor in the x-direction.\n   * @param {number} sy Scale factor in the y-direction.\n   * @param {Array<number>} anchor Scale anchor point.\n   * @param {Array<number>=} opt_dest Destination.\n   * @return {Array<number>} Transformed coordinates.\n   */\n  function scale$1(flatCoordinates, offset, end, stride, sx, sy, anchor, opt_dest) {\n    var dest = opt_dest ? opt_dest : [];\n    var anchorX = anchor[0];\n    var anchorY = anchor[1];\n    var i = 0;\n    for (var j = offset; j < end; j += stride) {\n      var deltaX = flatCoordinates[j] - anchorX;\n      var deltaY = flatCoordinates[j + 1] - anchorY;\n      dest[i++] = anchorX + sx * deltaX;\n      dest[i++] = anchorY + sy * deltaY;\n      for (var k = j + 2; k < j + stride; ++k) {\n        dest[i++] = flatCoordinates[k];\n      }\n    }\n    if (opt_dest && dest.length != i) {\n      dest.length = i;\n    }\n    return dest;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {number} deltaX Delta X.\n   * @param {number} deltaY Delta Y.\n   * @param {Array<number>=} opt_dest Destination.\n   * @return {Array<number>} Transformed coordinates.\n   */\n  function translate(flatCoordinates, offset, end, stride, deltaX, deltaY, opt_dest) {\n    var dest = opt_dest ? opt_dest : [];\n    var i = 0;\n    for (var j = offset; j < end; j += stride) {\n      dest[i++] = flatCoordinates[j] + deltaX;\n      dest[i++] = flatCoordinates[j + 1] + deltaY;\n      for (var k = j + 2; k < j + stride; ++k) {\n        dest[i++] = flatCoordinates[k];\n      }\n    }\n    if (opt_dest && dest.length != i) {\n      dest.length = i;\n    }\n    return dest;\n  }\n\n  /**\n   * @license\n   * Latitude/longitude spherical geodesy formulae taken from\n   * http://www.movable-type.co.uk/scripts/latlong.html\n   * Licensed under CC-BY-3.0.\n   */\n\n\n  /**\n   * Object literal with options for the {@link getLength} or {@link getArea}\n   * functions.\n   * @typedef {Object} SphereMetricOptions\n   * @property {import(\"./proj.js\").ProjectionLike} [projection='EPSG:3857']\n   * Projection of the  geometry.  By default, the geometry is assumed to be in\n   * Web Mercator.\n   * @property {number} [radius=6371008.8] Sphere radius.  By default, the radius of the\n   * earth is used (Clarke 1866 Authalic Sphere).\n   */\n\n\n  /**\n   * The mean Earth radius (1/3 * (2a + b)) for the WGS84 ellipsoid.\n   * https://en.wikipedia.org/wiki/Earth_radius#Mean_radius\n   * @type {number}\n   */\n  var DEFAULT_RADIUS = 6371008.8;\n\n\n  /**\n   * Get the great circle distance (in meters) between two geographic coordinates.\n   * @param {Array} c1 Starting coordinate.\n   * @param {Array} c2 Ending coordinate.\n   * @param {number=} opt_radius The sphere radius to use.  Defaults to the Earth's\n   *     mean radius using the WGS84 ellipsoid.\n   * @return {number} The great circle distance between the points (in meters).\n   * @api\n   */\n  function getDistance(c1, c2, opt_radius) {\n    var radius = opt_radius || DEFAULT_RADIUS;\n    var lat1 = toRadians(c1[1]);\n    var lat2 = toRadians(c2[1]);\n    var deltaLatBy2 = (lat2 - lat1) / 2;\n    var deltaLonBy2 = toRadians(c2[0] - c1[0]) / 2;\n    var a = Math.sin(deltaLatBy2) * Math.sin(deltaLatBy2) +\n        Math.sin(deltaLonBy2) * Math.sin(deltaLonBy2) *\n        Math.cos(lat1) * Math.cos(lat2);\n    return 2 * radius * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  }\n\n  /**\n   * @module ol/proj/Units\n   */\n\n  /**\n   * Projection units: `'degrees'`, `'ft'`, `'m'`, `'pixels'`, `'tile-pixels'` or\n   * `'us-ft'`.\n   * @enum {string}\n   */\n  var Units = {\n    DEGREES: 'degrees',\n    FEET: 'ft',\n    METERS: 'm',\n    PIXELS: 'pixels',\n    TILE_PIXELS: 'tile-pixels',\n    USFEET: 'us-ft'\n  };\n\n\n  /**\n   * Meters per unit lookup table.\n   * @const\n   * @type {Object<Units, number>}\n   * @api\n   */\n  var METERS_PER_UNIT = {};\n  // use the radius of the Normal sphere\n  METERS_PER_UNIT[Units.DEGREES] = 2 * Math.PI * 6370997 / 360;\n  METERS_PER_UNIT[Units.FEET] = 0.3048;\n  METERS_PER_UNIT[Units.METERS] = 1;\n  METERS_PER_UNIT[Units.USFEET] = 1200 / 3937;\n\n  /**\n   * @module ol/proj/Projection\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} code The SRS identifier code, e.g. `EPSG:4326`.\n   * @property {import(\"./Units.js\").default|string} [units] Units. Required unless a\n   * proj4 projection is defined for `code`.\n   * @property {import(\"../extent.js\").Extent} [extent] The validity extent for the SRS.\n   * @property {string} [axisOrientation='enu'] The axis orientation as specified in Proj4.\n   * @property {boolean} [global=false] Whether the projection is valid for the whole globe.\n   * @property {number} [metersPerUnit] The meters per unit for the SRS.\n   * If not provided, the `units` are used to get the meters per unit from the {@link module:ol/proj/Units~METERS_PER_UNIT}\n   * lookup table.\n   * @property {import(\"../extent.js\").Extent} [worldExtent] The world extent for the SRS.\n   * @property {function(number, import(\"../coordinate.js\").Coordinate):number} [getPointResolution]\n   * Function to determine resolution at a point. The function is called with a\n   * `{number}` view resolution and an `{import(\"../coordinate.js\").Coordinate}` as arguments, and returns\n   * the `{number}` resolution at the passed coordinate. If this is `undefined`,\n   * the default {@link module:ol/proj#getPointResolution} function will be used.\n   */\n\n\n  /**\n   * @classdesc\n   * Projection definition class. One of these is created for each projection\n   * supported in the application and stored in the {@link module:ol/proj} namespace.\n   * You can use these in applications, but this is not required, as API params\n   * and options use {@link module:ol/proj~ProjectionLike} which means the simple string\n   * code will suffice.\n   *\n   * You can use {@link module:ol/proj~get} to retrieve the object for a particular\n   * projection.\n   *\n   * The library includes definitions for `EPSG:4326` and `EPSG:3857`, together\n   * with the following aliases:\n   * * `EPSG:4326`: CRS:84, urn:ogc:def:crs:EPSG:6.6:4326,\n   *     urn:ogc:def:crs:OGC:1.3:CRS84, urn:ogc:def:crs:OGC:2:84,\n   *     http://www.opengis.net/gml/srs/epsg.xml#4326,\n   *     urn:x-ogc:def:crs:EPSG:4326\n   * * `EPSG:3857`: EPSG:102100, EPSG:102113, EPSG:900913,\n   *     urn:ogc:def:crs:EPSG:6.18:3:3857,\n   *     http://www.opengis.net/gml/srs/epsg.xml#3857\n   *\n   * If you use [proj4js](https://github.com/proj4js/proj4js), aliases can\n   * be added using `proj4.defs()`. After all required projection definitions are\n   * added, call the {@link module:ol/proj/proj4~register} function.\n   *\n   * @api\n   */\n  var Projection = function Projection(options) {\n    /**\n     * @private\n     * @type {string}\n     */\n    this.code_ = options.code;\n\n    /**\n     * Units of projected coordinates. When set to `TILE_PIXELS`, a\n     * `this.extent_` and `this.worldExtent_` must be configured properly for each\n     * tile.\n     * @private\n     * @type {import(\"./Units.js\").default}\n     */\n    this.units_ = /** @type {import(\"./Units.js\").default} */ (options.units);\n\n    /**\n     * Validity extent of the projection in projected coordinates. For projections\n     * with `TILE_PIXELS` units, this is the extent of the tile in\n     * tile pixel space.\n     * @private\n     * @type {import(\"../extent.js\").Extent}\n     */\n    this.extent_ = options.extent !== undefined ? options.extent : null;\n\n    /**\n     * Extent of the world in EPSG:4326. For projections with\n     * `TILE_PIXELS` units, this is the extent of the tile in\n     * projected coordinate space.\n     * @private\n     * @type {import(\"../extent.js\").Extent}\n     */\n    this.worldExtent_ = options.worldExtent !== undefined ?\n      options.worldExtent : null;\n\n    /**\n     * @private\n     * @type {string}\n     */\n    this.axisOrientation_ = options.axisOrientation !== undefined ?\n      options.axisOrientation : 'enu';\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.global_ = options.global !== undefined ? options.global : false;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.canWrapX_ = !!(this.global_ && this.extent_);\n\n    /**\n     * @private\n     * @type {function(number, import(\"../coordinate.js\").Coordinate):number|undefined}\n     */\n    this.getPointResolutionFunc_ = options.getPointResolution;\n\n    /**\n     * @private\n     * @type {import(\"../tilegrid/TileGrid.js\").default}\n     */\n    this.defaultTileGrid_ = null;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.metersPerUnit_ = options.metersPerUnit;\n  };\n\n  /**\n   * @return {boolean} The projection is suitable for wrapping the x-axis\n   */\n  Projection.prototype.canWrapX = function canWrapX () {\n    return this.canWrapX_;\n  };\n\n  /**\n   * Get the code for this projection, e.g. 'EPSG:4326'.\n   * @return {string} Code.\n   * @api\n   */\n  Projection.prototype.getCode = function getCode () {\n    return this.code_;\n  };\n\n  /**\n   * Get the validity extent for this projection.\n   * @return {import(\"../extent.js\").Extent} Extent.\n   * @api\n   */\n  Projection.prototype.getExtent = function getExtent () {\n    return this.extent_;\n  };\n\n  /**\n   * Get the units of this projection.\n   * @return {import(\"./Units.js\").default} Units.\n   * @api\n   */\n  Projection.prototype.getUnits = function getUnits () {\n    return this.units_;\n  };\n\n  /**\n   * Get the amount of meters per unit of this projection.If the projection is\n   * not configured with `metersPerUnit` or a units identifier, the return is\n   * `undefined`.\n   * @return {number|undefined} Meters.\n   * @api\n   */\n  Projection.prototype.getMetersPerUnit = function getMetersPerUnit () {\n    return this.metersPerUnit_ || METERS_PER_UNIT[this.units_];\n  };\n\n  /**\n   * Get the world extent for this projection.\n   * @return {import(\"../extent.js\").Extent} Extent.\n   * @api\n   */\n  Projection.prototype.getWorldExtent = function getWorldExtent () {\n    return this.worldExtent_;\n  };\n\n  /**\n   * Get the axis orientation of this projection.\n   * Example values are:\n   * enu - the default easting, northing, elevation.\n   * neu - northing, easting, up - useful for \"lat/long\" geographic coordinates,\n   *   or south orientated transverse mercator.\n   * wnu - westing, northing, up - some planetary coordinate systems have\n   *   \"west positive\" coordinate systems\n   * @return {string} Axis orientation.\n   * @api\n   */\n  Projection.prototype.getAxisOrientation = function getAxisOrientation () {\n    return this.axisOrientation_;\n  };\n\n  /**\n   * Is this projection a global projection which spans the whole world?\n   * @return {boolean} Whether the projection is global.\n   * @api\n   */\n  Projection.prototype.isGlobal = function isGlobal () {\n    return this.global_;\n  };\n\n  /**\n   * Set if the projection is a global projection which spans the whole world\n   * @param {boolean} global Whether the projection is global.\n   * @api\n   */\n  Projection.prototype.setGlobal = function setGlobal (global) {\n    this.global_ = global;\n    this.canWrapX_ = !!(global && this.extent_);\n  };\n\n  /**\n   * @return {import(\"../tilegrid/TileGrid.js\").default} The default tile grid.\n   */\n  Projection.prototype.getDefaultTileGrid = function getDefaultTileGrid () {\n    return this.defaultTileGrid_;\n  };\n\n  /**\n   * @param {import(\"../tilegrid/TileGrid.js\").default} tileGrid The default tile grid.\n   */\n  Projection.prototype.setDefaultTileGrid = function setDefaultTileGrid (tileGrid) {\n    this.defaultTileGrid_ = tileGrid;\n  };\n\n  /**\n   * Set the validity extent for this projection.\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @api\n   */\n  Projection.prototype.setExtent = function setExtent (extent) {\n    this.extent_ = extent;\n    this.canWrapX_ = !!(this.global_ && extent);\n  };\n\n  /**\n   * Set the world extent for this projection.\n   * @param {import(\"../extent.js\").Extent} worldExtent World extent\n   *   [minlon, minlat, maxlon, maxlat].\n   * @api\n   */\n  Projection.prototype.setWorldExtent = function setWorldExtent (worldExtent) {\n    this.worldExtent_ = worldExtent;\n  };\n\n  /**\n   * Set the getPointResolution function (see {@link module:ol/proj~getPointResolution}\n   * for this projection.\n   * @param {function(number, import(\"../coordinate.js\").Coordinate):number} func Function\n   * @api\n   */\n  Projection.prototype.setGetPointResolution = function setGetPointResolution (func) {\n    this.getPointResolutionFunc_ = func;\n  };\n\n  /**\n   * Get the custom point resolution function for this projection (if set).\n   * @return {function(number, import(\"../coordinate.js\").Coordinate):number|undefined} The custom point\n   * resolution function (if set).\n   */\n  Projection.prototype.getPointResolutionFunc = function getPointResolutionFunc () {\n    return this.getPointResolutionFunc_;\n  };\n\n  /**\n   * @module ol/proj/epsg3857\n   */\n\n\n  /**\n   * Radius of WGS84 sphere\n   *\n   * @const\n   * @type {number}\n   */\n  var RADIUS = 6378137;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var HALF_SIZE = Math.PI * RADIUS;\n\n\n  /**\n   * @const\n   * @type {import(\"../extent.js\").Extent}\n   */\n  var EXTENT = [\n    -HALF_SIZE, -HALF_SIZE,\n    HALF_SIZE, HALF_SIZE\n  ];\n\n\n  /**\n   * @const\n   * @type {import(\"../extent.js\").Extent}\n   */\n  var WORLD_EXTENT = [-180, -85, 180, 85];\n\n\n  /**\n   * @classdesc\n   * Projection object for web/spherical Mercator (EPSG:3857).\n   */\n  var EPSG3857Projection = /*@__PURE__*/(function (Projection$$1) {\n    function EPSG3857Projection(code) {\n      Projection$$1.call(this, {\n        code: code,\n        units: Units.METERS,\n        extent: EXTENT,\n        global: true,\n        worldExtent: WORLD_EXTENT,\n        getPointResolution: function(resolution, point) {\n          return resolution / cosh(point[1] / RADIUS);\n        }\n      });\n\n    }\n\n    if ( Projection$$1 ) EPSG3857Projection.__proto__ = Projection$$1;\n    EPSG3857Projection.prototype = Object.create( Projection$$1 && Projection$$1.prototype );\n    EPSG3857Projection.prototype.constructor = EPSG3857Projection;\n\n    return EPSG3857Projection;\n  }(Projection));\n\n\n  /**\n   * Projections equal to EPSG:3857.\n   *\n   * @const\n   * @type {Array<import(\"./Projection.js\").default>}\n   */\n  var PROJECTIONS = [\n    new EPSG3857Projection('EPSG:3857'),\n    new EPSG3857Projection('EPSG:102100'),\n    new EPSG3857Projection('EPSG:102113'),\n    new EPSG3857Projection('EPSG:900913'),\n    new EPSG3857Projection('urn:ogc:def:crs:EPSG:6.18:3:3857'),\n    new EPSG3857Projection('urn:ogc:def:crs:EPSG::3857'),\n    new EPSG3857Projection('http://www.opengis.net/gml/srs/epsg.xml#3857')\n  ];\n\n\n  /**\n   * Transformation from EPSG:4326 to EPSG:3857.\n   *\n   * @param {Array<number>} input Input array of coordinate values.\n   * @param {Array<number>=} opt_output Output array of coordinate values.\n   * @param {number=} opt_dimension Dimension (default is `2`).\n   * @return {Array<number>} Output array of coordinate values.\n   */\n  function fromEPSG4326(input, opt_output, opt_dimension) {\n    var length = input.length;\n    var dimension = opt_dimension > 1 ? opt_dimension : 2;\n    var output = opt_output;\n    if (output === undefined) {\n      if (dimension > 2) {\n        // preserve values beyond second dimension\n        output = input.slice();\n      } else {\n        output = new Array(length);\n      }\n    }\n    var halfSize = HALF_SIZE;\n    for (var i = 0; i < length; i += dimension) {\n      output[i] = halfSize * input[i] / 180;\n      var y = RADIUS *\n          Math.log(Math.tan(Math.PI * (input[i + 1] + 90) / 360));\n      if (y > halfSize) {\n        y = halfSize;\n      } else if (y < -halfSize) {\n        y = -halfSize;\n      }\n      output[i + 1] = y;\n    }\n    return output;\n  }\n\n\n  /**\n   * Transformation from EPSG:3857 to EPSG:4326.\n   *\n   * @param {Array<number>} input Input array of coordinate values.\n   * @param {Array<number>=} opt_output Output array of coordinate values.\n   * @param {number=} opt_dimension Dimension (default is `2`).\n   * @return {Array<number>} Output array of coordinate values.\n   */\n  function toEPSG4326(input, opt_output, opt_dimension) {\n    var length = input.length;\n    var dimension = opt_dimension > 1 ? opt_dimension : 2;\n    var output = opt_output;\n    if (output === undefined) {\n      if (dimension > 2) {\n        // preserve values beyond second dimension\n        output = input.slice();\n      } else {\n        output = new Array(length);\n      }\n    }\n    for (var i = 0; i < length; i += dimension) {\n      output[i] = 180 * input[i] / HALF_SIZE;\n      output[i + 1] = 360 * Math.atan(\n        Math.exp(input[i + 1] / RADIUS)) / Math.PI - 90;\n    }\n    return output;\n  }\n\n  /**\n   * @module ol/proj/epsg4326\n   */\n\n\n  /**\n   * Semi-major radius of the WGS84 ellipsoid.\n   *\n   * @const\n   * @type {number}\n   */\n  var RADIUS$1 = 6378137;\n\n\n  /**\n   * Extent of the EPSG:4326 projection which is the whole world.\n   *\n   * @const\n   * @type {import(\"../extent.js\").Extent}\n   */\n  var EXTENT$1 = [-180, -90, 180, 90];\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var METERS_PER_UNIT$1 = Math.PI * RADIUS$1 / 180;\n\n\n  /**\n   * @classdesc\n   * Projection object for WGS84 geographic coordinates (EPSG:4326).\n   *\n   * Note that OpenLayers does not strictly comply with the EPSG definition.\n   * The EPSG registry defines 4326 as a CRS for Latitude,Longitude (y,x).\n   * OpenLayers treats EPSG:4326 as a pseudo-projection, with x,y coordinates.\n   */\n  var EPSG4326Projection = /*@__PURE__*/(function (Projection$$1) {\n    function EPSG4326Projection(code, opt_axisOrientation) {\n      Projection$$1.call(this, {\n        code: code,\n        units: Units.DEGREES,\n        extent: EXTENT$1,\n        axisOrientation: opt_axisOrientation,\n        global: true,\n        metersPerUnit: METERS_PER_UNIT$1,\n        worldExtent: EXTENT$1\n      });\n\n    }\n\n    if ( Projection$$1 ) EPSG4326Projection.__proto__ = Projection$$1;\n    EPSG4326Projection.prototype = Object.create( Projection$$1 && Projection$$1.prototype );\n    EPSG4326Projection.prototype.constructor = EPSG4326Projection;\n\n    return EPSG4326Projection;\n  }(Projection));\n\n\n  /**\n   * Projections equal to EPSG:4326.\n   *\n   * @const\n   * @type {Array<import(\"./Projection.js\").default>}\n   */\n  var PROJECTIONS$1 = [\n    new EPSG4326Projection('CRS:84'),\n    new EPSG4326Projection('EPSG:4326', 'neu'),\n    new EPSG4326Projection('urn:ogc:def:crs:EPSG::4326', 'neu'),\n    new EPSG4326Projection('urn:ogc:def:crs:EPSG:6.6:4326', 'neu'),\n    new EPSG4326Projection('urn:ogc:def:crs:OGC:1.3:CRS84'),\n    new EPSG4326Projection('urn:ogc:def:crs:OGC:2:84'),\n    new EPSG4326Projection('http://www.opengis.net/gml/srs/epsg.xml#4326', 'neu'),\n    new EPSG4326Projection('urn:x-ogc:def:crs:EPSG:4326', 'neu')\n  ];\n\n  /**\n   * @module ol/proj/projections\n   */\n\n\n  /**\n   * @type {Object<string, import(\"./Projection.js\").default>}\n   */\n  var cache = {};\n\n\n  /**\n   * Get a cached projection by code.\n   * @param {string} code The code for the projection.\n   * @return {import(\"./Projection.js\").default} The projection (if cached).\n   */\n  function get(code) {\n    return cache[code] || null;\n  }\n\n\n  /**\n   * Add a projection to the cache.\n   * @param {string} code The projection code.\n   * @param {import(\"./Projection.js\").default} projection The projection to cache.\n   */\n  function add$1(code, projection) {\n    cache[code] = projection;\n  }\n\n  /**\n   * @module ol/proj/transforms\n   */\n\n\n  /**\n   * @private\n   * @type {!Object<string, Object<string, import(\"../proj.js\").TransformFunction>>}\n   */\n  var transforms = {};\n\n\n  /**\n   * Registers a conversion function to convert coordinates from the source\n   * projection to the destination projection.\n   *\n   * @param {import(\"./Projection.js\").default} source Source.\n   * @param {import(\"./Projection.js\").default} destination Destination.\n   * @param {import(\"../proj.js\").TransformFunction} transformFn Transform.\n   */\n  function add$2(source, destination, transformFn) {\n    var sourceCode = source.getCode();\n    var destinationCode = destination.getCode();\n    if (!(sourceCode in transforms)) {\n      transforms[sourceCode] = {};\n    }\n    transforms[sourceCode][destinationCode] = transformFn;\n  }\n\n\n  /**\n   * Get a transform given a source code and a destination code.\n   * @param {string} sourceCode The code for the source projection.\n   * @param {string} destinationCode The code for the destination projection.\n   * @return {import(\"../proj.js\").TransformFunction|undefined} The transform function (if found).\n   */\n  function get$1(sourceCode, destinationCode) {\n    var transform;\n    if (sourceCode in transforms && destinationCode in transforms[sourceCode]) {\n      transform = transforms[sourceCode][destinationCode];\n    }\n    return transform;\n  }\n\n  /**\n   * @module ol/proj\n   */\n\n  /**\n   * @param {Array<number>} input Input coordinate array.\n   * @param {Array<number>=} opt_output Output array of coordinate values.\n   * @param {number=} opt_dimension Dimension.\n   * @return {Array<number>} Output coordinate array (new array, same coordinate\n   *     values).\n   */\n  function cloneTransform(input, opt_output, opt_dimension) {\n    var output;\n    if (opt_output !== undefined) {\n      for (var i = 0, ii = input.length; i < ii; ++i) {\n        opt_output[i] = input[i];\n      }\n      output = opt_output;\n    } else {\n      output = input.slice();\n    }\n    return output;\n  }\n\n\n  /**\n   * @param {Array<number>} input Input coordinate array.\n   * @param {Array<number>=} opt_output Output array of coordinate values.\n   * @param {number=} opt_dimension Dimension.\n   * @return {Array<number>} Input coordinate array (same array as input).\n   */\n  function identityTransform(input, opt_output, opt_dimension) {\n    if (opt_output !== undefined && input !== opt_output) {\n      for (var i = 0, ii = input.length; i < ii; ++i) {\n        opt_output[i] = input[i];\n      }\n      input = opt_output;\n    }\n    return input;\n  }\n\n\n  /**\n   * Add a Projection object to the list of supported projections that can be\n   * looked up by their code.\n   *\n   * @param {Projection} projection Projection instance.\n   * @api\n   */\n  function addProjection(projection) {\n    add$1(projection.getCode(), projection);\n    add$2(projection, projection, cloneTransform);\n  }\n\n\n  /**\n   * @param {Array<Projection>} projections Projections.\n   */\n  function addProjections(projections) {\n    projections.forEach(addProjection);\n  }\n\n\n  /**\n   * Fetches a Projection object for the code specified.\n   *\n   * @param {ProjectionLike} projectionLike Either a code string which is\n   *     a combination of authority and identifier such as \"EPSG:4326\", or an\n   *     existing projection object, or undefined.\n   * @return {Projection} Projection object, or null if not in list.\n   * @api\n   */\n  function get$2(projectionLike) {\n    return typeof projectionLike === 'string' ?\n      get(/** @type {string} */ (projectionLike)) :\n      (/** @type {Projection} */ (projectionLike) || null);\n  }\n\n\n  /**\n   * Get the resolution of the point in degrees or distance units.\n   * For projections with degrees as the unit this will simply return the\n   * provided resolution. For other projections the point resolution is\n   * by default estimated by transforming the 'point' pixel to EPSG:4326,\n   * measuring its width and height on the normal sphere,\n   * and taking the average of the width and height.\n   * A custom function can be provided for a specific projection, either\n   * by setting the `getPointResolution` option in the\n   * {@link module:ol/proj/Projection~Projection} constructor or by using\n   * {@link module:ol/proj/Projection~Projection#setGetPointResolution} to change an existing\n   * projection object.\n   * @param {ProjectionLike} projection The projection.\n   * @param {number} resolution Nominal resolution in projection units.\n   * @param {import(\"./coordinate.js\").Coordinate} point Point to find adjusted resolution at.\n   * @param {Units=} opt_units Units to get the point resolution in.\n   * Default is the projection's units.\n   * @return {number} Point resolution.\n   * @api\n   */\n  function getPointResolution(projection, resolution, point, opt_units) {\n    projection = get$2(projection);\n    var pointResolution;\n    var getter = projection.getPointResolutionFunc();\n    if (getter) {\n      pointResolution = getter(resolution, point);\n    } else {\n      var units = projection.getUnits();\n      if (units == Units.DEGREES && !opt_units || opt_units == Units.DEGREES) {\n        pointResolution = resolution;\n      } else {\n        // Estimate point resolution by transforming the center pixel to EPSG:4326,\n        // measuring its width and height on the normal sphere, and taking the\n        // average of the width and height.\n        var toEPSG4326$$1 = getTransformFromProjections(projection, get$2('EPSG:4326'));\n        var vertices = [\n          point[0] - resolution / 2, point[1],\n          point[0] + resolution / 2, point[1],\n          point[0], point[1] - resolution / 2,\n          point[0], point[1] + resolution / 2\n        ];\n        vertices = toEPSG4326$$1(vertices, vertices, 2);\n        var width = getDistance(vertices.slice(0, 2), vertices.slice(2, 4));\n        var height = getDistance(vertices.slice(4, 6), vertices.slice(6, 8));\n        pointResolution = (width + height) / 2;\n        var metersPerUnit = opt_units ?\n          METERS_PER_UNIT[opt_units] :\n          projection.getMetersPerUnit();\n        if (metersPerUnit !== undefined) {\n          pointResolution /= metersPerUnit;\n        }\n      }\n    }\n    return pointResolution;\n  }\n\n\n  /**\n   * Registers transformation functions that don't alter coordinates. Those allow\n   * to transform between projections with equal meaning.\n   *\n   * @param {Array<Projection>} projections Projections.\n   * @api\n   */\n  function addEquivalentProjections(projections) {\n    addProjections(projections);\n    projections.forEach(function(source) {\n      projections.forEach(function(destination) {\n        if (source !== destination) {\n          add$2(source, destination, cloneTransform);\n        }\n      });\n    });\n  }\n\n\n  /**\n   * Registers transformation functions to convert coordinates in any projection\n   * in projection1 to any projection in projection2.\n   *\n   * @param {Array<Projection>} projections1 Projections with equal\n   *     meaning.\n   * @param {Array<Projection>} projections2 Projections with equal\n   *     meaning.\n   * @param {TransformFunction} forwardTransform Transformation from any\n   *   projection in projection1 to any projection in projection2.\n   * @param {TransformFunction} inverseTransform Transform from any projection\n   *   in projection2 to any projection in projection1..\n   */\n  function addEquivalentTransforms(projections1, projections2, forwardTransform, inverseTransform) {\n    projections1.forEach(function(projection1) {\n      projections2.forEach(function(projection2) {\n        add$2(projection1, projection2, forwardTransform);\n        add$2(projection2, projection1, inverseTransform);\n      });\n    });\n  }\n\n\n  /**\n   * @param {Projection|string|undefined} projection Projection.\n   * @param {string} defaultCode Default code.\n   * @return {Projection} Projection.\n   */\n  function createProjection(projection, defaultCode) {\n    if (!projection) {\n      return get$2(defaultCode);\n    } else if (typeof projection === 'string') {\n      return get$2(projection);\n    } else {\n      return (\n        /** @type {Projection} */ (projection)\n      );\n    }\n  }\n\n\n  /**\n   * Checks if two projections are the same, that is every coordinate in one\n   * projection does represent the same geographic point as the same coordinate in\n   * the other projection.\n   *\n   * @param {Projection} projection1 Projection 1.\n   * @param {Projection} projection2 Projection 2.\n   * @return {boolean} Equivalent.\n   * @api\n   */\n  function equivalent(projection1, projection2) {\n    if (projection1 === projection2) {\n      return true;\n    }\n    var equalUnits = projection1.getUnits() === projection2.getUnits();\n    if (projection1.getCode() === projection2.getCode()) {\n      return equalUnits;\n    } else {\n      var transformFunc = getTransformFromProjections(projection1, projection2);\n      return transformFunc === cloneTransform && equalUnits;\n    }\n  }\n\n\n  /**\n   * Searches in the list of transform functions for the function for converting\n   * coordinates from the source projection to the destination projection.\n   *\n   * @param {Projection} sourceProjection Source Projection object.\n   * @param {Projection} destinationProjection Destination Projection\n   *     object.\n   * @return {TransformFunction} Transform function.\n   */\n  function getTransformFromProjections(sourceProjection, destinationProjection) {\n    var sourceCode = sourceProjection.getCode();\n    var destinationCode = destinationProjection.getCode();\n    var transformFunc = get$1(sourceCode, destinationCode);\n    if (!transformFunc) {\n      transformFunc = identityTransform;\n    }\n    return transformFunc;\n  }\n\n\n  /**\n   * Given the projection-like objects, searches for a transformation\n   * function to convert a coordinates array from the source projection to the\n   * destination projection.\n   *\n   * @param {ProjectionLike} source Source.\n   * @param {ProjectionLike} destination Destination.\n   * @return {TransformFunction} Transform function.\n   * @api\n   */\n  function getTransform(source, destination) {\n    var sourceProjection = get$2(source);\n    var destinationProjection = get$2(destination);\n    return getTransformFromProjections(sourceProjection, destinationProjection);\n  }\n\n\n  /**\n   * Transforms a coordinate from source projection to destination projection.\n   * This returns a new coordinate (and does not modify the original).\n   *\n   * See {@link module:ol/proj~transformExtent} for extent transformation.\n   * See the transform method of {@link module:ol/geom/Geometry~Geometry} and its\n   * subclasses for geometry transforms.\n   *\n   * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n   * @param {ProjectionLike} source Source projection-like.\n   * @param {ProjectionLike} destination Destination projection-like.\n   * @return {import(\"./coordinate.js\").Coordinate} Coordinate.\n   * @api\n   */\n  function transform(coordinate, source, destination) {\n    var transformFunc = getTransform(source, destination);\n    return transformFunc(coordinate, undefined, coordinate.length);\n  }\n\n  /**\n   * Add transforms to and from EPSG:4326 and EPSG:3857.  This function is called\n   * by when this module is executed and should only need to be called again after\n   * `clearAllProjections()` is called (e.g. in tests).\n   */\n  function addCommon() {\n    // Add transformations that don't alter coordinates to convert within set of\n    // projections with equal meaning.\n    addEquivalentProjections(PROJECTIONS);\n    addEquivalentProjections(PROJECTIONS$1);\n    // Add transformations to convert EPSG:4326 like coordinates to EPSG:3857 like\n    // coordinates and back.\n    addEquivalentTransforms(PROJECTIONS$1, PROJECTIONS, fromEPSG4326, toEPSG4326);\n  }\n\n  addCommon();\n\n  /**\n   * @module ol/transform\n   */\n\n\n  /**\n   * An array representing an affine 2d transformation for use with\n   * {@link module:ol/transform} functions. The array has 6 elements.\n   * @typedef {!Array<number>} Transform\n   */\n\n\n  /**\n   * Collection of affine 2d transformation functions. The functions work on an\n   * array of 6 elements. The element order is compatible with the [SVGMatrix\n   * interface](https://developer.mozilla.org/en-US/docs/Web/API/SVGMatrix) and is\n   * a subset (elements a to f) of a 3×3 matrix:\n   * ```\n   * [ a c e ]\n   * [ b d f ]\n   * [ 0 0 1 ]\n   * ```\n   */\n\n\n  /**\n   * @private\n   * @type {Transform}\n   */\n  var tmp_ = new Array(6);\n\n\n  /**\n   * Create an identity transform.\n   * @return {!Transform} Identity transform.\n   */\n  function create() {\n    return [1, 0, 0, 1, 0, 0];\n  }\n\n\n  /**\n   * Resets the given transform to an identity transform.\n   * @param {!Transform} transform Transform.\n   * @return {!Transform} Transform.\n   */\n  function reset(transform) {\n    return set(transform, 1, 0, 0, 1, 0, 0);\n  }\n\n\n  /**\n   * Multiply the underlying matrices of two transforms and return the result in\n   * the first transform.\n   * @param {!Transform} transform1 Transform parameters of matrix 1.\n   * @param {!Transform} transform2 Transform parameters of matrix 2.\n   * @return {!Transform} transform1 multiplied with transform2.\n   */\n  function multiply(transform1, transform2) {\n    var a1 = transform1[0];\n    var b1 = transform1[1];\n    var c1 = transform1[2];\n    var d1 = transform1[3];\n    var e1 = transform1[4];\n    var f1 = transform1[5];\n    var a2 = transform2[0];\n    var b2 = transform2[1];\n    var c2 = transform2[2];\n    var d2 = transform2[3];\n    var e2 = transform2[4];\n    var f2 = transform2[5];\n\n    transform1[0] = a1 * a2 + c1 * b2;\n    transform1[1] = b1 * a2 + d1 * b2;\n    transform1[2] = a1 * c2 + c1 * d2;\n    transform1[3] = b1 * c2 + d1 * d2;\n    transform1[4] = a1 * e2 + c1 * f2 + e1;\n    transform1[5] = b1 * e2 + d1 * f2 + f1;\n\n    return transform1;\n  }\n\n  /**\n   * Set the transform components a-f on a given transform.\n   * @param {!Transform} transform Transform.\n   * @param {number} a The a component of the transform.\n   * @param {number} b The b component of the transform.\n   * @param {number} c The c component of the transform.\n   * @param {number} d The d component of the transform.\n   * @param {number} e The e component of the transform.\n   * @param {number} f The f component of the transform.\n   * @return {!Transform} Matrix with transform applied.\n   */\n  function set(transform, a, b, c, d, e, f) {\n    transform[0] = a;\n    transform[1] = b;\n    transform[2] = c;\n    transform[3] = d;\n    transform[4] = e;\n    transform[5] = f;\n    return transform;\n  }\n\n\n  /**\n   * Set transform on one matrix from another matrix.\n   * @param {!Transform} transform1 Matrix to set transform to.\n   * @param {!Transform} transform2 Matrix to set transform from.\n   * @return {!Transform} transform1 with transform from transform2 applied.\n   */\n  function setFromArray(transform1, transform2) {\n    transform1[0] = transform2[0];\n    transform1[1] = transform2[1];\n    transform1[2] = transform2[2];\n    transform1[3] = transform2[3];\n    transform1[4] = transform2[4];\n    transform1[5] = transform2[5];\n    return transform1;\n  }\n\n\n  /**\n   * Transforms the given coordinate with the given transform returning the\n   * resulting, transformed coordinate. The coordinate will be modified in-place.\n   *\n   * @param {Transform} transform The transformation.\n   * @param {import(\"./coordinate.js\").Coordinate|import(\"./pixel.js\").Pixel} coordinate The coordinate to transform.\n   * @return {import(\"./coordinate.js\").Coordinate|import(\"./pixel.js\").Pixel} return coordinate so that operations can be\n   *     chained together.\n   */\n  function apply(transform, coordinate) {\n    var x = coordinate[0];\n    var y = coordinate[1];\n    coordinate[0] = transform[0] * x + transform[2] * y + transform[4];\n    coordinate[1] = transform[1] * x + transform[3] * y + transform[5];\n    return coordinate;\n  }\n\n\n  /**\n   * Applies rotation to the given transform.\n   * @param {!Transform} transform Transform.\n   * @param {number} angle Angle in radians.\n   * @return {!Transform} The rotated transform.\n   */\n  function rotate$2(transform, angle) {\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    return multiply(transform, set(tmp_, cos, sin, -sin, cos, 0, 0));\n  }\n\n\n  /**\n   * Applies scale to a given transform.\n   * @param {!Transform} transform Transform.\n   * @param {number} x Scale factor x.\n   * @param {number} y Scale factor y.\n   * @return {!Transform} The scaled transform.\n   */\n  function scale$2(transform, x, y) {\n    return multiply(transform, set(tmp_, x, 0, 0, y, 0, 0));\n  }\n\n\n  /**\n   * Applies translation to the given transform.\n   * @param {!Transform} transform Transform.\n   * @param {number} dx Translation x.\n   * @param {number} dy Translation y.\n   * @return {!Transform} The translated transform.\n   */\n  function translate$1(transform, dx, dy) {\n    return multiply(transform, set(tmp_, 1, 0, 0, 1, dx, dy));\n  }\n\n\n  /**\n   * Creates a composite transform given an initial translation, scale, rotation, and\n   * final translation (in that order only, not commutative).\n   * @param {!Transform} transform The transform (will be modified in place).\n   * @param {number} dx1 Initial translation x.\n   * @param {number} dy1 Initial translation y.\n   * @param {number} sx Scale factor x.\n   * @param {number} sy Scale factor y.\n   * @param {number} angle Rotation (in counter-clockwise radians).\n   * @param {number} dx2 Final translation x.\n   * @param {number} dy2 Final translation y.\n   * @return {!Transform} The composite transform.\n   */\n  function compose(transform, dx1, dy1, sx, sy, angle, dx2, dy2) {\n    var sin = Math.sin(angle);\n    var cos = Math.cos(angle);\n    transform[0] = sx * cos;\n    transform[1] = sy * sin;\n    transform[2] = -sx * sin;\n    transform[3] = sy * cos;\n    transform[4] = dx2 * sx * cos - dy2 * sx * sin + dx1;\n    transform[5] = dx2 * sy * sin + dy2 * sy * cos + dy1;\n    return transform;\n  }\n\n\n  /**\n   * Invert the given transform.\n   * @param {!Transform} transform Transform.\n   * @return {!Transform} Inverse of the transform.\n   */\n  function invert(transform) {\n    var det = determinant(transform);\n    assert(det !== 0, 32); // Transformation matrix cannot be inverted\n\n    var a = transform[0];\n    var b = transform[1];\n    var c = transform[2];\n    var d = transform[3];\n    var e = transform[4];\n    var f = transform[5];\n\n    transform[0] = d / det;\n    transform[1] = -b / det;\n    transform[2] = -c / det;\n    transform[3] = a / det;\n    transform[4] = (c * f - d * e) / det;\n    transform[5] = -(a * f - b * e) / det;\n\n    return transform;\n  }\n\n\n  /**\n   * Returns the determinant of the given matrix.\n   * @param {!Transform} mat Matrix.\n   * @return {number} Determinant.\n   */\n  function determinant(mat) {\n    return mat[0] * mat[3] - mat[1] * mat[2];\n  }\n\n  /**\n   * @module ol/geom/Geometry\n   */\n\n\n  /**\n   * @type {import(\"../transform.js\").Transform}\n   */\n  var tmpTransform = create();\n\n\n  /**\n   * @classdesc\n   * Abstract base class; normally only used for creating subclasses and not\n   * instantiated in apps.\n   * Base class for vector geometries.\n   *\n   * To get notified of changes to the geometry, register a listener for the\n   * generic `change` event on your geometry instance.\n   *\n   * @abstract\n   * @api\n   */\n  var Geometry = /*@__PURE__*/(function (BaseObject$$1) {\n    function Geometry() {\n\n      BaseObject$$1.call(this);\n\n      /**\n       * @private\n       * @type {import(\"../extent.js\").Extent}\n       */\n      this.extent_ = createEmpty();\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.extentRevision_ = -1;\n\n      /**\n       * @protected\n       * @type {Object<string, Geometry>}\n       */\n      this.simplifiedGeometryCache = {};\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.simplifiedGeometryMaxMinSquaredTolerance = 0;\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.simplifiedGeometryRevision = 0;\n\n    }\n\n    if ( BaseObject$$1 ) Geometry.__proto__ = BaseObject$$1;\n    Geometry.prototype = Object.create( BaseObject$$1 && BaseObject$$1.prototype );\n    Geometry.prototype.constructor = Geometry;\n\n    /**\n     * Make a complete copy of the geometry.\n     * @abstract\n     * @return {!Geometry} Clone.\n     */\n    Geometry.prototype.clone = function clone$$1 () {\n      return abstract();\n    };\n\n    /**\n     * @abstract\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    Geometry.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n      return abstract();\n    };\n\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @return {boolean} Contains (x, y).\n     */\n    Geometry.prototype.containsXY = function containsXY$$1 (x, y) {\n      return false;\n    };\n\n    /**\n     * Return the closest point of the geometry to the passed point as\n     * {@link module:ol/coordinate~Coordinate coordinate}.\n     * @param {import(\"../coordinate.js\").Coordinate} point Point.\n     * @param {import(\"../coordinate.js\").Coordinate=} opt_closestPoint Closest point.\n     * @return {import(\"../coordinate.js\").Coordinate} Closest point.\n     * @api\n     */\n    Geometry.prototype.getClosestPoint = function getClosestPoint (point, opt_closestPoint) {\n      var closestPoint = opt_closestPoint ? opt_closestPoint : [NaN, NaN];\n      this.closestPointXY(point[0], point[1], closestPoint, Infinity);\n      return closestPoint;\n    };\n\n    /**\n     * Returns true if this geometry includes the specified coordinate. If the\n     * coordinate is on the boundary of the geometry, returns false.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @return {boolean} Contains coordinate.\n     * @api\n     */\n    Geometry.prototype.intersectsCoordinate = function intersectsCoordinate (coordinate) {\n      return this.containsXY(coordinate[0], coordinate[1]);\n    };\n\n    /**\n     * @abstract\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @protected\n     * @return {import(\"../extent.js\").Extent} extent Extent.\n     */\n    Geometry.prototype.computeExtent = function computeExtent (extent) {\n      return abstract();\n    };\n\n    /**\n     * Get the extent of the geometry.\n     * @param {import(\"../extent.js\").Extent=} opt_extent Extent.\n     * @return {import(\"../extent.js\").Extent} extent Extent.\n     * @api\n     */\n    Geometry.prototype.getExtent = function getExtent (opt_extent) {\n      if (this.extentRevision_ != this.getRevision()) {\n        this.extent_ = this.computeExtent(this.extent_);\n        this.extentRevision_ = this.getRevision();\n      }\n      return returnOrUpdate(this.extent_, opt_extent);\n    };\n\n    /**\n     * Rotate the geometry around a given coordinate. This modifies the geometry\n     * coordinates in place.\n     * @abstract\n     * @param {number} angle Rotation angle in radians.\n     * @param {import(\"../coordinate.js\").Coordinate} anchor The rotation center.\n     * @api\n     */\n    Geometry.prototype.rotate = function rotate (angle, anchor) {\n      abstract();\n    };\n\n    /**\n     * Scale the geometry (with an optional origin).  This modifies the geometry\n     * coordinates in place.\n     * @abstract\n     * @param {number} sx The scaling factor in the x-direction.\n     * @param {number=} opt_sy The scaling factor in the y-direction (defaults to\n     *     sx).\n     * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor The scale origin (defaults to the center\n     *     of the geometry extent).\n     * @api\n     */\n    Geometry.prototype.scale = function scale (sx, opt_sy, opt_anchor) {\n      abstract();\n    };\n\n    /**\n     * Create a simplified version of this geometry.  For linestrings, this uses\n     * the the {@link\n     * https://en.wikipedia.org/wiki/Ramer-Douglas-Peucker_algorithm\n     * Douglas Peucker} algorithm.  For polygons, a quantization-based\n     * simplification is used to preserve topology.\n     * @param {number} tolerance The tolerance distance for simplification.\n     * @return {Geometry} A new, simplified version of the original geometry.\n     * @api\n     */\n    Geometry.prototype.simplify = function simplify (tolerance) {\n      return this.getSimplifiedGeometry(tolerance * tolerance);\n    };\n\n    /**\n     * Create a simplified version of this geometry using the Douglas Peucker\n     * algorithm.\n     * See https://en.wikipedia.org/wiki/Ramer-Douglas-Peucker_algorithm.\n     * @abstract\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {Geometry} Simplified geometry.\n     */\n    Geometry.prototype.getSimplifiedGeometry = function getSimplifiedGeometry (squaredTolerance) {\n      return abstract();\n    };\n\n    /**\n     * Get the type of this geometry.\n     * @abstract\n     * @return {import(\"./GeometryType.js\").default} Geometry type.\n     */\n    Geometry.prototype.getType = function getType () {\n      return abstract();\n    };\n\n    /**\n     * Apply a transform function to each coordinate of the geometry.\n     * The geometry is modified in place.\n     * If you do not want the geometry modified in place, first `clone()` it and\n     * then use this function on the clone.\n     * @abstract\n     * @param {import(\"../proj.js\").TransformFunction} transformFn Transform.\n     */\n    Geometry.prototype.applyTransform = function applyTransform$$1 (transformFn) {\n      abstract();\n    };\n\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @abstract\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     */\n    Geometry.prototype.intersectsExtent = function intersectsExtent (extent) {\n      return abstract();\n    };\n\n    /**\n     * Translate the geometry.  This modifies the geometry coordinates in place.  If\n     * instead you want a new geometry, first `clone()` this geometry.\n     * @abstract\n     * @param {number} deltaX Delta X.\n     * @param {number} deltaY Delta Y.\n     * @api\n     */\n    Geometry.prototype.translate = function translate$$1 (deltaX, deltaY) {\n      abstract();\n    };\n\n    /**\n     * Transform each coordinate of the geometry from one coordinate reference\n     * system to another. The geometry is modified in place.\n     * For example, a line will be transformed to a line and a circle to a circle.\n     * If you do not want the geometry modified in place, first `clone()` it and\n     * then use this function on the clone.\n     *\n     * @param {import(\"../proj.js\").ProjectionLike} source The current projection.  Can be a\n     *     string identifier or a {@link module:ol/proj/Projection~Projection} object.\n     * @param {import(\"../proj.js\").ProjectionLike} destination The desired projection.  Can be a\n     *     string identifier or a {@link module:ol/proj/Projection~Projection} object.\n     * @return {Geometry} This geometry.  Note that original geometry is\n     *     modified in place.\n     * @api\n     */\n    Geometry.prototype.transform = function transform$$1 (source, destination) {\n      /** @type {import(\"../proj/Projection.js\").default} */\n      var sourceProj = get$2(source);\n      var transformFn = sourceProj.getUnits() == Units.TILE_PIXELS ?\n        function(inCoordinates, outCoordinates, stride) {\n          var pixelExtent = sourceProj.getExtent();\n          var projectedExtent = sourceProj.getWorldExtent();\n          var scale = getHeight(projectedExtent) / getHeight(pixelExtent);\n          compose(tmpTransform,\n            projectedExtent[0], projectedExtent[3],\n            scale, -scale, 0,\n            0, 0);\n          transform2D(inCoordinates, 0, inCoordinates.length, stride,\n            tmpTransform, outCoordinates);\n          return getTransform(sourceProj, destination)(inCoordinates, outCoordinates, stride);\n        } :\n        getTransform(sourceProj, destination);\n      this.applyTransform(transformFn);\n      return this;\n    };\n\n    return Geometry;\n  }(BaseObject));\n\n  /**\n   * @module ol/geom/SimpleGeometry\n   */\n\n  /**\n   * @classdesc\n   * Abstract base class; only used for creating subclasses; do not instantiate\n   * in apps, as cannot be rendered.\n   *\n   * @abstract\n   * @api\n   */\n  var SimpleGeometry = /*@__PURE__*/(function (Geometry$$1) {\n    function SimpleGeometry() {\n\n      Geometry$$1.call(this);\n\n      /**\n       * @protected\n       * @type {GeometryLayout}\n       */\n      this.layout = GeometryLayout.XY;\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.stride = 2;\n\n      /**\n       * @protected\n       * @type {Array<number>}\n       */\n      this.flatCoordinates = null;\n\n    }\n\n    if ( Geometry$$1 ) SimpleGeometry.__proto__ = Geometry$$1;\n    SimpleGeometry.prototype = Object.create( Geometry$$1 && Geometry$$1.prototype );\n    SimpleGeometry.prototype.constructor = SimpleGeometry;\n\n    /**\n     * @inheritDoc\n     */\n    SimpleGeometry.prototype.computeExtent = function computeExtent (extent) {\n      return createOrUpdateFromFlatCoordinates(this.flatCoordinates,\n        0, this.flatCoordinates.length, this.stride, extent);\n    };\n\n    /**\n     * @abstract\n     * @return {Array} Coordinates.\n     */\n    SimpleGeometry.prototype.getCoordinates = function getCoordinates () {\n      return abstract();\n    };\n\n    /**\n     * Return the first coordinate of the geometry.\n     * @return {import(\"../coordinate.js\").Coordinate} First coordinate.\n     * @api\n     */\n    SimpleGeometry.prototype.getFirstCoordinate = function getFirstCoordinate () {\n      return this.flatCoordinates.slice(0, this.stride);\n    };\n\n    /**\n     * @return {Array<number>} Flat coordinates.\n     */\n    SimpleGeometry.prototype.getFlatCoordinates = function getFlatCoordinates () {\n      return this.flatCoordinates;\n    };\n\n    /**\n     * Return the last coordinate of the geometry.\n     * @return {import(\"../coordinate.js\").Coordinate} Last point.\n     * @api\n     */\n    SimpleGeometry.prototype.getLastCoordinate = function getLastCoordinate () {\n      return this.flatCoordinates.slice(this.flatCoordinates.length - this.stride);\n    };\n\n    /**\n     * Return the {@link module:ol/geom/GeometryLayout layout} of the geometry.\n     * @return {GeometryLayout} Layout.\n     * @api\n     */\n    SimpleGeometry.prototype.getLayout = function getLayout () {\n      return this.layout;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    SimpleGeometry.prototype.getSimplifiedGeometry = function getSimplifiedGeometry (squaredTolerance) {\n      if (this.simplifiedGeometryRevision != this.getRevision()) {\n        clear(this.simplifiedGeometryCache);\n        this.simplifiedGeometryMaxMinSquaredTolerance = 0;\n        this.simplifiedGeometryRevision = this.getRevision();\n      }\n      // If squaredTolerance is negative or if we know that simplification will not\n      // have any effect then just return this.\n      if (squaredTolerance < 0 ||\n          (this.simplifiedGeometryMaxMinSquaredTolerance !== 0 &&\n           squaredTolerance <= this.simplifiedGeometryMaxMinSquaredTolerance)) {\n        return this;\n      }\n      var key = squaredTolerance.toString();\n      if (this.simplifiedGeometryCache.hasOwnProperty(key)) {\n        return this.simplifiedGeometryCache[key];\n      } else {\n        var simplifiedGeometry =\n            this.getSimplifiedGeometryInternal(squaredTolerance);\n        var simplifiedFlatCoordinates = simplifiedGeometry.getFlatCoordinates();\n        if (simplifiedFlatCoordinates.length < this.flatCoordinates.length) {\n          this.simplifiedGeometryCache[key] = simplifiedGeometry;\n          return simplifiedGeometry;\n        } else {\n          // Simplification did not actually remove any coordinates.  We now know\n          // that any calls to getSimplifiedGeometry with a squaredTolerance less\n          // than or equal to the current squaredTolerance will also not have any\n          // effect.  This allows us to short circuit simplification (saving CPU\n          // cycles) and prevents the cache of simplified geometries from filling\n          // up with useless identical copies of this geometry (saving memory).\n          this.simplifiedGeometryMaxMinSquaredTolerance = squaredTolerance;\n          return this;\n        }\n      }\n    };\n\n    /**\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {SimpleGeometry} Simplified geometry.\n     * @protected\n     */\n    SimpleGeometry.prototype.getSimplifiedGeometryInternal = function getSimplifiedGeometryInternal (squaredTolerance) {\n      return this;\n    };\n\n    /**\n     * @return {number} Stride.\n     */\n    SimpleGeometry.prototype.getStride = function getStride () {\n      return this.stride;\n    };\n\n    /**\n     * @param {GeometryLayout} layout Layout.\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     */\n    SimpleGeometry.prototype.setFlatCoordinates = function setFlatCoordinates (layout, flatCoordinates) {\n      this.stride = getStrideForLayout(layout);\n      this.layout = layout;\n      this.flatCoordinates = flatCoordinates;\n    };\n\n    /**\n     * @abstract\n     * @param {!Array} coordinates Coordinates.\n     * @param {GeometryLayout=} opt_layout Layout.\n     */\n    SimpleGeometry.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {\n      abstract();\n    };\n\n    /**\n     * @param {GeometryLayout|undefined} layout Layout.\n     * @param {Array} coordinates Coordinates.\n     * @param {number} nesting Nesting.\n     * @protected\n     */\n    SimpleGeometry.prototype.setLayout = function setLayout (layout, coordinates, nesting) {\n      /** @type {number} */\n      var stride;\n      if (layout) {\n        stride = getStrideForLayout(layout);\n      } else {\n        for (var i = 0; i < nesting; ++i) {\n          if (coordinates.length === 0) {\n            this.layout = GeometryLayout.XY;\n            this.stride = 2;\n            return;\n          } else {\n            coordinates = /** @type {Array} */ (coordinates[0]);\n          }\n        }\n        stride = coordinates.length;\n        layout = getLayoutForStride(stride);\n      }\n      this.layout = layout;\n      this.stride = stride;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    SimpleGeometry.prototype.applyTransform = function applyTransform$$1 (transformFn) {\n      if (this.flatCoordinates) {\n        transformFn(this.flatCoordinates, this.flatCoordinates, this.stride);\n        this.changed();\n      }\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    SimpleGeometry.prototype.rotate = function rotate$1$$1 (angle, anchor) {\n      var flatCoordinates = this.getFlatCoordinates();\n      if (flatCoordinates) {\n        var stride = this.getStride();\n        rotate$1(\n          flatCoordinates, 0, flatCoordinates.length,\n          stride, angle, anchor, flatCoordinates);\n        this.changed();\n      }\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    SimpleGeometry.prototype.scale = function scale$1$$1 (sx, opt_sy, opt_anchor) {\n      var sy = opt_sy;\n      if (sy === undefined) {\n        sy = sx;\n      }\n      var anchor = opt_anchor;\n      if (!anchor) {\n        anchor = getCenter(this.getExtent());\n      }\n      var flatCoordinates = this.getFlatCoordinates();\n      if (flatCoordinates) {\n        var stride = this.getStride();\n        scale$1(\n          flatCoordinates, 0, flatCoordinates.length,\n          stride, sx, sy, anchor, flatCoordinates);\n        this.changed();\n      }\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    SimpleGeometry.prototype.translate = function translate$1 (deltaX, deltaY) {\n      var flatCoordinates = this.getFlatCoordinates();\n      if (flatCoordinates) {\n        var stride = this.getStride();\n        translate(\n          flatCoordinates, 0, flatCoordinates.length, stride,\n          deltaX, deltaY, flatCoordinates);\n        this.changed();\n      }\n    };\n\n    return SimpleGeometry;\n  }(Geometry));\n\n\n  /**\n   * @param {number} stride Stride.\n   * @return {GeometryLayout} layout Layout.\n   */\n  function getLayoutForStride(stride) {\n    var layout;\n    if (stride == 2) {\n      layout = GeometryLayout.XY;\n    } else if (stride == 3) {\n      layout = GeometryLayout.XYZ;\n    } else if (stride == 4) {\n      layout = GeometryLayout.XYZM;\n    }\n    return (\n      /** @type {GeometryLayout} */ (layout)\n    );\n  }\n\n\n  /**\n   * @param {GeometryLayout} layout Layout.\n   * @return {number} Stride.\n   */\n  function getStrideForLayout(layout) {\n    var stride;\n    if (layout == GeometryLayout.XY) {\n      stride = 2;\n    } else if (layout == GeometryLayout.XYZ || layout == GeometryLayout.XYM) {\n      stride = 3;\n    } else if (layout == GeometryLayout.XYZM) {\n      stride = 4;\n    }\n    return /** @type {number} */ (stride);\n  }\n\n\n  /**\n   * @param {SimpleGeometry} simpleGeometry Simple geometry.\n   * @param {import(\"../transform.js\").Transform} transform Transform.\n   * @param {Array<number>=} opt_dest Destination.\n   * @return {Array<number>} Transformed flat coordinates.\n   */\n  function transformGeom2D(simpleGeometry, transform, opt_dest) {\n    var flatCoordinates = simpleGeometry.getFlatCoordinates();\n    if (!flatCoordinates) {\n      return null;\n    } else {\n      var stride = simpleGeometry.getStride();\n      return transform2D(\n        flatCoordinates, 0, flatCoordinates.length, stride,\n        transform, opt_dest);\n    }\n  }\n\n  /**\n   * @module ol/geom/flat/area\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @return {number} Area.\n   */\n  function linearRing(flatCoordinates, offset, end, stride) {\n    var twiceArea = 0;\n    var x1 = flatCoordinates[end - stride];\n    var y1 = flatCoordinates[end - stride + 1];\n    for (; offset < end; offset += stride) {\n      var x2 = flatCoordinates[offset];\n      var y2 = flatCoordinates[offset + 1];\n      twiceArea += y1 * x2 - x1 * y2;\n      x1 = x2;\n      y1 = y2;\n    }\n    return twiceArea / 2;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @return {number} Area.\n   */\n  function linearRings(flatCoordinates, offset, ends, stride) {\n    var area = 0;\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n      var end = ends[i];\n      area += linearRing(flatCoordinates, offset, end, stride);\n      offset = end;\n    }\n    return area;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Endss.\n   * @param {number} stride Stride.\n   * @return {number} Area.\n   */\n  function linearRingss(flatCoordinates, offset, endss, stride) {\n    var area = 0;\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n      var ends = endss[i];\n      area += linearRings(flatCoordinates, offset, ends, stride);\n      offset = ends[ends.length - 1];\n    }\n    return area;\n  }\n\n  /**\n   * @module ol/geom/flat/closest\n   */\n\n\n  /**\n   * Returns the point on the 2D line segment flatCoordinates[offset1] to\n   * flatCoordinates[offset2] that is closest to the point (x, y).  Extra\n   * dimensions are linearly interpolated.\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset1 Offset 1.\n   * @param {number} offset2 Offset 2.\n   * @param {number} stride Stride.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @param {Array<number>} closestPoint Closest point.\n   */\n  function assignClosest(flatCoordinates, offset1, offset2, stride, x, y, closestPoint) {\n    var x1 = flatCoordinates[offset1];\n    var y1 = flatCoordinates[offset1 + 1];\n    var dx = flatCoordinates[offset2] - x1;\n    var dy = flatCoordinates[offset2 + 1] - y1;\n    var offset;\n    if (dx === 0 && dy === 0) {\n      offset = offset1;\n    } else {\n      var t = ((x - x1) * dx + (y - y1) * dy) / (dx * dx + dy * dy);\n      if (t > 1) {\n        offset = offset2;\n      } else if (t > 0) {\n        for (var i = 0; i < stride; ++i) {\n          closestPoint[i] = lerp(flatCoordinates[offset1 + i],\n            flatCoordinates[offset2 + i], t);\n        }\n        closestPoint.length = stride;\n        return;\n      } else {\n        offset = offset1;\n      }\n    }\n    for (var i$1 = 0; i$1 < stride; ++i$1) {\n      closestPoint[i$1] = flatCoordinates[offset + i$1];\n    }\n    closestPoint.length = stride;\n  }\n\n\n  /**\n   * Return the squared of the largest distance between any pair of consecutive\n   * coordinates.\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {number} max Max squared delta.\n   * @return {number} Max squared delta.\n   */\n  function maxSquaredDelta(flatCoordinates, offset, end, stride, max) {\n    var x1 = flatCoordinates[offset];\n    var y1 = flatCoordinates[offset + 1];\n    for (offset += stride; offset < end; offset += stride) {\n      var x2 = flatCoordinates[offset];\n      var y2 = flatCoordinates[offset + 1];\n      var squaredDelta = squaredDistance(x1, y1, x2, y2);\n      if (squaredDelta > max) {\n        max = squaredDelta;\n      }\n      x1 = x2;\n      y1 = y2;\n    }\n    return max;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {number} max Max squared delta.\n   * @return {number} Max squared delta.\n   */\n  function arrayMaxSquaredDelta(flatCoordinates, offset, ends, stride, max) {\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n      var end = ends[i];\n      max = maxSquaredDelta(\n        flatCoordinates, offset, end, stride, max);\n      offset = end;\n    }\n    return max;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Endss.\n   * @param {number} stride Stride.\n   * @param {number} max Max squared delta.\n   * @return {number} Max squared delta.\n   */\n  function multiArrayMaxSquaredDelta(flatCoordinates, offset, endss, stride, max) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n      var ends = endss[i];\n      max = arrayMaxSquaredDelta(\n        flatCoordinates, offset, ends, stride, max);\n      offset = ends[ends.length - 1];\n    }\n    return max;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {number} maxDelta Max delta.\n   * @param {boolean} isRing Is ring.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @param {Array<number>} closestPoint Closest point.\n   * @param {number} minSquaredDistance Minimum squared distance.\n   * @param {Array<number>=} opt_tmpPoint Temporary point object.\n   * @return {number} Minimum squared distance.\n   */\n  function assignClosestPoint(flatCoordinates, offset, end,\n    stride, maxDelta, isRing, x, y, closestPoint, minSquaredDistance,\n    opt_tmpPoint) {\n    if (offset == end) {\n      return minSquaredDistance;\n    }\n    var i, squaredDistance$$1;\n    if (maxDelta === 0) {\n      // All points are identical, so just test the first point.\n      squaredDistance$$1 = squaredDistance(\n        x, y, flatCoordinates[offset], flatCoordinates[offset + 1]);\n      if (squaredDistance$$1 < minSquaredDistance) {\n        for (i = 0; i < stride; ++i) {\n          closestPoint[i] = flatCoordinates[offset + i];\n        }\n        closestPoint.length = stride;\n        return squaredDistance$$1;\n      } else {\n        return minSquaredDistance;\n      }\n    }\n    var tmpPoint = opt_tmpPoint ? opt_tmpPoint : [NaN, NaN];\n    var index = offset + stride;\n    while (index < end) {\n      assignClosest(\n        flatCoordinates, index - stride, index, stride, x, y, tmpPoint);\n      squaredDistance$$1 = squaredDistance(x, y, tmpPoint[0], tmpPoint[1]);\n      if (squaredDistance$$1 < minSquaredDistance) {\n        minSquaredDistance = squaredDistance$$1;\n        for (i = 0; i < stride; ++i) {\n          closestPoint[i] = tmpPoint[i];\n        }\n        closestPoint.length = stride;\n        index += stride;\n      } else {\n        // Skip ahead multiple points, because we know that all the skipped\n        // points cannot be any closer than the closest point we have found so\n        // far.  We know this because we know how close the current point is, how\n        // close the closest point we have found so far is, and the maximum\n        // distance between consecutive points.  For example, if we're currently\n        // at distance 10, the best we've found so far is 3, and that the maximum\n        // distance between consecutive points is 2, then we'll need to skip at\n        // least (10 - 3) / 2 == 3 (rounded down) points to have any chance of\n        // finding a closer point.  We use Math.max(..., 1) to ensure that we\n        // always advance at least one point, to avoid an infinite loop.\n        index += stride * Math.max(\n          ((Math.sqrt(squaredDistance$$1) -\n              Math.sqrt(minSquaredDistance)) / maxDelta) | 0, 1);\n      }\n    }\n    if (isRing) {\n      // Check the closing segment.\n      assignClosest(\n        flatCoordinates, end - stride, offset, stride, x, y, tmpPoint);\n      squaredDistance$$1 = squaredDistance(x, y, tmpPoint[0], tmpPoint[1]);\n      if (squaredDistance$$1 < minSquaredDistance) {\n        minSquaredDistance = squaredDistance$$1;\n        for (i = 0; i < stride; ++i) {\n          closestPoint[i] = tmpPoint[i];\n        }\n        closestPoint.length = stride;\n      }\n    }\n    return minSquaredDistance;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {number} maxDelta Max delta.\n   * @param {boolean} isRing Is ring.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @param {Array<number>} closestPoint Closest point.\n   * @param {number} minSquaredDistance Minimum squared distance.\n   * @param {Array<number>=} opt_tmpPoint Temporary point object.\n   * @return {number} Minimum squared distance.\n   */\n  function assignClosestArrayPoint(flatCoordinates, offset, ends,\n    stride, maxDelta, isRing, x, y, closestPoint, minSquaredDistance,\n    opt_tmpPoint) {\n    var tmpPoint = opt_tmpPoint ? opt_tmpPoint : [NaN, NaN];\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n      var end = ends[i];\n      minSquaredDistance = assignClosestPoint(\n        flatCoordinates, offset, end, stride,\n        maxDelta, isRing, x, y, closestPoint, minSquaredDistance, tmpPoint);\n      offset = end;\n    }\n    return minSquaredDistance;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Endss.\n   * @param {number} stride Stride.\n   * @param {number} maxDelta Max delta.\n   * @param {boolean} isRing Is ring.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @param {Array<number>} closestPoint Closest point.\n   * @param {number} minSquaredDistance Minimum squared distance.\n   * @param {Array<number>=} opt_tmpPoint Temporary point object.\n   * @return {number} Minimum squared distance.\n   */\n  function assignClosestMultiArrayPoint(flatCoordinates, offset,\n    endss, stride, maxDelta, isRing, x, y, closestPoint, minSquaredDistance,\n    opt_tmpPoint) {\n    var tmpPoint = opt_tmpPoint ? opt_tmpPoint : [NaN, NaN];\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n      var ends = endss[i];\n      minSquaredDistance = assignClosestArrayPoint(\n        flatCoordinates, offset, ends, stride,\n        maxDelta, isRing, x, y, closestPoint, minSquaredDistance, tmpPoint);\n      offset = ends[ends.length - 1];\n    }\n    return minSquaredDistance;\n  }\n\n  /**\n   * @module ol/geom/flat/deflate\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n   * @param {number} stride Stride.\n   * @return {number} offset Offset.\n   */\n  function deflateCoordinate(flatCoordinates, offset, coordinate, stride) {\n    for (var i = 0, ii = coordinate.length; i < ii; ++i) {\n      flatCoordinates[offset++] = coordinate[i];\n    }\n    return offset;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<import(\"../../coordinate.js\").Coordinate>} coordinates Coordinates.\n   * @param {number} stride Stride.\n   * @return {number} offset Offset.\n   */\n  function deflateCoordinates(flatCoordinates, offset, coordinates, stride) {\n    for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n      var coordinate = coordinates[i];\n      for (var j = 0; j < stride; ++j) {\n        flatCoordinates[offset++] = coordinate[j];\n      }\n    }\n    return offset;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<import(\"../../coordinate.js\").Coordinate>>} coordinatess Coordinatess.\n   * @param {number} stride Stride.\n   * @param {Array<number>=} opt_ends Ends.\n   * @return {Array<number>} Ends.\n   */\n  function deflateCoordinatesArray(flatCoordinates, offset, coordinatess, stride, opt_ends) {\n    var ends = opt_ends ? opt_ends : [];\n    var i = 0;\n    for (var j = 0, jj = coordinatess.length; j < jj; ++j) {\n      var end = deflateCoordinates(\n        flatCoordinates, offset, coordinatess[j], stride);\n      ends[i++] = end;\n      offset = end;\n    }\n    ends.length = i;\n    return ends;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<Array<import(\"../../coordinate.js\").Coordinate>>>} coordinatesss Coordinatesss.\n   * @param {number} stride Stride.\n   * @param {Array<Array<number>>=} opt_endss Endss.\n   * @return {Array<Array<number>>} Endss.\n   */\n  function deflateMultiCoordinatesArray(flatCoordinates, offset, coordinatesss, stride, opt_endss) {\n    var endss = opt_endss ? opt_endss : [];\n    var i = 0;\n    for (var j = 0, jj = coordinatesss.length; j < jj; ++j) {\n      var ends = deflateCoordinatesArray(\n        flatCoordinates, offset, coordinatesss[j], stride, endss[i]);\n      endss[i++] = ends;\n      offset = ends[ends.length - 1];\n    }\n    endss.length = i;\n    return endss;\n  }\n\n  /**\n   * @module ol/geom/flat/inflate\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {Array<import(\"../../coordinate.js\").Coordinate>=} opt_coordinates Coordinates.\n   * @return {Array<import(\"../../coordinate.js\").Coordinate>} Coordinates.\n   */\n  function inflateCoordinates(flatCoordinates, offset, end, stride, opt_coordinates) {\n    var coordinates = opt_coordinates !== undefined ? opt_coordinates : [];\n    var i = 0;\n    for (var j = offset; j < end; j += stride) {\n      coordinates[i++] = flatCoordinates.slice(j, j + stride);\n    }\n    coordinates.length = i;\n    return coordinates;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {Array<Array<import(\"../../coordinate.js\").Coordinate>>=} opt_coordinatess Coordinatess.\n   * @return {Array<Array<import(\"../../coordinate.js\").Coordinate>>} Coordinatess.\n   */\n  function inflateCoordinatesArray(flatCoordinates, offset, ends, stride, opt_coordinatess) {\n    var coordinatess = opt_coordinatess !== undefined ? opt_coordinatess : [];\n    var i = 0;\n    for (var j = 0, jj = ends.length; j < jj; ++j) {\n      var end = ends[j];\n      coordinatess[i++] = inflateCoordinates(\n        flatCoordinates, offset, end, stride, coordinatess[i]);\n      offset = end;\n    }\n    coordinatess.length = i;\n    return coordinatess;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Endss.\n   * @param {number} stride Stride.\n   * @param {Array<Array<Array<import(\"../../coordinate.js\").Coordinate>>>=} opt_coordinatesss\n   *     Coordinatesss.\n   * @return {Array<Array<Array<import(\"../../coordinate.js\").Coordinate>>>} Coordinatesss.\n   */\n  function inflateMultiCoordinatesArray(flatCoordinates, offset, endss, stride, opt_coordinatesss) {\n    var coordinatesss = opt_coordinatesss !== undefined ? opt_coordinatesss : [];\n    var i = 0;\n    for (var j = 0, jj = endss.length; j < jj; ++j) {\n      var ends = endss[j];\n      coordinatesss[i++] = inflateCoordinatesArray(\n        flatCoordinates, offset, ends, stride, coordinatesss[i]);\n      offset = ends[ends.length - 1];\n    }\n    coordinatesss.length = i;\n    return coordinatesss;\n  }\n\n  /**\n   * @module ol/geom/flat/simplify\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {number} squaredTolerance Squared tolerance.\n   * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n   *     coordinates.\n   * @param {number} simplifiedOffset Simplified offset.\n   * @return {number} Simplified offset.\n   */\n  function douglasPeucker(flatCoordinates, offset, end,\n    stride, squaredTolerance, simplifiedFlatCoordinates, simplifiedOffset) {\n    var n = (end - offset) / stride;\n    if (n < 3) {\n      for (; offset < end; offset += stride) {\n        simplifiedFlatCoordinates[simplifiedOffset++] =\n            flatCoordinates[offset];\n        simplifiedFlatCoordinates[simplifiedOffset++] =\n            flatCoordinates[offset + 1];\n      }\n      return simplifiedOffset;\n    }\n    /** @type {Array<number>} */\n    var markers = new Array(n);\n    markers[0] = 1;\n    markers[n - 1] = 1;\n    /** @type {Array<number>} */\n    var stack = [offset, end - stride];\n    var index = 0;\n    while (stack.length > 0) {\n      var last = stack.pop();\n      var first = stack.pop();\n      var maxSquaredDistance = 0;\n      var x1 = flatCoordinates[first];\n      var y1 = flatCoordinates[first + 1];\n      var x2 = flatCoordinates[last];\n      var y2 = flatCoordinates[last + 1];\n      for (var i = first + stride; i < last; i += stride) {\n        var x = flatCoordinates[i];\n        var y = flatCoordinates[i + 1];\n        var squaredDistance$$1 = squaredSegmentDistance(\n          x, y, x1, y1, x2, y2);\n        if (squaredDistance$$1 > maxSquaredDistance) {\n          index = i;\n          maxSquaredDistance = squaredDistance$$1;\n        }\n      }\n      if (maxSquaredDistance > squaredTolerance) {\n        markers[(index - offset) / stride] = 1;\n        if (first + stride < index) {\n          stack.push(first, index);\n        }\n        if (index + stride < last) {\n          stack.push(index, last);\n        }\n      }\n    }\n    for (var i$1 = 0; i$1 < n; ++i$1) {\n      if (markers[i$1]) {\n        simplifiedFlatCoordinates[simplifiedOffset++] =\n            flatCoordinates[offset + i$1 * stride];\n        simplifiedFlatCoordinates[simplifiedOffset++] =\n            flatCoordinates[offset + i$1 * stride + 1];\n      }\n    }\n    return simplifiedOffset;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {number} squaredTolerance Squared tolerance.\n   * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n   *     coordinates.\n   * @param {number} simplifiedOffset Simplified offset.\n   * @param {Array<number>} simplifiedEnds Simplified ends.\n   * @return {number} Simplified offset.\n   */\n  function douglasPeuckerArray(flatCoordinates, offset,\n    ends, stride, squaredTolerance, simplifiedFlatCoordinates,\n    simplifiedOffset, simplifiedEnds) {\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n      var end = ends[i];\n      simplifiedOffset = douglasPeucker(\n        flatCoordinates, offset, end, stride, squaredTolerance,\n        simplifiedFlatCoordinates, simplifiedOffset);\n      simplifiedEnds.push(simplifiedOffset);\n      offset = end;\n    }\n    return simplifiedOffset;\n  }\n\n\n  /**\n   * @param {number} value Value.\n   * @param {number} tolerance Tolerance.\n   * @return {number} Rounded value.\n   */\n  function snap(value, tolerance) {\n    return tolerance * Math.round(value / tolerance);\n  }\n\n\n  /**\n   * Simplifies a line string using an algorithm designed by Tim Schaub.\n   * Coordinates are snapped to the nearest value in a virtual grid and\n   * consecutive duplicate coordinates are discarded.  This effectively preserves\n   * topology as the simplification of any subsection of a line string is\n   * independent of the rest of the line string.  This means that, for examples,\n   * the common edge between two polygons will be simplified to the same line\n   * string independently in both polygons.  This implementation uses a single\n   * pass over the coordinates and eliminates intermediate collinear points.\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {number} tolerance Tolerance.\n   * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n   *     coordinates.\n   * @param {number} simplifiedOffset Simplified offset.\n   * @return {number} Simplified offset.\n   */\n  function quantize(flatCoordinates, offset, end, stride,\n    tolerance, simplifiedFlatCoordinates, simplifiedOffset) {\n    // do nothing if the line is empty\n    if (offset == end) {\n      return simplifiedOffset;\n    }\n    // snap the first coordinate (P1)\n    var x1 = snap(flatCoordinates[offset], tolerance);\n    var y1 = snap(flatCoordinates[offset + 1], tolerance);\n    offset += stride;\n    // add the first coordinate to the output\n    simplifiedFlatCoordinates[simplifiedOffset++] = x1;\n    simplifiedFlatCoordinates[simplifiedOffset++] = y1;\n    // find the next coordinate that does not snap to the same value as the first\n    // coordinate (P2)\n    var x2, y2;\n    do {\n      x2 = snap(flatCoordinates[offset], tolerance);\n      y2 = snap(flatCoordinates[offset + 1], tolerance);\n      offset += stride;\n      if (offset == end) {\n        // all coordinates snap to the same value, the line collapses to a point\n        // push the last snapped value anyway to ensure that the output contains\n        // at least two points\n        // FIXME should we really return at least two points anyway?\n        simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n        simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n        return simplifiedOffset;\n      }\n    } while (x2 == x1 && y2 == y1);\n    while (offset < end) {\n      // snap the next coordinate (P3)\n      var x3 = snap(flatCoordinates[offset], tolerance);\n      var y3 = snap(flatCoordinates[offset + 1], tolerance);\n      offset += stride;\n      // skip P3 if it is equal to P2\n      if (x3 == x2 && y3 == y2) {\n        continue;\n      }\n      // calculate the delta between P1 and P2\n      var dx1 = x2 - x1;\n      var dy1 = y2 - y1;\n      // calculate the delta between P3 and P1\n      var dx2 = x3 - x1;\n      var dy2 = y3 - y1;\n      // if P1, P2, and P3 are colinear and P3 is further from P1 than P2 is from\n      // P1 in the same direction then P2 is on the straight line between P1 and\n      // P3\n      if ((dx1 * dy2 == dy1 * dx2) &&\n          ((dx1 < 0 && dx2 < dx1) || dx1 == dx2 || (dx1 > 0 && dx2 > dx1)) &&\n          ((dy1 < 0 && dy2 < dy1) || dy1 == dy2 || (dy1 > 0 && dy2 > dy1))) {\n        // discard P2 and set P2 = P3\n        x2 = x3;\n        y2 = y3;\n        continue;\n      }\n      // either P1, P2, and P3 are not colinear, or they are colinear but P3 is\n      // between P3 and P1 or on the opposite half of the line to P2.  add P2,\n      // and continue with P1 = P2 and P2 = P3\n      simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n      simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n      x1 = x2;\n      y1 = y2;\n      x2 = x3;\n      y2 = y3;\n    }\n    // add the last point (P2)\n    simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n    simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n    return simplifiedOffset;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {number} tolerance Tolerance.\n   * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n   *     coordinates.\n   * @param {number} simplifiedOffset Simplified offset.\n   * @param {Array<number>} simplifiedEnds Simplified ends.\n   * @return {number} Simplified offset.\n   */\n  function quantizeArray(\n    flatCoordinates, offset, ends, stride,\n    tolerance,\n    simplifiedFlatCoordinates, simplifiedOffset, simplifiedEnds) {\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n      var end = ends[i];\n      simplifiedOffset = quantize(\n        flatCoordinates, offset, end, stride,\n        tolerance,\n        simplifiedFlatCoordinates, simplifiedOffset);\n      simplifiedEnds.push(simplifiedOffset);\n      offset = end;\n    }\n    return simplifiedOffset;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Endss.\n   * @param {number} stride Stride.\n   * @param {number} tolerance Tolerance.\n   * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n   *     coordinates.\n   * @param {number} simplifiedOffset Simplified offset.\n   * @param {Array<Array<number>>} simplifiedEndss Simplified endss.\n   * @return {number} Simplified offset.\n   */\n  function quantizeMultiArray(\n    flatCoordinates, offset, endss, stride,\n    tolerance,\n    simplifiedFlatCoordinates, simplifiedOffset, simplifiedEndss) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n      var ends = endss[i];\n      var simplifiedEnds = [];\n      simplifiedOffset = quantizeArray(\n        flatCoordinates, offset, ends, stride,\n        tolerance,\n        simplifiedFlatCoordinates, simplifiedOffset, simplifiedEnds);\n      simplifiedEndss.push(simplifiedEnds);\n      offset = ends[ends.length - 1];\n    }\n    return simplifiedOffset;\n  }\n\n  /**\n   * @module ol/geom/LinearRing\n   */\n\n  /**\n   * @classdesc\n   * Linear ring geometry. Only used as part of polygon; cannot be rendered\n   * on its own.\n   *\n   * @api\n   */\n  var LinearRing = /*@__PURE__*/(function (SimpleGeometry$$1) {\n    function LinearRing(coordinates, opt_layout) {\n\n      SimpleGeometry$$1.call(this);\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxDelta_ = -1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxDeltaRevision_ = -1;\n\n      if (opt_layout !== undefined && !Array.isArray(coordinates[0])) {\n        this.setFlatCoordinates(opt_layout, /** @type {Array<number>} */ (coordinates));\n      } else {\n        this.setCoordinates(/** @type {Array<import(\"../coordinate.js\").Coordinate>} */ (coordinates), opt_layout);\n      }\n\n    }\n\n    if ( SimpleGeometry$$1 ) LinearRing.__proto__ = SimpleGeometry$$1;\n    LinearRing.prototype = Object.create( SimpleGeometry$$1 && SimpleGeometry$$1.prototype );\n    LinearRing.prototype.constructor = LinearRing;\n\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!LinearRing} Clone.\n     * @override\n     * @api\n     */\n    LinearRing.prototype.clone = function clone$$1 () {\n      return new LinearRing(this.flatCoordinates.slice(), this.layout);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    LinearRing.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n      if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n        return minSquaredDistance;\n      }\n      if (this.maxDeltaRevision_ != this.getRevision()) {\n        this.maxDelta_ = Math.sqrt(maxSquaredDelta(\n          this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, 0));\n        this.maxDeltaRevision_ = this.getRevision();\n      }\n      return assignClosestPoint(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride,\n        this.maxDelta_, true, x, y, closestPoint, minSquaredDistance);\n    };\n\n    /**\n     * Return the area of the linear ring on projected plane.\n     * @return {number} Area (on projected plane).\n     * @api\n     */\n    LinearRing.prototype.getArea = function getArea$$1 () {\n      return linearRing(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n\n    /**\n     * Return the coordinates of the linear ring.\n     * @return {Array<import(\"../coordinate.js\").Coordinate>} Coordinates.\n     * @override\n     * @api\n     */\n    LinearRing.prototype.getCoordinates = function getCoordinates () {\n      return inflateCoordinates(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    LinearRing.prototype.getSimplifiedGeometryInternal = function getSimplifiedGeometryInternal (squaredTolerance) {\n      var simplifiedFlatCoordinates = [];\n      simplifiedFlatCoordinates.length = douglasPeucker(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride,\n        squaredTolerance, simplifiedFlatCoordinates, 0);\n      return new LinearRing(simplifiedFlatCoordinates, GeometryLayout.XY);\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    LinearRing.prototype.getType = function getType () {\n      return GeometryType.LINEAR_RING;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    LinearRing.prototype.intersectsExtent = function intersectsExtent (extent) {\n      return false;\n    };\n\n    /**\n     * Set the coordinates of the linear ring.\n     * @param {!Array<import(\"../coordinate.js\").Coordinate>} coordinates Coordinates.\n     * @param {GeometryLayout=} opt_layout Layout.\n     * @override\n     * @api\n     */\n    LinearRing.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {\n      this.setLayout(opt_layout, coordinates, 1);\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = [];\n      }\n      this.flatCoordinates.length = deflateCoordinates(\n        this.flatCoordinates, 0, coordinates, this.stride);\n      this.changed();\n    };\n\n    return LinearRing;\n  }(SimpleGeometry));\n\n  /**\n   * @module ol/geom/Point\n   */\n\n  /**\n   * @classdesc\n   * Point geometry.\n   *\n   * @api\n   */\n  var Point = /*@__PURE__*/(function (SimpleGeometry$$1) {\n    function Point(coordinates, opt_layout) {\n      SimpleGeometry$$1.call(this);\n      this.setCoordinates(coordinates, opt_layout);\n    }\n\n    if ( SimpleGeometry$$1 ) Point.__proto__ = SimpleGeometry$$1;\n    Point.prototype = Object.create( SimpleGeometry$$1 && SimpleGeometry$$1.prototype );\n    Point.prototype.constructor = Point;\n\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!Point} Clone.\n     * @override\n     * @api\n     */\n    Point.prototype.clone = function clone$$1 () {\n      var point = new Point(this.flatCoordinates.slice(), this.layout);\n      return point;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Point.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n      var flatCoordinates = this.flatCoordinates;\n      var squaredDistance$$1 = squaredDistance(x, y, flatCoordinates[0], flatCoordinates[1]);\n      if (squaredDistance$$1 < minSquaredDistance) {\n        var stride = this.stride;\n        for (var i = 0; i < stride; ++i) {\n          closestPoint[i] = flatCoordinates[i];\n        }\n        closestPoint.length = stride;\n        return squaredDistance$$1;\n      } else {\n        return minSquaredDistance;\n      }\n    };\n\n    /**\n     * Return the coordinate of the point.\n     * @return {import(\"../coordinate.js\").Coordinate} Coordinates.\n     * @override\n     * @api\n     */\n    Point.prototype.getCoordinates = function getCoordinates () {\n      return !this.flatCoordinates ? [] : this.flatCoordinates.slice();\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Point.prototype.computeExtent = function computeExtent (extent) {\n      return createOrUpdateFromCoordinate(this.flatCoordinates, extent);\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    Point.prototype.getType = function getType () {\n      return GeometryType.POINT;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    Point.prototype.intersectsExtent = function intersectsExtent (extent) {\n      return containsXY(extent, this.flatCoordinates[0], this.flatCoordinates[1]);\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    Point.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {\n      this.setLayout(opt_layout, coordinates, 0);\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = [];\n      }\n      this.flatCoordinates.length = deflateCoordinate(\n        this.flatCoordinates, 0, coordinates, this.stride);\n      this.changed();\n    };\n\n    return Point;\n  }(SimpleGeometry));\n\n  /**\n   * @module ol/geom/flat/contains\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {import(\"../../extent.js\").Extent} extent Extent.\n   * @return {boolean} Contains extent.\n   */\n  function linearRingContainsExtent(flatCoordinates, offset, end, stride, extent) {\n    var outside = forEachCorner(extent,\n      /**\n       * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n       * @return {boolean} Contains (x, y).\n       */\n      function(coordinate) {\n        return !linearRingContainsXY(flatCoordinates, offset, end, stride, coordinate[0], coordinate[1]);\n      });\n    return !outside;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @return {boolean} Contains (x, y).\n   */\n  function linearRingContainsXY(flatCoordinates, offset, end, stride, x, y) {\n    // http://geomalgorithms.com/a03-_inclusion.html\n    // Copyright 2000 softSurfer, 2012 Dan Sunday\n    // This code may be freely used and modified for any purpose\n    // providing that this copyright notice is included with it.\n    // SoftSurfer makes no warranty for this code, and cannot be held\n    // liable for any real or imagined damage resulting from its use.\n    // Users of this code must verify correctness for their application.\n    var wn = 0;\n    var x1 = flatCoordinates[end - stride];\n    var y1 = flatCoordinates[end - stride + 1];\n    for (; offset < end; offset += stride) {\n      var x2 = flatCoordinates[offset];\n      var y2 = flatCoordinates[offset + 1];\n      if (y1 <= y) {\n        if (y2 > y && ((x2 - x1) * (y - y1)) - ((x - x1) * (y2 - y1)) > 0) {\n          wn++;\n        }\n      } else if (y2 <= y && ((x2 - x1) * (y - y1)) - ((x - x1) * (y2 - y1)) < 0) {\n        wn--;\n      }\n      x1 = x2;\n      y1 = y2;\n    }\n    return wn !== 0;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @return {boolean} Contains (x, y).\n   */\n  function linearRingsContainsXY(flatCoordinates, offset, ends, stride, x, y) {\n    if (ends.length === 0) {\n      return false;\n    }\n    if (!linearRingContainsXY(flatCoordinates, offset, ends[0], stride, x, y)) {\n      return false;\n    }\n    for (var i = 1, ii = ends.length; i < ii; ++i) {\n      if (linearRingContainsXY(flatCoordinates, ends[i - 1], ends[i], stride, x, y)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Endss.\n   * @param {number} stride Stride.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @return {boolean} Contains (x, y).\n   */\n  function linearRingssContainsXY(flatCoordinates, offset, endss, stride, x, y) {\n    if (endss.length === 0) {\n      return false;\n    }\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n      var ends = endss[i];\n      if (linearRingsContainsXY(flatCoordinates, offset, ends, stride, x, y)) {\n        return true;\n      }\n      offset = ends[ends.length - 1];\n    }\n    return false;\n  }\n\n  /**\n   * @module ol/geom/flat/interiorpoint\n   */\n\n\n  /**\n   * Calculates a point that is likely to lie in the interior of the linear rings.\n   * Inspired by JTS's com.vividsolutions.jts.geom.Geometry#getInteriorPoint.\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {Array<number>} flatCenters Flat centers.\n   * @param {number} flatCentersOffset Flat center offset.\n   * @param {Array<number>=} opt_dest Destination.\n   * @return {Array<number>} Destination point as XYM coordinate, where M is the\n   * length of the horizontal intersection that the point belongs to.\n   */\n  function getInteriorPointOfArray(flatCoordinates, offset,\n    ends, stride, flatCenters, flatCentersOffset, opt_dest) {\n    var i, ii, x, x1, x2, y1, y2;\n    var y = flatCenters[flatCentersOffset + 1];\n    /** @type {Array<number>} */\n    var intersections = [];\n    // Calculate intersections with the horizontal line\n    for (var r = 0, rr = ends.length; r < rr; ++r) {\n      var end = ends[r];\n      x1 = flatCoordinates[end - stride];\n      y1 = flatCoordinates[end - stride + 1];\n      for (i = offset; i < end; i += stride) {\n        x2 = flatCoordinates[i];\n        y2 = flatCoordinates[i + 1];\n        if ((y <= y1 && y2 <= y) || (y1 <= y && y <= y2)) {\n          x = (y - y1) / (y2 - y1) * (x2 - x1) + x1;\n          intersections.push(x);\n        }\n        x1 = x2;\n        y1 = y2;\n      }\n    }\n    // Find the longest segment of the horizontal line that has its center point\n    // inside the linear ring.\n    var pointX = NaN;\n    var maxSegmentLength = -Infinity;\n    intersections.sort(numberSafeCompareFunction);\n    x1 = intersections[0];\n    for (i = 1, ii = intersections.length; i < ii; ++i) {\n      x2 = intersections[i];\n      var segmentLength = Math.abs(x2 - x1);\n      if (segmentLength > maxSegmentLength) {\n        x = (x1 + x2) / 2;\n        if (linearRingsContainsXY(flatCoordinates, offset, ends, stride, x, y)) {\n          pointX = x;\n          maxSegmentLength = segmentLength;\n        }\n      }\n      x1 = x2;\n    }\n    if (isNaN(pointX)) {\n      // There is no horizontal line that has its center point inside the linear\n      // ring.  Use the center of the the linear ring's extent.\n      pointX = flatCenters[flatCentersOffset];\n    }\n    if (opt_dest) {\n      opt_dest.push(pointX, y, maxSegmentLength);\n      return opt_dest;\n    } else {\n      return [pointX, y, maxSegmentLength];\n    }\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Endss.\n   * @param {number} stride Stride.\n   * @param {Array<number>} flatCenters Flat centers.\n   * @return {Array<number>} Interior points as XYM coordinates, where M is the\n   * length of the horizontal intersection that the point belongs to.\n   */\n  function getInteriorPointsOfMultiArray(flatCoordinates, offset, endss, stride, flatCenters) {\n    var interiorPoints = [];\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n      var ends = endss[i];\n      interiorPoints = getInteriorPointOfArray(flatCoordinates,\n        offset, ends, stride, flatCenters, 2 * i, interiorPoints);\n      offset = ends[ends.length - 1];\n    }\n    return interiorPoints;\n  }\n\n  /**\n   * @module ol/geom/flat/segments\n   */\n\n\n  /**\n   * This function calls `callback` for each segment of the flat coordinates\n   * array. If the callback returns a truthy value the function returns that\n   * value immediately. Otherwise the function returns `false`.\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {function(this: S, import(\"../../coordinate.js\").Coordinate, import(\"../../coordinate.js\").Coordinate): T} callback Function\n   *     called for each segment.\n   * @param {S=} opt_this The object to be used as the value of 'this'\n   *     within callback.\n   * @return {T|boolean} Value.\n   * @template T,S\n   */\n  function forEach(flatCoordinates, offset, end, stride, callback, opt_this) {\n    var point1 = [flatCoordinates[offset], flatCoordinates[offset + 1]];\n    var point2 = [];\n    var ret;\n    for (; (offset + stride) < end; offset += stride) {\n      point2[0] = flatCoordinates[offset + stride];\n      point2[1] = flatCoordinates[offset + stride + 1];\n      ret = callback.call(opt_this, point1, point2);\n      if (ret) {\n        return ret;\n      }\n      point1[0] = point2[0];\n      point1[1] = point2[1];\n    }\n    return false;\n  }\n\n  /**\n   * @module ol/geom/flat/intersectsextent\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {import(\"../../extent.js\").Extent} extent Extent.\n   * @return {boolean} True if the geometry and the extent intersect.\n   */\n  function intersectsLineString(flatCoordinates, offset, end, stride, extent) {\n    var coordinatesExtent = extendFlatCoordinates(\n      createEmpty(), flatCoordinates, offset, end, stride);\n    if (!intersects(extent, coordinatesExtent)) {\n      return false;\n    }\n    if (containsExtent(extent, coordinatesExtent)) {\n      return true;\n    }\n    if (coordinatesExtent[0] >= extent[0] &&\n        coordinatesExtent[2] <= extent[2]) {\n      return true;\n    }\n    if (coordinatesExtent[1] >= extent[1] &&\n        coordinatesExtent[3] <= extent[3]) {\n      return true;\n    }\n    return forEach(flatCoordinates, offset, end, stride,\n      /**\n       * @param {import(\"../../coordinate.js\").Coordinate} point1 Start point.\n       * @param {import(\"../../coordinate.js\").Coordinate} point2 End point.\n       * @return {boolean} `true` if the segment and the extent intersect,\n       *     `false` otherwise.\n       */\n      function(point1, point2) {\n        return intersectsSegment(extent, point1, point2);\n      });\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {import(\"../../extent.js\").Extent} extent Extent.\n   * @return {boolean} True if the geometry and the extent intersect.\n   */\n  function intersectsLineStringArray(flatCoordinates, offset, ends, stride, extent) {\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n      if (intersectsLineString(\n        flatCoordinates, offset, ends[i], stride, extent)) {\n        return true;\n      }\n      offset = ends[i];\n    }\n    return false;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {import(\"../../extent.js\").Extent} extent Extent.\n   * @return {boolean} True if the geometry and the extent intersect.\n   */\n  function intersectsLinearRing(flatCoordinates, offset, end, stride, extent) {\n    if (intersectsLineString(\n      flatCoordinates, offset, end, stride, extent)) {\n      return true;\n    }\n    if (linearRingContainsXY(flatCoordinates, offset, end, stride, extent[0], extent[1])) {\n      return true;\n    }\n    if (linearRingContainsXY(flatCoordinates, offset, end, stride, extent[0], extent[3])) {\n      return true;\n    }\n    if (linearRingContainsXY(flatCoordinates, offset, end, stride, extent[2], extent[1])) {\n      return true;\n    }\n    if (linearRingContainsXY(flatCoordinates, offset, end, stride, extent[2], extent[3])) {\n      return true;\n    }\n    return false;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {import(\"../../extent.js\").Extent} extent Extent.\n   * @return {boolean} True if the geometry and the extent intersect.\n   */\n  function intersectsLinearRingArray(flatCoordinates, offset, ends, stride, extent) {\n    if (!intersectsLinearRing(\n      flatCoordinates, offset, ends[0], stride, extent)) {\n      return false;\n    }\n    if (ends.length === 1) {\n      return true;\n    }\n    for (var i = 1, ii = ends.length; i < ii; ++i) {\n      if (linearRingContainsExtent(flatCoordinates, ends[i - 1], ends[i], stride, extent)) {\n        if (!intersectsLineString(flatCoordinates, ends[i - 1], ends[i], stride, extent)) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Endss.\n   * @param {number} stride Stride.\n   * @param {import(\"../../extent.js\").Extent} extent Extent.\n   * @return {boolean} True if the geometry and the extent intersect.\n   */\n  function intersectsLinearRingMultiArray(flatCoordinates, offset, endss, stride, extent) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n      var ends = endss[i];\n      if (intersectsLinearRingArray(\n        flatCoordinates, offset, ends, stride, extent)) {\n        return true;\n      }\n      offset = ends[ends.length - 1];\n    }\n    return false;\n  }\n\n  /**\n   * @module ol/geom/flat/reverse\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   */\n  function coordinates(flatCoordinates, offset, end, stride) {\n    while (offset < end - stride) {\n      for (var i = 0; i < stride; ++i) {\n        var tmp = flatCoordinates[offset + i];\n        flatCoordinates[offset + i] = flatCoordinates[end - stride + i];\n        flatCoordinates[end - stride + i] = tmp;\n      }\n      offset += stride;\n      end -= stride;\n    }\n  }\n\n  /**\n   * @module ol/geom/flat/orient\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @return {boolean} Is clockwise.\n   */\n  function linearRingIsClockwise(flatCoordinates, offset, end, stride) {\n    // http://tinyurl.com/clockwise-method\n    // https://github.com/OSGeo/gdal/blob/trunk/gdal/ogr/ogrlinearring.cpp\n    var edge = 0;\n    var x1 = flatCoordinates[end - stride];\n    var y1 = flatCoordinates[end - stride + 1];\n    for (; offset < end; offset += stride) {\n      var x2 = flatCoordinates[offset];\n      var y2 = flatCoordinates[offset + 1];\n      edge += (x2 - x1) * (y2 + y1);\n      x1 = x2;\n      y1 = y2;\n    }\n    return edge > 0;\n  }\n\n\n  /**\n   * Determines if linear rings are oriented.  By default, left-hand orientation\n   * is tested (first ring must be clockwise, remaining rings counter-clockwise).\n   * To test for right-hand orientation, use the `opt_right` argument.\n   *\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Array of end indexes.\n   * @param {number} stride Stride.\n   * @param {boolean=} opt_right Test for right-hand orientation\n   *     (counter-clockwise exterior ring and clockwise interior rings).\n   * @return {boolean} Rings are correctly oriented.\n   */\n  function linearRingIsOriented(flatCoordinates, offset, ends, stride, opt_right) {\n    var right = opt_right !== undefined ? opt_right : false;\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n      var end = ends[i];\n      var isClockwise = linearRingIsClockwise(\n        flatCoordinates, offset, end, stride);\n      if (i === 0) {\n        if ((right && isClockwise) || (!right && !isClockwise)) {\n          return false;\n        }\n      } else {\n        if ((right && !isClockwise) || (!right && isClockwise)) {\n          return false;\n        }\n      }\n      offset = end;\n    }\n    return true;\n  }\n\n\n  /**\n   * Determines if linear rings are oriented.  By default, left-hand orientation\n   * is tested (first ring must be clockwise, remaining rings counter-clockwise).\n   * To test for right-hand orientation, use the `opt_right` argument.\n   *\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Array of array of end indexes.\n   * @param {number} stride Stride.\n   * @param {boolean=} opt_right Test for right-hand orientation\n   *     (counter-clockwise exterior ring and clockwise interior rings).\n   * @return {boolean} Rings are correctly oriented.\n   */\n  function linearRingsAreOriented(flatCoordinates, offset, endss, stride, opt_right) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n      if (!linearRingIsOriented(\n        flatCoordinates, offset, endss[i], stride, opt_right)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n\n  /**\n   * Orient coordinates in a flat array of linear rings.  By default, rings\n   * are oriented following the left-hand rule (clockwise for exterior and\n   * counter-clockwise for interior rings).  To orient according to the\n   * right-hand rule, use the `opt_right` argument.\n   *\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {boolean=} opt_right Follow the right-hand rule for orientation.\n   * @return {number} End.\n   */\n  function orientLinearRings(flatCoordinates, offset, ends, stride, opt_right) {\n    var right = opt_right !== undefined ? opt_right : false;\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n      var end = ends[i];\n      var isClockwise = linearRingIsClockwise(\n        flatCoordinates, offset, end, stride);\n      var reverse = i === 0 ?\n        (right && isClockwise) || (!right && !isClockwise) :\n        (right && !isClockwise) || (!right && isClockwise);\n      if (reverse) {\n        coordinates(flatCoordinates, offset, end, stride);\n      }\n      offset = end;\n    }\n    return offset;\n  }\n\n\n  /**\n   * Orient coordinates in a flat array of linear rings.  By default, rings\n   * are oriented following the left-hand rule (clockwise for exterior and\n   * counter-clockwise for interior rings).  To orient according to the\n   * right-hand rule, use the `opt_right` argument.\n   *\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Array of array of end indexes.\n   * @param {number} stride Stride.\n   * @param {boolean=} opt_right Follow the right-hand rule for orientation.\n   * @return {number} End.\n   */\n  function orientLinearRingsArray(flatCoordinates, offset, endss, stride, opt_right) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n      offset = orientLinearRings(\n        flatCoordinates, offset, endss[i], stride, opt_right);\n    }\n    return offset;\n  }\n\n  /**\n   * @module ol/geom/Polygon\n   */\n\n  /**\n   * @classdesc\n   * Polygon geometry.\n   *\n   * @api\n   */\n  var Polygon = /*@__PURE__*/(function (SimpleGeometry$$1) {\n    function Polygon(coordinates, opt_layout, opt_ends) {\n\n      SimpleGeometry$$1.call(this);\n\n      /**\n       * @type {Array<number>}\n       * @private\n       */\n      this.ends_ = [];\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.flatInteriorPointRevision_ = -1;\n\n      /**\n       * @private\n       * @type {import(\"../coordinate.js\").Coordinate}\n       */\n      this.flatInteriorPoint_ = null;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxDelta_ = -1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxDeltaRevision_ = -1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.orientedRevision_ = -1;\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.orientedFlatCoordinates_ = null;\n\n      if (opt_layout !== undefined && opt_ends) {\n        this.setFlatCoordinates(opt_layout, /** @type {Array<number>} */ (coordinates));\n        this.ends_ = opt_ends;\n      } else {\n        this.setCoordinates(/** @type {Array<Array<import(\"../coordinate.js\").Coordinate>>} */ (coordinates), opt_layout);\n      }\n\n    }\n\n    if ( SimpleGeometry$$1 ) Polygon.__proto__ = SimpleGeometry$$1;\n    Polygon.prototype = Object.create( SimpleGeometry$$1 && SimpleGeometry$$1.prototype );\n    Polygon.prototype.constructor = Polygon;\n\n    /**\n     * Append the passed linear ring to this polygon.\n     * @param {LinearRing} linearRing Linear ring.\n     * @api\n     */\n    Polygon.prototype.appendLinearRing = function appendLinearRing (linearRing$$1) {\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = linearRing$$1.getFlatCoordinates().slice();\n      } else {\n        extend(this.flatCoordinates, linearRing$$1.getFlatCoordinates());\n      }\n      this.ends_.push(this.flatCoordinates.length);\n      this.changed();\n    };\n\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!Polygon} Clone.\n     * @override\n     * @api\n     */\n    Polygon.prototype.clone = function clone$$1 () {\n      return new Polygon(this.flatCoordinates.slice(), this.layout, this.ends_.slice());\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Polygon.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n      if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n        return minSquaredDistance;\n      }\n      if (this.maxDeltaRevision_ != this.getRevision()) {\n        this.maxDelta_ = Math.sqrt(arrayMaxSquaredDelta(\n          this.flatCoordinates, 0, this.ends_, this.stride, 0));\n        this.maxDeltaRevision_ = this.getRevision();\n      }\n      return assignClosestArrayPoint(\n        this.flatCoordinates, 0, this.ends_, this.stride,\n        this.maxDelta_, true, x, y, closestPoint, minSquaredDistance);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Polygon.prototype.containsXY = function containsXY$$1 (x, y) {\n      return linearRingsContainsXY(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, x, y);\n    };\n\n    /**\n     * Return the area of the polygon on projected plane.\n     * @return {number} Area (on projected plane).\n     * @api\n     */\n    Polygon.prototype.getArea = function getArea$$1 () {\n      return linearRings(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride);\n    };\n\n    /**\n     * Get the coordinate array for this geometry.  This array has the structure\n     * of a GeoJSON coordinate array for polygons.\n     *\n     * @param {boolean=} opt_right Orient coordinates according to the right-hand\n     *     rule (counter-clockwise for exterior and clockwise for interior rings).\n     *     If `false`, coordinates will be oriented according to the left-hand rule\n     *     (clockwise for exterior and counter-clockwise for interior rings).\n     *     By default, coordinate orientation will depend on how the geometry was\n     *     constructed.\n     * @return {Array<Array<import(\"../coordinate.js\").Coordinate>>} Coordinates.\n     * @override\n     * @api\n     */\n    Polygon.prototype.getCoordinates = function getCoordinates (opt_right) {\n      var flatCoordinates;\n      if (opt_right !== undefined) {\n        flatCoordinates = this.getOrientedFlatCoordinates().slice();\n        orientLinearRings(\n          flatCoordinates, 0, this.ends_, this.stride, opt_right);\n      } else {\n        flatCoordinates = this.flatCoordinates;\n      }\n\n      return inflateCoordinatesArray(\n        flatCoordinates, 0, this.ends_, this.stride);\n    };\n\n    /**\n     * @return {Array<number>} Ends.\n     */\n    Polygon.prototype.getEnds = function getEnds () {\n      return this.ends_;\n    };\n\n    /**\n     * @return {Array<number>} Interior point.\n     */\n    Polygon.prototype.getFlatInteriorPoint = function getFlatInteriorPoint () {\n      if (this.flatInteriorPointRevision_ != this.getRevision()) {\n        var flatCenter = getCenter(this.getExtent());\n        this.flatInteriorPoint_ = getInteriorPointOfArray(\n          this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride,\n          flatCenter, 0);\n        this.flatInteriorPointRevision_ = this.getRevision();\n      }\n      return this.flatInteriorPoint_;\n    };\n\n    /**\n     * Return an interior point of the polygon.\n     * @return {Point} Interior point as XYM coordinate, where M is the\n     * length of the horizontal intersection that the point belongs to.\n     * @api\n     */\n    Polygon.prototype.getInteriorPoint = function getInteriorPoint () {\n      return new Point(this.getFlatInteriorPoint(), GeometryLayout.XYM);\n    };\n\n    /**\n     * Return the number of rings of the polygon,  this includes the exterior\n     * ring and any interior rings.\n     *\n     * @return {number} Number of rings.\n     * @api\n     */\n    Polygon.prototype.getLinearRingCount = function getLinearRingCount () {\n      return this.ends_.length;\n    };\n\n    /**\n     * Return the Nth linear ring of the polygon geometry. Return `null` if the\n     * given index is out of range.\n     * The exterior linear ring is available at index `0` and the interior rings\n     * at index `1` and beyond.\n     *\n     * @param {number} index Index.\n     * @return {LinearRing} Linear ring.\n     * @api\n     */\n    Polygon.prototype.getLinearRing = function getLinearRing (index) {\n      if (index < 0 || this.ends_.length <= index) {\n        return null;\n      }\n      return new LinearRing(this.flatCoordinates.slice(\n        index === 0 ? 0 : this.ends_[index - 1], this.ends_[index]), this.layout);\n    };\n\n    /**\n     * Return the linear rings of the polygon.\n     * @return {Array<LinearRing>} Linear rings.\n     * @api\n     */\n    Polygon.prototype.getLinearRings = function getLinearRings () {\n      var layout = this.layout;\n      var flatCoordinates = this.flatCoordinates;\n      var ends = this.ends_;\n      var linearRings$$1 = [];\n      var offset$$1 = 0;\n      for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        var linearRing$$1 = new LinearRing(flatCoordinates.slice(offset$$1, end), layout);\n        linearRings$$1.push(linearRing$$1);\n        offset$$1 = end;\n      }\n      return linearRings$$1;\n    };\n\n    /**\n     * @return {Array<number>} Oriented flat coordinates.\n     */\n    Polygon.prototype.getOrientedFlatCoordinates = function getOrientedFlatCoordinates () {\n      if (this.orientedRevision_ != this.getRevision()) {\n        var flatCoordinates = this.flatCoordinates;\n        if (linearRingIsOriented(\n          flatCoordinates, 0, this.ends_, this.stride)) {\n          this.orientedFlatCoordinates_ = flatCoordinates;\n        } else {\n          this.orientedFlatCoordinates_ = flatCoordinates.slice();\n          this.orientedFlatCoordinates_.length =\n              orientLinearRings(\n                this.orientedFlatCoordinates_, 0, this.ends_, this.stride);\n        }\n        this.orientedRevision_ = this.getRevision();\n      }\n      return this.orientedFlatCoordinates_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Polygon.prototype.getSimplifiedGeometryInternal = function getSimplifiedGeometryInternal (squaredTolerance) {\n      var simplifiedFlatCoordinates = [];\n      var simplifiedEnds = [];\n      simplifiedFlatCoordinates.length = quantizeArray(\n        this.flatCoordinates, 0, this.ends_, this.stride,\n        Math.sqrt(squaredTolerance),\n        simplifiedFlatCoordinates, 0, simplifiedEnds);\n      return new Polygon(simplifiedFlatCoordinates, GeometryLayout.XY, simplifiedEnds);\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    Polygon.prototype.getType = function getType () {\n      return GeometryType.POLYGON;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    Polygon.prototype.intersectsExtent = function intersectsExtent (extent) {\n      return intersectsLinearRingArray(\n        this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, extent);\n    };\n\n    /**\n     * Set the coordinates of the polygon.\n     * @param {!Array<Array<import(\"../coordinate.js\").Coordinate>>} coordinates Coordinates.\n     * @param {GeometryLayout=} opt_layout Layout.\n     * @override\n     * @api\n     */\n    Polygon.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {\n      this.setLayout(opt_layout, coordinates, 2);\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = [];\n      }\n      var ends = deflateCoordinatesArray(\n        this.flatCoordinates, 0, coordinates, this.stride, this.ends_);\n      this.flatCoordinates.length = ends.length === 0 ? 0 : ends[ends.length - 1];\n      this.changed();\n    };\n\n    return Polygon;\n  }(SimpleGeometry));\n\n\n  /**\n   * Create a polygon from an extent. The layout used is `XY`.\n   * @param {import(\"../extent.js\").Extent} extent The extent.\n   * @return {Polygon} The polygon.\n   * @api\n   */\n  function fromExtent(extent) {\n    var minX = extent[0];\n    var minY = extent[1];\n    var maxX = extent[2];\n    var maxY = extent[3];\n    var flatCoordinates =\n        [minX, minY, minX, maxY, maxX, maxY, maxX, minY, minX, minY];\n    return new Polygon(flatCoordinates, GeometryLayout.XY, [flatCoordinates.length]);\n  }\n\n\n  /**\n   * Create a regular polygon from a circle.\n   * @param {import(\"./Circle.js\").default} circle Circle geometry.\n   * @param {number=} opt_sides Number of sides of the polygon. Default is 32.\n   * @param {number=} opt_angle Start angle for the first vertex of the polygon in\n   *     radians. Default is 0.\n   * @return {Polygon} Polygon geometry.\n   * @api\n   */\n  function fromCircle(circle, opt_sides, opt_angle) {\n    var sides = opt_sides ? opt_sides : 32;\n    var stride = circle.getStride();\n    var layout = circle.getLayout();\n    var center = circle.getCenter();\n    var arrayLength = stride * (sides + 1);\n    var flatCoordinates = new Array(arrayLength);\n    for (var i = 0; i < arrayLength; i += stride) {\n      flatCoordinates[i] = 0;\n      flatCoordinates[i + 1] = 0;\n      for (var j = 2; j < stride; j++) {\n        flatCoordinates[i + j] = center[j];\n      }\n    }\n    var ends = [flatCoordinates.length];\n    var polygon = new Polygon(flatCoordinates, layout, ends);\n    makeRegular(polygon, center, circle.getRadius(), opt_angle);\n    return polygon;\n  }\n\n\n  /**\n   * Modify the coordinates of a polygon to make it a regular polygon.\n   * @param {Polygon} polygon Polygon geometry.\n   * @param {import(\"../coordinate.js\").Coordinate} center Center of the regular polygon.\n   * @param {number} radius Radius of the regular polygon.\n   * @param {number=} opt_angle Start angle for the first vertex of the polygon in\n   *     radians. Default is 0.\n   */\n  function makeRegular(polygon, center, radius, opt_angle) {\n    var flatCoordinates = polygon.getFlatCoordinates();\n    var stride = polygon.getStride();\n    var sides = flatCoordinates.length / stride - 1;\n    var startAngle = opt_angle ? opt_angle : 0;\n    for (var i = 0; i <= sides; ++i) {\n      var offset$$1 = i * stride;\n      var angle = startAngle + (modulo(i, sides) * 2 * Math.PI / sides);\n      flatCoordinates[offset$$1] = center[0] + (radius * Math.cos(angle));\n      flatCoordinates[offset$$1 + 1] = center[1] + (radius * Math.sin(angle));\n    }\n    polygon.changed();\n  }\n\n  /**\n   * @module ol/View\n   */\n\n\n  /**\n   * An animation configuration\n   *\n   * @typedef {Object} Animation\n   * @property {import(\"./coordinate.js\").Coordinate} [sourceCenter]\n   * @property {import(\"./coordinate.js\").Coordinate} [targetCenter]\n   * @property {number} [sourceResolution]\n   * @property {number} [targetResolution]\n   * @property {number} [sourceRotation]\n   * @property {number} [targetRotation]\n   * @property {import(\"./coordinate.js\").Coordinate} [anchor]\n   * @property {number} start\n   * @property {number} duration\n   * @property {boolean} complete\n   * @property {function(number):number} easing\n   * @property {function(boolean)} callback\n   */\n\n\n  /**\n   * @typedef {Object} Constraints\n   * @property {import(\"./centerconstraint.js\").Type} center\n   * @property {import(\"./resolutionconstraint.js\").Type} resolution\n   * @property {import(\"./rotationconstraint.js\").Type} rotation\n   */\n\n\n  /**\n   * @typedef {Object} FitOptions\n   * @property {import(\"./size.js\").Size} [size] The size in pixels of the box to fit\n   * the extent into. Default is the current size of the first map in the DOM that\n   * uses this view, or `[100, 100]` if no such map is found.\n   * @property {!Array<number>} [padding=[0, 0, 0, 0]] Padding (in pixels) to be\n   * cleared inside the view. Values in the array are top, right, bottom and left\n   * padding.\n   * @property {boolean} [constrainResolution=true] Constrain the resolution.\n   * @property {boolean} [nearest=false] If `constrainResolution` is `true`, get\n   * the nearest extent instead of the closest that actually fits the view.\n   * @property {number} [minResolution=0] Minimum resolution that we zoom to.\n   * @property {number} [maxZoom] Maximum zoom level that we zoom to. If\n   * `minResolution` is given, this property is ignored.\n   * @property {number} [duration] The duration of the animation in milliseconds.\n   * By default, there is no animation to the target extent.\n   * @property {function(number):number} [easing] The easing function used during\n   * the animation (defaults to {@link module:ol/easing~inAndOut}).\n   * The function will be called for each frame with a number representing a\n   * fraction of the animation's duration.  The function should return a number\n   * between 0 and 1 representing the progress toward the destination state.\n   * @property {function(boolean)} [callback] Function called when the view is in\n   * its final position. The callback will be called with `true` if the animation\n   * series completed on its own or `false` if it was cancelled.\n   */\n\n\n  /**\n   * @typedef {Object} ViewOptions\n   * @property {import(\"./coordinate.js\").Coordinate} [center] The initial center for\n   * the view. The coordinate system for the center is specified with the\n   * `projection` option. Layer sources will not be fetched if this is not set,\n   * but the center can be set later with {@link #setCenter}.\n   * @property {boolean|number} [constrainRotation=true] Rotation constraint.\n   * `false` means no constraint. `true` means no constraint, but snap to zero\n   * near zero. A number constrains the rotation to that number of values. For\n   * example, `4` will constrain the rotation to 0, 90, 180, and 270 degrees.\n   * @property {boolean} [enableRotation=true] Enable rotation.\n   * If `false`, a rotation constraint that always sets the rotation to zero is\n   * used. The `constrainRotation` option has no effect if `enableRotation` is\n   * `false`.\n   * @property {import(\"./extent.js\").Extent} [extent] The extent that constrains the\n   * center, in other words, center cannot be set outside this extent.\n   * @property {number} [maxResolution] The maximum resolution used to determine\n   * the resolution constraint. It is used together with `minResolution` (or\n   * `maxZoom`) and `zoomFactor`. If unspecified it is calculated in such a way\n   * that the projection's validity extent fits in a 256x256 px tile. If the\n   * projection is Spherical Mercator (the default) then `maxResolution` defaults\n   * to `40075016.68557849 / 256 = 156543.03392804097`.\n   * @property {number} [minResolution] The minimum resolution used to determine\n   * the resolution constraint.  It is used together with `maxResolution` (or\n   * `minZoom`) and `zoomFactor`.  If unspecified it is calculated assuming 29\n   * zoom levels (with a factor of 2). If the projection is Spherical Mercator\n   * (the default) then `minResolution` defaults to\n   * `40075016.68557849 / 256 / Math.pow(2, 28) = 0.0005831682455839253`.\n   * @property {number} [maxZoom=28] The maximum zoom level used to determine the\n   * resolution constraint. It is used together with `minZoom` (or\n   * `maxResolution`) and `zoomFactor`.  Note that if `minResolution` is also\n   * provided, it is given precedence over `maxZoom`.\n   * @property {number} [minZoom=0] The minimum zoom level used to determine the\n   * resolution constraint. It is used together with `maxZoom` (or\n   * `minResolution`) and `zoomFactor`.  Note that if `maxResolution` is also\n   * provided, it is given precedence over `minZoom`.\n   * @property {import(\"./proj.js\").ProjectionLike} [projection='EPSG:3857'] The\n   * projection. The default is Spherical Mercator.\n   * @property {number} [resolution] The initial resolution for the view. The\n   * units are `projection` units per pixel (e.g. meters per pixel). An\n   * alternative to setting this is to set `zoom`. Layer sources will not be\n   * fetched if neither this nor `zoom` are defined, but they can be set later\n   * with {@link #setZoom} or {@link #setResolution}.\n   * @property {Array<number>} [resolutions] Resolutions to determine the\n   * resolution constraint. If set the `maxResolution`, `minResolution`,\n   * `minZoom`, `maxZoom`, and `zoomFactor` options are ignored.\n   * @property {number} [rotation=0] The initial rotation for the view in radians\n   * (positive rotation clockwise, 0 means North).\n   * @property {number} [zoom] Only used if `resolution` is not defined. Zoom\n   * level used to calculate the initial resolution for the view. The initial\n   * resolution is determined using the {@link #constrainResolution} method.\n   * @property {number} [zoomFactor=2] The zoom factor used to determine the\n   * resolution constraint.\n   */\n\n\n  /**\n   * @typedef {Object} AnimationOptions\n   * @property {import(\"./coordinate.js\").Coordinate} [center] The center of the view at the end of\n   * the animation.\n   * @property {number} [zoom] The zoom level of the view at the end of the\n   * animation. This takes precedence over `resolution`.\n   * @property {number} [resolution] The resolution of the view at the end\n   * of the animation.  If `zoom` is also provided, this option will be ignored.\n   * @property {number} [rotation] The rotation of the view at the end of\n   * the animation.\n   * @property {import(\"./coordinate.js\").Coordinate} [anchor] Optional anchor to remained fixed\n   * during a rotation or resolution animation.\n   * @property {number} [duration=1000] The duration of the animation in milliseconds.\n   * @property {function(number):number} [easing] The easing function used\n   * during the animation (defaults to {@link module:ol/easing~inAndOut}).\n   * The function will be called for each frame with a number representing a\n   * fraction of the animation's duration.  The function should return a number\n   * between 0 and 1 representing the progress toward the destination state.\n   */\n\n\n  /**\n   * @typedef {Object} State\n   * @property {import(\"./coordinate.js\").Coordinate} center\n   * @property {import(\"./proj/Projection.js\").default} projection\n   * @property {number} resolution\n   * @property {number} rotation\n   * @property {number} zoom\n   */\n\n\n  /**\n   * Default min zoom level for the map view.\n   * @type {number}\n   */\n  var DEFAULT_MIN_ZOOM = 0;\n\n\n  /**\n   * @classdesc\n   * A View object represents a simple 2D view of the map.\n   *\n   * This is the object to act upon to change the center, resolution,\n   * and rotation of the map.\n   *\n   * ### The view states\n   *\n   * An View is determined by three states: `center`, `resolution`,\n   * and `rotation`. Each state has a corresponding getter and setter, e.g.\n   * `getCenter` and `setCenter` for the `center` state.\n   *\n   * An View has a `projection`. The projection determines the\n   * coordinate system of the center, and its units determine the units of the\n   * resolution (projection units per pixel). The default projection is\n   * Spherical Mercator (EPSG:3857).\n   *\n   * ### The constraints\n   *\n   * `setCenter`, `setResolution` and `setRotation` can be used to change the\n   * states of the view. Any value can be passed to the setters. And the value\n   * that is passed to a setter will effectively be the value set in the view,\n   * and returned by the corresponding getter.\n   *\n   * But a View object also has a *resolution constraint*, a\n   * *rotation constraint* and a *center constraint*.\n   *\n   * As said above, no constraints are applied when the setters are used to set\n   * new states for the view. Applying constraints is done explicitly through\n   * the use of the `constrain*` functions (`constrainResolution` and\n   * `constrainRotation` and `constrainCenter`).\n   *\n   * The main users of the constraints are the interactions and the\n   * controls. For example, double-clicking on the map changes the view to\n   * the \"next\" resolution. And releasing the fingers after pinch-zooming\n   * snaps to the closest resolution (with an animation).\n   *\n   * The *resolution constraint* snaps to specific resolutions. It is\n   * determined by the following options: `resolutions`, `maxResolution`,\n   * `maxZoom`, and `zoomFactor`. If `resolutions` is set, the other three\n   * options are ignored. See documentation for each option for more\n   * information.\n   *\n   * The *rotation constraint* snaps to specific angles. It is determined\n   * by the following options: `enableRotation` and `constrainRotation`.\n   * By default the rotation value is snapped to zero when approaching the\n   * horizontal.\n   *\n   * The *center constraint* is determined by the `extent` option. By\n   * default the center is not constrained at all.\n   *\n    * @api\n   */\n  var View = /*@__PURE__*/(function (BaseObject$$1) {\n    function View(opt_options) {\n      BaseObject$$1.call(this);\n\n      var options = assign({}, opt_options);\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.hints_ = [0, 0];\n\n      /**\n       * @private\n       * @type {Array<Array<Animation>>}\n       */\n      this.animations_ = [];\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.updateAnimationKey_;\n\n      this.updateAnimations_ = this.updateAnimations_.bind(this);\n\n      /**\n       * @private\n       * @const\n       * @type {import(\"./proj/Projection.js\").default}\n       */\n      this.projection_ = createProjection(options.projection, 'EPSG:3857');\n\n      this.applyOptions_(options);\n    }\n\n    if ( BaseObject$$1 ) View.__proto__ = BaseObject$$1;\n    View.prototype = Object.create( BaseObject$$1 && BaseObject$$1.prototype );\n    View.prototype.constructor = View;\n\n    /**\n     * Set up the view with the given options.\n     * @param {ViewOptions} options View options.\n     */\n    View.prototype.applyOptions_ = function applyOptions_ (options) {\n\n      /**\n       * @type {Object<string, *>}\n       */\n      var properties = {};\n      properties[ViewProperty.CENTER] = options.center !== undefined ?\n        options.center : null;\n\n      var resolutionConstraintInfo = createResolutionConstraint(options);\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxResolution_ = resolutionConstraintInfo.maxResolution;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.minResolution_ = resolutionConstraintInfo.minResolution;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.zoomFactor_ = resolutionConstraintInfo.zoomFactor;\n\n      /**\n       * @private\n       * @type {Array<number>|undefined}\n       */\n      this.resolutions_ = options.resolutions;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.minZoom_ = resolutionConstraintInfo.minZoom;\n\n      var centerConstraint = createCenterConstraint(options);\n      var resolutionConstraint = resolutionConstraintInfo.constraint;\n      var rotationConstraint = createRotationConstraint(options);\n\n      /**\n       * @private\n       * @type {Constraints}\n       */\n      this.constraints_ = {\n        center: centerConstraint,\n        resolution: resolutionConstraint,\n        rotation: rotationConstraint\n      };\n\n      if (options.resolution !== undefined) {\n        properties[ViewProperty.RESOLUTION] = options.resolution;\n      } else if (options.zoom !== undefined) {\n        properties[ViewProperty.RESOLUTION] = this.constrainResolution(\n          this.maxResolution_, options.zoom - this.minZoom_);\n\n        if (this.resolutions_) { // in case map zoom is out of min/max zoom range\n          properties[ViewProperty.RESOLUTION] = clamp(\n            Number(this.getResolution() || properties[ViewProperty.RESOLUTION]),\n            this.minResolution_, this.maxResolution_);\n        }\n      }\n      properties[ViewProperty.ROTATION] = options.rotation !== undefined ? options.rotation : 0;\n      this.setProperties(properties);\n\n      /**\n       * @private\n       * @type {ViewOptions}\n       */\n      this.options_ = options;\n\n    };\n\n    /**\n     * Get an updated version of the view options used to construct the view.  The\n     * current resolution (or zoom), center, and rotation are applied to any stored\n     * options.  The provided options can be used to apply new min/max zoom or\n     * resolution limits.\n     * @param {ViewOptions} newOptions New options to be applied.\n     * @return {ViewOptions} New options updated with the current view state.\n     */\n    View.prototype.getUpdatedOptions_ = function getUpdatedOptions_ (newOptions) {\n      var options = assign({}, this.options_);\n\n      // preserve resolution (or zoom)\n      if (options.resolution !== undefined) {\n        options.resolution = this.getResolution();\n      } else {\n        options.zoom = this.getZoom();\n      }\n\n      // preserve center\n      options.center = this.getCenter();\n\n      // preserve rotation\n      options.rotation = this.getRotation();\n\n      return assign({}, options, newOptions);\n    };\n\n    /**\n     * Animate the view.  The view's center, zoom (or resolution), and rotation\n     * can be animated for smooth transitions between view states.  For example,\n     * to animate the view to a new zoom level:\n     *\n     *     view.animate({zoom: view.getZoom() + 1});\n     *\n     * By default, the animation lasts one second and uses in-and-out easing.  You\n     * can customize this behavior by including `duration` (in milliseconds) and\n     * `easing` options (see {@link module:ol/easing}).\n     *\n     * To chain together multiple animations, call the method with multiple\n     * animation objects.  For example, to first zoom and then pan:\n     *\n     *     view.animate({zoom: 10}, {center: [0, 0]});\n     *\n     * If you provide a function as the last argument to the animate method, it\n     * will get called at the end of an animation series.  The callback will be\n     * called with `true` if the animation series completed on its own or `false`\n     * if it was cancelled.\n     *\n     * Animations are cancelled by user interactions (e.g. dragging the map) or by\n     * calling `view.setCenter()`, `view.setResolution()`, or `view.setRotation()`\n     * (or another method that calls one of these).\n     *\n     * @param {...(AnimationOptions|function(boolean))} var_args Animation\n     *     options.  Multiple animations can be run in series by passing multiple\n     *     options objects.  To run multiple animations in parallel, call the method\n     *     multiple times.  An optional callback can be provided as a final\n     *     argument.  The callback will be called with a boolean indicating whether\n     *     the animation completed without being cancelled.\n     * @api\n     */\n    View.prototype.animate = function animate (var_args) {\n      var arguments$1 = arguments;\n\n      var animationCount = arguments.length;\n      var callback;\n      if (animationCount > 1 && typeof arguments[animationCount - 1] === 'function') {\n        callback = arguments[animationCount - 1];\n        --animationCount;\n      }\n      if (!this.isDef()) {\n        // if view properties are not yet set, shortcut to the final state\n        var state = arguments[animationCount - 1];\n        if (state.center) {\n          this.setCenter(state.center);\n        }\n        if (state.zoom !== undefined) {\n          this.setZoom(state.zoom);\n        }\n        if (state.rotation !== undefined) {\n          this.setRotation(state.rotation);\n        }\n        if (callback) {\n          animationCallback(callback, true);\n        }\n        return;\n      }\n      var start = Date.now();\n      var center = this.getCenter().slice();\n      var resolution = this.getResolution();\n      var rotation = this.getRotation();\n      var series = [];\n      for (var i = 0; i < animationCount; ++i) {\n        var options = /** @type {AnimationOptions} */ (arguments$1[i]);\n\n        var animation = /** @type {Animation} */ ({\n          start: start,\n          complete: false,\n          anchor: options.anchor,\n          duration: options.duration !== undefined ? options.duration : 1000,\n          easing: options.easing || inAndOut\n        });\n\n        if (options.center) {\n          animation.sourceCenter = center;\n          animation.targetCenter = options.center;\n          center = animation.targetCenter;\n        }\n\n        if (options.zoom !== undefined) {\n          animation.sourceResolution = resolution;\n          animation.targetResolution = this.constrainResolution(\n            this.maxResolution_, options.zoom - this.minZoom_, 0);\n          resolution = animation.targetResolution;\n        } else if (options.resolution) {\n          animation.sourceResolution = resolution;\n          animation.targetResolution = options.resolution;\n          resolution = animation.targetResolution;\n        }\n\n        if (options.rotation !== undefined) {\n          animation.sourceRotation = rotation;\n          var delta = modulo(options.rotation - rotation + Math.PI, 2 * Math.PI) - Math.PI;\n          animation.targetRotation = rotation + delta;\n          rotation = animation.targetRotation;\n        }\n\n        animation.callback = callback;\n\n        // check if animation is a no-op\n        if (isNoopAnimation(animation)) {\n          animation.complete = true;\n          // we still push it onto the series for callback handling\n        } else {\n          start += animation.duration;\n        }\n        series.push(animation);\n      }\n      this.animations_.push(series);\n      this.setHint(ViewHint.ANIMATING, 1);\n      this.updateAnimations_();\n    };\n\n    /**\n     * Determine if the view is being animated.\n     * @return {boolean} The view is being animated.\n     * @api\n     */\n    View.prototype.getAnimating = function getAnimating () {\n      return this.hints_[ViewHint.ANIMATING] > 0;\n    };\n\n    /**\n     * Determine if the user is interacting with the view, such as panning or zooming.\n     * @return {boolean} The view is being interacted with.\n     * @api\n     */\n    View.prototype.getInteracting = function getInteracting () {\n      return this.hints_[ViewHint.INTERACTING] > 0;\n    };\n\n    /**\n     * Cancel any ongoing animations.\n     * @api\n     */\n    View.prototype.cancelAnimations = function cancelAnimations () {\n      this.setHint(ViewHint.ANIMATING, -this.hints_[ViewHint.ANIMATING]);\n      for (var i = 0, ii = this.animations_.length; i < ii; ++i) {\n        var series = this.animations_[i];\n        if (series[0].callback) {\n          animationCallback(series[0].callback, false);\n        }\n      }\n      this.animations_.length = 0;\n    };\n\n    /**\n     * Update all animations.\n     */\n    View.prototype.updateAnimations_ = function updateAnimations_ () {\n      if (this.updateAnimationKey_ !== undefined) {\n        cancelAnimationFrame(this.updateAnimationKey_);\n        this.updateAnimationKey_ = undefined;\n      }\n      if (!this.getAnimating()) {\n        return;\n      }\n      var now = Date.now();\n      var more = false;\n      for (var i = this.animations_.length - 1; i >= 0; --i) {\n        var series = this.animations_[i];\n        var seriesComplete = true;\n        for (var j = 0, jj = series.length; j < jj; ++j) {\n          var animation = series[j];\n          if (animation.complete) {\n            continue;\n          }\n          var elapsed = now - animation.start;\n          var fraction = animation.duration > 0 ? elapsed / animation.duration : 1;\n          if (fraction >= 1) {\n            animation.complete = true;\n            fraction = 1;\n          } else {\n            seriesComplete = false;\n          }\n          var progress = animation.easing(fraction);\n          if (animation.sourceCenter) {\n            var x0 = animation.sourceCenter[0];\n            var y0 = animation.sourceCenter[1];\n            var x1 = animation.targetCenter[0];\n            var y1 = animation.targetCenter[1];\n            var x = x0 + progress * (x1 - x0);\n            var y = y0 + progress * (y1 - y0);\n            this.set(ViewProperty.CENTER, [x, y]);\n          }\n          if (animation.sourceResolution && animation.targetResolution) {\n            var resolution = progress === 1 ?\n              animation.targetResolution :\n              animation.sourceResolution + progress * (animation.targetResolution - animation.sourceResolution);\n            if (animation.anchor) {\n              this.set(ViewProperty.CENTER,\n                this.calculateCenterZoom(resolution, animation.anchor));\n            }\n            this.set(ViewProperty.RESOLUTION, resolution);\n          }\n          if (animation.sourceRotation !== undefined && animation.targetRotation !== undefined) {\n            var rotation = progress === 1 ?\n              modulo(animation.targetRotation + Math.PI, 2 * Math.PI) - Math.PI :\n              animation.sourceRotation + progress * (animation.targetRotation - animation.sourceRotation);\n            if (animation.anchor) {\n              this.set(ViewProperty.CENTER,\n                this.calculateCenterRotate(rotation, animation.anchor));\n            }\n            this.set(ViewProperty.ROTATION, rotation);\n          }\n          more = true;\n          if (!animation.complete) {\n            break;\n          }\n        }\n        if (seriesComplete) {\n          this.animations_[i] = null;\n          this.setHint(ViewHint.ANIMATING, -1);\n          var callback = series[0].callback;\n          if (callback) {\n            animationCallback(callback, true);\n          }\n        }\n      }\n      // prune completed series\n      this.animations_ = this.animations_.filter(Boolean);\n      if (more && this.updateAnimationKey_ === undefined) {\n        this.updateAnimationKey_ = requestAnimationFrame(this.updateAnimations_);\n      }\n    };\n\n    /**\n     * @param {number} rotation Target rotation.\n     * @param {import(\"./coordinate.js\").Coordinate} anchor Rotation anchor.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} Center for rotation and anchor.\n     */\n    View.prototype.calculateCenterRotate = function calculateCenterRotate (rotation, anchor) {\n      var center;\n      var currentCenter = this.getCenter();\n      if (currentCenter !== undefined) {\n        center = [currentCenter[0] - anchor[0], currentCenter[1] - anchor[1]];\n        rotate(center, rotation - this.getRotation());\n        add(center, anchor);\n      }\n      return center;\n    };\n\n    /**\n     * @param {number} resolution Target resolution.\n     * @param {import(\"./coordinate.js\").Coordinate} anchor Zoom anchor.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} Center for resolution and anchor.\n     */\n    View.prototype.calculateCenterZoom = function calculateCenterZoom (resolution, anchor) {\n      var center;\n      var currentCenter = this.getCenter();\n      var currentResolution = this.getResolution();\n      if (currentCenter !== undefined && currentResolution !== undefined) {\n        var x = anchor[0] - resolution * (anchor[0] - currentCenter[0]) / currentResolution;\n        var y = anchor[1] - resolution * (anchor[1] - currentCenter[1]) / currentResolution;\n        center = [x, y];\n      }\n      return center;\n    };\n\n    /**\n     * @private\n     * @return {import(\"./size.js\").Size} Viewport size or `[100, 100]` when no viewport is found.\n     */\n    View.prototype.getSizeFromViewport_ = function getSizeFromViewport_ () {\n      var size = [100, 100];\n      var selector = '.ol-viewport[data-view=\"' + getUid(this) + '\"]';\n      var element = document.querySelector(selector);\n      if (element) {\n        var metrics = getComputedStyle(element);\n        size[0] = parseInt(metrics.width, 10);\n        size[1] = parseInt(metrics.height, 10);\n      }\n      return size;\n    };\n\n    /**\n     * Get the constrained center of this view.\n     * @param {import(\"./coordinate.js\").Coordinate|undefined} center Center.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} Constrained center.\n     * @api\n     */\n    View.prototype.constrainCenter = function constrainCenter (center) {\n      return this.constraints_.center(center);\n    };\n\n    /**\n     * Get the constrained resolution of this view.\n     * @param {number|undefined} resolution Resolution.\n     * @param {number=} opt_delta Delta. Default is `0`.\n     * @param {number=} opt_direction Direction. Default is `0`.\n     * @return {number|undefined} Constrained resolution.\n     * @api\n     */\n    View.prototype.constrainResolution = function constrainResolution (resolution, opt_delta, opt_direction) {\n      var delta = opt_delta || 0;\n      var direction = opt_direction || 0;\n      return this.constraints_.resolution(resolution, delta, direction);\n    };\n\n    /**\n     * Get the constrained rotation of this view.\n     * @param {number|undefined} rotation Rotation.\n     * @param {number=} opt_delta Delta. Default is `0`.\n     * @return {number|undefined} Constrained rotation.\n     * @api\n     */\n    View.prototype.constrainRotation = function constrainRotation (rotation, opt_delta) {\n      var delta = opt_delta || 0;\n      return this.constraints_.rotation(rotation, delta);\n    };\n\n    /**\n     * Get the view center.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} The center of the view.\n     * @observable\n     * @api\n     */\n    View.prototype.getCenter = function getCenter$$1 () {\n      return (\n        /** @type {import(\"./coordinate.js\").Coordinate|undefined} */ (this.get(ViewProperty.CENTER))\n      );\n    };\n\n    /**\n     * @return {Constraints} Constraints.\n     */\n    View.prototype.getConstraints = function getConstraints () {\n      return this.constraints_;\n    };\n\n    /**\n     * @param {Array<number>=} opt_hints Destination array.\n     * @return {Array<number>} Hint.\n     */\n    View.prototype.getHints = function getHints (opt_hints) {\n      if (opt_hints !== undefined) {\n        opt_hints[0] = this.hints_[0];\n        opt_hints[1] = this.hints_[1];\n        return opt_hints;\n      } else {\n        return this.hints_.slice();\n      }\n    };\n\n    /**\n     * Calculate the extent for the current view state and the passed size.\n     * The size is the pixel dimensions of the box into which the calculated extent\n     * should fit. In most cases you want to get the extent of the entire map,\n     * that is `map.getSize()`.\n     * @param {import(\"./size.js\").Size=} opt_size Box pixel size. If not provided, the size of the\n     * first map that uses this view will be used.\n     * @return {import(\"./extent.js\").Extent} Extent.\n     * @api\n     */\n    View.prototype.calculateExtent = function calculateExtent (opt_size) {\n      var size = opt_size || this.getSizeFromViewport_();\n      var center = /** @type {!import(\"./coordinate.js\").Coordinate} */ (this.getCenter());\n      assert(center, 1); // The view center is not defined\n      var resolution = /** @type {!number} */ (this.getResolution());\n      assert(resolution !== undefined, 2); // The view resolution is not defined\n      var rotation = /** @type {!number} */ (this.getRotation());\n      assert(rotation !== undefined, 3); // The view rotation is not defined\n\n      return getForViewAndSize(center, resolution, rotation, size);\n    };\n\n    /**\n     * Get the maximum resolution of the view.\n     * @return {number} The maximum resolution of the view.\n     * @api\n     */\n    View.prototype.getMaxResolution = function getMaxResolution () {\n      return this.maxResolution_;\n    };\n\n    /**\n     * Get the minimum resolution of the view.\n     * @return {number} The minimum resolution of the view.\n     * @api\n     */\n    View.prototype.getMinResolution = function getMinResolution () {\n      return this.minResolution_;\n    };\n\n    /**\n     * Get the maximum zoom level for the view.\n     * @return {number} The maximum zoom level.\n     * @api\n     */\n    View.prototype.getMaxZoom = function getMaxZoom () {\n      return /** @type {number} */ (this.getZoomForResolution(this.minResolution_));\n    };\n\n    /**\n     * Set a new maximum zoom level for the view.\n     * @param {number} zoom The maximum zoom level.\n     * @api\n     */\n    View.prototype.setMaxZoom = function setMaxZoom (zoom) {\n      this.applyOptions_(this.getUpdatedOptions_({maxZoom: zoom}));\n    };\n\n    /**\n     * Get the minimum zoom level for the view.\n     * @return {number} The minimum zoom level.\n     * @api\n     */\n    View.prototype.getMinZoom = function getMinZoom () {\n      return /** @type {number} */ (this.getZoomForResolution(this.maxResolution_));\n    };\n\n    /**\n     * Set a new minimum zoom level for the view.\n     * @param {number} zoom The minimum zoom level.\n     * @api\n     */\n    View.prototype.setMinZoom = function setMinZoom (zoom) {\n      this.applyOptions_(this.getUpdatedOptions_({minZoom: zoom}));\n    };\n\n    /**\n     * Get the view projection.\n     * @return {import(\"./proj/Projection.js\").default} The projection of the view.\n     * @api\n     */\n    View.prototype.getProjection = function getProjection () {\n      return this.projection_;\n    };\n\n    /**\n     * Get the view resolution.\n     * @return {number|undefined} The resolution of the view.\n     * @observable\n     * @api\n     */\n    View.prototype.getResolution = function getResolution () {\n      return /** @type {number|undefined} */ (this.get(ViewProperty.RESOLUTION));\n    };\n\n    /**\n     * Get the resolutions for the view. This returns the array of resolutions\n     * passed to the constructor of the View, or undefined if none were given.\n     * @return {Array<number>|undefined} The resolutions of the view.\n     * @api\n     */\n    View.prototype.getResolutions = function getResolutions () {\n      return this.resolutions_;\n    };\n\n    /**\n     * Get the resolution for a provided extent (in map units) and size (in pixels).\n     * @param {import(\"./extent.js\").Extent} extent Extent.\n     * @param {import(\"./size.js\").Size=} opt_size Box pixel size.\n     * @return {number} The resolution at which the provided extent will render at\n     *     the given size.\n     * @api\n     */\n    View.prototype.getResolutionForExtent = function getResolutionForExtent (extent, opt_size) {\n      var size = opt_size || this.getSizeFromViewport_();\n      var xResolution = getWidth(extent) / size[0];\n      var yResolution = getHeight(extent) / size[1];\n      return Math.max(xResolution, yResolution);\n    };\n\n    /**\n     * Return a function that returns a value between 0 and 1 for a\n     * resolution. Exponential scaling is assumed.\n     * @param {number=} opt_power Power.\n     * @return {function(number): number} Resolution for value function.\n     */\n    View.prototype.getResolutionForValueFunction = function getResolutionForValueFunction (opt_power) {\n      var power = opt_power || 2;\n      var maxResolution = this.maxResolution_;\n      var minResolution = this.minResolution_;\n      var max = Math.log(maxResolution / minResolution) / Math.log(power);\n      return (\n        /**\n         * @param {number} value Value.\n         * @return {number} Resolution.\n         */\n        function(value) {\n          var resolution = maxResolution / Math.pow(power, value * max);\n          return resolution;\n        });\n    };\n\n    /**\n     * Get the view rotation.\n     * @return {number} The rotation of the view in radians.\n     * @observable\n     * @api\n     */\n    View.prototype.getRotation = function getRotation () {\n      return /** @type {number} */ (this.get(ViewProperty.ROTATION));\n    };\n\n    /**\n     * Return a function that returns a resolution for a value between\n     * 0 and 1. Exponential scaling is assumed.\n     * @param {number=} opt_power Power.\n     * @return {function(number): number} Value for resolution function.\n     */\n    View.prototype.getValueForResolutionFunction = function getValueForResolutionFunction (opt_power) {\n      var power = opt_power || 2;\n      var maxResolution = this.maxResolution_;\n      var minResolution = this.minResolution_;\n      var max = Math.log(maxResolution / minResolution) / Math.log(power);\n      return (\n        /**\n         * @param {number} resolution Resolution.\n         * @return {number} Value.\n         */\n        function(resolution) {\n          var value = (Math.log(maxResolution / resolution) / Math.log(power)) / max;\n          return value;\n        });\n    };\n\n    /**\n     * @param {number} pixelRatio Pixel ratio for center rounding.\n     * @return {State} View state.\n     */\n    View.prototype.getState = function getState (pixelRatio) {\n      var center = /** @type {import(\"./coordinate.js\").Coordinate} */ (this.getCenter());\n      var projection = this.getProjection();\n      var resolution = /** @type {number} */ (this.getResolution());\n      var pixelResolution = resolution / pixelRatio;\n      var rotation = this.getRotation();\n      return (\n        /** @type {State} */ ({\n          center: [\n            Math.round(center[0] / pixelResolution) * pixelResolution,\n            Math.round(center[1] / pixelResolution) * pixelResolution\n          ],\n          projection: projection !== undefined ? projection : null,\n          resolution: resolution,\n          rotation: rotation,\n          zoom: this.getZoom()\n        })\n      );\n    };\n\n    /**\n     * Get the current zoom level.  If you configured your view with a resolutions\n     * array (this is rare), this method may return non-integer zoom levels (so\n     * the zoom level is not safe to use as an index into a resolutions array).\n     * @return {number|undefined} Zoom.\n     * @api\n     */\n    View.prototype.getZoom = function getZoom () {\n      var zoom;\n      var resolution = this.getResolution();\n      if (resolution !== undefined) {\n        zoom = this.getZoomForResolution(resolution);\n      }\n      return zoom;\n    };\n\n    /**\n     * Get the zoom level for a resolution.\n     * @param {number} resolution The resolution.\n     * @return {number|undefined} The zoom level for the provided resolution.\n     * @api\n     */\n    View.prototype.getZoomForResolution = function getZoomForResolution (resolution) {\n      var offset = this.minZoom_ || 0;\n      var max, zoomFactor;\n      if (this.resolutions_) {\n        var nearest = linearFindNearest(this.resolutions_, resolution, 1);\n        offset = nearest;\n        max = this.resolutions_[nearest];\n        if (nearest == this.resolutions_.length - 1) {\n          zoomFactor = 2;\n        } else {\n          zoomFactor = max / this.resolutions_[nearest + 1];\n        }\n      } else {\n        max = this.maxResolution_;\n        zoomFactor = this.zoomFactor_;\n      }\n      return offset + Math.log(max / resolution) / Math.log(zoomFactor);\n    };\n\n    /**\n     * Get the resolution for a zoom level.\n     * @param {number} zoom Zoom level.\n     * @return {number} The view resolution for the provided zoom level.\n     * @api\n     */\n    View.prototype.getResolutionForZoom = function getResolutionForZoom (zoom) {\n      return /** @type {number} */ (this.constrainResolution(\n        this.maxResolution_, zoom - this.minZoom_, 0));\n    };\n\n    /**\n     * Fit the given geometry or extent based on the given map size and border.\n     * The size is pixel dimensions of the box to fit the extent into.\n     * In most cases you will want to use the map size, that is `map.getSize()`.\n     * Takes care of the map angle.\n     * @param {import(\"./geom/SimpleGeometry.js\").default|import(\"./extent.js\").Extent} geometryOrExtent The geometry or\n     *     extent to fit the view to.\n     * @param {FitOptions=} opt_options Options.\n     * @api\n     */\n    View.prototype.fit = function fit (geometryOrExtent, opt_options) {\n      var options = opt_options || {};\n      var size = options.size;\n      if (!size) {\n        size = this.getSizeFromViewport_();\n      }\n      /** @type {import(\"./geom/SimpleGeometry.js\").default} */\n      var geometry;\n      assert(Array.isArray(geometryOrExtent) || typeof /** @type {?} */ (geometryOrExtent).getSimplifiedGeometry === 'function',\n        24); // Invalid extent or geometry provided as `geometry`\n      if (Array.isArray(geometryOrExtent)) {\n        assert(!isEmpty$1(geometryOrExtent),\n          25); // Cannot fit empty extent provided as `geometry`\n        geometry = fromExtent(geometryOrExtent);\n      } else if (geometryOrExtent.getType() === GeometryType.CIRCLE) {\n        geometryOrExtent = geometryOrExtent.getExtent();\n        geometry = fromExtent(geometryOrExtent);\n        geometry.rotate(this.getRotation(), getCenter(geometryOrExtent));\n      } else {\n        geometry = geometryOrExtent;\n      }\n\n      var padding = options.padding !== undefined ? options.padding : [0, 0, 0, 0];\n      var constrainResolution = options.constrainResolution !== undefined ?\n        options.constrainResolution : true;\n      var nearest = options.nearest !== undefined ? options.nearest : false;\n      var minResolution;\n      if (options.minResolution !== undefined) {\n        minResolution = options.minResolution;\n      } else if (options.maxZoom !== undefined) {\n        minResolution = this.constrainResolution(\n          this.maxResolution_, options.maxZoom - this.minZoom_, 0);\n      } else {\n        minResolution = 0;\n      }\n      var coords = geometry.getFlatCoordinates();\n\n      // calculate rotated extent\n      var rotation = this.getRotation();\n      var cosAngle = Math.cos(-rotation);\n      var sinAngle = Math.sin(-rotation);\n      var minRotX = +Infinity;\n      var minRotY = +Infinity;\n      var maxRotX = -Infinity;\n      var maxRotY = -Infinity;\n      var stride = geometry.getStride();\n      for (var i = 0, ii = coords.length; i < ii; i += stride) {\n        var rotX = coords[i] * cosAngle - coords[i + 1] * sinAngle;\n        var rotY = coords[i] * sinAngle + coords[i + 1] * cosAngle;\n        minRotX = Math.min(minRotX, rotX);\n        minRotY = Math.min(minRotY, rotY);\n        maxRotX = Math.max(maxRotX, rotX);\n        maxRotY = Math.max(maxRotY, rotY);\n      }\n\n      // calculate resolution\n      var resolution = this.getResolutionForExtent(\n        [minRotX, minRotY, maxRotX, maxRotY],\n        [size[0] - padding[1] - padding[3], size[1] - padding[0] - padding[2]]);\n      resolution = isNaN(resolution) ? minResolution :\n        Math.max(resolution, minResolution);\n      if (constrainResolution) {\n        var constrainedResolution = this.constrainResolution(resolution, 0, 0);\n        if (!nearest && constrainedResolution < resolution) {\n          constrainedResolution = this.constrainResolution(\n            constrainedResolution, -1, 0);\n        }\n        resolution = constrainedResolution;\n      }\n\n      // calculate center\n      sinAngle = -sinAngle; // go back to original rotation\n      var centerRotX = (minRotX + maxRotX) / 2;\n      var centerRotY = (minRotY + maxRotY) / 2;\n      centerRotX += (padding[1] - padding[3]) / 2 * resolution;\n      centerRotY += (padding[0] - padding[2]) / 2 * resolution;\n      var centerX = centerRotX * cosAngle - centerRotY * sinAngle;\n      var centerY = centerRotY * cosAngle + centerRotX * sinAngle;\n      var center = [centerX, centerY];\n      var callback = options.callback ? options.callback : VOID;\n\n      if (options.duration !== undefined) {\n        this.animate({\n          resolution: resolution,\n          center: center,\n          duration: options.duration,\n          easing: options.easing\n        }, callback);\n      } else {\n        this.setResolution(resolution);\n        this.setCenter(center);\n        animationCallback(callback, true);\n      }\n    };\n\n    /**\n     * Center on coordinate and view position.\n     * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"./size.js\").Size} size Box pixel size.\n     * @param {import(\"./pixel.js\").Pixel} position Position on the view to center on.\n     * @api\n     */\n    View.prototype.centerOn = function centerOn (coordinate, size, position) {\n      // calculate rotated position\n      var rotation = this.getRotation();\n      var cosAngle = Math.cos(-rotation);\n      var sinAngle = Math.sin(-rotation);\n      var rotX = coordinate[0] * cosAngle - coordinate[1] * sinAngle;\n      var rotY = coordinate[1] * cosAngle + coordinate[0] * sinAngle;\n      var resolution = this.getResolution();\n      rotX += (size[0] / 2 - position[0]) * resolution;\n      rotY += (position[1] - size[1] / 2) * resolution;\n\n      // go back to original angle\n      sinAngle = -sinAngle; // go back to original rotation\n      var centerX = rotX * cosAngle - rotY * sinAngle;\n      var centerY = rotY * cosAngle + rotX * sinAngle;\n\n      this.setCenter([centerX, centerY]);\n    };\n\n    /**\n     * @return {boolean} Is defined.\n     */\n    View.prototype.isDef = function isDef () {\n      return !!this.getCenter() && this.getResolution() !== undefined;\n    };\n\n    /**\n     * Rotate the view around a given coordinate.\n     * @param {number} rotation New rotation value for the view.\n     * @param {import(\"./coordinate.js\").Coordinate=} opt_anchor The rotation center.\n     * @api\n     */\n    View.prototype.rotate = function rotate$$1 (rotation, opt_anchor) {\n      if (opt_anchor !== undefined) {\n        var center = this.calculateCenterRotate(rotation, opt_anchor);\n        this.setCenter(center);\n      }\n      this.setRotation(rotation);\n    };\n\n    /**\n     * Set the center of the current view.\n     * @param {import(\"./coordinate.js\").Coordinate|undefined} center The center of the view.\n     * @observable\n     * @api\n     */\n    View.prototype.setCenter = function setCenter (center) {\n      this.set(ViewProperty.CENTER, center);\n      if (this.getAnimating()) {\n        this.cancelAnimations();\n      }\n    };\n\n    /**\n     * @param {ViewHint} hint Hint.\n     * @param {number} delta Delta.\n     * @return {number} New value.\n     */\n    View.prototype.setHint = function setHint (hint, delta) {\n      this.hints_[hint] += delta;\n      this.changed();\n      return this.hints_[hint];\n    };\n\n    /**\n     * Set the resolution for this view.\n     * @param {number|undefined} resolution The resolution of the view.\n     * @observable\n     * @api\n     */\n    View.prototype.setResolution = function setResolution (resolution) {\n      this.set(ViewProperty.RESOLUTION, resolution);\n      if (this.getAnimating()) {\n        this.cancelAnimations();\n      }\n    };\n\n    /**\n     * Set the rotation for this view.\n     * @param {number} rotation The rotation of the view in radians.\n     * @observable\n     * @api\n     */\n    View.prototype.setRotation = function setRotation (rotation) {\n      this.set(ViewProperty.ROTATION, rotation);\n      if (this.getAnimating()) {\n        this.cancelAnimations();\n      }\n    };\n\n    /**\n     * Zoom to a specific zoom level.\n     * @param {number} zoom Zoom level.\n     * @api\n     */\n    View.prototype.setZoom = function setZoom (zoom) {\n      this.setResolution(this.getResolutionForZoom(zoom));\n    };\n\n    return View;\n  }(BaseObject));\n\n\n  /**\n   * @param {Function} callback Callback.\n   * @param {*} returnValue Return value.\n   */\n  function animationCallback(callback, returnValue) {\n    setTimeout(function() {\n      callback(returnValue);\n    }, 0);\n  }\n\n\n  /**\n   * @param {ViewOptions} options View options.\n   * @return {import(\"./centerconstraint.js\").Type} The constraint.\n   */\n  function createCenterConstraint(options) {\n    if (options.extent !== undefined) {\n      return createExtent(options.extent);\n    } else {\n      return none;\n    }\n  }\n\n\n  /**\n   * @param {ViewOptions} options View options.\n   * @return {{constraint: import(\"./resolutionconstraint.js\").Type, maxResolution: number,\n   *     minResolution: number, minZoom: number, zoomFactor: number}} The constraint.\n   */\n  function createResolutionConstraint(options) {\n    var resolutionConstraint;\n    var maxResolution;\n    var minResolution;\n\n    // TODO: move these to be ol constants\n    // see https://github.com/openlayers/openlayers/issues/2076\n    var defaultMaxZoom = 28;\n    var defaultZoomFactor = 2;\n\n    var minZoom = options.minZoom !== undefined ?\n      options.minZoom : DEFAULT_MIN_ZOOM;\n\n    var maxZoom = options.maxZoom !== undefined ?\n      options.maxZoom : defaultMaxZoom;\n\n    var zoomFactor = options.zoomFactor !== undefined ?\n      options.zoomFactor : defaultZoomFactor;\n\n    if (options.resolutions !== undefined) {\n      var resolutions = options.resolutions;\n      maxResolution = resolutions[minZoom];\n      minResolution = resolutions[maxZoom] !== undefined ?\n        resolutions[maxZoom] : resolutions[resolutions.length - 1];\n      resolutionConstraint = createSnapToResolutions(\n        resolutions);\n    } else {\n      // calculate the default min and max resolution\n      var projection = createProjection(options.projection, 'EPSG:3857');\n      var extent = projection.getExtent();\n      var size = !extent ?\n        // use an extent that can fit the whole world if need be\n        360 * METERS_PER_UNIT[Units.DEGREES] /\n              projection.getMetersPerUnit() :\n        Math.max(getWidth(extent), getHeight(extent));\n\n      var defaultMaxResolution = size / DEFAULT_TILE_SIZE / Math.pow(\n        defaultZoomFactor, DEFAULT_MIN_ZOOM);\n\n      var defaultMinResolution = defaultMaxResolution / Math.pow(\n        defaultZoomFactor, defaultMaxZoom - DEFAULT_MIN_ZOOM);\n\n      // user provided maxResolution takes precedence\n      maxResolution = options.maxResolution;\n      if (maxResolution !== undefined) {\n        minZoom = 0;\n      } else {\n        maxResolution = defaultMaxResolution / Math.pow(zoomFactor, minZoom);\n      }\n\n      // user provided minResolution takes precedence\n      minResolution = options.minResolution;\n      if (minResolution === undefined) {\n        if (options.maxZoom !== undefined) {\n          if (options.maxResolution !== undefined) {\n            minResolution = maxResolution / Math.pow(zoomFactor, maxZoom);\n          } else {\n            minResolution = defaultMaxResolution / Math.pow(zoomFactor, maxZoom);\n          }\n        } else {\n          minResolution = defaultMinResolution;\n        }\n      }\n\n      // given discrete zoom levels, minResolution may be different than provided\n      maxZoom = minZoom + Math.floor(\n        Math.log(maxResolution / minResolution) / Math.log(zoomFactor));\n      minResolution = maxResolution / Math.pow(zoomFactor, maxZoom - minZoom);\n\n      resolutionConstraint = createSnapToPower(\n        zoomFactor, maxResolution, maxZoom - minZoom);\n    }\n    return {constraint: resolutionConstraint, maxResolution: maxResolution,\n      minResolution: minResolution, minZoom: minZoom, zoomFactor: zoomFactor};\n  }\n\n\n  /**\n   * @param {ViewOptions} options View options.\n   * @return {import(\"./rotationconstraint.js\").Type} Rotation constraint.\n   */\n  function createRotationConstraint(options) {\n    var enableRotation = options.enableRotation !== undefined ?\n      options.enableRotation : true;\n    if (enableRotation) {\n      var constrainRotation = options.constrainRotation;\n      if (constrainRotation === undefined || constrainRotation === true) {\n        return createSnapToZero();\n      } else if (constrainRotation === false) {\n        return none$1;\n      } else if (typeof constrainRotation === 'number') {\n        return createSnapToN(constrainRotation);\n      } else {\n        return none$1;\n      }\n    } else {\n      return disable;\n    }\n  }\n\n\n  /**\n   * Determine if an animation involves no view change.\n   * @param {Animation} animation The animation.\n   * @return {boolean} The animation involves no view change.\n   */\n  function isNoopAnimation(animation) {\n    if (animation.sourceCenter && animation.targetCenter) {\n      if (!equals$1(animation.sourceCenter, animation.targetCenter)) {\n        return false;\n      }\n    }\n    if (animation.sourceResolution !== animation.targetResolution) {\n      return false;\n    }\n    if (animation.sourceRotation !== animation.targetRotation) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * @module ol/dom\n   */\n\n\n  /**\n   * Create an html canvas element and returns its 2d context.\n   * @param {number=} opt_width Canvas width.\n   * @param {number=} opt_height Canvas height.\n   * @return {CanvasRenderingContext2D} The context.\n   */\n  function createCanvasContext2D(opt_width, opt_height) {\n    var canvas = /** @type {HTMLCanvasElement} */ (document.createElement('canvas'));\n    if (opt_width) {\n      canvas.width = opt_width;\n    }\n    if (opt_height) {\n      canvas.height = opt_height;\n    }\n    return /** @type {CanvasRenderingContext2D} */ (canvas.getContext('2d'));\n  }\n\n\n  /**\n   * Get the current computed width for the given element including margin,\n   * padding and border.\n   * Equivalent to jQuery's `$(el).outerWidth(true)`.\n   * @param {!HTMLElement} element Element.\n   * @return {number} The width.\n   */\n  function outerWidth(element) {\n    var width = element.offsetWidth;\n    var style = getComputedStyle(element);\n    width += parseInt(style.marginLeft, 10) + parseInt(style.marginRight, 10);\n\n    return width;\n  }\n\n\n  /**\n   * Get the current computed height for the given element including margin,\n   * padding and border.\n   * Equivalent to jQuery's `$(el).outerHeight(true)`.\n   * @param {!HTMLElement} element Element.\n   * @return {number} The height.\n   */\n  function outerHeight(element) {\n    var height = element.offsetHeight;\n    var style = getComputedStyle(element);\n    height += parseInt(style.marginTop, 10) + parseInt(style.marginBottom, 10);\n\n    return height;\n  }\n\n  /**\n   * @param {Node} newNode Node to replace old node\n   * @param {Node} oldNode The node to be replaced\n   */\n  function replaceNode(newNode, oldNode) {\n    var parent = oldNode.parentNode;\n    if (parent) {\n      parent.replaceChild(newNode, oldNode);\n    }\n  }\n\n  /**\n   * @param {Node} node The node to remove.\n   * @returns {Node} The node that was removed or null.\n   */\n  function removeNode(node) {\n    return node && node.parentNode ? node.parentNode.removeChild(node) : null;\n  }\n\n  /**\n   * @param {Node} node The node to remove the children from.\n   */\n  function removeChildren(node) {\n    while (node.lastChild) {\n      node.removeChild(node.lastChild);\n    }\n  }\n\n  /**\n   * @module ol/layer/Property\n   */\n\n  /**\n   * @enum {string}\n   */\n  var LayerProperty = {\n    OPACITY: 'opacity',\n    VISIBLE: 'visible',\n    EXTENT: 'extent',\n    Z_INDEX: 'zIndex',\n    MAX_RESOLUTION: 'maxResolution',\n    MIN_RESOLUTION: 'minResolution',\n    SOURCE: 'source'\n  };\n\n  /**\n   * @module ol/layer/Base\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [opacity=1] Opacity (0, 1).\n   * @property {boolean} [visible=true] Visibility.\n   * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n   * rendered outside of this extent.\n   * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n   * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n   * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n   * method was used.\n   * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n   * visible.\n   * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n   * be visible.\n   */\n\n\n  /**\n   * @classdesc\n   * Abstract base class; normally only used for creating subclasses and not\n   * instantiated in apps.\n   * Note that with {@link module:ol/layer/Base} and all its subclasses, any property set in\n   * the options is set as a {@link module:ol/Object} property on the layer object, so\n   * is observable, and has get/set accessors.\n   *\n   * @api\n   */\n  var BaseLayer = /*@__PURE__*/(function (BaseObject$$1) {\n    function BaseLayer(options) {\n\n      BaseObject$$1.call(this);\n\n      /**\n       * @type {Object<string, *>}\n       */\n      var properties = assign({}, options);\n      properties[LayerProperty.OPACITY] =\n         options.opacity !== undefined ? options.opacity : 1;\n      properties[LayerProperty.VISIBLE] =\n         options.visible !== undefined ? options.visible : true;\n      properties[LayerProperty.Z_INDEX] = options.zIndex;\n      properties[LayerProperty.MAX_RESOLUTION] =\n         options.maxResolution !== undefined ? options.maxResolution : Infinity;\n      properties[LayerProperty.MIN_RESOLUTION] =\n         options.minResolution !== undefined ? options.minResolution : 0;\n\n      this.setProperties(properties);\n\n      /**\n       * @type {import(\"./Layer.js\").State}\n       * @private\n       */\n      this.state_ = null;\n\n      /**\n       * The layer type.\n       * @type {import(\"../LayerType.js\").default}\n       * @protected;\n       */\n      this.type;\n\n    }\n\n    if ( BaseObject$$1 ) BaseLayer.__proto__ = BaseObject$$1;\n    BaseLayer.prototype = Object.create( BaseObject$$1 && BaseObject$$1.prototype );\n    BaseLayer.prototype.constructor = BaseLayer;\n\n    /**\n     * Get the layer type (used when creating a layer renderer).\n     * @return {import(\"../LayerType.js\").default} The layer type.\n     */\n    BaseLayer.prototype.getType = function getType () {\n      return this.type;\n    };\n\n    /**\n     * @return {import(\"./Layer.js\").State} Layer state.\n     */\n    BaseLayer.prototype.getLayerState = function getLayerState () {\n      /** @type {import(\"./Layer.js\").State} */\n      var state = this.state_ || /** @type {?} */ ({\n        layer: this,\n        managed: true\n      });\n      state.opacity = clamp(this.getOpacity(), 0, 1);\n      state.sourceState = this.getSourceState();\n      state.visible = this.getVisible();\n      state.extent = this.getExtent();\n      state.zIndex = this.getZIndex() || 0;\n      state.maxResolution = this.getMaxResolution();\n      state.minResolution = Math.max(this.getMinResolution(), 0);\n      this.state_ = state;\n\n      return state;\n    };\n\n    /**\n     * @abstract\n     * @param {Array<import(\"./Layer.js\").default>=} opt_array Array of layers (to be\n     *     modified in place).\n     * @return {Array<import(\"./Layer.js\").default>} Array of layers.\n     */\n    BaseLayer.prototype.getLayersArray = function getLayersArray (opt_array) {\n      return abstract();\n    };\n\n    /**\n     * @abstract\n     * @param {Array<import(\"./Layer.js\").State>=} opt_states Optional list of layer\n     *     states (to be modified in place).\n     * @return {Array<import(\"./Layer.js\").State>} List of layer states.\n     */\n    BaseLayer.prototype.getLayerStatesArray = function getLayerStatesArray (opt_states) {\n      return abstract();\n    };\n\n    /**\n     * Return the {@link module:ol/extent~Extent extent} of the layer or `undefined` if it\n     * will be visible regardless of extent.\n     * @return {import(\"../extent.js\").Extent|undefined} The layer extent.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getExtent = function getExtent () {\n      return (\n        /** @type {import(\"../extent.js\").Extent|undefined} */ (this.get(LayerProperty.EXTENT))\n      );\n    };\n\n    /**\n     * Return the maximum resolution of the layer.\n     * @return {number} The maximum resolution of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getMaxResolution = function getMaxResolution () {\n      return /** @type {number} */ (this.get(LayerProperty.MAX_RESOLUTION));\n    };\n\n    /**\n     * Return the minimum resolution of the layer.\n     * @return {number} The minimum resolution of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getMinResolution = function getMinResolution () {\n      return /** @type {number} */ (this.get(LayerProperty.MIN_RESOLUTION));\n    };\n\n    /**\n     * Return the opacity of the layer (between 0 and 1).\n     * @return {number} The opacity of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getOpacity = function getOpacity () {\n      return /** @type {number} */ (this.get(LayerProperty.OPACITY));\n    };\n\n    /**\n     * @abstract\n     * @return {import(\"../source/State.js\").default} Source state.\n     */\n    BaseLayer.prototype.getSourceState = function getSourceState () {\n      return abstract();\n    };\n\n    /**\n     * Return the visibility of the layer (`true` or `false`).\n     * @return {boolean} The visibility of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getVisible = function getVisible () {\n      return /** @type {boolean} */ (this.get(LayerProperty.VISIBLE));\n    };\n\n    /**\n     * Return the Z-index of the layer, which is used to order layers before\n     * rendering. The default Z-index is 0.\n     * @return {number} The Z-index of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getZIndex = function getZIndex () {\n      return /** @type {number} */ (this.get(LayerProperty.Z_INDEX));\n    };\n\n    /**\n     * Set the extent at which the layer is visible.  If `undefined`, the layer\n     * will be visible at all extents.\n     * @param {import(\"../extent.js\").Extent|undefined} extent The extent of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setExtent = function setExtent (extent) {\n      this.set(LayerProperty.EXTENT, extent);\n    };\n\n    /**\n     * Set the maximum resolution at which the layer is visible.\n     * @param {number} maxResolution The maximum resolution of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setMaxResolution = function setMaxResolution (maxResolution) {\n      this.set(LayerProperty.MAX_RESOLUTION, maxResolution);\n    };\n\n    /**\n     * Set the minimum resolution at which the layer is visible.\n     * @param {number} minResolution The minimum resolution of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setMinResolution = function setMinResolution (minResolution) {\n      this.set(LayerProperty.MIN_RESOLUTION, minResolution);\n    };\n\n    /**\n     * Set the opacity of the layer, allowed values range from 0 to 1.\n     * @param {number} opacity The opacity of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setOpacity = function setOpacity (opacity) {\n      this.set(LayerProperty.OPACITY, opacity);\n    };\n\n    /**\n     * Set the visibility of the layer (`true` or `false`).\n     * @param {boolean} visible The visibility of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setVisible = function setVisible (visible) {\n      this.set(LayerProperty.VISIBLE, visible);\n    };\n\n    /**\n     * Set Z-index of the layer, which is used to order layers before rendering.\n     * The default Z-index is 0.\n     * @param {number} zindex The z-index of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setZIndex = function setZIndex (zindex) {\n      this.set(LayerProperty.Z_INDEX, zindex);\n    };\n\n    return BaseLayer;\n  }(BaseObject));\n\n  /**\n   * @module ol/source/State\n   */\n\n  /**\n   * @enum {string}\n   * State of the source, one of 'undefined', 'loading', 'ready' or 'error'.\n   */\n  var SourceState = {\n    UNDEFINED: 'undefined',\n    LOADING: 'loading',\n    READY: 'ready',\n    ERROR: 'error'\n  };\n\n  /**\n   * @module ol/layer/Group\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [opacity=1] Opacity (0, 1).\n   * @property {boolean} [visible=true] Visibility.\n   * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n   * rendered outside of this extent.\n   * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n   * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n   * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n   * method was used.\n   * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n   * visible.\n   * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n   * be visible.\n   * @property {Array<import(\"./Base.js\").default>|import(\"../Collection.js\").default<import(\"./Base.js\").default>} [layers] Child layers.\n   */\n\n\n  /**\n   * @enum {string}\n   * @private\n   */\n  var Property$1 = {\n    LAYERS: 'layers'\n  };\n\n\n  /**\n   * @classdesc\n   * A {@link module:ol/Collection~Collection} of layers that are handled together.\n   *\n   * A generic `change` event is triggered when the group/Collection changes.\n   *\n   * @api\n   */\n  var LayerGroup = /*@__PURE__*/(function (BaseLayer$$1) {\n    function LayerGroup(opt_options) {\n\n      var options = opt_options || {};\n      var baseOptions = /** @type {Options} */ (assign({}, options));\n      delete baseOptions.layers;\n\n      var layers = options.layers;\n\n      BaseLayer$$1.call(this, baseOptions);\n\n      /**\n       * @private\n       * @type {Array<import(\"../events.js\").EventsKey>}\n       */\n      this.layersListenerKeys_ = [];\n\n      /**\n       * @private\n       * @type {Object<string, Array<import(\"../events.js\").EventsKey>>}\n       */\n      this.listenerKeys_ = {};\n\n      listen(this,\n        getChangeEventType(Property$1.LAYERS),\n        this.handleLayersChanged_, this);\n\n      if (layers) {\n        if (Array.isArray(layers)) {\n          layers = new Collection(layers.slice(), {unique: true});\n        } else {\n          assert(typeof /** @type {?} */ (layers).getArray === 'function',\n            43); // Expected `layers` to be an array or a `Collection`\n        }\n      } else {\n        layers = new Collection(undefined, {unique: true});\n      }\n\n      this.setLayers(layers);\n\n    }\n\n    if ( BaseLayer$$1 ) LayerGroup.__proto__ = BaseLayer$$1;\n    LayerGroup.prototype = Object.create( BaseLayer$$1 && BaseLayer$$1.prototype );\n    LayerGroup.prototype.constructor = LayerGroup;\n\n    /**\n     * @private\n     */\n    LayerGroup.prototype.handleLayerChange_ = function handleLayerChange_ () {\n      this.changed();\n    };\n\n    /**\n     * @private\n     */\n    LayerGroup.prototype.handleLayersChanged_ = function handleLayersChanged_ () {\n      this.layersListenerKeys_.forEach(unlistenByKey);\n      this.layersListenerKeys_.length = 0;\n\n      var layers = this.getLayers();\n      this.layersListenerKeys_.push(\n        listen(layers, CollectionEventType.ADD, this.handleLayersAdd_, this),\n        listen(layers, CollectionEventType.REMOVE, this.handleLayersRemove_, this)\n      );\n\n      for (var id in this.listenerKeys_) {\n        this.listenerKeys_[id].forEach(unlistenByKey);\n      }\n      clear(this.listenerKeys_);\n\n      var layersArray = layers.getArray();\n      for (var i = 0, ii = layersArray.length; i < ii; i++) {\n        var layer = layersArray[i];\n        this.listenerKeys_[getUid(layer)] = [\n          listen(layer, ObjectEventType.PROPERTYCHANGE, this.handleLayerChange_, this),\n          listen(layer, EventType.CHANGE, this.handleLayerChange_, this)\n        ];\n      }\n\n      this.changed();\n    };\n\n    /**\n     * @param {import(\"../Collection.js\").CollectionEvent} collectionEvent CollectionEvent.\n     * @private\n     */\n    LayerGroup.prototype.handleLayersAdd_ = function handleLayersAdd_ (collectionEvent) {\n      var layer = /** @type {import(\"./Base.js\").default} */ (collectionEvent.element);\n      this.listenerKeys_[getUid(layer)] = [\n        listen(layer, ObjectEventType.PROPERTYCHANGE, this.handleLayerChange_, this),\n        listen(layer, EventType.CHANGE, this.handleLayerChange_, this)\n      ];\n      this.changed();\n    };\n\n    /**\n     * @param {import(\"../Collection.js\").CollectionEvent} collectionEvent CollectionEvent.\n     * @private\n     */\n    LayerGroup.prototype.handleLayersRemove_ = function handleLayersRemove_ (collectionEvent) {\n      var layer = /** @type {import(\"./Base.js\").default} */ (collectionEvent.element);\n      var key = getUid(layer);\n      this.listenerKeys_[key].forEach(unlistenByKey);\n      delete this.listenerKeys_[key];\n      this.changed();\n    };\n\n    /**\n     * Returns the {@link module:ol/Collection collection} of {@link module:ol/layer/Layer~Layer layers}\n     * in this group.\n     * @return {!import(\"../Collection.js\").default<import(\"./Base.js\").default>} Collection of\n     *   {@link module:ol/layer/Base layers} that are part of this group.\n     * @observable\n     * @api\n     */\n    LayerGroup.prototype.getLayers = function getLayers () {\n      return (\n        /** @type {!import(\"../Collection.js\").default<import(\"./Base.js\").default>} */ (this.get(Property$1.LAYERS))\n      );\n    };\n\n    /**\n     * Set the {@link module:ol/Collection collection} of {@link module:ol/layer/Layer~Layer layers}\n     * in this group.\n     * @param {!import(\"../Collection.js\").default<import(\"./Base.js\").default>} layers Collection of\n     *   {@link module:ol/layer/Base layers} that are part of this group.\n     * @observable\n     * @api\n     */\n    LayerGroup.prototype.setLayers = function setLayers (layers) {\n      this.set(Property$1.LAYERS, layers);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    LayerGroup.prototype.getLayersArray = function getLayersArray (opt_array) {\n      var array = opt_array !== undefined ? opt_array : [];\n      this.getLayers().forEach(function(layer) {\n        layer.getLayersArray(array);\n      });\n      return array;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    LayerGroup.prototype.getLayerStatesArray = function getLayerStatesArray (opt_states) {\n      var states = opt_states !== undefined ? opt_states : [];\n\n      var pos = states.length;\n\n      this.getLayers().forEach(function(layer) {\n        layer.getLayerStatesArray(states);\n      });\n\n      var ownLayerState = this.getLayerState();\n      for (var i = pos, ii = states.length; i < ii; i++) {\n        var layerState = states[i];\n        layerState.opacity *= ownLayerState.opacity;\n        layerState.visible = layerState.visible && ownLayerState.visible;\n        layerState.maxResolution = Math.min(\n          layerState.maxResolution, ownLayerState.maxResolution);\n        layerState.minResolution = Math.max(\n          layerState.minResolution, ownLayerState.minResolution);\n        if (ownLayerState.extent !== undefined) {\n          if (layerState.extent !== undefined) {\n            layerState.extent = getIntersection(layerState.extent, ownLayerState.extent);\n          } else {\n            layerState.extent = ownLayerState.extent;\n          }\n        }\n      }\n\n      return states;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    LayerGroup.prototype.getSourceState = function getSourceState () {\n      return SourceState.READY;\n    };\n\n    return LayerGroup;\n  }(BaseLayer));\n\n  /**\n   * @module ol/size\n   */\n\n\n  /**\n   * Determines if a size has a positive area.\n   * @param {Size} size The size to test.\n   * @return {boolean} The size has a positive area.\n   */\n  function hasArea(size) {\n    return size[0] > 0 && size[1] > 0;\n  }\n\n\n  /**\n   * Returns a size scaled by a ratio. The result will be an array of integers.\n   * @param {Size} size Size.\n   * @param {number} ratio Ratio.\n   * @param {Size=} opt_size Optional reusable size array.\n   * @return {Size} The scaled size.\n   */\n  function scale$3(size, ratio, opt_size) {\n    if (opt_size === undefined) {\n      opt_size = [0, 0];\n    }\n    opt_size[0] = (size[0] * ratio + 0.5) | 0;\n    opt_size[1] = (size[1] * ratio + 0.5) | 0;\n    return opt_size;\n  }\n\n\n  /**\n   * Returns an `Size` array for the passed in number (meaning: square) or\n   * `Size` array.\n   * (meaning: non-square),\n   * @param {number|Size} size Width and height.\n   * @param {Size=} opt_size Optional reusable size array.\n   * @return {Size} Size.\n   * @api\n   */\n  function toSize(size, opt_size) {\n    if (Array.isArray(size)) {\n      return size;\n    } else {\n      if (opt_size === undefined) {\n        opt_size = [size, size];\n      } else {\n        opt_size[0] = opt_size[1] = /** @type {number} */ (size);\n      }\n      return opt_size;\n    }\n  }\n\n  /**\n   * @module ol/PluggableMap\n   */\n\n\n  /**\n   * State of the current frame. Only `pixelRatio`, `time` and `viewState` should\n   * be used in applications.\n   * @typedef {Object} FrameState\n   * @property {number} pixelRatio The pixel ratio of the frame.\n   * @property {number} time The time when rendering of the frame was requested.\n   * @property {import(\"./View.js\").State} viewState The state of the current view.\n   * @property {boolean} animate\n   * @property {import(\"./transform.js\").Transform} coordinateToPixelTransform\n   * @property {null|import(\"./extent.js\").Extent} extent\n   * @property {import(\"./coordinate.js\").Coordinate} focus\n   * @property {number} index\n   * @property {Object<string, import(\"./layer/Layer.js\").State>} layerStates\n   * @property {Array<import(\"./layer/Layer.js\").State>} layerStatesArray\n   * @property {import(\"./transform.js\").Transform} pixelToCoordinateTransform\n   * @property {Array<PostRenderFunction>} postRenderFunctions\n   * @property {import(\"./size.js\").Size} size\n   * @property {!Object<string, boolean>} skippedFeatureUids\n   * @property {TileQueue} tileQueue\n   * @property {Object<string, Object<string, import(\"./TileRange.js\").default>>} usedTiles\n   * @property {Array<number>} viewHints\n   * @property {!Object<string, Object<string, boolean>>} wantedTiles\n   */\n\n\n  /**\n   * @typedef {function(PluggableMap, ?FrameState): boolean} PostRenderFunction\n   */\n\n\n  /**\n   * @typedef {Object} AtPixelOptions\n   * @property {undefined|function(import(\"./layer/Layer.js\").default): boolean} layerFilter Layer filter\n   * function. The filter function will receive one argument, the\n   * {@link module:ol/layer/Layer layer-candidate} and it should return a boolean value.\n   * Only layers which are visible and for which this function returns `true`\n   * will be tested for features. By default, all visible layers will be tested.\n   * @property {number} [hitTolerance=0] Hit-detection tolerance in pixels. Pixels\n   * inside the radius around the given position will be checked for features. This only\n   * works for the canvas renderer and not for WebGL.\n   */\n\n\n  /**\n   * @typedef {Object} MapOptionsInternal\n   * @property {Collection<import(\"./control/Control.js\").default>} [controls]\n   * @property {Collection<import(\"./interaction/Interaction.js\").default>} [interactions]\n   * @property {HTMLElement|Document} keyboardEventTarget\n   * @property {Collection<import(\"./Overlay.js\").default>} overlays\n   * @property {Object<string, *>} values\n   */\n\n\n  /**\n   * Object literal with config options for the map.\n   * @typedef {Object} MapOptions\n   * @property {Collection<import(\"./control/Control.js\").default>|Array<import(\"./control/Control.js\").default>} [controls]\n   * Controls initially added to the map. If not specified,\n   * {@link module:ol/control~defaults} is used.\n   * @property {number} [pixelRatio=window.devicePixelRatio] The ratio between\n   * physical pixels and device-independent pixels (dips) on the device.\n   * @property {Collection<import(\"./interaction/Interaction.js\").default>|Array<import(\"./interaction/Interaction.js\").default>} [interactions]\n   * Interactions that are initially added to the map. If not specified,\n   * {@link module:ol/interaction~defaults} is used.\n   * @property {HTMLElement|Document|string} [keyboardEventTarget] The element to\n   * listen to keyboard events on. This determines when the `KeyboardPan` and\n   * `KeyboardZoom` interactions trigger. For example, if this option is set to\n   * `document` the keyboard interactions will always trigger. If this option is\n   * not specified, the element the library listens to keyboard events on is the\n   * map target (i.e. the user-provided div for the map). If this is not\n   * `document`, the target element needs to be focused for key events to be\n   * emitted, requiring that the target element has a `tabindex` attribute.\n   * @property {Array<import(\"./layer/Base.js\").default>|Collection<import(\"./layer/Base.js\").default>|LayerGroup} [layers]\n   * Layers. If this is not defined, a map with no layers will be rendered. Note\n   * that layers are rendered in the order supplied, so if you want, for example,\n   * a vector layer to appear on top of a tile layer, it must come after the tile\n   * layer.\n   * @property {number} [maxTilesLoading=16] Maximum number tiles to load\n   * simultaneously.\n   * @property {boolean} [loadTilesWhileAnimating=false] When set to `true`, tiles\n   * will be loaded during animations. This may improve the user experience, but\n   * can also make animations stutter on devices with slow memory.\n   * @property {boolean} [loadTilesWhileInteracting=false] When set to `true`,\n   * tiles will be loaded while interacting with the map. This may improve the\n   * user experience, but can also make map panning and zooming choppy on devices\n   * with slow memory.\n   * @property {number} [moveTolerance=1] The minimum distance in pixels the\n   * cursor must move to be detected as a map move event instead of a click.\n   * Increasing this value can make it easier to click on the map.\n   * @property {Collection<import(\"./Overlay.js\").default>|Array<import(\"./Overlay.js\").default>} [overlays]\n   * Overlays initially added to the map. By default, no overlays are added.\n   * @property {HTMLElement|string} [target] The container for the map, either the\n   * element itself or the `id` of the element. If not specified at construction\n   * time, {@link module:ol/Map~Map#setTarget} must be called for the map to be\n   * rendered.\n   * @property {View} [view] The map's view.  No layer sources will be\n   * fetched unless this is specified at construction time or through\n   * {@link module:ol/Map~Map#setView}.\n   */\n\n\n  /**\n   * @fires import(\"./MapBrowserEvent.js\").MapBrowserEvent\n   * @fires import(\"./MapEvent.js\").MapEvent\n   * @fires module:ol/render/Event~RenderEvent#postcompose\n   * @fires module:ol/render/Event~RenderEvent#precompose\n   * @fires module:ol/render/Event~RenderEvent#rendercomplete\n   * @api\n   */\n  var PluggableMap = /*@__PURE__*/(function (BaseObject$$1) {\n    function PluggableMap(options) {\n\n      BaseObject$$1.call(this);\n\n      var optionsInternal = createOptionsInternal(options);\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.maxTilesLoading_ = options.maxTilesLoading !== undefined ? options.maxTilesLoading : 16;\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this.loadTilesWhileAnimating_ =\n          options.loadTilesWhileAnimating !== undefined ?\n            options.loadTilesWhileAnimating : false;\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this.loadTilesWhileInteracting_ =\n          options.loadTilesWhileInteracting !== undefined ?\n            options.loadTilesWhileInteracting : false;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.pixelRatio_ = options.pixelRatio !== undefined ?\n        options.pixelRatio : DEVICE_PIXEL_RATIO;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.animationDelayKey_;\n\n      /**\n       * @private\n       */\n      this.animationDelay_ = function() {\n        this.animationDelayKey_ = undefined;\n        this.renderFrame_.call(this, Date.now());\n      }.bind(this);\n\n      /**\n       * @private\n       * @type {import(\"./transform.js\").Transform}\n       */\n      this.coordinateToPixelTransform_ = create();\n\n      /**\n       * @private\n       * @type {import(\"./transform.js\").Transform}\n       */\n      this.pixelToCoordinateTransform_ = create();\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.frameIndex_ = 0;\n\n      /**\n       * @private\n       * @type {?FrameState}\n       */\n      this.frameState_ = null;\n\n      /**\n       * The extent at the previous 'moveend' event.\n       * @private\n       * @type {import(\"./extent.js\").Extent}\n       */\n      this.previousExtent_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"./events.js\").EventsKey}\n       */\n      this.viewPropertyListenerKey_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"./events.js\").EventsKey}\n       */\n      this.viewChangeListenerKey_ = null;\n\n      /**\n       * @private\n       * @type {Array<import(\"./events.js\").EventsKey>}\n       */\n      this.layerGroupPropertyListenerKeys_ = null;\n\n      /**\n       * @private\n       * @type {!HTMLElement}\n       */\n      this.viewport_ = document.createElement('div');\n      this.viewport_.className = 'ol-viewport' + (TOUCH ? ' ol-touch' : '');\n      this.viewport_.style.position = 'relative';\n      this.viewport_.style.overflow = 'hidden';\n      this.viewport_.style.width = '100%';\n      this.viewport_.style.height = '100%';\n      // prevent page zoom on IE >= 10 browsers\n      this.viewport_.style.msTouchAction = 'none';\n      this.viewport_.style.touchAction = 'none';\n\n      /**\n       * @private\n       * @type {!HTMLElement}\n       */\n      this.overlayContainer_ = document.createElement('div');\n      this.overlayContainer_.className = 'ol-overlaycontainer';\n      this.viewport_.appendChild(this.overlayContainer_);\n\n      /**\n       * @private\n       * @type {!HTMLElement}\n       */\n      this.overlayContainerStopEvent_ = document.createElement('div');\n      this.overlayContainerStopEvent_.className = 'ol-overlaycontainer-stopevent';\n      var overlayEvents = [\n        EventType.CLICK,\n        EventType.DBLCLICK,\n        EventType.MOUSEDOWN,\n        EventType.TOUCHSTART,\n        EventType.MSPOINTERDOWN,\n        MapBrowserEventType.POINTERDOWN,\n        EventType.MOUSEWHEEL,\n        EventType.WHEEL\n      ];\n      for (var i = 0, ii = overlayEvents.length; i < ii; ++i) {\n        listen(this.overlayContainerStopEvent_, overlayEvents[i], stopPropagation);\n      }\n      this.viewport_.appendChild(this.overlayContainerStopEvent_);\n\n      /**\n       * @private\n       * @type {MapBrowserEventHandler}\n       */\n      this.mapBrowserEventHandler_ = new MapBrowserEventHandler(this, options.moveTolerance);\n      for (var key in MapBrowserEventType) {\n        listen(this.mapBrowserEventHandler_, MapBrowserEventType[key],\n          this.handleMapBrowserEvent, this);\n      }\n\n      /**\n       * @private\n       * @type {HTMLElement|Document}\n       */\n      this.keyboardEventTarget_ = optionsInternal.keyboardEventTarget;\n\n      /**\n       * @private\n       * @type {Array<import(\"./events.js\").EventsKey>}\n       */\n      this.keyHandlerKeys_ = null;\n\n      listen(this.viewport_, EventType.CONTEXTMENU, this.handleBrowserEvent, this);\n      listen(this.viewport_, EventType.WHEEL, this.handleBrowserEvent, this);\n      listen(this.viewport_, EventType.MOUSEWHEEL, this.handleBrowserEvent, this);\n\n      /**\n       * @type {Collection<import(\"./control/Control.js\").default>}\n       * @protected\n       */\n      this.controls = optionsInternal.controls || new Collection();\n\n      /**\n       * @type {Collection<import(\"./interaction/Interaction.js\").default>}\n       * @protected\n       */\n      this.interactions = optionsInternal.interactions || new Collection();\n\n      /**\n       * @type {Collection<import(\"./Overlay.js\").default>}\n       * @private\n       */\n      this.overlays_ = optionsInternal.overlays;\n\n      /**\n       * A lookup of overlays by id.\n       * @private\n       * @type {Object<string, import(\"./Overlay.js\").default>}\n       */\n      this.overlayIdIndex_ = {};\n\n      /**\n       * @type {import(\"./renderer/Map.js\").default}\n       * @private\n       */\n      this.renderer_ = this.createRenderer();\n\n      /**\n       * @type {function(Event)|undefined}\n       * @private\n       */\n      this.handleResize_;\n\n      /**\n       * @private\n       * @type {import(\"./coordinate.js\").Coordinate}\n       */\n      this.focus_ = null;\n\n      /**\n       * @private\n       * @type {!Array<PostRenderFunction>}\n       */\n      this.postRenderFunctions_ = [];\n\n      /**\n       * @private\n       * @type {TileQueue}\n       */\n      this.tileQueue_ = new TileQueue(\n        this.getTilePriority.bind(this),\n        this.handleTileChange_.bind(this));\n\n      /**\n       * Uids of features to skip at rendering time.\n       * @type {Object<string, boolean>}\n       * @private\n       */\n      this.skippedFeatureUids_ = {};\n\n      listen(\n        this, getChangeEventType(MapProperty.LAYERGROUP),\n        this.handleLayerGroupChanged_, this);\n      listen(this, getChangeEventType(MapProperty.VIEW),\n        this.handleViewChanged_, this);\n      listen(this, getChangeEventType(MapProperty.SIZE),\n        this.handleSizeChanged_, this);\n      listen(this, getChangeEventType(MapProperty.TARGET),\n        this.handleTargetChanged_, this);\n\n      // setProperties will trigger the rendering of the map if the map\n      // is \"defined\" already.\n      this.setProperties(optionsInternal.values);\n\n      this.controls.forEach(\n        /**\n         * @param {import(\"./control/Control.js\").default} control Control.\n         * @this {PluggableMap}\n         */\n        (function(control) {\n          control.setMap(this);\n        }).bind(this));\n\n      listen(this.controls, CollectionEventType.ADD,\n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function(event) {\n          event.element.setMap(this);\n        }, this);\n\n      listen(this.controls, CollectionEventType.REMOVE,\n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function(event) {\n          event.element.setMap(null);\n        }, this);\n\n      this.interactions.forEach(\n        /**\n         * @param {import(\"./interaction/Interaction.js\").default} interaction Interaction.\n         * @this {PluggableMap}\n         */\n        (function(interaction) {\n          interaction.setMap(this);\n        }).bind(this));\n\n      listen(this.interactions, CollectionEventType.ADD,\n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function(event) {\n          event.element.setMap(this);\n        }, this);\n\n      listen(this.interactions, CollectionEventType.REMOVE,\n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function(event) {\n          event.element.setMap(null);\n        }, this);\n\n      this.overlays_.forEach(this.addOverlayInternal_.bind(this));\n\n      listen(this.overlays_, CollectionEventType.ADD,\n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function(event) {\n          this.addOverlayInternal_(/** @type {import(\"./Overlay.js\").default} */ (event.element));\n        }, this);\n\n      listen(this.overlays_, CollectionEventType.REMOVE,\n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function(event) {\n          var overlay = /** @type {import(\"./Overlay.js\").default} */ (event.element);\n          var id = overlay.getId();\n          if (id !== undefined) {\n            delete this.overlayIdIndex_[id.toString()];\n          }\n          event.element.setMap(null);\n        }, this);\n\n    }\n\n    if ( BaseObject$$1 ) PluggableMap.__proto__ = BaseObject$$1;\n    PluggableMap.prototype = Object.create( BaseObject$$1 && BaseObject$$1.prototype );\n    PluggableMap.prototype.constructor = PluggableMap;\n\n    /**\n     * @abstract\n     * @return {import(\"./renderer/Map.js\").default} The map renderer\n     */\n    PluggableMap.prototype.createRenderer = function createRenderer () {\n      throw new Error('Use a map type that has a createRenderer method');\n    };\n\n    /**\n     * Add the given control to the map.\n     * @param {import(\"./control/Control.js\").default} control Control.\n     * @api\n     */\n    PluggableMap.prototype.addControl = function addControl (control) {\n      this.getControls().push(control);\n    };\n\n    /**\n     * Add the given interaction to the map.\n     * @param {import(\"./interaction/Interaction.js\").default} interaction Interaction to add.\n     * @api\n     */\n    PluggableMap.prototype.addInteraction = function addInteraction (interaction) {\n      this.getInteractions().push(interaction);\n    };\n\n    /**\n     * Adds the given layer to the top of this map. If you want to add a layer\n     * elsewhere in the stack, use `getLayers()` and the methods available on\n     * {@link module:ol/Collection~Collection}.\n     * @param {import(\"./layer/Base.js\").default} layer Layer.\n     * @api\n     */\n    PluggableMap.prototype.addLayer = function addLayer (layer) {\n      var layers = this.getLayerGroup().getLayers();\n      layers.push(layer);\n    };\n\n    /**\n     * Add the given overlay to the map.\n     * @param {import(\"./Overlay.js\").default} overlay Overlay.\n     * @api\n     */\n    PluggableMap.prototype.addOverlay = function addOverlay (overlay) {\n      this.getOverlays().push(overlay);\n    };\n\n    /**\n     * This deals with map's overlay collection changes.\n     * @param {import(\"./Overlay.js\").default} overlay Overlay.\n     * @private\n     */\n    PluggableMap.prototype.addOverlayInternal_ = function addOverlayInternal_ (overlay) {\n      var id = overlay.getId();\n      if (id !== undefined) {\n        this.overlayIdIndex_[id.toString()] = overlay;\n      }\n      overlay.setMap(this);\n    };\n\n    /**\n     *\n     * @inheritDoc\n     */\n    PluggableMap.prototype.disposeInternal = function disposeInternal () {\n      this.mapBrowserEventHandler_.dispose();\n      unlisten(this.viewport_, EventType.CONTEXTMENU, this.handleBrowserEvent, this);\n      unlisten(this.viewport_, EventType.WHEEL, this.handleBrowserEvent, this);\n      unlisten(this.viewport_, EventType.MOUSEWHEEL, this.handleBrowserEvent, this);\n      if (this.handleResize_ !== undefined) {\n        removeEventListener(EventType.RESIZE, this.handleResize_, false);\n        this.handleResize_ = undefined;\n      }\n      if (this.animationDelayKey_) {\n        cancelAnimationFrame(this.animationDelayKey_);\n        this.animationDelayKey_ = undefined;\n      }\n      this.setTarget(null);\n      BaseObject$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * Detect features that intersect a pixel on the viewport, and execute a\n     * callback with each intersecting feature. Layers included in the detection can\n     * be configured through the `layerFilter` option in `opt_options`.\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel.\n     * @param {function(this: S, import(\"./Feature.js\").FeatureLike,\n     *     import(\"./layer/Layer.js\").default): T} callback Feature callback. The callback will be\n     *     called with two arguments. The first argument is one\n     *     {@link module:ol/Feature feature} or\n     *     {@link module:ol/render/Feature render feature} at the pixel, the second is\n     *     the {@link module:ol/layer/Layer layer} of the feature and will be null for\n     *     unmanaged layers. To stop detection, callback functions can return a\n     *     truthy value.\n     * @param {AtPixelOptions=} opt_options Optional options.\n     * @return {T|undefined} Callback result, i.e. the return value of last\n     * callback execution, or the first truthy callback return value.\n     * @template S,T\n     * @api\n     */\n    PluggableMap.prototype.forEachFeatureAtPixel = function forEachFeatureAtPixel (pixel, callback, opt_options) {\n      if (!this.frameState_) {\n        return;\n      }\n      var coordinate = this.getCoordinateFromPixel(pixel);\n      opt_options = opt_options !== undefined ? opt_options :\n        /** @type {AtPixelOptions} */ ({});\n      var hitTolerance = opt_options.hitTolerance !== undefined ?\n        opt_options.hitTolerance * this.frameState_.pixelRatio : 0;\n      var layerFilter = opt_options.layerFilter !== undefined ?\n        opt_options.layerFilter : TRUE;\n      return this.renderer_.forEachFeatureAtCoordinate(\n        coordinate, this.frameState_, hitTolerance, callback, null,\n        layerFilter, null);\n    };\n\n    /**\n     * Get all features that intersect a pixel on the viewport.\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel.\n     * @param {AtPixelOptions=} opt_options Optional options.\n     * @return {Array<import(\"./Feature.js\").FeatureLike>} The detected features or\n     * `null` if none were found.\n     * @api\n     */\n    PluggableMap.prototype.getFeaturesAtPixel = function getFeaturesAtPixel (pixel, opt_options) {\n      var features = null;\n      this.forEachFeatureAtPixel(pixel, function(feature) {\n        if (!features) {\n          features = [];\n        }\n        features.push(feature);\n      }, opt_options);\n      return features;\n    };\n\n    /**\n     * Detect layers that have a color value at a pixel on the viewport, and\n     * execute a callback with each matching layer. Layers included in the\n     * detection can be configured through `opt_layerFilter`.\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel.\n     * @param {function(this: S, import(\"./layer/Layer.js\").default, (Uint8ClampedArray|Uint8Array)): T} callback\n     *     Layer callback. This callback will receive two arguments: first is the\n     *     {@link module:ol/layer/Layer layer}, second argument is an array representing\n     *     [R, G, B, A] pixel values (0 - 255) and will be `null` for layer types\n     *     that do not currently support this argument. To stop detection, callback\n     *     functions can return a truthy value.\n     * @param {AtPixelOptions=} opt_options Configuration options.\n     * @return {T|undefined} Callback result, i.e. the return value of last\n     * callback execution, or the first truthy callback return value.\n     * @template S,T\n     * @api\n     */\n    PluggableMap.prototype.forEachLayerAtPixel = function forEachLayerAtPixel (pixel, callback, opt_options) {\n      if (!this.frameState_) {\n        return;\n      }\n      var options = opt_options || /** @type {AtPixelOptions} */ ({});\n      var hitTolerance = options.hitTolerance !== undefined ?\n        opt_options.hitTolerance * this.frameState_.pixelRatio : 0;\n      var layerFilter = options.layerFilter || TRUE;\n      return this.renderer_.forEachLayerAtPixel(\n        pixel, this.frameState_, hitTolerance, callback, null, layerFilter, null);\n    };\n\n    /**\n     * Detect if features intersect a pixel on the viewport. Layers included in the\n     * detection can be configured through `opt_layerFilter`.\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel.\n     * @param {AtPixelOptions=} opt_options Optional options.\n     * @return {boolean} Is there a feature at the given pixel?\n     * @template U\n     * @api\n     */\n    PluggableMap.prototype.hasFeatureAtPixel = function hasFeatureAtPixel (pixel, opt_options) {\n      if (!this.frameState_) {\n        return false;\n      }\n      var coordinate = this.getCoordinateFromPixel(pixel);\n      opt_options = opt_options !== undefined ? opt_options :\n        /** @type {AtPixelOptions} */ ({});\n      var layerFilter = opt_options.layerFilter !== undefined ? opt_options.layerFilter : TRUE;\n      var hitTolerance = opt_options.hitTolerance !== undefined ?\n        opt_options.hitTolerance * this.frameState_.pixelRatio : 0;\n      return this.renderer_.hasFeatureAtCoordinate(\n        coordinate, this.frameState_, hitTolerance, layerFilter, null);\n    };\n\n    /**\n     * Returns the coordinate in view projection for a browser event.\n     * @param {Event} event Event.\n     * @return {import(\"./coordinate.js\").Coordinate} Coordinate.\n     * @api\n     */\n    PluggableMap.prototype.getEventCoordinate = function getEventCoordinate (event) {\n      return this.getCoordinateFromPixel(this.getEventPixel(event));\n    };\n\n    /**\n     * Returns the map pixel position for a browser event relative to the viewport.\n     * @param {Event|TouchEvent} event Event.\n     * @return {import(\"./pixel.js\").Pixel} Pixel.\n     * @api\n     */\n    PluggableMap.prototype.getEventPixel = function getEventPixel (event) {\n      var viewportPosition = this.viewport_.getBoundingClientRect();\n      var eventPosition = 'changedTouches' in event ?\n        /** @type {TouchEvent} */ (event).changedTouches[0] :\n        /** @type {MouseEvent} */ (event);\n\n      return [\n        eventPosition.clientX - viewportPosition.left,\n        eventPosition.clientY - viewportPosition.top\n      ];\n    };\n\n    /**\n     * Get the target in which this map is rendered.\n     * Note that this returns what is entered as an option or in setTarget:\n     * if that was an element, it returns an element; if a string, it returns that.\n     * @return {HTMLElement|string|undefined} The Element or id of the Element that the\n     *     map is rendered in.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.getTarget = function getTarget () {\n      return /** @type {HTMLElement|string|undefined} */ (this.get(MapProperty.TARGET));\n    };\n\n    /**\n     * Get the DOM element into which this map is rendered. In contrast to\n     * `getTarget` this method always return an `Element`, or `null` if the\n     * map has no target.\n     * @return {HTMLElement} The element that the map is rendered in.\n     * @api\n     */\n    PluggableMap.prototype.getTargetElement = function getTargetElement () {\n      var target = this.getTarget();\n      if (target !== undefined) {\n        return typeof target === 'string' ? document.getElementById(target) : target;\n      } else {\n        return null;\n      }\n    };\n\n    /**\n     * Get the coordinate for a given pixel.  This returns a coordinate in the\n     * map view projection.\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel position in the map viewport.\n     * @return {import(\"./coordinate.js\").Coordinate} The coordinate for the pixel position.\n     * @api\n     */\n    PluggableMap.prototype.getCoordinateFromPixel = function getCoordinateFromPixel (pixel) {\n      var frameState = this.frameState_;\n      if (!frameState) {\n        return null;\n      } else {\n        return apply(frameState.pixelToCoordinateTransform, pixel.slice());\n      }\n    };\n\n    /**\n     * Get the map controls. Modifying this collection changes the controls\n     * associated with the map.\n     * @return {Collection<import(\"./control/Control.js\").default>} Controls.\n     * @api\n     */\n    PluggableMap.prototype.getControls = function getControls () {\n      return this.controls;\n    };\n\n    /**\n     * Get the map overlays. Modifying this collection changes the overlays\n     * associated with the map.\n     * @return {Collection<import(\"./Overlay.js\").default>} Overlays.\n     * @api\n     */\n    PluggableMap.prototype.getOverlays = function getOverlays () {\n      return this.overlays_;\n    };\n\n    /**\n     * Get an overlay by its identifier (the value returned by overlay.getId()).\n     * Note that the index treats string and numeric identifiers as the same. So\n     * `map.getOverlayById(2)` will return an overlay with id `'2'` or `2`.\n     * @param {string|number} id Overlay identifier.\n     * @return {import(\"./Overlay.js\").default} Overlay.\n     * @api\n     */\n    PluggableMap.prototype.getOverlayById = function getOverlayById (id) {\n      var overlay = this.overlayIdIndex_[id.toString()];\n      return overlay !== undefined ? overlay : null;\n    };\n\n    /**\n     * Get the map interactions. Modifying this collection changes the interactions\n     * associated with the map.\n     *\n     * Interactions are used for e.g. pan, zoom and rotate.\n     * @return {Collection<import(\"./interaction/Interaction.js\").default>} Interactions.\n     * @api\n     */\n    PluggableMap.prototype.getInteractions = function getInteractions () {\n      return this.interactions;\n    };\n\n    /**\n     * Get the layergroup associated with this map.\n     * @return {LayerGroup} A layer group containing the layers in this map.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.getLayerGroup = function getLayerGroup () {\n      return (\n        /** @type {LayerGroup} */ (this.get(MapProperty.LAYERGROUP))\n      );\n    };\n\n    /**\n     * Get the collection of layers associated with this map.\n     * @return {!Collection<import(\"./layer/Base.js\").default>} Layers.\n     * @api\n     */\n    PluggableMap.prototype.getLayers = function getLayers () {\n      var layers = this.getLayerGroup().getLayers();\n      return layers;\n    };\n\n    /**\n     * Get the pixel for a coordinate.  This takes a coordinate in the map view\n     * projection and returns the corresponding pixel.\n     * @param {import(\"./coordinate.js\").Coordinate} coordinate A map coordinate.\n     * @return {import(\"./pixel.js\").Pixel} A pixel position in the map viewport.\n     * @api\n     */\n    PluggableMap.prototype.getPixelFromCoordinate = function getPixelFromCoordinate (coordinate) {\n      var frameState = this.frameState_;\n      if (!frameState) {\n        return null;\n      } else {\n        return apply(frameState.coordinateToPixelTransform, coordinate.slice(0, 2));\n      }\n    };\n\n    /**\n     * Get the map renderer.\n     * @return {import(\"./renderer/Map.js\").default} Renderer\n     */\n    PluggableMap.prototype.getRenderer = function getRenderer () {\n      return this.renderer_;\n    };\n\n    /**\n     * Get the size of this map.\n     * @return {import(\"./size.js\").Size|undefined} The size in pixels of the map in the DOM.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.getSize = function getSize$$1 () {\n      return (\n        /** @type {import(\"./size.js\").Size|undefined} */ (this.get(MapProperty.SIZE))\n      );\n    };\n\n    /**\n     * Get the view associated with this map. A view manages properties such as\n     * center and resolution.\n     * @return {View} The view that controls this map.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.getView = function getView () {\n      return (\n        /** @type {View} */ (this.get(MapProperty.VIEW))\n      );\n    };\n\n    /**\n     * Get the element that serves as the map viewport.\n     * @return {HTMLElement} Viewport.\n     * @api\n     */\n    PluggableMap.prototype.getViewport = function getViewport () {\n      return this.viewport_;\n    };\n\n    /**\n     * Get the element that serves as the container for overlays.  Elements added to\n     * this container will let mousedown and touchstart events through to the map,\n     * so clicks and gestures on an overlay will trigger {@link module:ol/MapBrowserEvent~MapBrowserEvent}\n     * events.\n     * @return {!HTMLElement} The map's overlay container.\n     */\n    PluggableMap.prototype.getOverlayContainer = function getOverlayContainer () {\n      return this.overlayContainer_;\n    };\n\n    /**\n     * Get the element that serves as a container for overlays that don't allow\n     * event propagation. Elements added to this container won't let mousedown and\n     * touchstart events through to the map, so clicks and gestures on an overlay\n     * don't trigger any {@link module:ol/MapBrowserEvent~MapBrowserEvent}.\n     * @return {!HTMLElement} The map's overlay container that stops events.\n     */\n    PluggableMap.prototype.getOverlayContainerStopEvent = function getOverlayContainerStopEvent () {\n      return this.overlayContainerStopEvent_;\n    };\n\n    /**\n     * @param {import(\"./Tile.js\").default} tile Tile.\n     * @param {string} tileSourceKey Tile source key.\n     * @param {import(\"./coordinate.js\").Coordinate} tileCenter Tile center.\n     * @param {number} tileResolution Tile resolution.\n     * @return {number} Tile priority.\n     */\n    PluggableMap.prototype.getTilePriority = function getTilePriority (tile, tileSourceKey, tileCenter, tileResolution) {\n      // Filter out tiles at higher zoom levels than the current zoom level, or that\n      // are outside the visible extent.\n      var frameState = this.frameState_;\n      if (!frameState || !(tileSourceKey in frameState.wantedTiles)) {\n        return DROP;\n      }\n      if (!frameState.wantedTiles[tileSourceKey][tile.getKey()]) {\n        return DROP;\n      }\n      // Prioritize the highest zoom level tiles closest to the focus.\n      // Tiles at higher zoom levels are prioritized using Math.log(tileResolution).\n      // Within a zoom level, tiles are prioritized by the distance in pixels\n      // between the center of the tile and the focus.  The factor of 65536 means\n      // that the prioritization should behave as desired for tiles up to\n      // 65536 * Math.log(2) = 45426 pixels from the focus.\n      var deltaX = tileCenter[0] - frameState.focus[0];\n      var deltaY = tileCenter[1] - frameState.focus[1];\n      return 65536 * Math.log(tileResolution) +\n          Math.sqrt(deltaX * deltaX + deltaY * deltaY) / tileResolution;\n    };\n\n    /**\n     * @param {Event} browserEvent Browser event.\n     * @param {string=} opt_type Type.\n     */\n    PluggableMap.prototype.handleBrowserEvent = function handleBrowserEvent (browserEvent, opt_type) {\n      var type = opt_type || browserEvent.type;\n      var mapBrowserEvent = new MapBrowserEvent(type, this, browserEvent);\n      this.handleMapBrowserEvent(mapBrowserEvent);\n    };\n\n    /**\n     * @param {MapBrowserEvent} mapBrowserEvent The event to handle.\n     */\n    PluggableMap.prototype.handleMapBrowserEvent = function handleMapBrowserEvent (mapBrowserEvent) {\n      if (!this.frameState_) {\n        // With no view defined, we cannot translate pixels into geographical\n        // coordinates so interactions cannot be used.\n        return;\n      }\n      this.focus_ = mapBrowserEvent.coordinate;\n      mapBrowserEvent.frameState = this.frameState_;\n      var interactionsArray = this.getInteractions().getArray();\n      if (this.dispatchEvent(mapBrowserEvent) !== false) {\n        for (var i = interactionsArray.length - 1; i >= 0; i--) {\n          var interaction = interactionsArray[i];\n          if (!interaction.getActive()) {\n            continue;\n          }\n          var cont = interaction.handleEvent(mapBrowserEvent);\n          if (!cont) {\n            break;\n          }\n        }\n      }\n    };\n\n    /**\n     * @protected\n     */\n    PluggableMap.prototype.handlePostRender = function handlePostRender () {\n\n      var frameState = this.frameState_;\n\n      // Manage the tile queue\n      // Image loads are expensive and a limited resource, so try to use them\n      // efficiently:\n      // * When the view is static we allow a large number of parallel tile loads\n      //   to complete the frame as quickly as possible.\n      // * When animating or interacting, image loads can cause janks, so we reduce\n      //   the maximum number of loads per frame and limit the number of parallel\n      //   tile loads to remain reactive to view changes and to reduce the chance of\n      //   loading tiles that will quickly disappear from view.\n      var tileQueue = this.tileQueue_;\n      if (!tileQueue.isEmpty()) {\n        var maxTotalLoading = this.maxTilesLoading_;\n        var maxNewLoads = maxTotalLoading;\n        if (frameState) {\n          var hints = frameState.viewHints;\n          if (hints[ViewHint.ANIMATING]) {\n            maxTotalLoading = this.loadTilesWhileAnimating_ ? 8 : 0;\n            maxNewLoads = 2;\n          }\n          if (hints[ViewHint.INTERACTING]) {\n            maxTotalLoading = this.loadTilesWhileInteracting_ ? 8 : 0;\n            maxNewLoads = 2;\n          }\n        }\n        if (tileQueue.getTilesLoading() < maxTotalLoading) {\n          tileQueue.reprioritize(); // FIXME only call if view has changed\n          tileQueue.loadMoreTiles(maxTotalLoading, maxNewLoads);\n        }\n      }\n      if (frameState && this.hasListener(RenderEventType.RENDERCOMPLETE) && !frameState.animate &&\n          !this.tileQueue_.getTilesLoading() && !getLoading(this.getLayers().getArray())) {\n        this.renderer_.dispatchRenderEvent(RenderEventType.RENDERCOMPLETE, frameState);\n      }\n\n      var postRenderFunctions = this.postRenderFunctions_;\n      for (var i = 0, ii = postRenderFunctions.length; i < ii; ++i) {\n        postRenderFunctions[i](this, frameState);\n      }\n      postRenderFunctions.length = 0;\n    };\n\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleSizeChanged_ = function handleSizeChanged_ () {\n      this.render();\n    };\n\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleTargetChanged_ = function handleTargetChanged_ () {\n      // target may be undefined, null, a string or an Element.\n      // If it's a string we convert it to an Element before proceeding.\n      // If it's not now an Element we remove the viewport from the DOM.\n      // If it's an Element we append the viewport element to it.\n\n      var targetElement;\n      if (this.getTarget()) {\n        targetElement = this.getTargetElement();\n      }\n\n      if (this.keyHandlerKeys_) {\n        for (var i = 0, ii = this.keyHandlerKeys_.length; i < ii; ++i) {\n          unlistenByKey(this.keyHandlerKeys_[i]);\n        }\n        this.keyHandlerKeys_ = null;\n      }\n\n      if (!targetElement) {\n        this.renderer_.removeLayerRenderers();\n        removeNode(this.viewport_);\n        if (this.handleResize_ !== undefined) {\n          removeEventListener(EventType.RESIZE, this.handleResize_, false);\n          this.handleResize_ = undefined;\n        }\n      } else {\n        targetElement.appendChild(this.viewport_);\n\n        var keyboardEventTarget = !this.keyboardEventTarget_ ?\n          targetElement : this.keyboardEventTarget_;\n        this.keyHandlerKeys_ = [\n          listen(keyboardEventTarget, EventType.KEYDOWN, this.handleBrowserEvent, this),\n          listen(keyboardEventTarget, EventType.KEYPRESS, this.handleBrowserEvent, this)\n        ];\n\n        if (!this.handleResize_) {\n          this.handleResize_ = this.updateSize.bind(this);\n          addEventListener(EventType.RESIZE, this.handleResize_, false);\n        }\n      }\n\n      this.updateSize();\n      // updateSize calls setSize, so no need to call this.render\n      // ourselves here.\n    };\n\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleTileChange_ = function handleTileChange_ () {\n      this.render();\n    };\n\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleViewPropertyChanged_ = function handleViewPropertyChanged_ () {\n      this.render();\n    };\n\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleViewChanged_ = function handleViewChanged_ () {\n      if (this.viewPropertyListenerKey_) {\n        unlistenByKey(this.viewPropertyListenerKey_);\n        this.viewPropertyListenerKey_ = null;\n      }\n      if (this.viewChangeListenerKey_) {\n        unlistenByKey(this.viewChangeListenerKey_);\n        this.viewChangeListenerKey_ = null;\n      }\n      var view = this.getView();\n      if (view) {\n        this.viewport_.setAttribute('data-view', getUid(view));\n        this.viewPropertyListenerKey_ = listen(\n          view, ObjectEventType.PROPERTYCHANGE,\n          this.handleViewPropertyChanged_, this);\n        this.viewChangeListenerKey_ = listen(\n          view, EventType.CHANGE,\n          this.handleViewPropertyChanged_, this);\n      }\n      this.render();\n    };\n\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleLayerGroupChanged_ = function handleLayerGroupChanged_ () {\n      if (this.layerGroupPropertyListenerKeys_) {\n        this.layerGroupPropertyListenerKeys_.forEach(unlistenByKey);\n        this.layerGroupPropertyListenerKeys_ = null;\n      }\n      var layerGroup = this.getLayerGroup();\n      if (layerGroup) {\n        this.layerGroupPropertyListenerKeys_ = [\n          listen(\n            layerGroup, ObjectEventType.PROPERTYCHANGE,\n            this.render, this),\n          listen(\n            layerGroup, EventType.CHANGE,\n            this.render, this)\n        ];\n      }\n      this.render();\n    };\n\n    /**\n     * @return {boolean} Is rendered.\n     */\n    PluggableMap.prototype.isRendered = function isRendered () {\n      return !!this.frameState_;\n    };\n\n    /**\n     * Requests an immediate render in a synchronous manner.\n     * @api\n     */\n    PluggableMap.prototype.renderSync = function renderSync () {\n      if (this.animationDelayKey_) {\n        cancelAnimationFrame(this.animationDelayKey_);\n      }\n      this.animationDelay_();\n    };\n\n    /**\n     * Request a map rendering (at the next animation frame).\n     * @api\n     */\n    PluggableMap.prototype.render = function render () {\n      if (this.animationDelayKey_ === undefined) {\n        this.animationDelayKey_ = requestAnimationFrame(this.animationDelay_);\n      }\n    };\n\n    /**\n     * Remove the given control from the map.\n     * @param {import(\"./control/Control.js\").default} control Control.\n     * @return {import(\"./control/Control.js\").default|undefined} The removed control (or undefined\n     *     if the control was not found).\n     * @api\n     */\n    PluggableMap.prototype.removeControl = function removeControl (control) {\n      return this.getControls().remove(control);\n    };\n\n    /**\n     * Remove the given interaction from the map.\n     * @param {import(\"./interaction/Interaction.js\").default} interaction Interaction to remove.\n     * @return {import(\"./interaction/Interaction.js\").default|undefined} The removed interaction (or\n     *     undefined if the interaction was not found).\n     * @api\n     */\n    PluggableMap.prototype.removeInteraction = function removeInteraction (interaction) {\n      return this.getInteractions().remove(interaction);\n    };\n\n    /**\n     * Removes the given layer from the map.\n     * @param {import(\"./layer/Base.js\").default} layer Layer.\n     * @return {import(\"./layer/Base.js\").default|undefined} The removed layer (or undefined if the\n     *     layer was not found).\n     * @api\n     */\n    PluggableMap.prototype.removeLayer = function removeLayer (layer) {\n      var layers = this.getLayerGroup().getLayers();\n      return layers.remove(layer);\n    };\n\n    /**\n     * Remove the given overlay from the map.\n     * @param {import(\"./Overlay.js\").default} overlay Overlay.\n     * @return {import(\"./Overlay.js\").default|undefined} The removed overlay (or undefined\n     *     if the overlay was not found).\n     * @api\n     */\n    PluggableMap.prototype.removeOverlay = function removeOverlay (overlay) {\n      return this.getOverlays().remove(overlay);\n    };\n\n    /**\n     * @param {number} time Time.\n     * @private\n     */\n    PluggableMap.prototype.renderFrame_ = function renderFrame_ (time) {\n      var viewState;\n\n      var size = this.getSize();\n      var view = this.getView();\n      var extent = createEmpty();\n      var previousFrameState = this.frameState_;\n      /** @type {?FrameState} */\n      var frameState = null;\n      if (size !== undefined && hasArea(size) && view && view.isDef()) {\n        var viewHints = view.getHints(this.frameState_ ? this.frameState_.viewHints : undefined);\n        var layerStatesArray = this.getLayerGroup().getLayerStatesArray();\n        var layerStates = {};\n        for (var i = 0, ii = layerStatesArray.length; i < ii; ++i) {\n          layerStates[getUid(layerStatesArray[i].layer)] = layerStatesArray[i];\n        }\n        viewState = view.getState(this.pixelRatio_);\n        frameState = /** @type {FrameState} */ ({\n          animate: false,\n          coordinateToPixelTransform: this.coordinateToPixelTransform_,\n          extent: extent,\n          focus: this.focus_ ? this.focus_ : viewState.center,\n          index: this.frameIndex_++,\n          layerStates: layerStates,\n          layerStatesArray: layerStatesArray,\n          pixelRatio: this.pixelRatio_,\n          pixelToCoordinateTransform: this.pixelToCoordinateTransform_,\n          postRenderFunctions: [],\n          size: size,\n          skippedFeatureUids: this.skippedFeatureUids_,\n          tileQueue: this.tileQueue_,\n          time: time,\n          usedTiles: {},\n          viewState: viewState,\n          viewHints: viewHints,\n          wantedTiles: {}\n        });\n      }\n\n      if (frameState) {\n        frameState.extent = getForViewAndSize(viewState.center,\n          viewState.resolution, viewState.rotation, frameState.size, extent);\n      }\n\n      this.frameState_ = frameState;\n      this.renderer_.renderFrame(frameState);\n\n      if (frameState) {\n        if (frameState.animate) {\n          this.render();\n        }\n        Array.prototype.push.apply(this.postRenderFunctions_, frameState.postRenderFunctions);\n\n        if (previousFrameState) {\n          var moveStart = !this.previousExtent_ ||\n                      (!isEmpty$1(this.previousExtent_) &&\n                      !equals$2(frameState.extent, this.previousExtent_));\n          if (moveStart) {\n            this.dispatchEvent(\n              new MapEvent(MapEventType.MOVESTART, this, previousFrameState));\n            this.previousExtent_ = createOrUpdateEmpty(this.previousExtent_);\n          }\n        }\n\n        var idle = this.previousExtent_ &&\n            !frameState.viewHints[ViewHint.ANIMATING] &&\n            !frameState.viewHints[ViewHint.INTERACTING] &&\n            !equals$2(frameState.extent, this.previousExtent_);\n\n        if (idle) {\n          this.dispatchEvent(new MapEvent(MapEventType.MOVEEND, this, frameState));\n          clone(frameState.extent, this.previousExtent_);\n        }\n      }\n\n      this.dispatchEvent(new MapEvent(MapEventType.POSTRENDER, this, frameState));\n\n      setTimeout(this.handlePostRender.bind(this), 0);\n\n    };\n\n    /**\n     * Sets the layergroup of this map.\n     * @param {LayerGroup} layerGroup A layer group containing the layers in this map.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.setLayerGroup = function setLayerGroup (layerGroup) {\n      this.set(MapProperty.LAYERGROUP, layerGroup);\n    };\n\n    /**\n     * Set the size of this map.\n     * @param {import(\"./size.js\").Size|undefined} size The size in pixels of the map in the DOM.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.setSize = function setSize (size) {\n      this.set(MapProperty.SIZE, size);\n    };\n\n    /**\n     * Set the target element to render this map into.\n     * @param {HTMLElement|string|undefined} target The Element or id of the Element\n     *     that the map is rendered in.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.setTarget = function setTarget (target) {\n      this.set(MapProperty.TARGET, target);\n    };\n\n    /**\n     * Set the view for this map.\n     * @param {View} view The view that controls this map.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.setView = function setView (view) {\n      this.set(MapProperty.VIEW, view);\n    };\n\n    /**\n     * @param {import(\"./Feature.js\").default} feature Feature.\n     */\n    PluggableMap.prototype.skipFeature = function skipFeature (feature) {\n      this.skippedFeatureUids_[getUid(feature)] = true;\n      this.render();\n    };\n\n    /**\n     * Force a recalculation of the map viewport size.  This should be called when\n     * third-party code changes the size of the map viewport.\n     * @api\n     */\n    PluggableMap.prototype.updateSize = function updateSize () {\n      var targetElement = this.getTargetElement();\n\n      if (!targetElement) {\n        this.setSize(undefined);\n      } else {\n        var computedStyle = getComputedStyle(targetElement);\n        this.setSize([\n          targetElement.offsetWidth -\n              parseFloat(computedStyle['borderLeftWidth']) -\n              parseFloat(computedStyle['paddingLeft']) -\n              parseFloat(computedStyle['paddingRight']) -\n              parseFloat(computedStyle['borderRightWidth']),\n          targetElement.offsetHeight -\n              parseFloat(computedStyle['borderTopWidth']) -\n              parseFloat(computedStyle['paddingTop']) -\n              parseFloat(computedStyle['paddingBottom']) -\n              parseFloat(computedStyle['borderBottomWidth'])\n        ]);\n      }\n    };\n\n    /**\n     * @param {import(\"./Feature.js\").default} feature Feature.\n     */\n    PluggableMap.prototype.unskipFeature = function unskipFeature (feature) {\n      delete this.skippedFeatureUids_[getUid(feature)];\n      this.render();\n    };\n\n    return PluggableMap;\n  }(BaseObject));\n\n\n  /**\n   * @param {MapOptions} options Map options.\n   * @return {MapOptionsInternal} Internal map options.\n   */\n  function createOptionsInternal(options) {\n\n    /**\n     * @type {HTMLElement|Document}\n     */\n    var keyboardEventTarget = null;\n    if (options.keyboardEventTarget !== undefined) {\n      keyboardEventTarget = typeof options.keyboardEventTarget === 'string' ?\n        document.getElementById(options.keyboardEventTarget) :\n        options.keyboardEventTarget;\n    }\n\n    /**\n     * @type {Object<string, *>}\n     */\n    var values = {};\n\n    var layerGroup = options.layers && typeof /** @type {?} */ (options.layers).getLayers === 'function' ?\n      /** @type {LayerGroup} */ (options.layers) : new LayerGroup({layers: /** @type {Collection} */ (options.layers)});\n    values[MapProperty.LAYERGROUP] = layerGroup;\n\n    values[MapProperty.TARGET] = options.target;\n\n    values[MapProperty.VIEW] = options.view !== undefined ?\n      options.view : new View();\n\n    var controls;\n    if (options.controls !== undefined) {\n      if (Array.isArray(options.controls)) {\n        controls = new Collection(options.controls.slice());\n      } else {\n        assert(typeof /** @type {?} */ (options.controls).getArray === 'function',\n          47); // Expected `controls` to be an array or an `import(\"./Collection.js\").Collection`\n        controls = /** @type {Collection} */ (options.controls);\n      }\n    }\n\n    var interactions;\n    if (options.interactions !== undefined) {\n      if (Array.isArray(options.interactions)) {\n        interactions = new Collection(options.interactions.slice());\n      } else {\n        assert(typeof /** @type {?} */ (options.interactions).getArray === 'function',\n          48); // Expected `interactions` to be an array or an `import(\"./Collection.js\").Collection`\n        interactions = /** @type {Collection} */ (options.interactions);\n      }\n    }\n\n    var overlays;\n    if (options.overlays !== undefined) {\n      if (Array.isArray(options.overlays)) {\n        overlays = new Collection(options.overlays.slice());\n      } else {\n        assert(typeof /** @type {?} */ (options.overlays).getArray === 'function',\n          49); // Expected `overlays` to be an array or an `import(\"./Collection.js\").Collection`\n        overlays = options.overlays;\n      }\n    } else {\n      overlays = new Collection();\n    }\n\n    return {\n      controls: controls,\n      interactions: interactions,\n      keyboardEventTarget: keyboardEventTarget,\n      overlays: overlays,\n      values: values\n    };\n\n  }\n\n  /**\n   * @param  {Array<import(\"./layer/Base.js\").default>} layers Layers.\n   * @return {boolean} Layers have sources that are still loading.\n   */\n  function getLoading(layers) {\n    for (var i = 0, ii = layers.length; i < ii; ++i) {\n      var layer = layers[i];\n      if (typeof /** @type {?} */ (layer).getLayers === 'function') {\n        return getLoading(/** @type {LayerGroup} */ (layer).getLayers().getArray());\n      } else {\n        var source = /** @type {import(\"./layer/Layer.js\").default} */ (\n          layer).getSource();\n        if (source && source.loading) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  /**\n   * @module ol/control/Control\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {HTMLElement} [element] The element is the control's\n   * container element. This only needs to be specified if you're developing\n   * a custom control.\n   * @property {function(import(\"../MapEvent.js\").default)} [render] Function called when\n   * the control should be re-rendered. This is called in a `requestAnimationFrame`\n   * callback.\n   * @property {HTMLElement|string} [target] Specify a target if you want\n   * the control to be rendered outside of the map's viewport.\n   */\n\n\n  /**\n   * @classdesc\n   * A control is a visible widget with a DOM element in a fixed position on the\n   * screen. They can involve user input (buttons), or be informational only;\n   * the position is determined using CSS. By default these are placed in the\n   * container with CSS class name `ol-overlaycontainer-stopevent`, but can use\n   * any outside DOM element.\n   *\n   * This is the base class for controls. You can use it for simple custom\n   * controls by creating the element with listeners, creating an instance:\n   * ```js\n   * var myControl = new Control({element: myElement});\n   * ```\n   * and then adding this to the map.\n   *\n   * The main advantage of having this as a control rather than a simple separate\n   * DOM element is that preventing propagation is handled for you. Controls\n   * will also be objects in a {@link module:ol/Collection~Collection}, so you can use their methods.\n   *\n   * You can also extend this base for your own control class. See\n   * examples/custom-controls for an example of how to do this.\n   *\n   * @api\n   */\n  var Control = /*@__PURE__*/(function (BaseObject$$1) {\n    function Control(options) {\n\n      BaseObject$$1.call(this);\n\n      /**\n       * @protected\n       * @type {HTMLElement}\n       */\n      this.element = options.element ? options.element : null;\n\n      /**\n       * @private\n       * @type {HTMLElement}\n       */\n      this.target_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../PluggableMap.js\").default}\n       */\n      this.map_ = null;\n\n      /**\n       * @protected\n       * @type {!Array<import(\"../events.js\").EventsKey>}\n       */\n      this.listenerKeys = [];\n\n      /**\n       * @type {function(import(\"../MapEvent.js\").default)}\n       */\n      this.render = options.render ? options.render : VOID;\n\n      if (options.target) {\n        this.setTarget(options.target);\n      }\n\n    }\n\n    if ( BaseObject$$1 ) Control.__proto__ = BaseObject$$1;\n    Control.prototype = Object.create( BaseObject$$1 && BaseObject$$1.prototype );\n    Control.prototype.constructor = Control;\n\n    /**\n     * @inheritDoc\n     */\n    Control.prototype.disposeInternal = function disposeInternal () {\n      removeNode(this.element);\n      BaseObject$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * Get the map associated with this control.\n     * @return {import(\"../PluggableMap.js\").default} Map.\n     * @api\n     */\n    Control.prototype.getMap = function getMap () {\n      return this.map_;\n    };\n\n    /**\n     * Remove the control from its current map and attach it to the new map.\n     * Subclasses may set up event handlers to get notified about changes to\n     * the map here.\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     * @api\n     */\n    Control.prototype.setMap = function setMap (map) {\n      if (this.map_) {\n        removeNode(this.element);\n      }\n      for (var i = 0, ii = this.listenerKeys.length; i < ii; ++i) {\n        unlistenByKey(this.listenerKeys[i]);\n      }\n      this.listenerKeys.length = 0;\n      this.map_ = map;\n      if (this.map_) {\n        var target = this.target_ ?\n          this.target_ : map.getOverlayContainerStopEvent();\n        target.appendChild(this.element);\n        if (this.render !== VOID) {\n          this.listenerKeys.push(listen(map,\n            MapEventType.POSTRENDER, this.render, this));\n        }\n        map.render();\n      }\n    };\n\n    /**\n     * This function is used to set a target element for the control. It has no\n     * effect if it is called after the control has been added to the map (i.e.\n     * after `setMap` is called on the control). If no `target` is set in the\n     * options passed to the control constructor and if `setTarget` is not called\n     * then the control is added to the map's overlay container.\n     * @param {HTMLElement|string} target Target.\n     * @api\n     */\n    Control.prototype.setTarget = function setTarget (target) {\n      this.target_ = typeof target === 'string' ?\n        document.getElementById(target) :\n        target;\n    };\n\n    return Control;\n  }(BaseObject));\n\n  /**\n   * @module ol/css\n   */\n\n\n  /**\n   * The CSS class for hidden feature.\n   *\n   * @const\n   * @type {string}\n   */\n  var CLASS_HIDDEN = 'ol-hidden';\n\n\n  /**\n   * The CSS class that we'll give the DOM elements to have them selectable.\n   *\n   * @const\n   * @type {string}\n   */\n  var CLASS_SELECTABLE = 'ol-selectable';\n\n\n  /**\n   * The CSS class that we'll give the DOM elements to have them unselectable.\n   *\n   * @const\n   * @type {string}\n   */\n  var CLASS_UNSELECTABLE = 'ol-unselectable';\n\n\n  /**\n   * The CSS class for unsupported feature.\n   *\n   * @const\n   * @type {string}\n   */\n  var CLASS_UNSUPPORTED = 'ol-unsupported';\n\n\n  /**\n   * The CSS class for controls.\n   *\n   * @const\n   * @type {string}\n   */\n  var CLASS_CONTROL = 'ol-control';\n\n\n  /**\n   * The CSS class that we'll give the DOM elements that are collapsed, i.e.\n   * to those elements which usually can be expanded.\n   *\n   * @const\n   * @type {string}\n   */\n  var CLASS_COLLAPSED = 'ol-collapsed';\n\n\n  /**\n   * Get the list of font families from a font spec.  Note that this doesn't work\n   * for font families that have commas in them.\n   * @param {string} The CSS font property.\n   * @return {Object<string>} The font families (or null if the input spec is invalid).\n   */\n  var getFontFamilies = (function() {\n    var style;\n    var cache = {};\n    return function(font) {\n      if (!style) {\n        style = document.createElement('div').style;\n      }\n      if (!(font in cache)) {\n        style.font = font;\n        var family = style.fontFamily;\n        style.font = '';\n        if (!family) {\n          return null;\n        }\n        cache[font] = family.split(/,\\s?/);\n      }\n      return cache[font];\n    };\n  })();\n\n  /**\n   * @module ol/layer/Layer\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [opacity=1] Opacity (0, 1).\n   * @property {boolean} [visible=true] Visibility.\n   * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n   * rendered outside of this extent.\n   * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n   * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n   * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n   * method was used.\n   * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n   * visible.\n   * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n   * be visible.\n   * @property {import(\"../source/Source.js\").default} [source] Source for this layer.  If not provided to the constructor,\n   * the source can be set by calling {@link module:ol/layer/Layer#setSource layer.setSource(source)} after\n   * construction.\n   * @property {import(\"../PluggableMap.js\").default} [map] Map.\n   */\n\n\n  /**\n   * @typedef {Object} State\n   * @property {import(\"./Base.js\").default} layer\n   * @property {number} opacity\n   * @property {SourceState} sourceState\n   * @property {boolean} visible\n   * @property {boolean} managed\n   * @property {import(\"../extent.js\").Extent} [extent]\n   * @property {number} zIndex\n   * @property {number} maxResolution\n   * @property {number} minResolution\n   */\n\n  /**\n   * @classdesc\n   * Abstract base class; normally only used for creating subclasses and not\n   * instantiated in apps.\n   * A visual representation of raster or vector map data.\n   * Layers group together those properties that pertain to how the data is to be\n   * displayed, irrespective of the source of that data.\n   *\n   * Layers are usually added to a map with {@link module:ol/Map#addLayer}. Components\n   * like {@link module:ol/interaction/Select~Select} use unmanaged layers\n   * internally. These unmanaged layers are associated with the map using\n   * {@link module:ol/layer/Layer~Layer#setMap} instead.\n   *\n   * A generic `change` event is fired when the state of the source changes.\n   *\n   * @fires import(\"../render/Event.js\").RenderEvent\n   */\n  var Layer = /*@__PURE__*/(function (BaseLayer$$1) {\n    function Layer(options) {\n\n      var baseOptions = assign({}, options);\n      delete baseOptions.source;\n\n      BaseLayer$$1.call(this, baseOptions);\n\n      /**\n       * @private\n       * @type {?import(\"../events.js\").EventsKey}\n       */\n      this.mapPrecomposeKey_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"../events.js\").EventsKey}\n       */\n      this.mapRenderKey_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"../events.js\").EventsKey}\n       */\n      this.sourceChangeKey_ = null;\n\n      if (options.map) {\n        this.setMap(options.map);\n      }\n\n      listen(this,\n        getChangeEventType(LayerProperty.SOURCE),\n        this.handleSourcePropertyChange_, this);\n\n      var source = options.source ? options.source : null;\n      this.setSource(source);\n    }\n\n    if ( BaseLayer$$1 ) Layer.__proto__ = BaseLayer$$1;\n    Layer.prototype = Object.create( BaseLayer$$1 && BaseLayer$$1.prototype );\n    Layer.prototype.constructor = Layer;\n\n    /**\n     * @inheritDoc\n     */\n    Layer.prototype.getLayersArray = function getLayersArray (opt_array) {\n      var array = opt_array ? opt_array : [];\n      array.push(this);\n      return array;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Layer.prototype.getLayerStatesArray = function getLayerStatesArray (opt_states) {\n      var states = opt_states ? opt_states : [];\n      states.push(this.getLayerState());\n      return states;\n    };\n\n    /**\n     * Get the layer source.\n     * @return {import(\"../source/Source.js\").default} The layer source (or `null` if not yet set).\n     * @observable\n     * @api\n     */\n    Layer.prototype.getSource = function getSource () {\n      var source = this.get(LayerProperty.SOURCE);\n      return (\n        /** @type {import(\"../source/Source.js\").default} */ (source) || null\n      );\n    };\n\n    /**\n      * @inheritDoc\n      */\n    Layer.prototype.getSourceState = function getSourceState () {\n      var source = this.getSource();\n      return !source ? SourceState.UNDEFINED : source.getState();\n    };\n\n    /**\n     * @private\n     */\n    Layer.prototype.handleSourceChange_ = function handleSourceChange_ () {\n      this.changed();\n    };\n\n    /**\n     * @private\n     */\n    Layer.prototype.handleSourcePropertyChange_ = function handleSourcePropertyChange_ () {\n      if (this.sourceChangeKey_) {\n        unlistenByKey(this.sourceChangeKey_);\n        this.sourceChangeKey_ = null;\n      }\n      var source = this.getSource();\n      if (source) {\n        this.sourceChangeKey_ = listen(source,\n          EventType.CHANGE, this.handleSourceChange_, this);\n      }\n      this.changed();\n    };\n\n    /**\n     * Sets the layer to be rendered on top of other layers on a map. The map will\n     * not manage this layer in its layers collection, and the callback in\n     * {@link module:ol/Map#forEachLayerAtPixel} will receive `null` as layer. This\n     * is useful for temporary layers. To remove an unmanaged layer from the map,\n     * use `#setMap(null)`.\n     *\n     * To add the layer to a map and have it managed by the map, use\n     * {@link module:ol/Map#addLayer} instead.\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     * @api\n     */\n    Layer.prototype.setMap = function setMap (map) {\n      if (this.mapPrecomposeKey_) {\n        unlistenByKey(this.mapPrecomposeKey_);\n        this.mapPrecomposeKey_ = null;\n      }\n      if (!map) {\n        this.changed();\n      }\n      if (this.mapRenderKey_) {\n        unlistenByKey(this.mapRenderKey_);\n        this.mapRenderKey_ = null;\n      }\n      if (map) {\n        this.mapPrecomposeKey_ = listen(map, RenderEventType.PRECOMPOSE, function(evt) {\n          var renderEvent = /** @type {import(\"../render/Event.js\").default} */ (evt);\n          var layerState = this.getLayerState();\n          layerState.managed = false;\n          if (this.getZIndex() === undefined) {\n            layerState.zIndex = Infinity;\n          }\n          renderEvent.frameState.layerStatesArray.push(layerState);\n          renderEvent.frameState.layerStates[getUid(this)] = layerState;\n        }, this);\n        this.mapRenderKey_ = listen(this, EventType.CHANGE, map.render, map);\n        this.changed();\n      }\n    };\n\n    /**\n     * Set the layer source.\n     * @param {import(\"../source/Source.js\").default} source The layer source.\n     * @observable\n     * @api\n     */\n    Layer.prototype.setSource = function setSource (source) {\n      this.set(LayerProperty.SOURCE, source);\n    };\n\n    return Layer;\n  }(BaseLayer));\n\n\n  /**\n   * Return `true` if the layer is visible, and if the passed resolution is\n   * between the layer's minResolution and maxResolution. The comparison is\n   * inclusive for `minResolution` and exclusive for `maxResolution`.\n   * @param {State} layerState Layer state.\n   * @param {number} resolution Resolution.\n   * @return {boolean} The layer is visible at the given resolution.\n   */\n  function visibleAtResolution(layerState, resolution) {\n    return layerState.visible && resolution >= layerState.minResolution &&\n        resolution < layerState.maxResolution;\n  }\n\n  /**\n   * @module ol/control/Attribution\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} [className='ol-attribution'] CSS class name.\n   * @property {HTMLElement|string} [target] Specify a target if you\n   * want the control to be rendered outside of the map's\n   * viewport.\n   * @property {boolean} [collapsible] Specify if attributions can\n   * be collapsed. If not specified, sources control this behavior with their\n   * `attributionsCollapsible` setting.\n   * @property {boolean} [collapsed=true] Specify if attributions should\n   * be collapsed at startup.\n   * @property {string} [tipLabel='Attributions'] Text label to use for the button tip.\n   * @property {string} [label='i'] Text label to use for the\n   * collapsed attributions button.\n   * Instead of text, also an element (e.g. a `span` element) can be used.\n   * @property {string|HTMLElement} [collapseLabel='»'] Text label to use\n   * for the expanded attributions button.\n   * Instead of text, also an element (e.g. a `span` element) can be used.\n   * @property {function(import(\"../MapEvent.js\").default)} [render] Function called when\n   * the control should be re-rendered. This is called in a `requestAnimationFrame`\n   * callback.\n   */\n\n\n  /**\n   * @classdesc\n   * Control to show all the attributions associated with the layer sources\n   * in the map. This control is one of the default controls included in maps.\n   * By default it will show in the bottom right portion of the map, but this can\n   * be changed by using a css selector for `.ol-attribution`.\n   *\n   * @api\n   */\n  var Attribution = /*@__PURE__*/(function (Control$$1) {\n    function Attribution(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      Control$$1.call(this, {\n        element: document.createElement('div'),\n        render: options.render || render,\n        target: options.target\n      });\n\n      /**\n       * @private\n       * @type {HTMLElement}\n       */\n      this.ulElement_ = document.createElement('ul');\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.collapsed_ = options.collapsed !== undefined ? options.collapsed : true;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.overrideCollapsible_ = options.collapsible !== undefined;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.collapsible_ = options.collapsible !== undefined ?\n        options.collapsible : true;\n\n      if (!this.collapsible_) {\n        this.collapsed_ = false;\n      }\n\n      var className = options.className !== undefined ? options.className : 'ol-attribution';\n\n      var tipLabel = options.tipLabel !== undefined ? options.tipLabel : 'Attributions';\n\n      var collapseLabel = options.collapseLabel !== undefined ? options.collapseLabel : '\\u00BB';\n\n      if (typeof collapseLabel === 'string') {\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        this.collapseLabel_ = document.createElement('span');\n        this.collapseLabel_.textContent = collapseLabel;\n      } else {\n        this.collapseLabel_ = collapseLabel;\n      }\n\n      var label = options.label !== undefined ? options.label : 'i';\n\n      if (typeof label === 'string') {\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        this.label_ = document.createElement('span');\n        this.label_.textContent = label;\n      } else {\n        this.label_ = label;\n      }\n\n\n      var activeLabel = (this.collapsible_ && !this.collapsed_) ?\n        this.collapseLabel_ : this.label_;\n      var button = document.createElement('button');\n      button.setAttribute('type', 'button');\n      button.title = tipLabel;\n      button.appendChild(activeLabel);\n\n      listen(button, EventType.CLICK, this.handleClick_, this);\n\n      var cssClasses = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL +\n          (this.collapsed_ && this.collapsible_ ? ' ' + CLASS_COLLAPSED : '') +\n          (this.collapsible_ ? '' : ' ol-uncollapsible');\n      var element = this.element;\n      element.className = cssClasses;\n      element.appendChild(this.ulElement_);\n      element.appendChild(button);\n\n      /**\n       * A list of currently rendered resolutions.\n       * @type {Array<string>}\n       * @private\n       */\n      this.renderedAttributions_ = [];\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.renderedVisible_ = true;\n\n    }\n\n    if ( Control$$1 ) Attribution.__proto__ = Control$$1;\n    Attribution.prototype = Object.create( Control$$1 && Control$$1.prototype );\n    Attribution.prototype.constructor = Attribution;\n\n    /**\n     * Collect a list of visible attributions and set the collapsible state.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {Array<string>} Attributions.\n     * @private\n     */\n    Attribution.prototype.collectSourceAttributions_ = function collectSourceAttributions_ (frameState) {\n      /**\n       * Used to determine if an attribution already exists.\n       * @type {!Object<string, boolean>}\n       */\n      var lookup = {};\n\n      /**\n       * A list of visible attributions.\n       * @type {Array<string>}\n       */\n      var visibleAttributions = [];\n\n      var layerStatesArray = frameState.layerStatesArray;\n      var resolution = frameState.viewState.resolution;\n      for (var i = 0, ii = layerStatesArray.length; i < ii; ++i) {\n        var layerState = layerStatesArray[i];\n        if (!visibleAtResolution(layerState, resolution)) {\n          continue;\n        }\n\n        var source = /** @type {import(\"../layer/Layer.js\").default} */ (layerState.layer).getSource();\n        if (!source) {\n          continue;\n        }\n\n        var attributionGetter = source.getAttributions();\n        if (!attributionGetter) {\n          continue;\n        }\n\n        var attributions = attributionGetter(frameState);\n        if (!attributions) {\n          continue;\n        }\n\n        if (!this.overrideCollapsible_ && source.getAttributionsCollapsible() === false) {\n          this.setCollapsible(false);\n        }\n\n        if (Array.isArray(attributions)) {\n          for (var j = 0, jj = attributions.length; j < jj; ++j) {\n            if (!(attributions[j] in lookup)) {\n              visibleAttributions.push(attributions[j]);\n              lookup[attributions[j]] = true;\n            }\n          }\n        } else {\n          if (!(attributions in lookup)) {\n            visibleAttributions.push(attributions);\n            lookup[attributions] = true;\n          }\n        }\n      }\n      return visibleAttributions;\n    };\n\n    /**\n     * @private\n     * @param {?import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    Attribution.prototype.updateElement_ = function updateElement_ (frameState) {\n      if (!frameState) {\n        if (this.renderedVisible_) {\n          this.element.style.display = 'none';\n          this.renderedVisible_ = false;\n        }\n        return;\n      }\n\n      var attributions = this.collectSourceAttributions_(frameState);\n\n      var visible = attributions.length > 0;\n      if (this.renderedVisible_ != visible) {\n        this.element.style.display = visible ? '' : 'none';\n        this.renderedVisible_ = visible;\n      }\n\n      if (equals(attributions, this.renderedAttributions_)) {\n        return;\n      }\n\n      removeChildren(this.ulElement_);\n\n      // append the attributions\n      for (var i = 0, ii = attributions.length; i < ii; ++i) {\n        var element = document.createElement('li');\n        element.innerHTML = attributions[i];\n        this.ulElement_.appendChild(element);\n      }\n\n      this.renderedAttributions_ = attributions;\n    };\n\n    /**\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    Attribution.prototype.handleClick_ = function handleClick_ (event) {\n      event.preventDefault();\n      this.handleToggle_();\n    };\n\n    /**\n     * @private\n     */\n    Attribution.prototype.handleToggle_ = function handleToggle_ () {\n      this.element.classList.toggle(CLASS_COLLAPSED);\n      if (this.collapsed_) {\n        replaceNode(this.collapseLabel_, this.label_);\n      } else {\n        replaceNode(this.label_, this.collapseLabel_);\n      }\n      this.collapsed_ = !this.collapsed_;\n    };\n\n    /**\n     * Return `true` if the attribution is collapsible, `false` otherwise.\n     * @return {boolean} True if the widget is collapsible.\n     * @api\n     */\n    Attribution.prototype.getCollapsible = function getCollapsible () {\n      return this.collapsible_;\n    };\n\n    /**\n     * Set whether the attribution should be collapsible.\n     * @param {boolean} collapsible True if the widget is collapsible.\n     * @api\n     */\n    Attribution.prototype.setCollapsible = function setCollapsible (collapsible) {\n      if (this.collapsible_ === collapsible) {\n        return;\n      }\n      this.collapsible_ = collapsible;\n      this.element.classList.toggle('ol-uncollapsible');\n      if (!collapsible && this.collapsed_) {\n        this.handleToggle_();\n      }\n    };\n\n    /**\n     * Collapse or expand the attribution according to the passed parameter. Will\n     * not do anything if the attribution isn't collapsible or if the current\n     * collapsed state is already the one requested.\n     * @param {boolean} collapsed True if the widget is collapsed.\n     * @api\n     */\n    Attribution.prototype.setCollapsed = function setCollapsed (collapsed) {\n      if (!this.collapsible_ || this.collapsed_ === collapsed) {\n        return;\n      }\n      this.handleToggle_();\n    };\n\n    /**\n     * Return `true` when the attribution is currently collapsed or `false`\n     * otherwise.\n     * @return {boolean} True if the widget is collapsed.\n     * @api\n     */\n    Attribution.prototype.getCollapsed = function getCollapsed () {\n      return this.collapsed_;\n    };\n\n    return Attribution;\n  }(Control));\n\n\n  /**\n   * Update the attribution element.\n   * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n   * @this {Attribution}\n   * @api\n   */\n  function render(mapEvent) {\n    this.updateElement_(mapEvent.frameState);\n  }\n\n  /**\n   * @module ol/control/FullScreen\n   */\n\n\n  /**\n   * @return {string} Change type.\n   */\n  var getChangeType = (function() {\n    var changeType;\n    return function() {\n      if (!changeType) {\n        var body = document.body;\n        if (body.webkitRequestFullscreen) {\n          changeType = 'webkitfullscreenchange';\n        } else if (body.mozRequestFullScreen) {\n          changeType = 'mozfullscreenchange';\n        } else if (body.msRequestFullscreen) {\n          changeType = 'MSFullscreenChange';\n        } else if (body.requestFullscreen) {\n          changeType = 'fullscreenchange';\n        }\n      }\n      return changeType;\n    };\n  })();\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} [className='ol-full-screen'] CSS class name.\n   * @property {string|Text} [label='\\u2922'] Text label to use for the button.\n   * Instead of text, also an element (e.g. a `span` element) can be used.\n   * @property {string|Text} [labelActive='\\u00d7'] Text label to use for the\n   * button when full-screen is active.\n   * Instead of text, also an element (e.g. a `span` element) can be used.\n   * @property {string} [tipLabel='Toggle full-screen'] Text label to use for the button tip.\n   * @property {boolean} [keys=false] Full keyboard access.\n   * @property {HTMLElement|string} [target] Specify a target if you want the\n   * control to be rendered outside of the map's viewport.\n   * @property {HTMLElement|string} [source] The element to be displayed\n   * fullscreen. When not provided, the element containing the map viewport will\n   * be displayed fullscreen.\n   */\n\n\n  /**\n   * @classdesc\n   * Provides a button that when clicked fills up the full screen with the map.\n   * The full screen source element is by default the element containing the map viewport unless\n   * overridden by providing the `source` option. In which case, the dom\n   * element introduced using this parameter will be displayed in full screen.\n   *\n   * When in full screen mode, a close button is shown to exit full screen mode.\n   * The [Fullscreen API](http://www.w3.org/TR/fullscreen/) is used to\n   * toggle the map in full screen mode.\n   *\n   * @api\n   */\n  var FullScreen = /*@__PURE__*/(function (Control$$1) {\n    function FullScreen(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      Control$$1.call(this, {\n        element: document.createElement('div'),\n        target: options.target\n      });\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.cssClassName_ = options.className !== undefined ? options.className :\n        'ol-full-screen';\n\n      var label = options.label !== undefined ? options.label : '\\u2922';\n\n      /**\n       * @private\n       * @type {Text}\n       */\n      this.labelNode_ = typeof label === 'string' ?\n        document.createTextNode(label) : label;\n\n      var labelActive = options.labelActive !== undefined ? options.labelActive : '\\u00d7';\n\n      /**\n       * @private\n       * @type {Text}\n       */\n      this.labelActiveNode_ = typeof labelActive === 'string' ?\n        document.createTextNode(labelActive) : labelActive;\n\n      /**\n       * @private\n       * @type {HTMLElement}\n       */\n      this.button_ = document.createElement('button');\n\n      var tipLabel = options.tipLabel ? options.tipLabel : 'Toggle full-screen';\n      this.setClassName_(this.button_, isFullScreen());\n      this.button_.setAttribute('type', 'button');\n      this.button_.title = tipLabel;\n      this.button_.appendChild(this.labelNode_);\n\n      listen(this.button_, EventType.CLICK,\n        this.handleClick_, this);\n\n      var cssClasses = this.cssClassName_ + ' ' + CLASS_UNSELECTABLE +\n          ' ' + CLASS_CONTROL + ' ' +\n          (!isFullScreenSupported() ? CLASS_UNSUPPORTED : '');\n      var element = this.element;\n      element.className = cssClasses;\n      element.appendChild(this.button_);\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.keys_ = options.keys !== undefined ? options.keys : false;\n\n      /**\n       * @private\n       * @type {HTMLElement|string|undefined}\n       */\n      this.source_ = options.source;\n\n    }\n\n    if ( Control$$1 ) FullScreen.__proto__ = Control$$1;\n    FullScreen.prototype = Object.create( Control$$1 && Control$$1.prototype );\n    FullScreen.prototype.constructor = FullScreen;\n\n    /**\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    FullScreen.prototype.handleClick_ = function handleClick_ (event) {\n      event.preventDefault();\n      this.handleFullScreen_();\n    };\n\n    /**\n     * @private\n     */\n    FullScreen.prototype.handleFullScreen_ = function handleFullScreen_ () {\n      if (!isFullScreenSupported()) {\n        return;\n      }\n      var map = this.getMap();\n      if (!map) {\n        return;\n      }\n      if (isFullScreen()) {\n        exitFullScreen();\n      } else {\n        var element;\n        if (this.source_) {\n          element = typeof this.source_ === 'string' ?\n            document.getElementById(this.source_) :\n            this.source_;\n        } else {\n          element = map.getTargetElement();\n        }\n        if (this.keys_) {\n          requestFullScreenWithKeys(element);\n\n        } else {\n          requestFullScreen(element);\n        }\n      }\n    };\n\n    /**\n     * @private\n     */\n    FullScreen.prototype.handleFullScreenChange_ = function handleFullScreenChange_ () {\n      var map = this.getMap();\n      if (isFullScreen()) {\n        this.setClassName_(this.button_, true);\n        replaceNode(this.labelActiveNode_, this.labelNode_);\n      } else {\n        this.setClassName_(this.button_, false);\n        replaceNode(this.labelNode_, this.labelActiveNode_);\n      }\n      if (map) {\n        map.updateSize();\n      }\n    };\n\n    /**\n     * @param {HTMLElement} element Target element\n     * @param {boolean} fullscreen True if fullscreen class name should be active\n     * @private\n     */\n    FullScreen.prototype.setClassName_ = function setClassName_ (element, fullscreen) {\n      var activeClassName = this.cssClassName_ + '-true';\n      var inactiveClassName = this.cssClassName_ + '-false';\n      var nextClassName = fullscreen ? activeClassName : inactiveClassName;\n      element.classList.remove(activeClassName);\n      element.classList.remove(inactiveClassName);\n      element.classList.add(nextClassName);\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    FullScreen.prototype.setMap = function setMap (map) {\n      Control$$1.prototype.setMap.call(this, map);\n      if (map) {\n        this.listenerKeys.push(listen(document,\n          getChangeType(),\n          this.handleFullScreenChange_, this)\n        );\n      }\n    };\n\n    return FullScreen;\n  }(Control));\n\n\n  /**\n   * @return {boolean} Fullscreen is supported by the current platform.\n   */\n  function isFullScreenSupported() {\n    var body = document.body;\n    return !!(\n      body.webkitRequestFullscreen ||\n      (body.mozRequestFullScreen && document.mozFullScreenEnabled) ||\n      (body.msRequestFullscreen && document.msFullscreenEnabled) ||\n      (body.requestFullscreen && document.fullscreenEnabled)\n    );\n  }\n\n  /**\n   * @return {boolean} Element is currently in fullscreen.\n   */\n  function isFullScreen() {\n    return !!(\n      document.webkitIsFullScreen || document.mozFullScreen ||\n      document.msFullscreenElement || document.fullscreenElement\n    );\n  }\n\n  /**\n   * Request to fullscreen an element.\n   * @param {HTMLElement} element Element to request fullscreen\n   */\n  function requestFullScreen(element) {\n    if (element.requestFullscreen) {\n      element.requestFullscreen();\n    } else if (element.msRequestFullscreen) {\n      element.msRequestFullscreen();\n    } else if (element.mozRequestFullScreen) {\n      element.mozRequestFullScreen();\n    } else if (element.webkitRequestFullscreen) {\n      element.webkitRequestFullscreen();\n    }\n  }\n\n  /**\n   * Request to fullscreen an element with keyboard input.\n   * @param {HTMLElement} element Element to request fullscreen\n   */\n  function requestFullScreenWithKeys(element) {\n    if (element.mozRequestFullScreenWithKeys) {\n      element.mozRequestFullScreenWithKeys();\n    } else if (element.webkitRequestFullscreen) {\n      element.webkitRequestFullscreen();\n    } else {\n      requestFullScreen(element);\n    }\n  }\n\n  /**\n   * Exit fullscreen.\n   */\n  function exitFullScreen() {\n    if (document.exitFullscreen) {\n      document.exitFullscreen();\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen();\n    } else if (document.mozCancelFullScreen) {\n      document.mozCancelFullScreen();\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen();\n    }\n  }\n\n  /**\n   * @module ol/control/MousePosition\n   */\n\n\n  /**\n   * @type {string}\n   */\n  var PROJECTION = 'projection';\n\n  /**\n   * @type {string}\n   */\n  var COORDINATE_FORMAT = 'coordinateFormat';\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} [className='ol-mouse-position'] CSS class name.\n   * @property {import(\"../coordinate.js\").CoordinateFormat} [coordinateFormat] Coordinate format.\n   * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\n   * @property {function(import(\"../MapEvent.js\").default)} [render] Function called when the\n   * control should be re-rendered. This is called in a `requestAnimationFrame`\n   * callback.\n   * @property {HTMLElement|string} [target] Specify a target if you want the\n   * control to be rendered outside of the map's viewport.\n   * @property {string} [undefinedHTML='&#160;'] Markup to show when coordinates are not\n   * available (e.g. when the pointer leaves the map viewport).  By default, the last position\n   * will be replaced with `'&#160;'` (`&nbsp;`) when the pointer leaves the viewport.  To\n   * retain the last rendered position, set this option to something falsey (like an empty\n   * string `''`).\n   */\n\n\n  /**\n   * @classdesc\n   * A control to show the 2D coordinates of the mouse cursor. By default, these\n   * are in the view projection, but can be in any supported projection.\n   * By default the control is shown in the top right corner of the map, but this\n   * can be changed by using the css selector `.ol-mouse-position`.\n   *\n   * On touch devices, which usually do not have a mouse cursor, the coordinates\n   * of the currently touched position are shown.\n   *\n   * @api\n   */\n  var MousePosition = /*@__PURE__*/(function (Control$$1) {\n    function MousePosition(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      var element = document.createElement('div');\n      element.className = options.className !== undefined ? options.className : 'ol-mouse-position';\n\n      Control$$1.call(this, {\n        element: element,\n        render: options.render || render$1,\n        target: options.target\n      });\n\n      listen(this,\n        getChangeEventType(PROJECTION),\n        this.handleProjectionChanged_, this);\n\n      if (options.coordinateFormat) {\n        this.setCoordinateFormat(options.coordinateFormat);\n      }\n      if (options.projection) {\n        this.setProjection(options.projection);\n      }\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.undefinedHTML_ = options.undefinedHTML !== undefined ? options.undefinedHTML : '&#160;';\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.renderOnMouseOut_ = !!this.undefinedHTML_;\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.renderedHTML_ = element.innerHTML;\n\n      /**\n       * @private\n       * @type {import(\"../proj/Projection.js\").default}\n       */\n      this.mapProjection_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"../proj.js\").TransformFunction}\n       */\n      this.transform_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../pixel.js\").Pixel}\n       */\n      this.lastMouseMovePixel_ = null;\n\n    }\n\n    if ( Control$$1 ) MousePosition.__proto__ = Control$$1;\n    MousePosition.prototype = Object.create( Control$$1 && Control$$1.prototype );\n    MousePosition.prototype.constructor = MousePosition;\n\n    /**\n     * @private\n     */\n    MousePosition.prototype.handleProjectionChanged_ = function handleProjectionChanged_ () {\n      this.transform_ = null;\n    };\n\n    /**\n     * Return the coordinate format type used to render the current position or\n     * undefined.\n     * @return {import(\"../coordinate.js\").CoordinateFormat|undefined} The format to render the current\n     *     position in.\n     * @observable\n     * @api\n     */\n    MousePosition.prototype.getCoordinateFormat = function getCoordinateFormat () {\n      return (\n        /** @type {import(\"../coordinate.js\").CoordinateFormat|undefined} */ (this.get(COORDINATE_FORMAT))\n      );\n    };\n\n    /**\n     * Return the projection that is used to report the mouse position.\n     * @return {import(\"../proj/Projection.js\").default|undefined} The projection to report mouse\n     *     position in.\n     * @observable\n     * @api\n     */\n    MousePosition.prototype.getProjection = function getProjection () {\n      return (\n        /** @type {import(\"../proj/Projection.js\").default|undefined} */ (this.get(PROJECTION))\n      );\n    };\n\n    /**\n     * @param {Event} event Browser event.\n     * @protected\n     */\n    MousePosition.prototype.handleMouseMove = function handleMouseMove (event) {\n      var map = this.getMap();\n      this.lastMouseMovePixel_ = map.getEventPixel(event);\n      this.updateHTML_(this.lastMouseMovePixel_);\n    };\n\n    /**\n     * @param {Event} event Browser event.\n     * @protected\n     */\n    MousePosition.prototype.handleMouseOut = function handleMouseOut (event) {\n      this.updateHTML_(null);\n      this.lastMouseMovePixel_ = null;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    MousePosition.prototype.setMap = function setMap (map) {\n      Control$$1.prototype.setMap.call(this, map);\n      if (map) {\n        var viewport = map.getViewport();\n        this.listenerKeys.push(\n          listen(viewport, EventType.MOUSEMOVE, this.handleMouseMove, this),\n          listen(viewport, EventType.TOUCHSTART, this.handleMouseMove, this)\n        );\n        if (this.renderOnMouseOut_) {\n          this.listenerKeys.push(\n            listen(viewport, EventType.MOUSEOUT, this.handleMouseOut, this),\n            listen(viewport, EventType.TOUCHEND, this.handleMouseOut, this)\n          );\n        }\n      }\n    };\n\n    /**\n     * Set the coordinate format type used to render the current position.\n     * @param {import(\"../coordinate.js\").CoordinateFormat} format The format to render the current\n     *     position in.\n     * @observable\n     * @api\n     */\n    MousePosition.prototype.setCoordinateFormat = function setCoordinateFormat (format) {\n      this.set(COORDINATE_FORMAT, format);\n    };\n\n    /**\n     * Set the projection that is used to report the mouse position.\n     * @param {import(\"../proj.js\").ProjectionLike} projection The projection to report mouse\n     *     position in.\n     * @observable\n     * @api\n     */\n    MousePosition.prototype.setProjection = function setProjection (projection) {\n      this.set(PROJECTION, get$2(projection));\n    };\n\n    /**\n     * @param {?import(\"../pixel.js\").Pixel} pixel Pixel.\n     * @private\n     */\n    MousePosition.prototype.updateHTML_ = function updateHTML_ (pixel) {\n      var html = this.undefinedHTML_;\n      if (pixel && this.mapProjection_) {\n        if (!this.transform_) {\n          var projection = this.getProjection();\n          if (projection) {\n            this.transform_ = getTransformFromProjections(\n              this.mapProjection_, projection);\n          } else {\n            this.transform_ = identityTransform;\n          }\n        }\n        var map = this.getMap();\n        var coordinate = map.getCoordinateFromPixel(pixel);\n        if (coordinate) {\n          this.transform_(coordinate, coordinate);\n          var coordinateFormat = this.getCoordinateFormat();\n          if (coordinateFormat) {\n            html = coordinateFormat(coordinate);\n          } else {\n            html = coordinate.toString();\n          }\n        }\n      }\n      if (!this.renderedHTML_ || html !== this.renderedHTML_) {\n        this.element.innerHTML = html;\n        this.renderedHTML_ = html;\n      }\n    };\n\n    return MousePosition;\n  }(Control));\n\n\n  /**\n   * Update the projection. Rendering of the coordinates is done in\n   * `handleMouseMove` and `handleMouseUp`.\n   * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n   * @this {MousePosition}\n   * @api\n   */\n  function render$1(mapEvent) {\n    var frameState = mapEvent.frameState;\n    if (!frameState) {\n      this.mapProjection_ = null;\n    } else {\n      if (this.mapProjection_ != frameState.viewState.projection) {\n        this.mapProjection_ = frameState.viewState.projection;\n        this.transform_ = null;\n      }\n    }\n  }\n\n  /**\n   * @module ol/control/Rotate\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} [className='ol-rotate'] CSS class name.\n   * @property {string|HTMLElement} [label='⇧'] Text label to use for the rotate button.\n   * Instead of text, also an element (e.g. a `span` element) can be used.\n   * @property {string} [tipLabel='Reset rotation'] Text label to use for the rotate tip.\n   * @property {number} [duration=250] Animation duration in milliseconds.\n   * @property {boolean} [autoHide=true] Hide the control when rotation is 0.\n   * @property {function(import(\"../MapEvent.js\").default)} [render] Function called when the control should\n   * be re-rendered. This is called in a `requestAnimationFrame` callback.\n   * @property {function()} [resetNorth] Function called when the control is clicked.\n   * This will override the default `resetNorth`.\n   * @property {HTMLElement|string} [target] Specify a target if you want the control to be\n   * rendered outside of the map's viewport.\n   */\n\n\n  /**\n   * @classdesc\n   * A button control to reset rotation to 0.\n   * To style this control use css selector `.ol-rotate`. A `.ol-hidden` css\n   * selector is added to the button when the rotation is 0.\n   *\n   * @api\n   */\n  var Rotate = /*@__PURE__*/(function (Control$$1) {\n    function Rotate(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      Control$$1.call(this, {\n        element: document.createElement('div'),\n        render: options.render || render$2,\n        target: options.target\n      });\n\n      var className = options.className !== undefined ? options.className : 'ol-rotate';\n\n      var label = options.label !== undefined ? options.label : '\\u21E7';\n\n      /**\n       * @type {HTMLElement}\n       * @private\n       */\n      this.label_ = null;\n\n      if (typeof label === 'string') {\n        this.label_ = document.createElement('span');\n        this.label_.className = 'ol-compass';\n        this.label_.textContent = label;\n      } else {\n        this.label_ = label;\n        this.label_.classList.add('ol-compass');\n      }\n\n      var tipLabel = options.tipLabel ? options.tipLabel : 'Reset rotation';\n\n      var button = document.createElement('button');\n      button.className = className + '-reset';\n      button.setAttribute('type', 'button');\n      button.title = tipLabel;\n      button.appendChild(this.label_);\n\n      listen(button, EventType.CLICK, this.handleClick_, this);\n\n      var cssClasses = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL;\n      var element = this.element;\n      element.className = cssClasses;\n      element.appendChild(button);\n\n      this.callResetNorth_ = options.resetNorth ? options.resetNorth : undefined;\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this.autoHide_ = options.autoHide !== undefined ? options.autoHide : true;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.rotation_ = undefined;\n\n      if (this.autoHide_) {\n        this.element.classList.add(CLASS_HIDDEN);\n      }\n\n    }\n\n    if ( Control$$1 ) Rotate.__proto__ = Control$$1;\n    Rotate.prototype = Object.create( Control$$1 && Control$$1.prototype );\n    Rotate.prototype.constructor = Rotate;\n\n    /**\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    Rotate.prototype.handleClick_ = function handleClick_ (event) {\n      event.preventDefault();\n      if (this.callResetNorth_ !== undefined) {\n        this.callResetNorth_();\n      } else {\n        this.resetNorth_();\n      }\n    };\n\n    /**\n     * @private\n     */\n    Rotate.prototype.resetNorth_ = function resetNorth_ () {\n      var map = this.getMap();\n      var view = map.getView();\n      if (!view) {\n        // the map does not have a view, so we can't act\n        // upon it\n        return;\n      }\n      if (view.getRotation() !== undefined) {\n        if (this.duration_ > 0) {\n          view.animate({\n            rotation: 0,\n            duration: this.duration_,\n            easing: easeOut\n          });\n        } else {\n          view.setRotation(0);\n        }\n      }\n    };\n\n    return Rotate;\n  }(Control));\n\n\n  /**\n   * Update the rotate control element.\n   * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n   * @this {Rotate}\n   * @api\n   */\n  function render$2(mapEvent) {\n    var frameState = mapEvent.frameState;\n    if (!frameState) {\n      return;\n    }\n    var rotation = frameState.viewState.rotation;\n    if (rotation != this.rotation_) {\n      var transform = 'rotate(' + rotation + 'rad)';\n      if (this.autoHide_) {\n        var contains = this.element.classList.contains(CLASS_HIDDEN);\n        if (!contains && rotation === 0) {\n          this.element.classList.add(CLASS_HIDDEN);\n        } else if (contains && rotation !== 0) {\n          this.element.classList.remove(CLASS_HIDDEN);\n        }\n      }\n      this.label_.style.msTransform = transform;\n      this.label_.style.webkitTransform = transform;\n      this.label_.style.transform = transform;\n    }\n    this.rotation_ = rotation;\n  }\n\n  /**\n   * @module ol/control/Zoom\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [duration=250] Animation duration in milliseconds.\n   * @property {string} [className='ol-zoom'] CSS class name.\n   * @property {string|HTMLElement} [zoomInLabel='+'] Text label to use for the zoom-in\n   * button. Instead of text, also an element (e.g. a `span` element) can be used.\n   * @property {string|HTMLElement} [zoomOutLabel='-'] Text label to use for the zoom-out button.\n   * Instead of text, also an element (e.g. a `span` element) can be used.\n   * @property {string} [zoomInTipLabel='Zoom in'] Text label to use for the button tip.\n   * @property {string} [zoomOutTipLabel='Zoom out'] Text label to use for the button tip.\n   * @property {number} [delta=1] The zoom delta applied on each click.\n   * @property {HTMLElement|string} [target] Specify a target if you want the control to be\n   * rendered outside of the map's viewport.\n   */\n\n\n  /**\n   * @classdesc\n   * A control with 2 buttons, one for zoom in and one for zoom out.\n   * This control is one of the default controls of a map. To style this control\n   * use css selectors `.ol-zoom-in` and `.ol-zoom-out`.\n   *\n   * @api\n   */\n  var Zoom = /*@__PURE__*/(function (Control$$1) {\n    function Zoom(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      Control$$1.call(this, {\n        element: document.createElement('div'),\n        target: options.target\n      });\n\n      var className = options.className !== undefined ? options.className : 'ol-zoom';\n\n      var delta = options.delta !== undefined ? options.delta : 1;\n\n      var zoomInLabel = options.zoomInLabel !== undefined ? options.zoomInLabel : '+';\n      var zoomOutLabel = options.zoomOutLabel !== undefined ? options.zoomOutLabel : '\\u2212';\n\n      var zoomInTipLabel = options.zoomInTipLabel !== undefined ?\n        options.zoomInTipLabel : 'Zoom in';\n      var zoomOutTipLabel = options.zoomOutTipLabel !== undefined ?\n        options.zoomOutTipLabel : 'Zoom out';\n\n      var inElement = document.createElement('button');\n      inElement.className = className + '-in';\n      inElement.setAttribute('type', 'button');\n      inElement.title = zoomInTipLabel;\n      inElement.appendChild(\n        typeof zoomInLabel === 'string' ? document.createTextNode(zoomInLabel) : zoomInLabel\n      );\n\n      listen(inElement, EventType.CLICK, this.handleClick_.bind(this, delta));\n\n      var outElement = document.createElement('button');\n      outElement.className = className + '-out';\n      outElement.setAttribute('type', 'button');\n      outElement.title = zoomOutTipLabel;\n      outElement.appendChild(\n        typeof zoomOutLabel === 'string' ? document.createTextNode(zoomOutLabel) : zoomOutLabel\n      );\n\n      listen(outElement, EventType.CLICK, this.handleClick_.bind(this, -delta));\n\n      var cssClasses = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL;\n      var element = this.element;\n      element.className = cssClasses;\n      element.appendChild(inElement);\n      element.appendChild(outElement);\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n    }\n\n    if ( Control$$1 ) Zoom.__proto__ = Control$$1;\n    Zoom.prototype = Object.create( Control$$1 && Control$$1.prototype );\n    Zoom.prototype.constructor = Zoom;\n\n    /**\n     * @param {number} delta Zoom delta.\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    Zoom.prototype.handleClick_ = function handleClick_ (delta, event) {\n      event.preventDefault();\n      this.zoomByDelta_(delta);\n    };\n\n    /**\n     * @param {number} delta Zoom delta.\n     * @private\n     */\n    Zoom.prototype.zoomByDelta_ = function zoomByDelta_ (delta) {\n      var map = this.getMap();\n      var view = map.getView();\n      if (!view) {\n        // the map does not have a view, so we can't act\n        // upon it\n        return;\n      }\n      var currentResolution = view.getResolution();\n      if (currentResolution) {\n        var newResolution = view.constrainResolution(currentResolution, delta);\n        if (this.duration_ > 0) {\n          if (view.getAnimating()) {\n            view.cancelAnimations();\n          }\n          view.animate({\n            resolution: newResolution,\n            duration: this.duration_,\n            easing: easeOut\n          });\n        } else {\n          view.setResolution(newResolution);\n        }\n      }\n    };\n\n    return Zoom;\n  }(Control));\n\n  /**\n   * @module ol/control/util\n   */\n\n\n  /**\n   * @typedef {Object} DefaultsOptions\n   * @property {boolean} [attribution=true] Include\n   * {@link module:ol/control/Attribution~Attribution}.\n   * @property {import(\"./Attribution.js\").Options} [attributionOptions]\n   * Options for {@link module:ol/control/Attribution~Attribution}.\n   * @property {boolean} [rotate=true] Include\n   * {@link module:ol/control/Rotate~Rotate}.\n   * @property {import(\"./Rotate.js\").Options} [rotateOptions] Options\n   * for {@link module:ol/control/Rotate~Rotate}.\n   * @property {boolean} [zoom] Include {@link module:ol/control/Zoom~Zoom}.\n   * @property {import(\"./Zoom.js\").Options} [zoomOptions] Options for\n   * {@link module:ol/control/Zoom~Zoom}.\n   * @api\n   */\n\n\n  /**\n   * Set of controls included in maps by default. Unless configured otherwise,\n   * this returns a collection containing an instance of each of the following\n   * controls:\n   * * {@link module:ol/control/Zoom~Zoom}\n   * * {@link module:ol/control/Rotate~Rotate}\n   * * {@link module:ol/control/Attribution~Attribution}\n   *\n   * @param {DefaultsOptions=} opt_options\n   * Defaults options.\n   * @return {Collection<import(\"./Control.js\").default>}\n   * Controls.\n   * @function module:ol/control.defaults\n   * @api\n   */\n  function defaults(opt_options) {\n\n    var options = opt_options ? opt_options : {};\n\n    var controls = new Collection();\n\n    var zoomControl = options.zoom !== undefined ? options.zoom : true;\n    if (zoomControl) {\n      controls.push(new Zoom(options.zoomOptions));\n    }\n\n    var rotateControl = options.rotate !== undefined ? options.rotate : true;\n    if (rotateControl) {\n      controls.push(new Rotate(options.rotateOptions));\n    }\n\n    var attributionControl = options.attribution !== undefined ?\n      options.attribution : true;\n    if (attributionControl) {\n      controls.push(new Attribution(options.attributionOptions));\n    }\n\n    return controls;\n  }\n\n  /**\n   * @module ol/Kinetic\n   */\n\n  /**\n   * @classdesc\n   * Implementation of inertial deceleration for map movement.\n   *\n   * @api\n   */\n  var Kinetic = function Kinetic(decay, minVelocity, delay) {\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.decay_ = decay;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.minVelocity_ = minVelocity;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.delay_ = delay;\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    this.points_ = [];\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.angle_ = 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.initialVelocity_ = 0;\n  };\n\n  /**\n   * FIXME empty description for jsdoc\n   */\n  Kinetic.prototype.begin = function begin () {\n    this.points_.length = 0;\n    this.angle_ = 0;\n    this.initialVelocity_ = 0;\n  };\n\n  /**\n   * @param {number} x X.\n   * @param {number} y Y.\n   */\n  Kinetic.prototype.update = function update (x, y) {\n    this.points_.push(x, y, Date.now());\n  };\n\n  /**\n   * @return {boolean} Whether we should do kinetic animation.\n   */\n  Kinetic.prototype.end = function end () {\n    if (this.points_.length < 6) {\n      // at least 2 points are required (i.e. there must be at least 6 elements\n      // in the array)\n      return false;\n    }\n    var delay = Date.now() - this.delay_;\n    var lastIndex = this.points_.length - 3;\n    if (this.points_[lastIndex + 2] < delay) {\n      // the last tracked point is too old, which means that the user stopped\n      // panning before releasing the map\n      return false;\n    }\n\n    // get the first point which still falls into the delay time\n    var firstIndex = lastIndex - 3;\n    while (firstIndex > 0 && this.points_[firstIndex + 2] > delay) {\n      firstIndex -= 3;\n    }\n\n    var duration = this.points_[lastIndex + 2] - this.points_[firstIndex + 2];\n    // we don't want a duration of 0 (divide by zero)\n    // we also make sure the user panned for a duration of at least one frame\n    // (1/60s) to compute sane displacement values\n    if (duration < 1000 / 60) {\n      return false;\n    }\n\n    var dx = this.points_[lastIndex] - this.points_[firstIndex];\n    var dy = this.points_[lastIndex + 1] - this.points_[firstIndex + 1];\n    this.angle_ = Math.atan2(dy, dx);\n    this.initialVelocity_ = Math.sqrt(dx * dx + dy * dy) / duration;\n    return this.initialVelocity_ > this.minVelocity_;\n  };\n\n  /**\n   * @return {number} Total distance travelled (pixels).\n   */\n  Kinetic.prototype.getDistance = function getDistance () {\n    return (this.minVelocity_ - this.initialVelocity_) / this.decay_;\n  };\n\n  /**\n   * @return {number} Angle of the kinetic panning animation (radians).\n   */\n  Kinetic.prototype.getAngle = function getAngle () {\n    return this.angle_;\n  };\n\n  /**\n   * @module ol/interaction/Property\n   */\n\n  /**\n   * @enum {string}\n   */\n  var InteractionProperty = {\n    ACTIVE: 'active'\n  };\n\n  /**\n   * @module ol/interaction/Interaction\n   */\n\n\n  /**\n   * Object literal with config options for interactions.\n   * @typedef {Object} InteractionOptions\n   * @property {function(import(\"../MapBrowserEvent.js\").default):boolean} handleEvent\n   * Method called by the map to notify the interaction that a browser event was\n   * dispatched to the map. If the function returns a falsy value, propagation of\n   * the event to other interactions in the map's interactions chain will be\n   * prevented (this includes functions with no explicit return).\n   */\n\n\n  /**\n   * @classdesc\n   * Abstract base class; normally only used for creating subclasses and not\n   * instantiated in apps.\n   * User actions that change the state of the map. Some are similar to controls,\n   * but are not associated with a DOM element.\n   * For example, {@link module:ol/interaction/KeyboardZoom~KeyboardZoom} is\n   * functionally the same as {@link module:ol/control/Zoom~Zoom}, but triggered\n   * by a keyboard event not a button element event.\n   * Although interactions do not have a DOM element, some of them do render\n   * vectors and so are visible on the screen.\n   * @api\n   */\n  var Interaction = /*@__PURE__*/(function (BaseObject$$1) {\n    function Interaction(options) {\n      BaseObject$$1.call(this);\n\n      if (options.handleEvent) {\n        this.handleEvent = options.handleEvent;\n      }\n\n      /**\n       * @private\n       * @type {import(\"../PluggableMap.js\").default}\n       */\n      this.map_ = null;\n\n      this.setActive(true);\n    }\n\n    if ( BaseObject$$1 ) Interaction.__proto__ = BaseObject$$1;\n    Interaction.prototype = Object.create( BaseObject$$1 && BaseObject$$1.prototype );\n    Interaction.prototype.constructor = Interaction;\n\n    /**\n     * Return whether the interaction is currently active.\n     * @return {boolean} `true` if the interaction is active, `false` otherwise.\n     * @observable\n     * @api\n     */\n    Interaction.prototype.getActive = function getActive () {\n      return /** @type {boolean} */ (this.get(InteractionProperty.ACTIVE));\n    };\n\n    /**\n     * Get the map associated with this interaction.\n     * @return {import(\"../PluggableMap.js\").default} Map.\n     * @api\n     */\n    Interaction.prototype.getMap = function getMap () {\n      return this.map_;\n    };\n\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent map browser event}.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n     * @return {boolean} `false` to stop event propagation.\n     * @api\n     */\n    Interaction.prototype.handleEvent = function handleEvent (mapBrowserEvent) {\n      return true;\n    };\n\n    /**\n     * Activate or deactivate the interaction.\n     * @param {boolean} active Active.\n     * @observable\n     * @api\n     */\n    Interaction.prototype.setActive = function setActive (active) {\n      this.set(InteractionProperty.ACTIVE, active);\n    };\n\n    /**\n     * Remove the interaction from its current map and attach it to the new map.\n     * Subclasses may set up event handlers to get notified about changes to\n     * the map here.\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     */\n    Interaction.prototype.setMap = function setMap (map) {\n      this.map_ = map;\n    };\n\n    return Interaction;\n  }(BaseObject));\n\n\n  /**\n   * @param {import(\"../View.js\").default} view View.\n   * @param {import(\"../coordinate.js\").Coordinate} delta Delta.\n   * @param {number=} opt_duration Duration.\n   */\n  function pan(view, delta, opt_duration) {\n    var currentCenter = view.getCenter();\n    if (currentCenter) {\n      var center = view.constrainCenter(\n        [currentCenter[0] + delta[0], currentCenter[1] + delta[1]]);\n      if (opt_duration) {\n        view.animate({\n          duration: opt_duration,\n          easing: linear,\n          center: center\n        });\n      } else {\n        view.setCenter(center);\n      }\n    }\n  }\n\n\n  /**\n   * @param {import(\"../View.js\").default} view View.\n   * @param {number|undefined} rotation Rotation.\n   * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor Anchor coordinate.\n   * @param {number=} opt_duration Duration.\n   */\n  function rotate$3(view, rotation, opt_anchor, opt_duration) {\n    rotation = view.constrainRotation(rotation, 0);\n    rotateWithoutConstraints(view, rotation, opt_anchor, opt_duration);\n  }\n\n\n  /**\n   * @param {import(\"../View.js\").default} view View.\n   * @param {number|undefined} rotation Rotation.\n   * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor Anchor coordinate.\n   * @param {number=} opt_duration Duration.\n   */\n  function rotateWithoutConstraints(view, rotation, opt_anchor, opt_duration) {\n    if (rotation !== undefined) {\n      var currentRotation = view.getRotation();\n      var currentCenter = view.getCenter();\n      if (currentRotation !== undefined && currentCenter && opt_duration > 0) {\n        view.animate({\n          rotation: rotation,\n          anchor: opt_anchor,\n          duration: opt_duration,\n          easing: easeOut\n        });\n      } else {\n        view.rotate(rotation, opt_anchor);\n      }\n    }\n  }\n\n\n  /**\n   * @param {import(\"../View.js\").default} view View.\n   * @param {number|undefined} resolution Resolution to go to.\n   * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor Anchor coordinate.\n   * @param {number=} opt_duration Duration.\n   * @param {number=} opt_direction Zooming direction; > 0 indicates\n   *     zooming out, in which case the constraints system will select\n   *     the largest nearest resolution; < 0 indicates zooming in, in\n   *     which case the constraints system will select the smallest\n   *     nearest resolution; == 0 indicates that the zooming direction\n   *     is unknown/not relevant, in which case the constraints system\n   *     will select the nearest resolution. If not defined 0 is\n   *     assumed.\n   */\n  function zoom(view, resolution, opt_anchor, opt_duration, opt_direction) {\n    resolution = view.constrainResolution(resolution, 0, opt_direction);\n    zoomWithoutConstraints(view, resolution, opt_anchor, opt_duration);\n  }\n\n\n  /**\n   * @param {import(\"../View.js\").default} view View.\n   * @param {number} delta Delta from previous zoom level.\n   * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor Anchor coordinate.\n   * @param {number=} opt_duration Duration.\n   */\n  function zoomByDelta(view, delta, opt_anchor, opt_duration) {\n    var currentResolution = view.getResolution();\n    var resolution = view.constrainResolution(currentResolution, delta, 0);\n\n    if (resolution !== undefined) {\n      var resolutions = view.getResolutions();\n      resolution = clamp(\n        resolution,\n        view.getMinResolution() || resolutions[resolutions.length - 1],\n        view.getMaxResolution() || resolutions[0]);\n    }\n\n    // If we have a constraint on center, we need to change the anchor so that the\n    // new center is within the extent. We first calculate the new center, apply\n    // the constraint to it, and then calculate back the anchor\n    if (opt_anchor && resolution !== undefined && resolution !== currentResolution) {\n      var currentCenter = view.getCenter();\n      var center = view.calculateCenterZoom(resolution, opt_anchor);\n      center = view.constrainCenter(center);\n\n      opt_anchor = [\n        (resolution * currentCenter[0] - currentResolution * center[0]) /\n            (resolution - currentResolution),\n        (resolution * currentCenter[1] - currentResolution * center[1]) /\n            (resolution - currentResolution)\n      ];\n    }\n\n    zoomWithoutConstraints(view, resolution, opt_anchor, opt_duration);\n  }\n\n\n  /**\n   * @param {import(\"../View.js\").default} view View.\n   * @param {number|undefined} resolution Resolution to go to.\n   * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor Anchor coordinate.\n   * @param {number=} opt_duration Duration.\n   */\n  function zoomWithoutConstraints(view, resolution, opt_anchor, opt_duration) {\n    if (resolution) {\n      var currentResolution = view.getResolution();\n      var currentCenter = view.getCenter();\n      if (currentResolution !== undefined && currentCenter &&\n          resolution !== currentResolution && opt_duration) {\n        view.animate({\n          resolution: resolution,\n          anchor: opt_anchor,\n          duration: opt_duration,\n          easing: easeOut\n        });\n      } else {\n        if (opt_anchor) {\n          var center = view.calculateCenterZoom(resolution, opt_anchor);\n          view.setCenter(center);\n        }\n        view.setResolution(resolution);\n      }\n    }\n  }\n\n  /**\n   * @module ol/interaction/DoubleClickZoom\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [duration=250] Animation duration in milliseconds.\n   * @property {number} [delta=1] The zoom delta applied on each double click.\n   */\n\n\n  /**\n   * @classdesc\n   * Allows the user to zoom by double-clicking on the map.\n   * @api\n   */\n  var DoubleClickZoom = /*@__PURE__*/(function (Interaction$$1) {\n    function DoubleClickZoom(opt_options) {\n      Interaction$$1.call(this, {\n        handleEvent: handleEvent\n      });\n\n      var options = opt_options ? opt_options : {};\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.delta_ = options.delta ? options.delta : 1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n    }\n\n    if ( Interaction$$1 ) DoubleClickZoom.__proto__ = Interaction$$1;\n    DoubleClickZoom.prototype = Object.create( Interaction$$1 && Interaction$$1.prototype );\n    DoubleClickZoom.prototype.constructor = DoubleClickZoom;\n\n    return DoubleClickZoom;\n  }(Interaction));\n\n\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent map browser event} (if it was a\n   * doubleclick) and eventually zooms the map.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   * @this {DoubleClickZoom}\n   */\n  function handleEvent(mapBrowserEvent) {\n    var stopEvent = false;\n    if (mapBrowserEvent.type == MapBrowserEventType.DBLCLICK) {\n      var browserEvent = /** @type {MouseEvent} */ (mapBrowserEvent.originalEvent);\n      var map = mapBrowserEvent.map;\n      var anchor = mapBrowserEvent.coordinate;\n      var delta = browserEvent.shiftKey ? -this.delta_ : this.delta_;\n      var view = map.getView();\n      zoomByDelta(view, delta, anchor, this.duration_);\n      mapBrowserEvent.preventDefault();\n      stopEvent = true;\n    }\n    return !stopEvent;\n  }\n\n  /**\n   * @module ol/events/condition\n   */\n\n\n  /**\n   * A function that takes an {@link module:ol/MapBrowserEvent} and returns a\n   * `{boolean}`. If the condition is met, true should be returned.\n   *\n   * @typedef {function(this: ?, import(\"../MapBrowserEvent.js\").default): boolean} Condition\n   */\n\n\n  /**\n   * Return `true` if only the alt-key is pressed, `false` otherwise (e.g. when\n   * additionally the shift-key is pressed).\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} True if only the alt key is pressed.\n   * @api\n   */\n  var altKeyOnly = function(mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (\n      originalEvent.altKey &&\n        !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n        !originalEvent.shiftKey);\n  };\n\n\n  /**\n   * Return `true` if only the alt-key and shift-key is pressed, `false` otherwise\n   * (e.g. when additionally the platform-modifier-key is pressed).\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} True if only the alt and shift keys are pressed.\n   * @api\n   */\n  var altShiftKeysOnly = function(mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (\n      originalEvent.altKey &&\n        !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n        originalEvent.shiftKey);\n  };\n\n\n  /**\n   * Return `true` if the map has the focus. This condition requires a map target\n   * element with a `tabindex` attribute, e.g. `<div id=\"map\" tabindex=\"1\">`.\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} event Map browser event.\n   * @return {boolean} The map has the focus.\n   * @api\n   */\n  var focus = function(event) {\n    return event.target.getTargetElement() === document.activeElement;\n  };\n\n\n  /**\n   * Return always true.\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} True.\n   * @api\n   */\n  var always = TRUE;\n\n\n  /**\n   * Return `true` if the event has an \"action\"-producing mouse button.\n   *\n   * By definition, this includes left-click on windows/linux, and left-click\n   * without the ctrl key on Macs.\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} The result.\n   */\n  var mouseActionButton = function(mapBrowserEvent) {\n    var originalEvent = /** @type {MouseEvent} */ (mapBrowserEvent.originalEvent);\n    return originalEvent.button == 0 &&\n        !(WEBKIT && MAC && originalEvent.ctrlKey);\n  };\n\n\n  /**\n   * Return always false.\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} False.\n   * @api\n   */\n  var never = FALSE;\n\n\n  /**\n   * Return `true` if the browser event is a `pointermove` event, `false`\n   * otherwise.\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} True if the browser event is a `pointermove` event.\n   * @api\n   */\n  var pointerMove$1 = function(mapBrowserEvent) {\n    return mapBrowserEvent.type == 'pointermove';\n  };\n\n\n  /**\n   * Return `true` if the event is a map `singleclick` event, `false` otherwise.\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} True if the event is a map `singleclick` event.\n   * @api\n   */\n  var singleClick = function(mapBrowserEvent) {\n    return mapBrowserEvent.type == MapBrowserEventType.SINGLECLICK;\n  };\n\n\n  /**\n   * Return `true` if no modifier key (alt-, shift- or platform-modifier-key) is\n   * pressed.\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} True only if there no modifier keys are pressed.\n   * @api\n   */\n  var noModifierKeys = function(mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (\n      !originalEvent.altKey &&\n        !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n        !originalEvent.shiftKey);\n  };\n\n\n  /**\n   * Return `true` if only the shift-key is pressed, `false` otherwise (e.g. when\n   * additionally the alt-key is pressed).\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} True if only the shift key is pressed.\n   * @api\n   */\n  var shiftKeyOnly = function(mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (\n      !originalEvent.altKey &&\n        !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n        originalEvent.shiftKey);\n  };\n\n\n  /**\n   * Return `true` if the target element is not editable, i.e. not a `<input>`-,\n   * `<select>`- or `<textarea>`-element, `false` otherwise.\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} True only if the target element is not editable.\n   * @api\n   */\n  var targetNotEditable = function(mapBrowserEvent) {\n    var target = mapBrowserEvent.originalEvent.target;\n    var tagName = /** @type {Element} */ (target).tagName;\n    return (\n      tagName !== 'INPUT' &&\n        tagName !== 'SELECT' &&\n        tagName !== 'TEXTAREA');\n  };\n\n\n  /**\n   * Return `true` if the event originates from a mouse device.\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} True if the event originates from a mouse device.\n   * @api\n   */\n  var mouseOnly = function(mapBrowserEvent) {\n    var pointerEvent = /** @type {import(\"../MapBrowserPointerEvent\").default} */ (mapBrowserEvent).pointerEvent;\n    assert(pointerEvent !== undefined, 56); // mapBrowserEvent must originate from a pointer event\n    // see http://www.w3.org/TR/pointerevents/#widl-PointerEvent-pointerType\n    return pointerEvent.pointerType == 'mouse';\n  };\n\n\n  /**\n   * Return `true` if the event originates from a primary pointer in\n   * contact with the surface or if the left mouse button is pressed.\n   * See http://www.w3.org/TR/pointerevents/#button-states.\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} True if the event originates from a primary pointer.\n   * @api\n   */\n  var primaryAction = function(mapBrowserEvent) {\n    var pointerEvent = /** @type {import(\"../MapBrowserPointerEvent\").default} */ (mapBrowserEvent).pointerEvent;\n    assert(pointerEvent !== undefined, 56); // mapBrowserEvent must originate from a pointer event\n    return pointerEvent.isPrimary && pointerEvent.button === 0;\n  };\n\n  /**\n   * @module ol/interaction/Pointer\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {function(import(\"../MapBrowserPointerEvent.js\").default):boolean} [handleDownEvent]\n   * Function handling \"down\" events. If the function returns `true` then a drag\n   * sequence is started.\n   * @property {function(import(\"../MapBrowserPointerEvent.js\").default)} [handleDragEvent]\n   * Function handling \"drag\" events. This function is called on \"move\" events\n   * during a drag sequence.\n   * @property {function(import(\"../MapBrowserEvent.js\").default):boolean} [handleEvent]\n   * Method called by the map to notify the interaction that a browser event was\n   * dispatched to the map. The function may return `false` to prevent the\n   * propagation of the event to other interactions in the map's interactions\n   * chain.\n   * @property {function(import(\"../MapBrowserPointerEvent.js\").default)} [handleMoveEvent]\n   * Function handling \"move\" events. This function is called on \"move\" events,\n   * also during a drag sequence (so during a drag sequence both the\n   * `handleDragEvent` function and this function are called).\n   * @property {function(import(\"../MapBrowserPointerEvent.js\").default):boolean} [handleUpEvent]\n   *  Function handling \"up\" events. If the function returns `false` then the\n   * current drag sequence is stopped.\n   * @property {function(boolean):boolean} [stopDown]\n   * Should the down event be propagated to other interactions, or should be\n   * stopped?\n   */\n\n\n  /**\n   * @classdesc\n   * Base class that calls user-defined functions on `down`, `move` and `up`\n   * events. This class also manages \"drag sequences\".\n   *\n   * When the `handleDownEvent` user function returns `true` a drag sequence is\n   * started. During a drag sequence the `handleDragEvent` user function is\n   * called on `move` events. The drag sequence ends when the `handleUpEvent`\n   * user function is called and returns `false`.\n   * @api\n   */\n  var PointerInteraction = /*@__PURE__*/(function (Interaction$$1) {\n    function PointerInteraction(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      Interaction$$1.call(/** @type {import(\"./Interaction.js\").InteractionOptions} */ this, (options));\n\n      if (options.handleDownEvent) {\n        this.handleDownEvent = options.handleDownEvent;\n      }\n\n      if (options.handleDragEvent) {\n        this.handleDragEvent = options.handleDragEvent;\n      }\n\n      if (options.handleMoveEvent) {\n        this.handleMoveEvent = options.handleMoveEvent;\n      }\n\n      if (options.handleUpEvent) {\n        this.handleUpEvent = options.handleUpEvent;\n      }\n\n      if (options.stopDown) {\n        this.stopDown = options.stopDown;\n      }\n\n      /**\n       * @type {boolean}\n       * @protected\n       */\n      this.handlingDownUpSequence = false;\n\n      /**\n       * @type {!Object<string, import(\"../pointer/PointerEvent.js\").default>}\n       * @private\n       */\n      this.trackedPointers_ = {};\n\n      /**\n       * @type {Array<import(\"../pointer/PointerEvent.js\").default>}\n       * @protected\n       */\n      this.targetPointers = [];\n\n    }\n\n    if ( Interaction$$1 ) PointerInteraction.__proto__ = Interaction$$1;\n    PointerInteraction.prototype = Object.create( Interaction$$1 && Interaction$$1.prototype );\n    PointerInteraction.prototype.constructor = PointerInteraction;\n\n    /**\n     * Handle pointer down events.\n     * @param {import(\"../MapBrowserPointerEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     * @protected\n     */\n    PointerInteraction.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n      return false;\n    };\n\n    /**\n     * Handle pointer drag events.\n     * @param {import(\"../MapBrowserPointerEvent.js\").default} mapBrowserEvent Event.\n     * @protected\n     */\n    PointerInteraction.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {};\n\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent map browser event} and may call into\n     * other functions, if event sequences like e.g. 'drag' or 'down-up' etc. are\n     * detected.\n     * @override\n     * @api\n     */\n    PointerInteraction.prototype.handleEvent = function handleEvent (mapBrowserEvent) {\n      if (!(/** @type {import(\"../MapBrowserPointerEvent.js\").default} */ (mapBrowserEvent).pointerEvent)) {\n        return true;\n      }\n\n      var stopEvent = false;\n      this.updateTrackedPointers_(mapBrowserEvent);\n      if (this.handlingDownUpSequence) {\n        if (mapBrowserEvent.type == MapBrowserEventType.POINTERDRAG) {\n          this.handleDragEvent(mapBrowserEvent);\n        } else if (mapBrowserEvent.type == MapBrowserEventType.POINTERUP) {\n          var handledUp = this.handleUpEvent(mapBrowserEvent);\n          this.handlingDownUpSequence = handledUp && this.targetPointers.length > 0;\n        }\n      } else {\n        if (mapBrowserEvent.type == MapBrowserEventType.POINTERDOWN) {\n          var handled = this.handleDownEvent(mapBrowserEvent);\n          if (handled) {\n            mapBrowserEvent.preventDefault();\n          }\n          this.handlingDownUpSequence = handled;\n          stopEvent = this.stopDown(handled);\n        } else if (mapBrowserEvent.type == MapBrowserEventType.POINTERMOVE) {\n          this.handleMoveEvent(mapBrowserEvent);\n        }\n      }\n      return !stopEvent;\n    };\n\n    /**\n     * Handle pointer move events.\n     * @param {import(\"../MapBrowserPointerEvent.js\").default} mapBrowserEvent Event.\n     * @protected\n     */\n    PointerInteraction.prototype.handleMoveEvent = function handleMoveEvent (mapBrowserEvent) {};\n\n    /**\n     * Handle pointer up events.\n     * @param {import(\"../MapBrowserPointerEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     * @protected\n     */\n    PointerInteraction.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n      return false;\n    };\n\n    /**\n     * This function is used to determine if \"down\" events should be propagated\n     * to other interactions or should be stopped.\n     * @param {boolean} handled Was the event handled by the interaction?\n     * @return {boolean} Should the `down` event be stopped?\n     */\n    PointerInteraction.prototype.stopDown = function stopDown (handled) {\n      return handled;\n    };\n\n    /**\n     * @param {import(\"../MapBrowserPointerEvent.js\").default} mapBrowserEvent Event.\n     * @private\n     */\n    PointerInteraction.prototype.updateTrackedPointers_ = function updateTrackedPointers_ (mapBrowserEvent) {\n      if (isPointerDraggingEvent(mapBrowserEvent)) {\n        var event = mapBrowserEvent.pointerEvent;\n\n        var id = event.pointerId.toString();\n        if (mapBrowserEvent.type == MapBrowserEventType.POINTERUP) {\n          delete this.trackedPointers_[id];\n        } else if (mapBrowserEvent.type ==\n            MapBrowserEventType.POINTERDOWN) {\n          this.trackedPointers_[id] = event;\n        } else if (id in this.trackedPointers_) {\n          // update only when there was a pointerdown event for this pointer\n          this.trackedPointers_[id] = event;\n        }\n        this.targetPointers = getValues(this.trackedPointers_);\n      }\n    };\n\n    return PointerInteraction;\n  }(Interaction));\n\n\n  /**\n   * @param {Array<import(\"../pointer/PointerEvent.js\").default>} pointerEvents List of events.\n   * @return {import(\"../pixel.js\").Pixel} Centroid pixel.\n   */\n  function centroid(pointerEvents) {\n    var length = pointerEvents.length;\n    var clientX = 0;\n    var clientY = 0;\n    for (var i = 0; i < length; i++) {\n      clientX += pointerEvents[i].clientX;\n      clientY += pointerEvents[i].clientY;\n    }\n    return [clientX / length, clientY / length];\n  }\n\n\n  /**\n   * @param {import(\"../MapBrowserPointerEvent.js\").default} mapBrowserEvent Event.\n   * @return {boolean} Whether the event is a pointerdown, pointerdrag\n   *     or pointerup event.\n   */\n  function isPointerDraggingEvent(mapBrowserEvent) {\n    var type = mapBrowserEvent.type;\n    return type === MapBrowserEventType.POINTERDOWN ||\n      type === MapBrowserEventType.POINTERDRAG ||\n      type === MapBrowserEventType.POINTERUP;\n  }\n\n  /**\n   * @module ol/interaction/DragPan\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a boolean\n   * to indicate whether that event should be handled.\n   * Default is {@link module:ol/events/condition~noModifierKeys}.\n   * @property {import(\"../Kinetic.js\").default} [kinetic] Kinetic inertia to apply to the pan.\n   */\n\n\n  /**\n   * @classdesc\n   * Allows the user to pan the map by dragging the map.\n   * @api\n   */\n  var DragPan = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function DragPan(opt_options) {\n\n      PointerInteraction$$1.call(this, {\n        stopDown: FALSE\n      });\n\n      var options = opt_options ? opt_options : {};\n\n      /**\n       * @private\n       * @type {import(\"../Kinetic.js\").default|undefined}\n       */\n      this.kinetic_ = options.kinetic;\n\n      /**\n       * @type {import(\"../pixel.js\").Pixel}\n       */\n      this.lastCentroid = null;\n\n      /**\n       * @type {number}\n       */\n      this.lastPointersCount_;\n\n      /**\n       * @type {boolean}\n       */\n      this.panning_ = false;\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.condition_ = options.condition ? options.condition : noModifierKeys;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.noKinetic_ = false;\n\n    }\n\n    if ( PointerInteraction$$1 ) DragPan.__proto__ = PointerInteraction$$1;\n    DragPan.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    DragPan.prototype.constructor = DragPan;\n\n    /**\n     * @inheritDoc\n     */\n    DragPan.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {\n      if (!this.panning_) {\n        this.panning_ = true;\n        this.getMap().getView().setHint(ViewHint.INTERACTING, 1);\n      }\n      var targetPointers = this.targetPointers;\n      var centroid$$1 = centroid(targetPointers);\n      if (targetPointers.length == this.lastPointersCount_) {\n        if (this.kinetic_) {\n          this.kinetic_.update(centroid$$1[0], centroid$$1[1]);\n        }\n        if (this.lastCentroid) {\n          var deltaX = this.lastCentroid[0] - centroid$$1[0];\n          var deltaY = centroid$$1[1] - this.lastCentroid[1];\n          var map = mapBrowserEvent.map;\n          var view = map.getView();\n          var center = [deltaX, deltaY];\n          scale(center, view.getResolution());\n          rotate(center, view.getRotation());\n          add(center, view.getCenter());\n          center = view.constrainCenter(center);\n          view.setCenter(center);\n        }\n      } else if (this.kinetic_) {\n        // reset so we don't overestimate the kinetic energy after\n        // after one finger down, tiny drag, second finger down\n        this.kinetic_.begin();\n      }\n      this.lastCentroid = centroid$$1;\n      this.lastPointersCount_ = targetPointers.length;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    DragPan.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n      var map = mapBrowserEvent.map;\n      var view = map.getView();\n      if (this.targetPointers.length === 0) {\n        if (!this.noKinetic_ && this.kinetic_ && this.kinetic_.end()) {\n          var distance$$1 = this.kinetic_.getDistance();\n          var angle = this.kinetic_.getAngle();\n          var center = /** @type {!import(\"../coordinate.js\").Coordinate} */ (view.getCenter());\n          var centerpx = map.getPixelFromCoordinate(center);\n          var dest = map.getCoordinateFromPixel([\n            centerpx[0] - distance$$1 * Math.cos(angle),\n            centerpx[1] - distance$$1 * Math.sin(angle)\n          ]);\n          view.animate({\n            center: view.constrainCenter(dest),\n            duration: 500,\n            easing: easeOut\n          });\n        }\n        if (this.panning_) {\n          this.panning_ = false;\n          view.setHint(ViewHint.INTERACTING, -1);\n        }\n        return false;\n      } else {\n        if (this.kinetic_) {\n          // reset so we don't overestimate the kinetic energy after\n          // after one finger up, tiny drag, second finger up\n          this.kinetic_.begin();\n        }\n        this.lastCentroid = null;\n        return true;\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    DragPan.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n      if (this.targetPointers.length > 0 && this.condition_(mapBrowserEvent)) {\n        var map = mapBrowserEvent.map;\n        var view = map.getView();\n        this.lastCentroid = null;\n        // stop any current animation\n        if (view.getAnimating()) {\n          view.setCenter(mapBrowserEvent.frameState.viewState.center);\n        }\n        if (this.kinetic_) {\n          this.kinetic_.begin();\n        }\n        // No kinetic as soon as more than one pointer on the screen is\n        // detected. This is to prevent nasty pans after pinch.\n        this.noKinetic_ = this.targetPointers.length > 1;\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    return DragPan;\n  }(PointerInteraction));\n\n  /**\n   * @module ol/interaction/DragRotate\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that takes an\n   * {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a boolean\n   * to indicate whether that event should be handled.\n   * Default is {@link module:ol/events/condition~altShiftKeysOnly}.\n   * @property {number} [duration=250] Animation duration in milliseconds.\n   */\n\n\n  /**\n   * @classdesc\n   * Allows the user to rotate the map by clicking and dragging on the map,\n   * normally combined with an {@link module:ol/events/condition} that limits\n   * it to when the alt and shift keys are held down.\n   *\n   * This interaction is only supported for mouse devices.\n   * @api\n   */\n  var DragRotate = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function DragRotate(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      PointerInteraction$$1.call(this, {\n        stopDown: FALSE\n      });\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.condition_ = options.condition ? options.condition : altShiftKeysOnly;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.lastAngle_ = undefined;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n    }\n\n    if ( PointerInteraction$$1 ) DragRotate.__proto__ = PointerInteraction$$1;\n    DragRotate.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    DragRotate.prototype.constructor = DragRotate;\n\n    /**\n     * @inheritDoc\n     */\n    DragRotate.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {\n      if (!mouseOnly(mapBrowserEvent)) {\n        return;\n      }\n\n      var map = mapBrowserEvent.map;\n      var view = map.getView();\n      if (view.getConstraints().rotation === disable) {\n        return;\n      }\n      var size = map.getSize();\n      var offset = mapBrowserEvent.pixel;\n      var theta =\n          Math.atan2(size[1] / 2 - offset[1], offset[0] - size[0] / 2);\n      if (this.lastAngle_ !== undefined) {\n        var delta = theta - this.lastAngle_;\n        var rotation = view.getRotation();\n        rotateWithoutConstraints(view, rotation - delta);\n      }\n      this.lastAngle_ = theta;\n    };\n\n\n    /**\n     * @inheritDoc\n     */\n    DragRotate.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n      if (!mouseOnly(mapBrowserEvent)) {\n        return true;\n      }\n\n      var map = mapBrowserEvent.map;\n      var view = map.getView();\n      view.setHint(ViewHint.INTERACTING, -1);\n      var rotation = view.getRotation();\n      rotate$3(view, rotation, undefined, this.duration_);\n      return false;\n    };\n\n\n    /**\n     * @inheritDoc\n     */\n    DragRotate.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n      if (!mouseOnly(mapBrowserEvent)) {\n        return false;\n      }\n\n      if (mouseActionButton(mapBrowserEvent) && this.condition_(mapBrowserEvent)) {\n        var map = mapBrowserEvent.map;\n        map.getView().setHint(ViewHint.INTERACTING, 1);\n        this.lastAngle_ = undefined;\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    return DragRotate;\n  }(PointerInteraction));\n\n  /**\n   * @module ol/render/Box\n   */\n\n  var RenderBox = /*@__PURE__*/(function (Disposable$$1) {\n    function RenderBox(className) {\n      Disposable$$1.call(this);\n\n      /**\n       * @type {import(\"../geom/Polygon.js\").default}\n       * @private\n       */\n      this.geometry_ = null;\n\n      /**\n       * @type {HTMLDivElement}\n       * @private\n       */\n      this.element_ = /** @type {HTMLDivElement} */ (document.createElement('div'));\n      this.element_.style.position = 'absolute';\n      this.element_.className = 'ol-box ' + className;\n\n      /**\n       * @private\n       * @type {import(\"../PluggableMap.js\").default}\n       */\n      this.map_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../pixel.js\").Pixel}\n       */\n      this.startPixel_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../pixel.js\").Pixel}\n       */\n      this.endPixel_ = null;\n\n    }\n\n    if ( Disposable$$1 ) RenderBox.__proto__ = Disposable$$1;\n    RenderBox.prototype = Object.create( Disposable$$1 && Disposable$$1.prototype );\n    RenderBox.prototype.constructor = RenderBox;\n\n    /**\n     * @inheritDoc\n     */\n    RenderBox.prototype.disposeInternal = function disposeInternal () {\n      this.setMap(null);\n    };\n\n    /**\n     * @private\n     */\n    RenderBox.prototype.render_ = function render_ () {\n      var startPixel = this.startPixel_;\n      var endPixel = this.endPixel_;\n      var px = 'px';\n      var style = this.element_.style;\n      style.left = Math.min(startPixel[0], endPixel[0]) + px;\n      style.top = Math.min(startPixel[1], endPixel[1]) + px;\n      style.width = Math.abs(endPixel[0] - startPixel[0]) + px;\n      style.height = Math.abs(endPixel[1] - startPixel[1]) + px;\n    };\n\n    /**\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     */\n    RenderBox.prototype.setMap = function setMap (map) {\n      if (this.map_) {\n        this.map_.getOverlayContainer().removeChild(this.element_);\n        var style = this.element_.style;\n        style.left = style.top = style.width = style.height = 'inherit';\n      }\n      this.map_ = map;\n      if (this.map_) {\n        this.map_.getOverlayContainer().appendChild(this.element_);\n      }\n    };\n\n    /**\n     * @param {import(\"../pixel.js\").Pixel} startPixel Start pixel.\n     * @param {import(\"../pixel.js\").Pixel} endPixel End pixel.\n     */\n    RenderBox.prototype.setPixels = function setPixels (startPixel, endPixel) {\n      this.startPixel_ = startPixel;\n      this.endPixel_ = endPixel;\n      this.createOrUpdateGeometry();\n      this.render_();\n    };\n\n    /**\n     * Creates or updates the cached geometry.\n     */\n    RenderBox.prototype.createOrUpdateGeometry = function createOrUpdateGeometry () {\n      var startPixel = this.startPixel_;\n      var endPixel = this.endPixel_;\n      var pixels = [\n        startPixel,\n        [startPixel[0], endPixel[1]],\n        endPixel,\n        [endPixel[0], startPixel[1]]\n      ];\n      var coordinates = pixels.map(this.map_.getCoordinateFromPixel, this.map_);\n      // close the polygon\n      coordinates[4] = coordinates[0].slice();\n      if (!this.geometry_) {\n        this.geometry_ = new Polygon([coordinates]);\n      } else {\n        this.geometry_.setCoordinates([coordinates]);\n      }\n    };\n\n    /**\n     * @return {import(\"../geom/Polygon.js\").default} Geometry.\n     */\n    RenderBox.prototype.getGeometry = function getGeometry () {\n      return this.geometry_;\n    };\n\n    return RenderBox;\n  }(Disposable));\n\n  /**\n   * @module ol/interaction/DragBox\n   */\n\n\n  /**\n   * A function that takes a {@link module:ol/MapBrowserEvent} and two\n   * {@link module:ol/pixel~Pixel}s and returns a `{boolean}`. If the condition is met,\n   * true should be returned.\n   * @typedef {function(this: ?, import(\"../MapBrowserEvent.js\").default, import(\"../pixel.js\").Pixel, import(\"../pixel.js\").Pixel):boolean} EndCondition\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} [className='ol-dragbox'] CSS class name for styling the box.\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a boolean\n   * to indicate whether that event should be handled.\n   * Default is {@link ol/events/condition~always}.\n   * @property {number} [minArea=64] The minimum area of the box in pixel, this value is used by the default\n   * `boxEndCondition` function.\n   * @property {EndCondition} [boxEndCondition] A function that takes a {@link module:ol/MapBrowserEvent~MapBrowserEvent} and two\n   * {@link module:ol/pixel~Pixel}s to indicate whether a `boxend` event should be fired.\n   * Default is `true` if the area of the box is bigger than the `minArea` option.\n   * @property {function(this:DragBox, import(\"../MapBrowserEvent.js\").default)} onBoxEnd Code to execute just\n   * before `boxend` is fired.\n   */\n\n\n  /**\n   * @enum {string}\n   */\n  var DragBoxEventType = {\n    /**\n     * Triggered upon drag box start.\n     * @event DragBoxEvent#boxstart\n     * @api\n     */\n    BOXSTART: 'boxstart',\n\n    /**\n     * Triggered on drag when box is active.\n     * @event DragBoxEvent#boxdrag\n     * @api\n     */\n    BOXDRAG: 'boxdrag',\n\n    /**\n     * Triggered upon drag box end.\n     * @event DragBoxEvent#boxend\n     * @api\n     */\n    BOXEND: 'boxend'\n  };\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/interaction/DragBox~DragBox} instances are instances of\n   * this type.\n   */\n  var DragBoxEvent = /*@__PURE__*/(function (Event$$1) {\n    function DragBoxEvent(type, coordinate, mapBrowserEvent) {\n      Event$$1.call(this, type);\n\n      /**\n       * The coordinate of the drag event.\n       * @const\n       * @type {import(\"../coordinate.js\").Coordinate}\n       * @api\n       */\n      this.coordinate = coordinate;\n\n      /**\n       * @const\n       * @type {import(\"../MapBrowserEvent.js\").default}\n       * @api\n       */\n      this.mapBrowserEvent = mapBrowserEvent;\n\n    }\n\n    if ( Event$$1 ) DragBoxEvent.__proto__ = Event$$1;\n    DragBoxEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    DragBoxEvent.prototype.constructor = DragBoxEvent;\n\n    return DragBoxEvent;\n  }(Event));\n\n\n  /**\n   * @classdesc\n   * Allows the user to draw a vector box by clicking and dragging on the map,\n   * normally combined with an {@link module:ol/events/condition} that limits\n   * it to when the shift or other key is held down. This is used, for example,\n   * for zooming to a specific area of the map\n   * (see {@link module:ol/interaction/DragZoom~DragZoom} and\n   * {@link module:ol/interaction/DragRotateAndZoom}).\n   *\n   * This interaction is only supported for mouse devices.\n   *\n   * @fires DragBoxEvent\n   * @api\n   */\n  var DragBox = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function DragBox(opt_options) {\n\n      PointerInteraction$$1.call(this);\n\n      var options = opt_options ? opt_options : {};\n\n      /**\n      * @type {import(\"../render/Box.js\").default}\n      * @private\n      */\n      this.box_ = new RenderBox(options.className || 'ol-dragbox');\n\n      /**\n      * @type {number}\n      * @private\n      */\n      this.minArea_ = options.minArea !== undefined ? options.minArea : 64;\n\n      /**\n       * Function to execute just before `onboxend` is fired\n       * @type {function(this:DragBox, import(\"../MapBrowserEvent.js\").default)}\n       * @private\n       */\n      this.onBoxEnd_ = options.onBoxEnd ? options.onBoxEnd : VOID;\n\n      /**\n      * @type {import(\"../pixel.js\").Pixel}\n      * @private\n      */\n      this.startPixel_ = null;\n\n      /**\n      * @private\n      * @type {import(\"../events/condition.js\").Condition}\n      */\n      this.condition_ = options.condition ? options.condition : always;\n\n      /**\n      * @private\n      * @type {EndCondition}\n      */\n      this.boxEndCondition_ = options.boxEndCondition ?\n        options.boxEndCondition : this.defaultBoxEndCondition;\n    }\n\n    if ( PointerInteraction$$1 ) DragBox.__proto__ = PointerInteraction$$1;\n    DragBox.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    DragBox.prototype.constructor = DragBox;\n\n    /**\n     * The default condition for determining whether the boxend event\n     * should fire.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent The originating MapBrowserEvent\n     *     leading to the box end.\n     * @param {import(\"../pixel.js\").Pixel} startPixel The starting pixel of the box.\n     * @param {import(\"../pixel.js\").Pixel} endPixel The end pixel of the box.\n     * @return {boolean} Whether or not the boxend condition should be fired.\n     */\n    DragBox.prototype.defaultBoxEndCondition = function defaultBoxEndCondition (mapBrowserEvent, startPixel, endPixel) {\n      var width = endPixel[0] - startPixel[0];\n      var height = endPixel[1] - startPixel[1];\n      return width * width + height * height >= this.minArea_;\n    };\n\n    /**\n    * Returns geometry of last drawn box.\n    * @return {import(\"../geom/Polygon.js\").default} Geometry.\n    * @api\n    */\n    DragBox.prototype.getGeometry = function getGeometry () {\n      return this.box_.getGeometry();\n    };\n\n    /**\n     * @inheritDoc\n     */\n    DragBox.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {\n      if (!mouseOnly(mapBrowserEvent)) {\n        return;\n      }\n\n      this.box_.setPixels(this.startPixel_, mapBrowserEvent.pixel);\n\n      this.dispatchEvent(new DragBoxEvent(DragBoxEventType.BOXDRAG,\n        mapBrowserEvent.coordinate, mapBrowserEvent));\n    };\n\n    /**\n     * @inheritDoc\n     */\n    DragBox.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n      if (!mouseOnly(mapBrowserEvent)) {\n        return true;\n      }\n\n      this.box_.setMap(null);\n\n      if (this.boxEndCondition_(mapBrowserEvent, this.startPixel_, mapBrowserEvent.pixel)) {\n        this.onBoxEnd_(mapBrowserEvent);\n        this.dispatchEvent(new DragBoxEvent(DragBoxEventType.BOXEND,\n          mapBrowserEvent.coordinate, mapBrowserEvent));\n      }\n      return false;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    DragBox.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n      if (!mouseOnly(mapBrowserEvent)) {\n        return false;\n      }\n\n      if (mouseActionButton(mapBrowserEvent) &&\n          this.condition_(mapBrowserEvent)) {\n        this.startPixel_ = mapBrowserEvent.pixel;\n        this.box_.setMap(mapBrowserEvent.map);\n        this.box_.setPixels(this.startPixel_, this.startPixel_);\n        this.dispatchEvent(new DragBoxEvent(DragBoxEventType.BOXSTART,\n          mapBrowserEvent.coordinate, mapBrowserEvent));\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    return DragBox;\n  }(PointerInteraction));\n\n  /**\n   * @module ol/interaction/DragZoom\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} [className='ol-dragzoom'] CSS class name for styling the\n   * box.\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n   * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled.\n   * Default is {@link module:ol/events/condition~shiftKeyOnly}.\n   * @property {number} [duration=200] Animation duration in milliseconds.\n   * @property {boolean} [out=false] Use interaction for zooming out.\n   */\n\n\n  /**\n   * @classdesc\n   * Allows the user to zoom the map by clicking and dragging on the map,\n   * normally combined with an {@link module:ol/events/condition} that limits\n   * it to when a key, shift by default, is held down.\n   *\n   * To change the style of the box, use CSS and the `.ol-dragzoom` selector, or\n   * your custom one configured with `className`.\n   * @api\n   */\n  var DragZoom = /*@__PURE__*/(function (DragBox$$1) {\n    function DragZoom(opt_options) {\n      var options = opt_options ? opt_options : {};\n\n      var condition = options.condition ? options.condition : shiftKeyOnly;\n\n      DragBox$$1.call(this, {\n        condition: condition,\n        className: options.className || 'ol-dragzoom',\n        onBoxEnd: onBoxEnd\n      });\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 200;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.out_ = options.out !== undefined ? options.out : false;\n    }\n\n    if ( DragBox$$1 ) DragZoom.__proto__ = DragBox$$1;\n    DragZoom.prototype = Object.create( DragBox$$1 && DragBox$$1.prototype );\n    DragZoom.prototype.constructor = DragZoom;\n\n    return DragZoom;\n  }(DragBox));\n\n\n  /**\n   * @this {DragZoom}\n   */\n  function onBoxEnd() {\n    var map = this.getMap();\n    var view = /** @type {!import(\"../View.js\").default} */ (map.getView());\n    var size = /** @type {!import(\"../size.js\").Size} */ (map.getSize());\n    var extent = this.getGeometry().getExtent();\n\n    if (this.out_) {\n      var mapExtent = view.calculateExtent(size);\n      var boxPixelExtent = createOrUpdateFromCoordinates([\n        map.getPixelFromCoordinate(getBottomLeft(extent)),\n        map.getPixelFromCoordinate(getTopRight(extent))]);\n      var factor = view.getResolutionForExtent(boxPixelExtent, size);\n\n      scaleFromCenter(mapExtent, 1 / factor);\n      extent = mapExtent;\n    }\n\n    var resolution = view.constrainResolution(\n      view.getResolutionForExtent(extent, size));\n\n    var center = getCenter(extent);\n    center = view.constrainCenter(center);\n\n    view.animate({\n      resolution: resolution,\n      center: center,\n      duration: this.duration_,\n      easing: easeOut\n    });\n  }\n\n  /**\n   * @module ol/events/KeyCode\n   */\n\n  /**\n   * @enum {number}\n   * @const\n   */\n  var KeyCode = {\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40\n  };\n\n  /**\n   * @module ol/interaction/KeyboardPan\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n   * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled. Default is\n   * {@link module:ol/events/condition~noModifierKeys} and\n   * {@link module:ol/events/condition~targetNotEditable}.\n   * @property {number} [duration=100] Animation duration in milliseconds.\n   * @property {number} [pixelDelta=128] The amount of pixels to pan on each key\n   * press.\n   */\n\n\n  /**\n   * @classdesc\n   * Allows the user to pan the map using keyboard arrows.\n   * Note that, although this interaction is by default included in maps,\n   * the keys can only be used when browser focus is on the element to which\n   * the keyboard events are attached. By default, this is the map div,\n   * though you can change this with the `keyboardEventTarget` in\n   * {@link module:ol/Map~Map}. `document` never loses focus but, for any other\n   * element, focus will have to be on, and returned to, this element if the keys\n   * are to function.\n   * See also {@link module:ol/interaction/KeyboardZoom~KeyboardZoom}.\n   * @api\n   */\n  var KeyboardPan = /*@__PURE__*/(function (Interaction$$1) {\n    function KeyboardPan(opt_options) {\n\n      Interaction$$1.call(this, {\n        handleEvent: handleEvent$1\n      });\n\n      var options = opt_options || {};\n\n      /**\n       * @private\n       * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Browser event.\n       * @return {boolean} Combined condition result.\n       */\n      this.defaultCondition_ = function(mapBrowserEvent) {\n        return noModifierKeys(mapBrowserEvent) &&\n          targetNotEditable(mapBrowserEvent);\n      };\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.condition_ = options.condition !== undefined ?\n        options.condition : this.defaultCondition_;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 100;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.pixelDelta_ = options.pixelDelta !== undefined ?\n        options.pixelDelta : 128;\n\n    }\n\n    if ( Interaction$$1 ) KeyboardPan.__proto__ = Interaction$$1;\n    KeyboardPan.prototype = Object.create( Interaction$$1 && Interaction$$1.prototype );\n    KeyboardPan.prototype.constructor = KeyboardPan;\n\n    return KeyboardPan;\n  }(Interaction));\n\n\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent map browser event} if it was a\n   * `KeyEvent`, and decides the direction to pan to (if an arrow key was\n   * pressed).\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   * @this {KeyboardPan}\n   */\n  function handleEvent$1(mapBrowserEvent) {\n    var stopEvent = false;\n    if (mapBrowserEvent.type == EventType.KEYDOWN) {\n      var keyEvent = /** @type {KeyboardEvent} */ (mapBrowserEvent.originalEvent);\n      var keyCode = keyEvent.keyCode;\n      if (this.condition_(mapBrowserEvent) &&\n          (keyCode == KeyCode.DOWN ||\n          keyCode == KeyCode.LEFT ||\n          keyCode == KeyCode.RIGHT ||\n          keyCode == KeyCode.UP)) {\n        var map = mapBrowserEvent.map;\n        var view = map.getView();\n        var mapUnitsDelta = view.getResolution() * this.pixelDelta_;\n        var deltaX = 0, deltaY = 0;\n        if (keyCode == KeyCode.DOWN) {\n          deltaY = -mapUnitsDelta;\n        } else if (keyCode == KeyCode.LEFT) {\n          deltaX = -mapUnitsDelta;\n        } else if (keyCode == KeyCode.RIGHT) {\n          deltaX = mapUnitsDelta;\n        } else {\n          deltaY = mapUnitsDelta;\n        }\n        var delta = [deltaX, deltaY];\n        rotate(delta, view.getRotation());\n        pan(view, delta, this.duration_);\n        mapBrowserEvent.preventDefault();\n        stopEvent = true;\n      }\n    }\n    return !stopEvent;\n  }\n\n  /**\n   * @module ol/interaction/KeyboardZoom\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [duration=100] Animation duration in milliseconds.\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n   * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled. Default is\n   * {@link module:ol/events/condition~targetNotEditable}.\n   * @property {number} [delta=1] The zoom level delta on each key press.\n   */\n\n\n  /**\n   * @classdesc\n   * Allows the user to zoom the map using keyboard + and -.\n   * Note that, although this interaction is by default included in maps,\n   * the keys can only be used when browser focus is on the element to which\n   * the keyboard events are attached. By default, this is the map div,\n   * though you can change this with the `keyboardEventTarget` in\n   * {@link module:ol/Map~Map}. `document` never loses focus but, for any other\n   * element, focus will have to be on, and returned to, this element if the keys\n   * are to function.\n   * See also {@link module:ol/interaction/KeyboardPan~KeyboardPan}.\n   * @api\n   */\n  var KeyboardZoom = /*@__PURE__*/(function (Interaction$$1) {\n    function KeyboardZoom(opt_options) {\n\n      Interaction$$1.call(this, {\n        handleEvent: handleEvent$2\n      });\n\n      var options = opt_options ? opt_options : {};\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.condition_ = options.condition ? options.condition : targetNotEditable;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.delta_ = options.delta ? options.delta : 1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 100;\n\n    }\n\n    if ( Interaction$$1 ) KeyboardZoom.__proto__ = Interaction$$1;\n    KeyboardZoom.prototype = Object.create( Interaction$$1 && Interaction$$1.prototype );\n    KeyboardZoom.prototype.constructor = KeyboardZoom;\n\n    return KeyboardZoom;\n  }(Interaction));\n\n\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent map browser event} if it was a\n   * `KeyEvent`, and decides whether to zoom in or out (depending on whether the\n   * key pressed was '+' or '-').\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   * @this {KeyboardZoom}\n   */\n  function handleEvent$2(mapBrowserEvent) {\n    var stopEvent = false;\n    if (mapBrowserEvent.type == EventType.KEYDOWN ||\n        mapBrowserEvent.type == EventType.KEYPRESS) {\n      var keyEvent = /** @type {KeyboardEvent} */ (mapBrowserEvent.originalEvent);\n      var charCode = keyEvent.charCode;\n      if (this.condition_(mapBrowserEvent) &&\n          (charCode == '+'.charCodeAt(0) || charCode == '-'.charCodeAt(0))) {\n        var map = mapBrowserEvent.map;\n        var delta = (charCode == '+'.charCodeAt(0)) ? this.delta_ : -this.delta_;\n        var view = map.getView();\n        zoomByDelta(view, delta, undefined, this.duration_);\n        mapBrowserEvent.preventDefault();\n        stopEvent = true;\n      }\n    }\n    return !stopEvent;\n  }\n\n  /**\n   * @module ol/interaction/MouseWheelZoom\n   */\n\n\n  /**\n   * Maximum mouse wheel delta.\n   * @type {number}\n   */\n  var MAX_DELTA = 1;\n\n\n  /**\n   * @enum {string}\n   */\n  var Mode = {\n    TRACKPAD: 'trackpad',\n    WHEEL: 'wheel'\n  };\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n   * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled. Default is\n   * {@link module:ol/events/condition~always}.\n   * @property {number} [duration=250] Animation duration in milliseconds.\n   * @property {number} [timeout=80] Mouse wheel timeout duration in milliseconds.\n   * @property {boolean} [constrainResolution=false] When using a trackpad or\n   * magic mouse, zoom to the closest integer zoom level after the scroll gesture\n   * ends.\n   * @property {boolean} [useAnchor=true] Enable zooming using the mouse's\n   * location as the anchor. When set to `false`, zooming in and out will zoom to\n   * the center of the screen instead of zooming on the mouse's location.\n   */\n\n\n  /**\n   * @classdesc\n   * Allows the user to zoom the map by scrolling the mouse wheel.\n   * @api\n   */\n  var MouseWheelZoom = /*@__PURE__*/(function (Interaction$$1) {\n    function MouseWheelZoom(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      Interaction$$1.call(/** @type {import(\"./Interaction.js\").InteractionOptions} */ this, (options));\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.delta_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.timeout_ = options.timeout !== undefined ? options.timeout : 80;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.useAnchor_ = options.useAnchor !== undefined ? options.useAnchor : true;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.constrainResolution_ = options.constrainResolution || false;\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.condition_ = options.condition ? options.condition : always;\n\n      /**\n       * @private\n       * @type {?import(\"../coordinate.js\").Coordinate}\n       */\n      this.lastAnchor_ = null;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.startTime_ = undefined;\n\n      /**\n       * @private\n       * @type {?}\n       */\n      this.timeoutId_;\n\n      /**\n       * @private\n       * @type {Mode|undefined}\n       */\n      this.mode_ = undefined;\n\n      /**\n       * Trackpad events separated by this delay will be considered separate\n       * interactions.\n       * @type {number}\n       */\n      this.trackpadEventGap_ = 400;\n\n      /**\n       * @type {?}\n       */\n      this.trackpadTimeoutId_;\n\n      /**\n       * The number of delta values per zoom level\n       * @private\n       * @type {number}\n       */\n      this.trackpadDeltaPerZoom_ = 300;\n\n      /**\n       * The zoom factor by which scroll zooming is allowed to exceed the limits.\n       * @private\n       * @type {number}\n       */\n      this.trackpadZoomBuffer_ = 1.5;\n\n    }\n\n    if ( Interaction$$1 ) MouseWheelZoom.__proto__ = Interaction$$1;\n    MouseWheelZoom.prototype = Object.create( Interaction$$1 && Interaction$$1.prototype );\n    MouseWheelZoom.prototype.constructor = MouseWheelZoom;\n\n    /**\n     * @private\n     */\n    MouseWheelZoom.prototype.decrementInteractingHint_ = function decrementInteractingHint_ () {\n      this.trackpadTimeoutId_ = undefined;\n      var view = this.getMap().getView();\n      view.setHint(ViewHint.INTERACTING, -1);\n    };\n\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent map browser event} (if it was a mousewheel-event) and eventually\n     * zooms the map.\n     * @override\n     */\n    MouseWheelZoom.prototype.handleEvent = function handleEvent (mapBrowserEvent) {\n      if (!this.condition_(mapBrowserEvent)) {\n        return true;\n      }\n      var type = mapBrowserEvent.type;\n      if (type !== EventType.WHEEL && type !== EventType.MOUSEWHEEL) {\n        return true;\n      }\n\n      mapBrowserEvent.preventDefault();\n\n      var map = mapBrowserEvent.map;\n      var wheelEvent = /** @type {WheelEvent} */ (mapBrowserEvent.originalEvent);\n\n      if (this.useAnchor_) {\n        this.lastAnchor_ = mapBrowserEvent.coordinate;\n      }\n\n      // Delta normalisation inspired by\n      // https://github.com/mapbox/mapbox-gl-js/blob/001c7b9/js/ui/handler/scroll_zoom.js\n      var delta;\n      if (mapBrowserEvent.type == EventType.WHEEL) {\n        delta = wheelEvent.deltaY;\n        if (FIREFOX &&\n            wheelEvent.deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n          delta /= DEVICE_PIXEL_RATIO;\n        }\n        if (wheelEvent.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n          delta *= 40;\n        }\n      } else if (mapBrowserEvent.type == EventType.MOUSEWHEEL) {\n        delta = -wheelEvent.wheelDeltaY;\n        if (SAFARI) {\n          delta /= 3;\n        }\n      }\n\n      if (delta === 0) {\n        return false;\n      }\n\n      var now = Date.now();\n\n      if (this.startTime_ === undefined) {\n        this.startTime_ = now;\n      }\n\n      if (!this.mode_ || now - this.startTime_ > this.trackpadEventGap_) {\n        this.mode_ = Math.abs(delta) < 4 ?\n          Mode.TRACKPAD :\n          Mode.WHEEL;\n      }\n\n      if (this.mode_ === Mode.TRACKPAD) {\n        var view = map.getView();\n        if (this.trackpadTimeoutId_) {\n          clearTimeout(this.trackpadTimeoutId_);\n        } else {\n          view.setHint(ViewHint.INTERACTING, 1);\n        }\n        this.trackpadTimeoutId_ = setTimeout(this.decrementInteractingHint_.bind(this), this.trackpadEventGap_);\n        var resolution = view.getResolution() * Math.pow(2, delta / this.trackpadDeltaPerZoom_);\n        var minResolution = view.getMinResolution();\n        var maxResolution = view.getMaxResolution();\n        var rebound = 0;\n        if (resolution < minResolution) {\n          resolution = Math.max(resolution, minResolution / this.trackpadZoomBuffer_);\n          rebound = 1;\n        } else if (resolution > maxResolution) {\n          resolution = Math.min(resolution, maxResolution * this.trackpadZoomBuffer_);\n          rebound = -1;\n        }\n        if (this.lastAnchor_) {\n          var center = view.calculateCenterZoom(resolution, this.lastAnchor_);\n          view.setCenter(view.constrainCenter(center));\n        }\n        view.setResolution(resolution);\n\n        if (rebound === 0 && this.constrainResolution_) {\n          view.animate({\n            resolution: view.constrainResolution(resolution, delta > 0 ? -1 : 1),\n            easing: easeOut,\n            anchor: this.lastAnchor_,\n            duration: this.duration_\n          });\n        }\n\n        if (rebound > 0) {\n          view.animate({\n            resolution: minResolution,\n            easing: easeOut,\n            anchor: this.lastAnchor_,\n            duration: 500\n          });\n        } else if (rebound < 0) {\n          view.animate({\n            resolution: maxResolution,\n            easing: easeOut,\n            anchor: this.lastAnchor_,\n            duration: 500\n          });\n        }\n        this.startTime_ = now;\n        return false;\n      }\n\n      this.delta_ += delta;\n\n      var timeLeft = Math.max(this.timeout_ - (now - this.startTime_), 0);\n\n      clearTimeout(this.timeoutId_);\n      this.timeoutId_ = setTimeout(this.handleWheelZoom_.bind(this, map), timeLeft);\n\n      return false;\n    };\n\n    /**\n     * @private\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     */\n    MouseWheelZoom.prototype.handleWheelZoom_ = function handleWheelZoom_ (map) {\n      var view = map.getView();\n      if (view.getAnimating()) {\n        view.cancelAnimations();\n      }\n      var maxDelta = MAX_DELTA;\n      var delta = clamp(this.delta_, -maxDelta, maxDelta);\n      zoomByDelta(view, -delta, this.lastAnchor_, this.duration_);\n      this.mode_ = undefined;\n      this.delta_ = 0;\n      this.lastAnchor_ = null;\n      this.startTime_ = undefined;\n      this.timeoutId_ = undefined;\n    };\n\n    /**\n     * Enable or disable using the mouse's location as an anchor when zooming\n     * @param {boolean} useAnchor true to zoom to the mouse's location, false\n     * to zoom to the center of the map\n     * @api\n     */\n    MouseWheelZoom.prototype.setMouseAnchor = function setMouseAnchor (useAnchor) {\n      this.useAnchor_ = useAnchor;\n      if (!useAnchor) {\n        this.lastAnchor_ = null;\n      }\n    };\n\n    return MouseWheelZoom;\n  }(Interaction));\n\n  /**\n   * @module ol/interaction/PinchRotate\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [duration=250] The duration of the animation in\n   * milliseconds.\n   * @property {number} [threshold=0.3] Minimal angle in radians to start a rotation.\n   */\n\n\n  /**\n   * @classdesc\n   * Allows the user to rotate the map by twisting with two fingers\n   * on a touch screen.\n   * @api\n   */\n  var PinchRotate = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function PinchRotate(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      var pointerOptions = /** @type {import(\"./Pointer.js\").Options} */ (options);\n\n      if (!pointerOptions.stopDown) {\n        pointerOptions.stopDown = FALSE;\n      }\n\n      PointerInteraction$$1.call(this, pointerOptions);\n\n      /**\n       * @private\n       * @type {import(\"../coordinate.js\").Coordinate}\n       */\n      this.anchor_ = null;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.lastAngle_ = undefined;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.rotating_ = false;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.rotationDelta_ = 0.0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.threshold_ = options.threshold !== undefined ? options.threshold : 0.3;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n    }\n\n    if ( PointerInteraction$$1 ) PinchRotate.__proto__ = PointerInteraction$$1;\n    PinchRotate.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    PinchRotate.prototype.constructor = PinchRotate;\n\n    /**\n     * @inheritDoc\n     */\n    PinchRotate.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {\n      var rotationDelta = 0.0;\n\n      var touch0 = this.targetPointers[0];\n      var touch1 = this.targetPointers[1];\n\n      // angle between touches\n      var angle = Math.atan2(\n        touch1.clientY - touch0.clientY,\n        touch1.clientX - touch0.clientX);\n\n      if (this.lastAngle_ !== undefined) {\n        var delta = angle - this.lastAngle_;\n        this.rotationDelta_ += delta;\n        if (!this.rotating_ &&\n            Math.abs(this.rotationDelta_) > this.threshold_) {\n          this.rotating_ = true;\n        }\n        rotationDelta = delta;\n      }\n      this.lastAngle_ = angle;\n\n      var map = mapBrowserEvent.map;\n      var view = map.getView();\n      if (view.getConstraints().rotation === disable) {\n        return;\n      }\n\n      // rotate anchor point.\n      // FIXME: should be the intersection point between the lines:\n      //     touch0,touch1 and previousTouch0,previousTouch1\n      var viewportPosition = map.getViewport().getBoundingClientRect();\n      var centroid$$1 = centroid(this.targetPointers);\n      centroid$$1[0] -= viewportPosition.left;\n      centroid$$1[1] -= viewportPosition.top;\n      this.anchor_ = map.getCoordinateFromPixel(centroid$$1);\n\n      // rotate\n      if (this.rotating_) {\n        var rotation = view.getRotation();\n        map.render();\n        rotateWithoutConstraints(view, rotation + rotationDelta, this.anchor_);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    PinchRotate.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n      if (this.targetPointers.length < 2) {\n        var map = mapBrowserEvent.map;\n        var view = map.getView();\n        view.setHint(ViewHint.INTERACTING, -1);\n        if (this.rotating_) {\n          var rotation = view.getRotation();\n          rotate$3(view, rotation, this.anchor_, this.duration_);\n        }\n        return false;\n      } else {\n        return true;\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    PinchRotate.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n      if (this.targetPointers.length >= 2) {\n        var map = mapBrowserEvent.map;\n        this.anchor_ = null;\n        this.lastAngle_ = undefined;\n        this.rotating_ = false;\n        this.rotationDelta_ = 0.0;\n        if (!this.handlingDownUpSequence) {\n          map.getView().setHint(ViewHint.INTERACTING, 1);\n        }\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    return PinchRotate;\n  }(PointerInteraction));\n\n  /**\n   * @module ol/interaction/PinchZoom\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [duration=400] Animation duration in milliseconds.\n   * @property {boolean} [constrainResolution=false] Zoom to the closest integer\n   * zoom level after the pinch gesture ends.\n   */\n\n\n  /**\n   * @classdesc\n   * Allows the user to zoom the map by pinching with two fingers\n   * on a touch screen.\n   * @api\n   */\n  var PinchZoom = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function PinchZoom(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      var pointerOptions = /** @type {import(\"./Pointer.js\").Options} */ (options);\n\n      if (!pointerOptions.stopDown) {\n        pointerOptions.stopDown = FALSE;\n      }\n\n      PointerInteraction$$1.call(this, pointerOptions);\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.constrainResolution_ = options.constrainResolution || false;\n\n      /**\n       * @private\n       * @type {import(\"../coordinate.js\").Coordinate}\n       */\n      this.anchor_ = null;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 400;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.lastDistance_ = undefined;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.lastScaleDelta_ = 1;\n\n    }\n\n    if ( PointerInteraction$$1 ) PinchZoom.__proto__ = PointerInteraction$$1;\n    PinchZoom.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    PinchZoom.prototype.constructor = PinchZoom;\n\n    /**\n     * @inheritDoc\n     */\n    PinchZoom.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {\n      var scaleDelta = 1.0;\n\n      var touch0 = this.targetPointers[0];\n      var touch1 = this.targetPointers[1];\n      var dx = touch0.clientX - touch1.clientX;\n      var dy = touch0.clientY - touch1.clientY;\n\n      // distance between touches\n      var distance = Math.sqrt(dx * dx + dy * dy);\n\n      if (this.lastDistance_ !== undefined) {\n        scaleDelta = this.lastDistance_ / distance;\n      }\n      this.lastDistance_ = distance;\n\n\n      var map = mapBrowserEvent.map;\n      var view = map.getView();\n      var resolution = view.getResolution();\n      var maxResolution = view.getMaxResolution();\n      var minResolution = view.getMinResolution();\n      var newResolution = resolution * scaleDelta;\n      if (newResolution > maxResolution) {\n        scaleDelta = maxResolution / resolution;\n        newResolution = maxResolution;\n      } else if (newResolution < minResolution) {\n        scaleDelta = minResolution / resolution;\n        newResolution = minResolution;\n      }\n\n      if (scaleDelta != 1.0) {\n        this.lastScaleDelta_ = scaleDelta;\n      }\n\n      // scale anchor point.\n      var viewportPosition = map.getViewport().getBoundingClientRect();\n      var centroid$$1 = centroid(this.targetPointers);\n      centroid$$1[0] -= viewportPosition.left;\n      centroid$$1[1] -= viewportPosition.top;\n      this.anchor_ = map.getCoordinateFromPixel(centroid$$1);\n\n      // scale, bypass the resolution constraint\n      map.render();\n      zoomWithoutConstraints(view, newResolution, this.anchor_);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    PinchZoom.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n      if (this.targetPointers.length < 2) {\n        var map = mapBrowserEvent.map;\n        var view = map.getView();\n        view.setHint(ViewHint.INTERACTING, -1);\n        var resolution = view.getResolution();\n        if (this.constrainResolution_ ||\n            resolution < view.getMinResolution() ||\n            resolution > view.getMaxResolution()) {\n          // Zoom to final resolution, with an animation, and provide a\n          // direction not to zoom out/in if user was pinching in/out.\n          // Direction is > 0 if pinching out, and < 0 if pinching in.\n          var direction = this.lastScaleDelta_ - 1;\n          zoom(view, resolution, this.anchor_, this.duration_, direction);\n        }\n        return false;\n      } else {\n        return true;\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    PinchZoom.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n      if (this.targetPointers.length >= 2) {\n        var map = mapBrowserEvent.map;\n        this.anchor_ = null;\n        this.lastDistance_ = undefined;\n        this.lastScaleDelta_ = 1;\n        if (!this.handlingDownUpSequence) {\n          map.getView().setHint(ViewHint.INTERACTING, 1);\n        }\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    return PinchZoom;\n  }(PointerInteraction));\n\n  /**\n   * @module ol/interaction/DragAndDrop\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {Array<typeof import(\"../format/Feature.js\").default>} [formatConstructors] Format constructors.\n   * @property {import(\"../source/Vector.js\").default} [source] Optional vector source where features will be added.  If a source is provided\n   * all existing features will be removed and new features will be added when\n   * they are dropped on the target.  If you want to add features to a vector\n   * source without removing the existing features (append only), instead of\n   * providing the source option listen for the \"addfeatures\" event.\n   * @property {import(\"../proj.js\").ProjectionLike} [projection] Target projection. By default, the map's view's projection is used.\n   * @property {HTMLElement} [target] The element that is used as the drop target, default is the viewport element.\n   */\n\n\n  /**\n   * @enum {string}\n   */\n  var DragAndDropEventType = {\n    /**\n     * Triggered when features are added\n     * @event DragAndDropEvent#addfeatures\n     * @api\n     */\n    ADD_FEATURES: 'addfeatures'\n  };\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/interaction/DragAndDrop~DragAndDrop} instances are instances\n   * of this type.\n   */\n  var DragAndDropEvent = /*@__PURE__*/(function (Event$$1) {\n    function DragAndDropEvent(type, file, opt_features, opt_projection) {\n\n      Event$$1.call(this, type);\n\n      /**\n       * The features parsed from dropped data.\n       * @type {Array<import(\"../Feature.js\").FeatureLike>|undefined}\n       * @api\n       */\n      this.features = opt_features;\n\n      /**\n       * The dropped file.\n       * @type {File}\n       * @api\n       */\n      this.file = file;\n\n      /**\n       * The feature projection.\n       * @type {import(\"../proj/Projection.js\").default|undefined}\n       * @api\n       */\n      this.projection = opt_projection;\n\n    }\n\n    if ( Event$$1 ) DragAndDropEvent.__proto__ = Event$$1;\n    DragAndDropEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    DragAndDropEvent.prototype.constructor = DragAndDropEvent;\n\n    return DragAndDropEvent;\n  }(Event));\n\n\n  /**\n   * @classdesc\n   * Handles input of vector data by drag and drop.\n   * @api\n   *\n   * @fires DragAndDropEvent\n   */\n  var DragAndDrop = /*@__PURE__*/(function (Interaction$$1) {\n    function DragAndDrop(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      Interaction$$1.call(this, {\n        handleEvent: TRUE\n      });\n\n      /**\n       * @private\n       * @type {Array<typeof import(\"../format/Feature.js\").default>}\n       */\n      this.formatConstructors_ = options.formatConstructors ?\n        options.formatConstructors : [];\n\n      /**\n       * @private\n       * @type {import(\"../proj/Projection.js\").default}\n       */\n      this.projection_ = options.projection ?\n        get$2(options.projection) : null;\n\n      /**\n       * @private\n       * @type {Array<import(\"../events.js\").EventsKey>}\n       */\n      this.dropListenKeys_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../source/Vector.js\").default}\n       */\n      this.source_ = options.source || null;\n\n      /**\n       * @private\n       * @type {HTMLElement}\n       */\n      this.target = options.target ? options.target : null;\n\n    }\n\n    if ( Interaction$$1 ) DragAndDrop.__proto__ = Interaction$$1;\n    DragAndDrop.prototype = Object.create( Interaction$$1 && Interaction$$1.prototype );\n    DragAndDrop.prototype.constructor = DragAndDrop;\n\n    /**\n     * @param {File} file File.\n     * @param {Event} event Load event.\n     * @private\n     */\n    DragAndDrop.prototype.handleResult_ = function handleResult_ (file, event) {\n      var result = event.target.result;\n      var map = this.getMap();\n      var projection = this.projection_;\n      if (!projection) {\n        var view = map.getView();\n        projection = view.getProjection();\n      }\n\n      var formatConstructors = this.formatConstructors_;\n      var features = [];\n      for (var i = 0, ii = formatConstructors.length; i < ii; ++i) {\n        var format = new formatConstructors[i]();\n        features = this.tryReadFeatures_(format, result, {\n          featureProjection: projection\n        });\n        if (features && features.length > 0) {\n          break;\n        }\n      }\n      if (this.source_) {\n        this.source_.clear();\n        this.source_.addFeatures(features);\n      }\n      this.dispatchEvent(\n        new DragAndDropEvent(\n          DragAndDropEventType.ADD_FEATURES, file,\n          features, projection));\n    };\n\n    /**\n     * @private\n     */\n    DragAndDrop.prototype.registerListeners_ = function registerListeners_ () {\n      var map = this.getMap();\n      if (map) {\n        var dropArea = this.target ? this.target : map.getViewport();\n        this.dropListenKeys_ = [\n          listen(dropArea, EventType.DROP, handleDrop, this),\n          listen(dropArea, EventType.DRAGENTER, handleStop, this),\n          listen(dropArea, EventType.DRAGOVER, handleStop, this),\n          listen(dropArea, EventType.DROP, handleStop, this)\n        ];\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    DragAndDrop.prototype.setActive = function setActive (active) {\n      Interaction$$1.prototype.setActive.call(this, active);\n      if (active) {\n        this.registerListeners_();\n      } else {\n        this.unregisterListeners_();\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    DragAndDrop.prototype.setMap = function setMap (map) {\n      this.unregisterListeners_();\n      Interaction$$1.prototype.setMap.call(this, map);\n      if (this.getActive()) {\n        this.registerListeners_();\n      }\n    };\n\n    /**\n     * @param {import(\"../format/Feature.js\").default} format Format.\n     * @param {string} text Text.\n     * @param {import(\"../format/Feature.js\").ReadOptions} options Read options.\n     * @private\n     * @return {Array<import(\"../Feature.js\").FeatureLike>} Features.\n     */\n    DragAndDrop.prototype.tryReadFeatures_ = function tryReadFeatures_ (format, text, options) {\n      try {\n        return format.readFeatures(text, options);\n      } catch (e) {\n        return null;\n      }\n    };\n\n    /**\n     * @private\n     */\n    DragAndDrop.prototype.unregisterListeners_ = function unregisterListeners_ () {\n      if (this.dropListenKeys_) {\n        this.dropListenKeys_.forEach(unlistenByKey);\n        this.dropListenKeys_ = null;\n      }\n    };\n\n    return DragAndDrop;\n  }(Interaction));\n\n\n  /**\n   * @param {DragEvent} event Event.\n   * @this {DragAndDrop}\n   */\n  function handleDrop(event) {\n    var files = event.dataTransfer.files;\n    for (var i = 0, ii = files.length; i < ii; ++i) {\n      var file = files.item(i);\n      var reader = new FileReader();\n      reader.addEventListener(EventType.LOAD, this.handleResult_.bind(this, file));\n      reader.readAsText(file);\n    }\n  }\n\n\n  /**\n   * @param {DragEvent} event Event.\n   */\n  function handleStop(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    event.dataTransfer.dropEffect = 'copy';\n  }\n\n  /**\n   * @module ol/interaction/DragRotateAndZoom\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n   * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled.\n   * Default is {@link module:ol/events/condition~shiftKeyOnly}.\n   * @property {number} [duration=400] Animation duration in milliseconds.\n   */\n\n\n  /**\n   * @classdesc\n   * Allows the user to zoom and rotate the map by clicking and dragging\n   * on the map.  By default, this interaction is limited to when the shift\n   * key is held down.\n   *\n   * This interaction is only supported for mouse devices.\n   *\n   * And this interaction is not included in the default interactions.\n   * @api\n   */\n  var DragRotateAndZoom = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function DragRotateAndZoom(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      PointerInteraction$$1.call(/** @type {import(\"./Pointer.js\").Options} */ this, (options));\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.condition_ = options.condition ? options.condition : shiftKeyOnly;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.lastAngle_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.lastMagnitude_ = undefined;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.lastScaleDelta_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 400;\n\n    }\n\n    if ( PointerInteraction$$1 ) DragRotateAndZoom.__proto__ = PointerInteraction$$1;\n    DragRotateAndZoom.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    DragRotateAndZoom.prototype.constructor = DragRotateAndZoom;\n\n    /**\n     * @inheritDoc\n     */\n    DragRotateAndZoom.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {\n      if (!mouseOnly(mapBrowserEvent)) {\n        return;\n      }\n\n      var map = mapBrowserEvent.map;\n      var size = map.getSize();\n      var offset = mapBrowserEvent.pixel;\n      var deltaX = offset[0] - size[0] / 2;\n      var deltaY = size[1] / 2 - offset[1];\n      var theta = Math.atan2(deltaY, deltaX);\n      var magnitude = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n      var view = map.getView();\n      if (view.getConstraints().rotation !== disable && this.lastAngle_ !== undefined) {\n        var angleDelta = theta - this.lastAngle_;\n        rotateWithoutConstraints(view, view.getRotation() - angleDelta);\n      }\n      this.lastAngle_ = theta;\n      if (this.lastMagnitude_ !== undefined) {\n        var resolution = this.lastMagnitude_ * (view.getResolution() / magnitude);\n        zoomWithoutConstraints(view, resolution);\n      }\n      if (this.lastMagnitude_ !== undefined) {\n        this.lastScaleDelta_ = this.lastMagnitude_ / magnitude;\n      }\n      this.lastMagnitude_ = magnitude;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    DragRotateAndZoom.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n      if (!mouseOnly(mapBrowserEvent)) {\n        return true;\n      }\n\n      var map = mapBrowserEvent.map;\n      var view = map.getView();\n      view.setHint(ViewHint.INTERACTING, -1);\n      var direction = this.lastScaleDelta_ - 1;\n      rotate$3(view, view.getRotation());\n      zoom(view, view.getResolution(), undefined, this.duration_, direction);\n      this.lastScaleDelta_ = 0;\n      return false;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    DragRotateAndZoom.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n      if (!mouseOnly(mapBrowserEvent)) {\n        return false;\n      }\n\n      if (this.condition_(mapBrowserEvent)) {\n        mapBrowserEvent.map.getView().setHint(ViewHint.INTERACTING, 1);\n        this.lastAngle_ = undefined;\n        this.lastMagnitude_ = undefined;\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    return DragRotateAndZoom;\n  }(PointerInteraction));\n\n  /**\n   * @module ol/Feature\n   */\n\n  /**\n   * @typedef {typeof Feature|typeof import(\"./render/Feature.js\").default} FeatureClass\n   */\n\n  /**\n   * @typedef {Feature|import(\"./render/Feature.js\").default} FeatureLike\n   */\n\n  /**\n   * @classdesc\n   * A vector object for geographic features with a geometry and other\n   * attribute properties, similar to the features in vector file formats like\n   * GeoJSON.\n   *\n   * Features can be styled individually with `setStyle`; otherwise they use the\n   * style of their vector layer.\n   *\n   * Note that attribute properties are set as {@link module:ol/Object} properties on\n   * the feature object, so they are observable, and have get/set accessors.\n   *\n   * Typically, a feature has a single geometry property. You can set the\n   * geometry using the `setGeometry` method and get it with `getGeometry`.\n   * It is possible to store more than one geometry on a feature using attribute\n   * properties. By default, the geometry used for rendering is identified by\n   * the property name `geometry`. If you want to use another geometry property\n   * for rendering, use the `setGeometryName` method to change the attribute\n   * property associated with the geometry for the feature.  For example:\n   *\n   * ```js\n   *\n   * import Feature from 'ol/Feature';\n   * import Polygon from 'ol/geom/Polygon';\n   * import Point from 'ol/geom/Point';\n   *\n   * var feature = new Feature({\n   *   geometry: new Polygon(polyCoords),\n   *   labelPoint: new Point(labelCoords),\n   *   name: 'My Polygon'\n   * });\n   *\n   * // get the polygon geometry\n   * var poly = feature.getGeometry();\n   *\n   * // Render the feature as a point using the coordinates from labelPoint\n   * feature.setGeometryName('labelPoint');\n   *\n   * // get the point geometry\n   * var point = feature.getGeometry();\n   * ```\n   *\n   * @api\n   */\n  var Feature = /*@__PURE__*/(function (BaseObject$$1) {\n    function Feature(opt_geometryOrProperties) {\n\n      BaseObject$$1.call(this);\n\n      /**\n       * @private\n       * @type {number|string|undefined}\n       */\n      this.id_ = undefined;\n\n      /**\n       * @type {string}\n       * @private\n       */\n      this.geometryName_ = 'geometry';\n\n      /**\n       * User provided style.\n       * @private\n       * @type {import(\"./style/Style.js\").StyleLike}\n       */\n      this.style_ = null;\n\n      /**\n       * @private\n       * @type {import(\"./style/Style.js\").StyleFunction|undefined}\n       */\n      this.styleFunction_ = undefined;\n\n      /**\n       * @private\n       * @type {?import(\"./events.js\").EventsKey}\n       */\n      this.geometryChangeKey_ = null;\n\n      listen(\n        this, getChangeEventType(this.geometryName_),\n        this.handleGeometryChanged_, this);\n\n      if (opt_geometryOrProperties) {\n        if (typeof /** @type {?} */ (opt_geometryOrProperties).getSimplifiedGeometry === 'function') {\n          var geometry = /** @type {import(\"./geom/Geometry.js\").default} */ (opt_geometryOrProperties);\n          this.setGeometry(geometry);\n        } else {\n          /** @type {Object<string, *>} */\n          var properties = opt_geometryOrProperties;\n          this.setProperties(properties);\n        }\n      }\n    }\n\n    if ( BaseObject$$1 ) Feature.__proto__ = BaseObject$$1;\n    Feature.prototype = Object.create( BaseObject$$1 && BaseObject$$1.prototype );\n    Feature.prototype.constructor = Feature;\n\n    /**\n     * Clone this feature. If the original feature has a geometry it\n     * is also cloned. The feature id is not set in the clone.\n     * @return {Feature} The clone.\n     * @api\n     */\n    Feature.prototype.clone = function clone () {\n      var clone = new Feature(this.getProperties());\n      clone.setGeometryName(this.getGeometryName());\n      var geometry = this.getGeometry();\n      if (geometry) {\n        clone.setGeometry(geometry.clone());\n      }\n      var style = this.getStyle();\n      if (style) {\n        clone.setStyle(style);\n      }\n      return clone;\n    };\n\n    /**\n     * Get the feature's default geometry.  A feature may have any number of named\n     * geometries.  The \"default\" geometry (the one that is rendered by default) is\n     * set when calling {@link module:ol/Feature~Feature#setGeometry}.\n     * @return {import(\"./geom/Geometry.js\").default|undefined} The default geometry for the feature.\n     * @api\n     * @observable\n     */\n    Feature.prototype.getGeometry = function getGeometry () {\n      return (\n        /** @type {import(\"./geom/Geometry.js\").default|undefined} */ (this.get(this.geometryName_))\n      );\n    };\n\n    /**\n     * Get the feature identifier.  This is a stable identifier for the feature and\n     * is either set when reading data from a remote source or set explicitly by\n     * calling {@link module:ol/Feature~Feature#setId}.\n     * @return {number|string|undefined} Id.\n     * @api\n     */\n    Feature.prototype.getId = function getId () {\n      return this.id_;\n    };\n\n    /**\n     * Get the name of the feature's default geometry.  By default, the default\n     * geometry is named `geometry`.\n     * @return {string} Get the property name associated with the default geometry\n     *     for this feature.\n     * @api\n     */\n    Feature.prototype.getGeometryName = function getGeometryName () {\n      return this.geometryName_;\n    };\n\n    /**\n     * Get the feature's style. Will return what was provided to the\n     * {@link module:ol/Feature~Feature#setStyle} method.\n     * @return {import(\"./style/Style.js\").StyleLike} The feature style.\n     * @api\n     */\n    Feature.prototype.getStyle = function getStyle () {\n      return this.style_;\n    };\n\n    /**\n     * Get the feature's style function.\n     * @return {import(\"./style/Style.js\").StyleFunction|undefined} Return a function\n     * representing the current style of this feature.\n     * @api\n     */\n    Feature.prototype.getStyleFunction = function getStyleFunction () {\n      return this.styleFunction_;\n    };\n\n    /**\n     * @private\n     */\n    Feature.prototype.handleGeometryChange_ = function handleGeometryChange_ () {\n      this.changed();\n    };\n\n    /**\n     * @private\n     */\n    Feature.prototype.handleGeometryChanged_ = function handleGeometryChanged_ () {\n      if (this.geometryChangeKey_) {\n        unlistenByKey(this.geometryChangeKey_);\n        this.geometryChangeKey_ = null;\n      }\n      var geometry = this.getGeometry();\n      if (geometry) {\n        this.geometryChangeKey_ = listen(geometry,\n          EventType.CHANGE, this.handleGeometryChange_, this);\n      }\n      this.changed();\n    };\n\n    /**\n     * Set the default geometry for the feature.  This will update the property\n     * with the name returned by {@link module:ol/Feature~Feature#getGeometryName}.\n     * @param {import(\"./geom/Geometry.js\").default|undefined} geometry The new geometry.\n     * @api\n     * @observable\n     */\n    Feature.prototype.setGeometry = function setGeometry (geometry) {\n      this.set(this.geometryName_, geometry);\n    };\n\n    /**\n     * Set the style for the feature.  This can be a single style object, an array\n     * of styles, or a function that takes a resolution and returns an array of\n     * styles. If it is `null` the feature has no style (a `null` style).\n     * @param {import(\"./style/Style.js\").StyleLike} style Style for this feature.\n     * @api\n     * @fires module:ol/events/Event~Event#event:change\n     */\n    Feature.prototype.setStyle = function setStyle (style) {\n      this.style_ = style;\n      this.styleFunction_ = !style ? undefined : createStyleFunction(style);\n      this.changed();\n    };\n\n    /**\n     * Set the feature id.  The feature id is considered stable and may be used when\n     * requesting features or comparing identifiers returned from a remote source.\n     * The feature id can be used with the\n     * {@link module:ol/source/Vector~VectorSource#getFeatureById} method.\n     * @param {number|string|undefined} id The feature id.\n     * @api\n     * @fires module:ol/events/Event~Event#event:change\n     */\n    Feature.prototype.setId = function setId (id) {\n      this.id_ = id;\n      this.changed();\n    };\n\n    /**\n     * Set the property name to be used when getting the feature's default geometry.\n     * When calling {@link module:ol/Feature~Feature#getGeometry}, the value of the property with\n     * this name will be returned.\n     * @param {string} name The property name of the default geometry.\n     * @api\n     */\n    Feature.prototype.setGeometryName = function setGeometryName (name) {\n      unlisten(\n        this, getChangeEventType(this.geometryName_),\n        this.handleGeometryChanged_, this);\n      this.geometryName_ = name;\n      listen(\n        this, getChangeEventType(this.geometryName_),\n        this.handleGeometryChanged_, this);\n      this.handleGeometryChanged_();\n    };\n\n    return Feature;\n  }(BaseObject));\n\n\n  /**\n   * Convert the provided object into a feature style function.  Functions passed\n   * through unchanged.  Arrays of Style or single style objects wrapped\n   * in a new feature style function.\n   * @param {!import(\"./style/Style.js\").StyleFunction|!Array<import(\"./style/Style.js\").default>|!import(\"./style/Style.js\").default} obj\n   *     A feature style function, a single style, or an array of styles.\n   * @return {import(\"./style/Style.js\").StyleFunction} A style function.\n   */\n  function createStyleFunction(obj) {\n    if (typeof obj === 'function') {\n      return obj;\n    } else {\n      /**\n       * @type {Array<import(\"./style/Style.js\").default>}\n       */\n      var styles;\n      if (Array.isArray(obj)) {\n        styles = obj;\n      } else {\n        assert(typeof /** @type {?} */ (obj).getZIndex === 'function',\n          41); // Expected an `import(\"./style/Style.js\").Style` or an array of `import(\"./style/Style.js\").Style`\n        var style = /** @type {import(\"./style/Style.js\").default} */ (obj);\n        styles = [style];\n      }\n      return function() {\n        return styles;\n      };\n    }\n  }\n\n  /**\n   * @module ol/geom/Circle\n   */\n\n  /**\n   * @classdesc\n   * Circle geometry.\n   *\n   * @api\n   */\n  var Circle = /*@__PURE__*/(function (SimpleGeometry$$1) {\n    function Circle(center, opt_radius, opt_layout) {\n      SimpleGeometry$$1.call(this);\n      if (opt_layout !== undefined && opt_radius === undefined) {\n        this.setFlatCoordinates(opt_layout, center);\n      } else {\n        var radius = opt_radius ? opt_radius : 0;\n        this.setCenterAndRadius(center, radius, opt_layout);\n      }\n    }\n\n    if ( SimpleGeometry$$1 ) Circle.__proto__ = SimpleGeometry$$1;\n    Circle.prototype = Object.create( SimpleGeometry$$1 && SimpleGeometry$$1.prototype );\n    Circle.prototype.constructor = Circle;\n\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!Circle} Clone.\n     * @override\n     * @api\n     */\n    Circle.prototype.clone = function clone$$1 () {\n      return new Circle(this.flatCoordinates.slice(), undefined, this.layout);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Circle.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n      var flatCoordinates = this.flatCoordinates;\n      var dx = x - flatCoordinates[0];\n      var dy = y - flatCoordinates[1];\n      var squaredDistance = dx * dx + dy * dy;\n      if (squaredDistance < minSquaredDistance) {\n        if (squaredDistance === 0) {\n          for (var i = 0; i < this.stride; ++i) {\n            closestPoint[i] = flatCoordinates[i];\n          }\n        } else {\n          var delta = this.getRadius() / Math.sqrt(squaredDistance);\n          closestPoint[0] = flatCoordinates[0] + delta * dx;\n          closestPoint[1] = flatCoordinates[1] + delta * dy;\n          for (var i$1 = 2; i$1 < this.stride; ++i$1) {\n            closestPoint[i$1] = flatCoordinates[i$1];\n          }\n        }\n        closestPoint.length = this.stride;\n        return squaredDistance;\n      } else {\n        return minSquaredDistance;\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Circle.prototype.containsXY = function containsXY$$1 (x, y) {\n      var flatCoordinates = this.flatCoordinates;\n      var dx = x - flatCoordinates[0];\n      var dy = y - flatCoordinates[1];\n      return dx * dx + dy * dy <= this.getRadiusSquared_();\n    };\n\n    /**\n     * Return the center of the circle as {@link module:ol/coordinate~Coordinate coordinate}.\n     * @return {import(\"../coordinate.js\").Coordinate} Center.\n     * @api\n     */\n    Circle.prototype.getCenter = function getCenter$$1 () {\n      return this.flatCoordinates.slice(0, this.stride);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Circle.prototype.computeExtent = function computeExtent (extent) {\n      var flatCoordinates = this.flatCoordinates;\n      var radius = flatCoordinates[this.stride] - flatCoordinates[0];\n      return createOrUpdate(\n        flatCoordinates[0] - radius, flatCoordinates[1] - radius,\n        flatCoordinates[0] + radius, flatCoordinates[1] + radius,\n        extent);\n    };\n\n    /**\n     * Return the radius of the circle.\n     * @return {number} Radius.\n     * @api\n     */\n    Circle.prototype.getRadius = function getRadius () {\n      return Math.sqrt(this.getRadiusSquared_());\n    };\n\n    /**\n     * @private\n     * @return {number} Radius squared.\n     */\n    Circle.prototype.getRadiusSquared_ = function getRadiusSquared_ () {\n      var dx = this.flatCoordinates[this.stride] - this.flatCoordinates[0];\n      var dy = this.flatCoordinates[this.stride + 1] - this.flatCoordinates[1];\n      return dx * dx + dy * dy;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    Circle.prototype.getType = function getType () {\n      return GeometryType.CIRCLE;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    Circle.prototype.intersectsExtent = function intersectsExtent (extent) {\n      var circleExtent = this.getExtent();\n      if (intersects(extent, circleExtent)) {\n        var center = this.getCenter();\n\n        if (extent[0] <= center[0] && extent[2] >= center[0]) {\n          return true;\n        }\n        if (extent[1] <= center[1] && extent[3] >= center[1]) {\n          return true;\n        }\n\n        return forEachCorner(extent, this.intersectsCoordinate, this);\n      }\n      return false;\n\n    };\n\n    /**\n     * Set the center of the circle as {@link module:ol/coordinate~Coordinate coordinate}.\n     * @param {import(\"../coordinate.js\").Coordinate} center Center.\n     * @api\n     */\n    Circle.prototype.setCenter = function setCenter (center) {\n      var stride = this.stride;\n      var radius = this.flatCoordinates[stride] - this.flatCoordinates[0];\n      var flatCoordinates = center.slice();\n      flatCoordinates[stride] = flatCoordinates[0] + radius;\n      for (var i = 1; i < stride; ++i) {\n        flatCoordinates[stride + i] = center[i];\n      }\n      this.setFlatCoordinates(this.layout, flatCoordinates);\n      this.changed();\n    };\n\n    /**\n     * Set the center (as {@link module:ol/coordinate~Coordinate coordinate}) and the radius (as\n     * number) of the circle.\n     * @param {!import(\"../coordinate.js\").Coordinate} center Center.\n     * @param {number} radius Radius.\n     * @param {import(\"./GeometryLayout.js\").default=} opt_layout Layout.\n     * @api\n     */\n    Circle.prototype.setCenterAndRadius = function setCenterAndRadius (center, radius, opt_layout) {\n      this.setLayout(opt_layout, center, 0);\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = [];\n      }\n      /** @type {Array<number>} */\n      var flatCoordinates = this.flatCoordinates;\n      var offset = deflateCoordinate(\n        flatCoordinates, 0, center, this.stride);\n      flatCoordinates[offset++] = flatCoordinates[0] + radius;\n      for (var i = 1, ii = this.stride; i < ii; ++i) {\n        flatCoordinates[offset++] = flatCoordinates[i];\n      }\n      flatCoordinates.length = offset;\n      this.changed();\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Circle.prototype.getCoordinates = function getCoordinates () {\n      return null;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Circle.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {};\n\n    /**\n     * Set the radius of the circle. The radius is in the units of the projection.\n     * @param {number} radius Radius.\n     * @api\n     */\n    Circle.prototype.setRadius = function setRadius (radius) {\n      this.flatCoordinates[this.stride] = this.flatCoordinates[0] + radius;\n      this.changed();\n    };\n\n    return Circle;\n  }(SimpleGeometry));\n\n\n  /**\n   * Transform each coordinate of the circle from one coordinate reference system\n   * to another. The geometry is modified in place.\n   * If you do not want the geometry modified in place, first clone() it and\n   * then use this function on the clone.\n   *\n   * Internally a circle is currently represented by two points: the center of\n   * the circle `[cx, cy]`, and the point to the right of the circle\n   * `[cx + r, cy]`. This `transform` function just transforms these two points.\n   * So the resulting geometry is also a circle, and that circle does not\n   * correspond to the shape that would be obtained by transforming every point\n   * of the original circle.\n   *\n   * @param {import(\"../proj.js\").ProjectionLike} source The current projection.  Can be a\n   *     string identifier or a {@link module:ol/proj/Projection~Projection} object.\n   * @param {import(\"../proj.js\").ProjectionLike} destination The desired projection.  Can be a\n   *     string identifier or a {@link module:ol/proj/Projection~Projection} object.\n   * @return {Circle} This geometry.  Note that original geometry is\n   *     modified in place.\n   * @function\n   * @api\n   */\n  Circle.prototype.transform;\n\n  /**\n   * @module ol/geom/flat/interpolate\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {number} fraction Fraction.\n   * @param {Array<number>=} opt_dest Destination.\n   * @return {Array<number>} Destination.\n   */\n  function interpolatePoint(flatCoordinates, offset, end, stride, fraction, opt_dest) {\n    var pointX = NaN;\n    var pointY = NaN;\n    var n = (end - offset) / stride;\n    if (n === 1) {\n      pointX = flatCoordinates[offset];\n      pointY = flatCoordinates[offset + 1];\n    } else if (n == 2) {\n      pointX = (1 - fraction) * flatCoordinates[offset] +\n          fraction * flatCoordinates[offset + stride];\n      pointY = (1 - fraction) * flatCoordinates[offset + 1] +\n          fraction * flatCoordinates[offset + stride + 1];\n    } else if (n !== 0) {\n      var x1 = flatCoordinates[offset];\n      var y1 = flatCoordinates[offset + 1];\n      var length = 0;\n      var cumulativeLengths = [0];\n      for (var i = offset + stride; i < end; i += stride) {\n        var x2 = flatCoordinates[i];\n        var y2 = flatCoordinates[i + 1];\n        length += Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n        cumulativeLengths.push(length);\n        x1 = x2;\n        y1 = y2;\n      }\n      var target = fraction * length;\n      var index = binarySearch(cumulativeLengths, target);\n      if (index < 0) {\n        var t = (target - cumulativeLengths[-index - 2]) /\n            (cumulativeLengths[-index - 1] - cumulativeLengths[-index - 2]);\n        var o = offset + (-index - 2) * stride;\n        pointX = lerp(\n          flatCoordinates[o], flatCoordinates[o + stride], t);\n        pointY = lerp(\n          flatCoordinates[o + 1], flatCoordinates[o + stride + 1], t);\n      } else {\n        pointX = flatCoordinates[offset + index * stride];\n        pointY = flatCoordinates[offset + index * stride + 1];\n      }\n    }\n    if (opt_dest) {\n      opt_dest[0] = pointX;\n      opt_dest[1] = pointY;\n      return opt_dest;\n    } else {\n      return [pointX, pointY];\n    }\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {number} m M.\n   * @param {boolean} extrapolate Extrapolate.\n   * @return {import(\"../../coordinate.js\").Coordinate} Coordinate.\n   */\n  function lineStringCoordinateAtM(flatCoordinates, offset, end, stride, m, extrapolate) {\n    if (end == offset) {\n      return null;\n    }\n    var coordinate;\n    if (m < flatCoordinates[offset + stride - 1]) {\n      if (extrapolate) {\n        coordinate = flatCoordinates.slice(offset, offset + stride);\n        coordinate[stride - 1] = m;\n        return coordinate;\n      } else {\n        return null;\n      }\n    } else if (flatCoordinates[end - 1] < m) {\n      if (extrapolate) {\n        coordinate = flatCoordinates.slice(end - stride, end);\n        coordinate[stride - 1] = m;\n        return coordinate;\n      } else {\n        return null;\n      }\n    }\n    // FIXME use O(1) search\n    if (m == flatCoordinates[offset + stride - 1]) {\n      return flatCoordinates.slice(offset, offset + stride);\n    }\n    var lo = offset / stride;\n    var hi = end / stride;\n    while (lo < hi) {\n      var mid = (lo + hi) >> 1;\n      if (m < flatCoordinates[(mid + 1) * stride - 1]) {\n        hi = mid;\n      } else {\n        lo = mid + 1;\n      }\n    }\n    var m0 = flatCoordinates[lo * stride - 1];\n    if (m == m0) {\n      return flatCoordinates.slice((lo - 1) * stride, (lo - 1) * stride + stride);\n    }\n    var m1 = flatCoordinates[(lo + 1) * stride - 1];\n    var t = (m - m0) / (m1 - m0);\n    coordinate = [];\n    for (var i = 0; i < stride - 1; ++i) {\n      coordinate.push(lerp(flatCoordinates[(lo - 1) * stride + i],\n        flatCoordinates[lo * stride + i], t));\n    }\n    coordinate.push(m);\n    return coordinate;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {number} m M.\n   * @param {boolean} extrapolate Extrapolate.\n   * @param {boolean} interpolate Interpolate.\n   * @return {import(\"../../coordinate.js\").Coordinate} Coordinate.\n   */\n  function lineStringsCoordinateAtM(\n    flatCoordinates, offset, ends, stride, m, extrapolate, interpolate) {\n    if (interpolate) {\n      return lineStringCoordinateAtM(\n        flatCoordinates, offset, ends[ends.length - 1], stride, m, extrapolate);\n    }\n    var coordinate;\n    if (m < flatCoordinates[stride - 1]) {\n      if (extrapolate) {\n        coordinate = flatCoordinates.slice(0, stride);\n        coordinate[stride - 1] = m;\n        return coordinate;\n      } else {\n        return null;\n      }\n    }\n    if (flatCoordinates[flatCoordinates.length - 1] < m) {\n      if (extrapolate) {\n        coordinate = flatCoordinates.slice(flatCoordinates.length - stride);\n        coordinate[stride - 1] = m;\n        return coordinate;\n      } else {\n        return null;\n      }\n    }\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n      var end = ends[i];\n      if (offset == end) {\n        continue;\n      }\n      if (m < flatCoordinates[offset + stride - 1]) {\n        return null;\n      } else if (m <= flatCoordinates[end - 1]) {\n        return lineStringCoordinateAtM(\n          flatCoordinates, offset, end, stride, m, false);\n      }\n      offset = end;\n    }\n    return null;\n  }\n\n  /**\n   * @module ol/geom/flat/length\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @return {number} Length.\n   */\n  function lineStringLength(flatCoordinates, offset, end, stride) {\n    var x1 = flatCoordinates[offset];\n    var y1 = flatCoordinates[offset + 1];\n    var length = 0;\n    for (var i = offset + stride; i < end; i += stride) {\n      var x2 = flatCoordinates[i];\n      var y2 = flatCoordinates[i + 1];\n      length += Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n      x1 = x2;\n      y1 = y2;\n    }\n    return length;\n  }\n\n  /**\n   * @module ol/geom/LineString\n   */\n\n  /**\n   * @classdesc\n   * Linestring geometry.\n   *\n   * @api\n   */\n  var LineString = /*@__PURE__*/(function (SimpleGeometry$$1) {\n    function LineString(coordinates, opt_layout) {\n\n      SimpleGeometry$$1.call(this);\n\n      /**\n       * @private\n       * @type {import(\"../coordinate.js\").Coordinate}\n       */\n      this.flatMidpoint_ = null;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.flatMidpointRevision_ = -1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxDelta_ = -1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxDeltaRevision_ = -1;\n\n      if (opt_layout !== undefined && !Array.isArray(coordinates[0])) {\n        this.setFlatCoordinates(opt_layout, /** @type {Array<number>} */ (coordinates));\n      } else {\n        this.setCoordinates(/** @type {Array<import(\"../coordinate.js\").Coordinate>} */ (coordinates), opt_layout);\n      }\n\n    }\n\n    if ( SimpleGeometry$$1 ) LineString.__proto__ = SimpleGeometry$$1;\n    LineString.prototype = Object.create( SimpleGeometry$$1 && SimpleGeometry$$1.prototype );\n    LineString.prototype.constructor = LineString;\n\n    /**\n     * Append the passed coordinate to the coordinates of the linestring.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @api\n     */\n    LineString.prototype.appendCoordinate = function appendCoordinate (coordinate) {\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = coordinate.slice();\n      } else {\n        extend(this.flatCoordinates, coordinate);\n      }\n      this.changed();\n    };\n\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!LineString} Clone.\n     * @override\n     * @api\n     */\n    LineString.prototype.clone = function clone$$1 () {\n      return new LineString(this.flatCoordinates.slice(), this.layout);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    LineString.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n      if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n        return minSquaredDistance;\n      }\n      if (this.maxDeltaRevision_ != this.getRevision()) {\n        this.maxDelta_ = Math.sqrt(maxSquaredDelta(\n          this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, 0));\n        this.maxDeltaRevision_ = this.getRevision();\n      }\n      return assignClosestPoint(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride,\n        this.maxDelta_, false, x, y, closestPoint, minSquaredDistance);\n    };\n\n    /**\n     * Iterate over each segment, calling the provided callback.\n     * If the callback returns a truthy value the function returns that\n     * value immediately. Otherwise the function returns `false`.\n     *\n     * @param {function(this: S, import(\"../coordinate.js\").Coordinate, import(\"../coordinate.js\").Coordinate): T} callback Function\n     *     called for each segment.\n     * @return {T|boolean} Value.\n     * @template T,S\n     * @api\n     */\n    LineString.prototype.forEachSegment = function forEachSegment$1 (callback) {\n      return forEach(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, callback);\n    };\n\n    /**\n     * Returns the coordinate at `m` using linear interpolation, or `null` if no\n     * such coordinate exists.\n     *\n     * `opt_extrapolate` controls extrapolation beyond the range of Ms in the\n     * MultiLineString. If `opt_extrapolate` is `true` then Ms less than the first\n     * M will return the first coordinate and Ms greater than the last M will\n     * return the last coordinate.\n     *\n     * @param {number} m M.\n     * @param {boolean=} opt_extrapolate Extrapolate. Default is `false`.\n     * @return {import(\"../coordinate.js\").Coordinate} Coordinate.\n     * @api\n     */\n    LineString.prototype.getCoordinateAtM = function getCoordinateAtM (m, opt_extrapolate) {\n      if (this.layout != GeometryLayout.XYM &&\n          this.layout != GeometryLayout.XYZM) {\n        return null;\n      }\n      var extrapolate = opt_extrapolate !== undefined ? opt_extrapolate : false;\n      return lineStringCoordinateAtM(this.flatCoordinates, 0,\n        this.flatCoordinates.length, this.stride, m, extrapolate);\n    };\n\n    /**\n     * Return the coordinates of the linestring.\n     * @return {Array<import(\"../coordinate.js\").Coordinate>} Coordinates.\n     * @override\n     * @api\n     */\n    LineString.prototype.getCoordinates = function getCoordinates () {\n      return inflateCoordinates(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n\n    /**\n     * Return the coordinate at the provided fraction along the linestring.\n     * The `fraction` is a number between 0 and 1, where 0 is the start of the\n     * linestring and 1 is the end.\n     * @param {number} fraction Fraction.\n     * @param {import(\"../coordinate.js\").Coordinate=} opt_dest Optional coordinate whose values will\n     *     be modified. If not provided, a new coordinate will be returned.\n     * @return {import(\"../coordinate.js\").Coordinate} Coordinate of the interpolated point.\n     * @api\n     */\n    LineString.prototype.getCoordinateAt = function getCoordinateAt (fraction, opt_dest) {\n      return interpolatePoint(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride,\n        fraction, opt_dest);\n    };\n\n    /**\n     * Return the length of the linestring on projected plane.\n     * @return {number} Length (on projected plane).\n     * @api\n     */\n    LineString.prototype.getLength = function getLength () {\n      return lineStringLength(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n\n    /**\n     * @return {Array<number>} Flat midpoint.\n     */\n    LineString.prototype.getFlatMidpoint = function getFlatMidpoint () {\n      if (this.flatMidpointRevision_ != this.getRevision()) {\n        this.flatMidpoint_ = this.getCoordinateAt(0.5, this.flatMidpoint_);\n        this.flatMidpointRevision_ = this.getRevision();\n      }\n      return this.flatMidpoint_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    LineString.prototype.getSimplifiedGeometryInternal = function getSimplifiedGeometryInternal (squaredTolerance) {\n      var simplifiedFlatCoordinates = [];\n      simplifiedFlatCoordinates.length = douglasPeucker(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride,\n        squaredTolerance, simplifiedFlatCoordinates, 0);\n      return new LineString(simplifiedFlatCoordinates, GeometryLayout.XY);\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    LineString.prototype.getType = function getType () {\n      return GeometryType.LINE_STRING;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    LineString.prototype.intersectsExtent = function intersectsExtent (extent) {\n      return intersectsLineString(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride,\n        extent);\n    };\n\n    /**\n     * Set the coordinates of the linestring.\n     * @param {!Array<import(\"../coordinate.js\").Coordinate>} coordinates Coordinates.\n     * @param {GeometryLayout=} opt_layout Layout.\n     * @override\n     * @api\n     */\n    LineString.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {\n      this.setLayout(opt_layout, coordinates, 1);\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = [];\n      }\n      this.flatCoordinates.length = deflateCoordinates(\n        this.flatCoordinates, 0, coordinates, this.stride);\n      this.changed();\n    };\n\n    return LineString;\n  }(SimpleGeometry));\n\n  /**\n   * @module ol/geom/MultiLineString\n   */\n\n  /**\n   * @classdesc\n   * Multi-linestring geometry.\n   *\n   * @api\n   */\n  var MultiLineString = /*@__PURE__*/(function (SimpleGeometry$$1) {\n    function MultiLineString(coordinates, opt_layout, opt_ends) {\n\n      SimpleGeometry$$1.call(this);\n\n      /**\n       * @type {Array<number>}\n       * @private\n       */\n      this.ends_ = [];\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxDelta_ = -1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxDeltaRevision_ = -1;\n\n      if (Array.isArray(coordinates[0])) {\n        this.setCoordinates(/** @type {Array<Array<import(\"../coordinate.js\").Coordinate>>} */ (coordinates), opt_layout);\n      } else if (opt_layout !== undefined && opt_ends) {\n        this.setFlatCoordinates(opt_layout, /** @type {Array<number>} */ (coordinates));\n        this.ends_ = opt_ends;\n      } else {\n        var layout = this.getLayout();\n        var lineStrings = /** @type {Array<LineString>} */ (coordinates);\n        var flatCoordinates = [];\n        var ends = [];\n        for (var i = 0, ii = lineStrings.length; i < ii; ++i) {\n          var lineString = lineStrings[i];\n          if (i === 0) {\n            layout = lineString.getLayout();\n          }\n          extend(flatCoordinates, lineString.getFlatCoordinates());\n          ends.push(flatCoordinates.length);\n        }\n        this.setFlatCoordinates(layout, flatCoordinates);\n        this.ends_ = ends;\n      }\n\n    }\n\n    if ( SimpleGeometry$$1 ) MultiLineString.__proto__ = SimpleGeometry$$1;\n    MultiLineString.prototype = Object.create( SimpleGeometry$$1 && SimpleGeometry$$1.prototype );\n    MultiLineString.prototype.constructor = MultiLineString;\n\n    /**\n     * Append the passed linestring to the multilinestring.\n     * @param {LineString} lineString LineString.\n     * @api\n     */\n    MultiLineString.prototype.appendLineString = function appendLineString (lineString) {\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = lineString.getFlatCoordinates().slice();\n      } else {\n        extend(this.flatCoordinates, lineString.getFlatCoordinates().slice());\n      }\n      this.ends_.push(this.flatCoordinates.length);\n      this.changed();\n    };\n\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!MultiLineString} Clone.\n     * @override\n     * @api\n     */\n    MultiLineString.prototype.clone = function clone$$1 () {\n      return new MultiLineString(this.flatCoordinates.slice(), this.layout, this.ends_.slice());\n    };\n\n    /**\n     * @inheritDoc\n     */\n    MultiLineString.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n      if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n        return minSquaredDistance;\n      }\n      if (this.maxDeltaRevision_ != this.getRevision()) {\n        this.maxDelta_ = Math.sqrt(arrayMaxSquaredDelta(\n          this.flatCoordinates, 0, this.ends_, this.stride, 0));\n        this.maxDeltaRevision_ = this.getRevision();\n      }\n      return assignClosestArrayPoint(\n        this.flatCoordinates, 0, this.ends_, this.stride,\n        this.maxDelta_, false, x, y, closestPoint, minSquaredDistance);\n    };\n\n    /**\n     * Returns the coordinate at `m` using linear interpolation, or `null` if no\n     * such coordinate exists.\n     *\n     * `opt_extrapolate` controls extrapolation beyond the range of Ms in the\n     * MultiLineString. If `opt_extrapolate` is `true` then Ms less than the first\n     * M will return the first coordinate and Ms greater than the last M will\n     * return the last coordinate.\n     *\n     * `opt_interpolate` controls interpolation between consecutive LineStrings\n     * within the MultiLineString. If `opt_interpolate` is `true` the coordinates\n     * will be linearly interpolated between the last coordinate of one LineString\n     * and the first coordinate of the next LineString.  If `opt_interpolate` is\n     * `false` then the function will return `null` for Ms falling between\n     * LineStrings.\n     *\n     * @param {number} m M.\n     * @param {boolean=} opt_extrapolate Extrapolate. Default is `false`.\n     * @param {boolean=} opt_interpolate Interpolate. Default is `false`.\n     * @return {import(\"../coordinate.js\").Coordinate} Coordinate.\n     * @api\n     */\n    MultiLineString.prototype.getCoordinateAtM = function getCoordinateAtM (m, opt_extrapolate, opt_interpolate) {\n      if ((this.layout != GeometryLayout.XYM &&\n           this.layout != GeometryLayout.XYZM) ||\n          this.flatCoordinates.length === 0) {\n        return null;\n      }\n      var extrapolate = opt_extrapolate !== undefined ? opt_extrapolate : false;\n      var interpolate = opt_interpolate !== undefined ? opt_interpolate : false;\n      return lineStringsCoordinateAtM(this.flatCoordinates, 0,\n        this.ends_, this.stride, m, extrapolate, interpolate);\n    };\n\n    /**\n     * Return the coordinates of the multilinestring.\n     * @return {Array<Array<import(\"../coordinate.js\").Coordinate>>} Coordinates.\n     * @override\n     * @api\n     */\n    MultiLineString.prototype.getCoordinates = function getCoordinates () {\n      return inflateCoordinatesArray(\n        this.flatCoordinates, 0, this.ends_, this.stride);\n    };\n\n    /**\n     * @return {Array<number>} Ends.\n     */\n    MultiLineString.prototype.getEnds = function getEnds () {\n      return this.ends_;\n    };\n\n    /**\n     * Return the linestring at the specified index.\n     * @param {number} index Index.\n     * @return {LineString} LineString.\n     * @api\n     */\n    MultiLineString.prototype.getLineString = function getLineString (index) {\n      if (index < 0 || this.ends_.length <= index) {\n        return null;\n      }\n      return new LineString(this.flatCoordinates.slice(\n        index === 0 ? 0 : this.ends_[index - 1], this.ends_[index]), this.layout);\n    };\n\n    /**\n     * Return the linestrings of this multilinestring.\n     * @return {Array<LineString>} LineStrings.\n     * @api\n     */\n    MultiLineString.prototype.getLineStrings = function getLineStrings () {\n      var flatCoordinates = this.flatCoordinates;\n      var ends = this.ends_;\n      var layout = this.layout;\n      /** @type {Array<LineString>} */\n      var lineStrings = [];\n      var offset = 0;\n      for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        var lineString = new LineString(flatCoordinates.slice(offset, end), layout);\n        lineStrings.push(lineString);\n        offset = end;\n      }\n      return lineStrings;\n    };\n\n    /**\n     * @return {Array<number>} Flat midpoints.\n     */\n    MultiLineString.prototype.getFlatMidpoints = function getFlatMidpoints () {\n      var midpoints = [];\n      var flatCoordinates = this.flatCoordinates;\n      var offset = 0;\n      var ends = this.ends_;\n      var stride = this.stride;\n      for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        var midpoint = interpolatePoint(\n          flatCoordinates, offset, end, stride, 0.5);\n        extend(midpoints, midpoint);\n        offset = end;\n      }\n      return midpoints;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    MultiLineString.prototype.getSimplifiedGeometryInternal = function getSimplifiedGeometryInternal (squaredTolerance) {\n      var simplifiedFlatCoordinates = [];\n      var simplifiedEnds = [];\n      simplifiedFlatCoordinates.length = douglasPeuckerArray(\n        this.flatCoordinates, 0, this.ends_, this.stride, squaredTolerance,\n        simplifiedFlatCoordinates, 0, simplifiedEnds);\n      return new MultiLineString(simplifiedFlatCoordinates, GeometryLayout.XY, simplifiedEnds);\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    MultiLineString.prototype.getType = function getType () {\n      return GeometryType.MULTI_LINE_STRING;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    MultiLineString.prototype.intersectsExtent = function intersectsExtent (extent) {\n      return intersectsLineStringArray(\n        this.flatCoordinates, 0, this.ends_, this.stride, extent);\n    };\n\n    /**\n     * Set the coordinates of the multilinestring.\n     * @param {!Array<Array<import(\"../coordinate.js\").Coordinate>>} coordinates Coordinates.\n     * @param {GeometryLayout=} opt_layout Layout.\n     * @override\n     * @api\n     */\n    MultiLineString.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {\n      this.setLayout(opt_layout, coordinates, 2);\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = [];\n      }\n      var ends = deflateCoordinatesArray(\n        this.flatCoordinates, 0, coordinates, this.stride, this.ends_);\n      this.flatCoordinates.length = ends.length === 0 ? 0 : ends[ends.length - 1];\n      this.changed();\n    };\n\n    return MultiLineString;\n  }(SimpleGeometry));\n\n  /**\n   * @module ol/geom/MultiPoint\n   */\n\n  /**\n   * @classdesc\n   * Multi-point geometry.\n   *\n   * @api\n   */\n  var MultiPoint = /*@__PURE__*/(function (SimpleGeometry$$1) {\n    function MultiPoint(coordinates, opt_layout) {\n      SimpleGeometry$$1.call(this);\n      if (opt_layout && !Array.isArray(coordinates[0])) {\n        this.setFlatCoordinates(opt_layout, /** @type {Array<number>} */ (coordinates));\n      } else {\n        this.setCoordinates(/** @type {Array<import(\"../coordinate.js\").Coordinate>} */ (coordinates), opt_layout);\n      }\n    }\n\n    if ( SimpleGeometry$$1 ) MultiPoint.__proto__ = SimpleGeometry$$1;\n    MultiPoint.prototype = Object.create( SimpleGeometry$$1 && SimpleGeometry$$1.prototype );\n    MultiPoint.prototype.constructor = MultiPoint;\n\n    /**\n     * Append the passed point to this multipoint.\n     * @param {Point} point Point.\n     * @api\n     */\n    MultiPoint.prototype.appendPoint = function appendPoint (point) {\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = point.getFlatCoordinates().slice();\n      } else {\n        extend(this.flatCoordinates, point.getFlatCoordinates());\n      }\n      this.changed();\n    };\n\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!MultiPoint} Clone.\n     * @override\n     * @api\n     */\n    MultiPoint.prototype.clone = function clone$$1 () {\n      var multiPoint = new MultiPoint(this.flatCoordinates.slice(), this.layout);\n      return multiPoint;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    MultiPoint.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n      if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n        return minSquaredDistance;\n      }\n      var flatCoordinates = this.flatCoordinates;\n      var stride = this.stride;\n      for (var i = 0, ii = flatCoordinates.length; i < ii; i += stride) {\n        var squaredDistance$$1 = squaredDistance(\n          x, y, flatCoordinates[i], flatCoordinates[i + 1]);\n        if (squaredDistance$$1 < minSquaredDistance) {\n          minSquaredDistance = squaredDistance$$1;\n          for (var j = 0; j < stride; ++j) {\n            closestPoint[j] = flatCoordinates[i + j];\n          }\n          closestPoint.length = stride;\n        }\n      }\n      return minSquaredDistance;\n    };\n\n    /**\n     * Return the coordinates of the multipoint.\n     * @return {Array<import(\"../coordinate.js\").Coordinate>} Coordinates.\n     * @override\n     * @api\n     */\n    MultiPoint.prototype.getCoordinates = function getCoordinates () {\n      return inflateCoordinates(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n\n    /**\n     * Return the point at the specified index.\n     * @param {number} index Index.\n     * @return {Point} Point.\n     * @api\n     */\n    MultiPoint.prototype.getPoint = function getPoint (index) {\n      var n = !this.flatCoordinates ? 0 : this.flatCoordinates.length / this.stride;\n      if (index < 0 || n <= index) {\n        return null;\n      }\n      return new Point(this.flatCoordinates.slice(\n        index * this.stride, (index + 1) * this.stride), this.layout);\n    };\n\n    /**\n     * Return the points of this multipoint.\n     * @return {Array<Point>} Points.\n     * @api\n     */\n    MultiPoint.prototype.getPoints = function getPoints () {\n      var flatCoordinates = this.flatCoordinates;\n      var layout = this.layout;\n      var stride = this.stride;\n      /** @type {Array<Point>} */\n      var points = [];\n      for (var i = 0, ii = flatCoordinates.length; i < ii; i += stride) {\n        var point = new Point(flatCoordinates.slice(i, i + stride), layout);\n        points.push(point);\n      }\n      return points;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    MultiPoint.prototype.getType = function getType () {\n      return GeometryType.MULTI_POINT;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    MultiPoint.prototype.intersectsExtent = function intersectsExtent (extent) {\n      var flatCoordinates = this.flatCoordinates;\n      var stride = this.stride;\n      for (var i = 0, ii = flatCoordinates.length; i < ii; i += stride) {\n        var x = flatCoordinates[i];\n        var y = flatCoordinates[i + 1];\n        if (containsXY(extent, x, y)) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    /**\n     * Set the coordinates of the multipoint.\n     * @param {!Array<import(\"../coordinate.js\").Coordinate>} coordinates Coordinates.\n     * @param {import(\"./GeometryLayout.js\").default=} opt_layout Layout.\n     * @override\n     * @api\n     */\n    MultiPoint.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {\n      this.setLayout(opt_layout, coordinates, 1);\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = [];\n      }\n      this.flatCoordinates.length = deflateCoordinates(\n        this.flatCoordinates, 0, coordinates, this.stride);\n      this.changed();\n    };\n\n    return MultiPoint;\n  }(SimpleGeometry));\n\n  /**\n   * @module ol/geom/flat/center\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Endss.\n   * @param {number} stride Stride.\n   * @return {Array<number>} Flat centers.\n   */\n  function linearRingss$1(flatCoordinates, offset, endss, stride) {\n    var flatCenters = [];\n    var extent = createEmpty();\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n      var ends = endss[i];\n      extent = createOrUpdateFromFlatCoordinates(flatCoordinates, offset, ends[0], stride);\n      flatCenters.push((extent[0] + extent[2]) / 2, (extent[1] + extent[3]) / 2);\n      offset = ends[ends.length - 1];\n    }\n    return flatCenters;\n  }\n\n  /**\n   * @module ol/geom/MultiPolygon\n   */\n\n  /**\n   * @classdesc\n   * Multi-polygon geometry.\n   *\n   * @api\n   */\n  var MultiPolygon = /*@__PURE__*/(function (SimpleGeometry$$1) {\n    function MultiPolygon(coordinates, opt_layout, opt_endss) {\n\n      SimpleGeometry$$1.call(this);\n\n      /**\n       * @type {Array<Array<number>>}\n       * @private\n       */\n      this.endss_ = [];\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.flatInteriorPointsRevision_ = -1;\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.flatInteriorPoints_ = null;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxDelta_ = -1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxDeltaRevision_ = -1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.orientedRevision_ = -1;\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.orientedFlatCoordinates_ = null;\n\n      if (!opt_endss && !Array.isArray(coordinates[0])) {\n        var layout = this.getLayout();\n        var polygons = /** @type {Array<Polygon>} */ (coordinates);\n        var flatCoordinates = [];\n        var endss = [];\n        for (var i = 0, ii = polygons.length; i < ii; ++i) {\n          var polygon = polygons[i];\n          if (i === 0) {\n            layout = polygon.getLayout();\n          }\n          var offset = flatCoordinates.length;\n          var ends = polygon.getEnds();\n          for (var j = 0, jj = ends.length; j < jj; ++j) {\n            ends[j] += offset;\n          }\n          extend(flatCoordinates, polygon.getFlatCoordinates());\n          endss.push(ends);\n        }\n        opt_layout = layout;\n        coordinates = flatCoordinates;\n        opt_endss = endss;\n      }\n      if (opt_layout !== undefined && opt_endss) {\n        this.setFlatCoordinates(opt_layout, /** @type {Array<number>} */ (coordinates));\n        this.endss_ = opt_endss;\n      } else {\n        this.setCoordinates(/** @type {Array<Array<Array<import(\"../coordinate.js\").Coordinate>>>} */ (coordinates),\n          opt_layout);\n      }\n\n    }\n\n    if ( SimpleGeometry$$1 ) MultiPolygon.__proto__ = SimpleGeometry$$1;\n    MultiPolygon.prototype = Object.create( SimpleGeometry$$1 && SimpleGeometry$$1.prototype );\n    MultiPolygon.prototype.constructor = MultiPolygon;\n\n    /**\n     * Append the passed polygon to this multipolygon.\n     * @param {Polygon} polygon Polygon.\n     * @api\n     */\n    MultiPolygon.prototype.appendPolygon = function appendPolygon (polygon) {\n      /** @type {Array<number>} */\n      var ends;\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = polygon.getFlatCoordinates().slice();\n        ends = polygon.getEnds().slice();\n        this.endss_.push();\n      } else {\n        var offset = this.flatCoordinates.length;\n        extend(this.flatCoordinates, polygon.getFlatCoordinates());\n        ends = polygon.getEnds().slice();\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n          ends[i] += offset;\n        }\n      }\n      this.endss_.push(ends);\n      this.changed();\n    };\n\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!MultiPolygon} Clone.\n     * @override\n     * @api\n     */\n    MultiPolygon.prototype.clone = function clone$$1 () {\n      var len = this.endss_.length;\n      var newEndss = new Array(len);\n      for (var i = 0; i < len; ++i) {\n        newEndss[i] = this.endss_[i].slice();\n      }\n\n      return new MultiPolygon(\n        this.flatCoordinates.slice(), this.layout, newEndss);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    MultiPolygon.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n      if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n        return minSquaredDistance;\n      }\n      if (this.maxDeltaRevision_ != this.getRevision()) {\n        this.maxDelta_ = Math.sqrt(multiArrayMaxSquaredDelta(\n          this.flatCoordinates, 0, this.endss_, this.stride, 0));\n        this.maxDeltaRevision_ = this.getRevision();\n      }\n      return assignClosestMultiArrayPoint(\n        this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride,\n        this.maxDelta_, true, x, y, closestPoint, minSquaredDistance);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    MultiPolygon.prototype.containsXY = function containsXY$$1 (x, y) {\n      return linearRingssContainsXY(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, x, y);\n    };\n\n    /**\n     * Return the area of the multipolygon on projected plane.\n     * @return {number} Area (on projected plane).\n     * @api\n     */\n    MultiPolygon.prototype.getArea = function getArea$$1 () {\n      return linearRingss(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride);\n    };\n\n    /**\n     * Get the coordinate array for this geometry.  This array has the structure\n     * of a GeoJSON coordinate array for multi-polygons.\n     *\n     * @param {boolean=} opt_right Orient coordinates according to the right-hand\n     *     rule (counter-clockwise for exterior and clockwise for interior rings).\n     *     If `false`, coordinates will be oriented according to the left-hand rule\n     *     (clockwise for exterior and counter-clockwise for interior rings).\n     *     By default, coordinate orientation will depend on how the geometry was\n     *     constructed.\n     * @return {Array<Array<Array<import(\"../coordinate.js\").Coordinate>>>} Coordinates.\n     * @override\n     * @api\n     */\n    MultiPolygon.prototype.getCoordinates = function getCoordinates (opt_right) {\n      var flatCoordinates;\n      if (opt_right !== undefined) {\n        flatCoordinates = this.getOrientedFlatCoordinates().slice();\n        orientLinearRingsArray(\n          flatCoordinates, 0, this.endss_, this.stride, opt_right);\n      } else {\n        flatCoordinates = this.flatCoordinates;\n      }\n\n      return inflateMultiCoordinatesArray(\n        flatCoordinates, 0, this.endss_, this.stride);\n    };\n\n    /**\n     * @return {Array<Array<number>>} Endss.\n     */\n    MultiPolygon.prototype.getEndss = function getEndss () {\n      return this.endss_;\n    };\n\n    /**\n     * @return {Array<number>} Flat interior points.\n     */\n    MultiPolygon.prototype.getFlatInteriorPoints = function getFlatInteriorPoints () {\n      if (this.flatInteriorPointsRevision_ != this.getRevision()) {\n        var flatCenters = linearRingss$1(\n          this.flatCoordinates, 0, this.endss_, this.stride);\n        this.flatInteriorPoints_ = getInteriorPointsOfMultiArray(\n          this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride,\n          flatCenters);\n        this.flatInteriorPointsRevision_ = this.getRevision();\n      }\n      return this.flatInteriorPoints_;\n    };\n\n    /**\n     * Return the interior points as {@link module:ol/geom/MultiPoint multipoint}.\n     * @return {MultiPoint} Interior points as XYM coordinates, where M is\n     * the length of the horizontal intersection that the point belongs to.\n     * @api\n     */\n    MultiPolygon.prototype.getInteriorPoints = function getInteriorPoints () {\n      return new MultiPoint(this.getFlatInteriorPoints().slice(), GeometryLayout.XYM);\n    };\n\n    /**\n     * @return {Array<number>} Oriented flat coordinates.\n     */\n    MultiPolygon.prototype.getOrientedFlatCoordinates = function getOrientedFlatCoordinates () {\n      if (this.orientedRevision_ != this.getRevision()) {\n        var flatCoordinates = this.flatCoordinates;\n        if (linearRingsAreOriented(\n          flatCoordinates, 0, this.endss_, this.stride)) {\n          this.orientedFlatCoordinates_ = flatCoordinates;\n        } else {\n          this.orientedFlatCoordinates_ = flatCoordinates.slice();\n          this.orientedFlatCoordinates_.length =\n              orientLinearRingsArray(\n                this.orientedFlatCoordinates_, 0, this.endss_, this.stride);\n        }\n        this.orientedRevision_ = this.getRevision();\n      }\n      return this.orientedFlatCoordinates_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    MultiPolygon.prototype.getSimplifiedGeometryInternal = function getSimplifiedGeometryInternal (squaredTolerance) {\n      var simplifiedFlatCoordinates = [];\n      var simplifiedEndss = [];\n      simplifiedFlatCoordinates.length = quantizeMultiArray(\n        this.flatCoordinates, 0, this.endss_, this.stride,\n        Math.sqrt(squaredTolerance),\n        simplifiedFlatCoordinates, 0, simplifiedEndss);\n      return new MultiPolygon(simplifiedFlatCoordinates, GeometryLayout.XY, simplifiedEndss);\n    };\n\n    /**\n     * Return the polygon at the specified index.\n     * @param {number} index Index.\n     * @return {Polygon} Polygon.\n     * @api\n     */\n    MultiPolygon.prototype.getPolygon = function getPolygon (index) {\n      if (index < 0 || this.endss_.length <= index) {\n        return null;\n      }\n      var offset;\n      if (index === 0) {\n        offset = 0;\n      } else {\n        var prevEnds = this.endss_[index - 1];\n        offset = prevEnds[prevEnds.length - 1];\n      }\n      var ends = this.endss_[index].slice();\n      var end = ends[ends.length - 1];\n      if (offset !== 0) {\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n          ends[i] -= offset;\n        }\n      }\n      return new Polygon(this.flatCoordinates.slice(offset, end), this.layout, ends);\n    };\n\n    /**\n     * Return the polygons of this multipolygon.\n     * @return {Array<Polygon>} Polygons.\n     * @api\n     */\n    MultiPolygon.prototype.getPolygons = function getPolygons () {\n      var layout = this.layout;\n      var flatCoordinates = this.flatCoordinates;\n      var endss = this.endss_;\n      var polygons = [];\n      var offset = 0;\n      for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i].slice();\n        var end = ends[ends.length - 1];\n        if (offset !== 0) {\n          for (var j = 0, jj = ends.length; j < jj; ++j) {\n            ends[j] -= offset;\n          }\n        }\n        var polygon = new Polygon(flatCoordinates.slice(offset, end), layout, ends);\n        polygons.push(polygon);\n        offset = end;\n      }\n      return polygons;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    MultiPolygon.prototype.getType = function getType () {\n      return GeometryType.MULTI_POLYGON;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    MultiPolygon.prototype.intersectsExtent = function intersectsExtent (extent) {\n      return intersectsLinearRingMultiArray(\n        this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, extent);\n    };\n\n    /**\n     * Set the coordinates of the multipolygon.\n     * @param {!Array<Array<Array<import(\"../coordinate.js\").Coordinate>>>} coordinates Coordinates.\n     * @param {GeometryLayout=} opt_layout Layout.\n     * @override\n     * @api\n     */\n    MultiPolygon.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {\n      this.setLayout(opt_layout, coordinates, 3);\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = [];\n      }\n      var endss = deflateMultiCoordinatesArray(\n        this.flatCoordinates, 0, coordinates, this.stride, this.endss_);\n      if (endss.length === 0) {\n        this.flatCoordinates.length = 0;\n      } else {\n        var lastEnds = endss[endss.length - 1];\n        this.flatCoordinates.length = lastEnds.length === 0 ?\n          0 : lastEnds[lastEnds.length - 1];\n      }\n      this.changed();\n    };\n\n    return MultiPolygon;\n  }(SimpleGeometry));\n\n  /**\n   * @module ol/LayerType\n   */\n\n  /**\n   * A layer type used when creating layer renderers.\n   * @enum {string}\n   */\n  var LayerType = {\n    IMAGE: 'IMAGE',\n    TILE: 'TILE',\n    VECTOR_TILE: 'VECTOR_TILE',\n    VECTOR: 'VECTOR'\n  };\n\n  /**\n   * @module ol/layer/VectorRenderType\n   */\n\n  /**\n   * @enum {string}\n   * Render mode for vector layers:\n   *  * `'image'`: Vector layers are rendered as images. Great performance, but\n   *    point symbols and texts are always rotated with the view and pixels are\n   *    scaled during zoom animations.\n   *  * `'vector'`: Vector layers are rendered as vectors. Most accurate rendering\n   *    even during animations, but slower performance.\n   * @api\n   */\n  var VectorRenderType = {\n    IMAGE: 'image',\n    VECTOR: 'vector'\n  };\n\n  /**\n   * @module ol/color\n   */\n\n\n  /**\n   * A color represented as a short array [red, green, blue, alpha].\n   * red, green, and blue should be integers in the range 0..255 inclusive.\n   * alpha should be a float in the range 0..1 inclusive. If no alpha value is\n   * given then `1` will be used.\n   * @typedef {Array<number>} Color\n   * @api\n   */\n\n\n  /**\n   * This RegExp matches # followed by 3, 4, 6, or 8 hex digits.\n   * @const\n   * @type {RegExp}\n   * @private\n   */\n  var HEX_COLOR_RE_ = /^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i;\n\n\n  /**\n   * Regular expression for matching potential named color style strings.\n   * @const\n   * @type {RegExp}\n   * @private\n   */\n  var NAMED_COLOR_RE_ = /^([a-z]*)$/i;\n\n\n  /**\n   * Return the color as an rgba string.\n   * @param {Color|string} color Color.\n   * @return {string} Rgba string.\n   * @api\n   */\n  function asString(color) {\n    if (typeof color === 'string') {\n      return color;\n    } else {\n      return toString(color);\n    }\n  }\n\n  /**\n   * Return named color as an rgba string.\n   * @param {string} color Named color.\n   * @return {string} Rgb string.\n   */\n  function fromNamed(color) {\n    var el = document.createElement('div');\n    el.style.color = color;\n    if (el.style.color !== '') {\n      document.body.appendChild(el);\n      var rgb = getComputedStyle(el).color;\n      document.body.removeChild(el);\n      return rgb;\n    } else {\n      return '';\n    }\n  }\n\n\n  /**\n   * @param {string} s String.\n   * @return {Color} Color.\n   */\n  var fromString = (\n    function() {\n\n      // We maintain a small cache of parsed strings.  To provide cheap LRU-like\n      // semantics, whenever the cache grows too large we simply delete an\n      // arbitrary 25% of the entries.\n\n      /**\n       * @const\n       * @type {number}\n       */\n      var MAX_CACHE_SIZE = 1024;\n\n      /**\n       * @type {Object<string, Color>}\n       */\n      var cache = {};\n\n      /**\n       * @type {number}\n       */\n      var cacheSize = 0;\n\n      return (\n        /**\n         * @param {string} s String.\n         * @return {Color} Color.\n         */\n        function(s) {\n          var color;\n          if (cache.hasOwnProperty(s)) {\n            color = cache[s];\n          } else {\n            if (cacheSize >= MAX_CACHE_SIZE) {\n              var i = 0;\n              for (var key in cache) {\n                if ((i++ & 3) === 0) {\n                  delete cache[key];\n                  --cacheSize;\n                }\n              }\n            }\n            color = fromStringInternal_(s);\n            cache[s] = color;\n            ++cacheSize;\n          }\n          return color;\n        }\n      );\n\n    })();\n\n  /**\n   * Return the color as an array. This function maintains a cache of calculated\n   * arrays which means the result should not be modified.\n   * @param {Color|string} color Color.\n   * @return {Color} Color.\n   * @api\n   */\n  function asArray(color) {\n    if (Array.isArray(color)) {\n      return color;\n    } else {\n      return fromString(color);\n    }\n  }\n\n  /**\n   * @param {string} s String.\n   * @private\n   * @return {Color} Color.\n   */\n  function fromStringInternal_(s) {\n    var r, g, b, a, color;\n\n    if (NAMED_COLOR_RE_.exec(s)) {\n      s = fromNamed(s);\n    }\n\n    if (HEX_COLOR_RE_.exec(s)) { // hex\n      var n = s.length - 1; // number of hex digits\n      var d; // number of digits per channel\n      if (n <= 4) {\n        d = 1;\n      } else {\n        d = 2;\n      }\n      var hasAlpha = n === 4 || n === 8;\n      r = parseInt(s.substr(1 + 0 * d, d), 16);\n      g = parseInt(s.substr(1 + 1 * d, d), 16);\n      b = parseInt(s.substr(1 + 2 * d, d), 16);\n      if (hasAlpha) {\n        a = parseInt(s.substr(1 + 3 * d, d), 16);\n      } else {\n        a = 255;\n      }\n      if (d == 1) {\n        r = (r << 4) + r;\n        g = (g << 4) + g;\n        b = (b << 4) + b;\n        if (hasAlpha) {\n          a = (a << 4) + a;\n        }\n      }\n      color = [r, g, b, a / 255];\n    } else if (s.indexOf('rgba(') == 0) { // rgba()\n      color = s.slice(5, -1).split(',').map(Number);\n      normalize(color);\n    } else if (s.indexOf('rgb(') == 0) { // rgb()\n      color = s.slice(4, -1).split(',').map(Number);\n      color.push(1);\n      normalize(color);\n    } else {\n      assert(false, 14); // Invalid color\n    }\n    return color;\n  }\n\n\n  /**\n   * TODO this function is only used in the test, we probably shouldn't export it\n   * @param {Color} color Color.\n   * @return {Color} Clamped color.\n   */\n  function normalize(color) {\n    color[0] = clamp((color[0] + 0.5) | 0, 0, 255);\n    color[1] = clamp((color[1] + 0.5) | 0, 0, 255);\n    color[2] = clamp((color[2] + 0.5) | 0, 0, 255);\n    color[3] = clamp(color[3], 0, 1);\n    return color;\n  }\n\n\n  /**\n   * @param {Color} color Color.\n   * @return {string} String.\n   */\n  function toString(color) {\n    var r = color[0];\n    if (r != (r | 0)) {\n      r = (r + 0.5) | 0;\n    }\n    var g = color[1];\n    if (g != (g | 0)) {\n      g = (g + 0.5) | 0;\n    }\n    var b = color[2];\n    if (b != (b | 0)) {\n      b = (b + 0.5) | 0;\n    }\n    var a = color[3] === undefined ? 1 : color[3];\n    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n  }\n\n  /**\n   * @module ol/colorlike\n   */\n\n\n  /**\n   * A type accepted by CanvasRenderingContext2D.fillStyle\n   * or CanvasRenderingContext2D.strokeStyle.\n   * Represents a color, pattern, or gradient. The origin for patterns and\n   * gradients as fill style is an increment of 512 css pixels from map coordinate\n   * `[0, 0]`. For seamless repeat patterns, width and height of the pattern image\n   * must be a factor of two (2, 4, 8, ..., 512).\n   *\n   * @typedef {string|CanvasPattern|CanvasGradient} ColorLike\n   * @api\n   */\n\n\n  /**\n   * @param {import(\"./color.js\").Color|ColorLike} color Color.\n   * @return {ColorLike} The color as an {@link ol/colorlike~ColorLike}.\n   * @api\n   */\n  function asColorLike(color) {\n    if (Array.isArray(color)) {\n      return toString(color);\n    } else {\n      return color;\n    }\n  }\n\n  /**\n   * @module ol/ImageState\n   */\n\n  /**\n   * @enum {number}\n   */\n  var ImageState = {\n    IDLE: 0,\n    LOADING: 1,\n    LOADED: 2,\n    ERROR: 3\n  };\n\n  /**\n   * @module ol/structs/LRUCache\n   */\n\n\n  /**\n   * @typedef {Object} Entry\n   * @property {string} key_\n   * @property {Object} newer\n   * @property {Object} older\n   * @property {*} value_\n   */\n\n\n  /**\n   * @classdesc\n   * Implements a Least-Recently-Used cache where the keys do not conflict with\n   * Object's properties (e.g. 'hasOwnProperty' is not allowed as a key). Expiring\n   * items from the cache is the responsibility of the user.\n   *\n   * @fires import(\"../events/Event.js\").Event\n   * @template T\n   */\n  var LRUCache = /*@__PURE__*/(function (EventTarget) {\n    function LRUCache(opt_highWaterMark) {\n\n      EventTarget.call(this);\n\n      /**\n       * @type {number}\n       */\n      this.highWaterMark = opt_highWaterMark !== undefined ? opt_highWaterMark : 2048;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.count_ = 0;\n\n      /**\n       * @private\n       * @type {!Object<string, Entry>}\n       */\n      this.entries_ = {};\n\n      /**\n       * @private\n       * @type {?Entry}\n       */\n      this.oldest_ = null;\n\n      /**\n       * @private\n       * @type {?Entry}\n       */\n      this.newest_ = null;\n\n    }\n\n    if ( EventTarget ) LRUCache.__proto__ = EventTarget;\n    LRUCache.prototype = Object.create( EventTarget && EventTarget.prototype );\n    LRUCache.prototype.constructor = LRUCache;\n\n\n    /**\n     * @return {boolean} Can expire cache.\n     */\n    LRUCache.prototype.canExpireCache = function canExpireCache () {\n      return this.getCount() > this.highWaterMark;\n    };\n\n\n    /**\n     * FIXME empty description for jsdoc\n     */\n    LRUCache.prototype.clear = function clear () {\n      this.count_ = 0;\n      this.entries_ = {};\n      this.oldest_ = null;\n      this.newest_ = null;\n      this.dispatchEvent(EventType.CLEAR);\n    };\n\n\n    /**\n     * @param {string} key Key.\n     * @return {boolean} Contains key.\n     */\n    LRUCache.prototype.containsKey = function containsKey (key) {\n      return this.entries_.hasOwnProperty(key);\n    };\n\n\n    /**\n     * @param {function(this: S, T, string, LRUCache): ?} f The function\n     *     to call for every entry from the oldest to the newer. This function takes\n     *     3 arguments (the entry value, the entry key and the LRUCache object).\n     *     The return value is ignored.\n     * @param {S=} opt_this The object to use as `this` in `f`.\n     * @template S\n     */\n    LRUCache.prototype.forEach = function forEach (f, opt_this) {\n      var entry = this.oldest_;\n      while (entry) {\n        f.call(opt_this, entry.value_, entry.key_, this);\n        entry = entry.newer;\n      }\n    };\n\n\n    /**\n     * @param {string} key Key.\n     * @return {T} Value.\n     */\n    LRUCache.prototype.get = function get (key) {\n      var entry = this.entries_[key];\n      assert(entry !== undefined,\n        15); // Tried to get a value for a key that does not exist in the cache\n      if (entry === this.newest_) {\n        return entry.value_;\n      } else if (entry === this.oldest_) {\n        this.oldest_ = /** @type {Entry} */ (this.oldest_.newer);\n        this.oldest_.older = null;\n      } else {\n        entry.newer.older = entry.older;\n        entry.older.newer = entry.newer;\n      }\n      entry.newer = null;\n      entry.older = this.newest_;\n      this.newest_.newer = entry;\n      this.newest_ = entry;\n      return entry.value_;\n    };\n\n\n    /**\n     * Remove an entry from the cache.\n     * @param {string} key The entry key.\n     * @return {T} The removed entry.\n     */\n    LRUCache.prototype.remove = function remove (key) {\n      var entry = this.entries_[key];\n      assert(entry !== undefined, 15); // Tried to get a value for a key that does not exist in the cache\n      if (entry === this.newest_) {\n        this.newest_ = /** @type {Entry} */ (entry.older);\n        if (this.newest_) {\n          this.newest_.newer = null;\n        }\n      } else if (entry === this.oldest_) {\n        this.oldest_ = /** @type {Entry} */ (entry.newer);\n        if (this.oldest_) {\n          this.oldest_.older = null;\n        }\n      } else {\n        entry.newer.older = entry.older;\n        entry.older.newer = entry.newer;\n      }\n      delete this.entries_[key];\n      --this.count_;\n      return entry.value_;\n    };\n\n\n    /**\n     * @return {number} Count.\n     */\n    LRUCache.prototype.getCount = function getCount () {\n      return this.count_;\n    };\n\n\n    /**\n     * @return {Array<string>} Keys.\n     */\n    LRUCache.prototype.getKeys = function getKeys () {\n      var keys = new Array(this.count_);\n      var i = 0;\n      var entry;\n      for (entry = this.newest_; entry; entry = entry.older) {\n        keys[i++] = entry.key_;\n      }\n      return keys;\n    };\n\n\n    /**\n     * @return {Array<T>} Values.\n     */\n    LRUCache.prototype.getValues = function getValues () {\n      var values = new Array(this.count_);\n      var i = 0;\n      var entry;\n      for (entry = this.newest_; entry; entry = entry.older) {\n        values[i++] = entry.value_;\n      }\n      return values;\n    };\n\n\n    /**\n     * @return {T} Last value.\n     */\n    LRUCache.prototype.peekLast = function peekLast () {\n      return this.oldest_.value_;\n    };\n\n\n    /**\n     * @return {string} Last key.\n     */\n    LRUCache.prototype.peekLastKey = function peekLastKey () {\n      return this.oldest_.key_;\n    };\n\n\n    /**\n     * Get the key of the newest item in the cache.  Throws if the cache is empty.\n     * @return {string} The newest key.\n     */\n    LRUCache.prototype.peekFirstKey = function peekFirstKey () {\n      return this.newest_.key_;\n    };\n\n\n    /**\n     * @return {T} value Value.\n     */\n    LRUCache.prototype.pop = function pop () {\n      var entry = this.oldest_;\n      delete this.entries_[entry.key_];\n      if (entry.newer) {\n        entry.newer.older = null;\n      }\n      this.oldest_ = /** @type {Entry} */ (entry.newer);\n      if (!this.oldest_) {\n        this.newest_ = null;\n      }\n      --this.count_;\n      return entry.value_;\n    };\n\n\n    /**\n     * @param {string} key Key.\n     * @param {T} value Value.\n     */\n    LRUCache.prototype.replace = function replace (key, value) {\n      this.get(key); // update `newest_`\n      this.entries_[key].value_ = value;\n    };\n\n\n    /**\n     * @param {string} key Key.\n     * @param {T} value Value.\n     */\n    LRUCache.prototype.set = function set (key, value) {\n      assert(!(key in this.entries_),\n        16); // Tried to set a value for a key that is used already\n      var entry = /** @type {Entry} */ ({\n        key_: key,\n        newer: null,\n        older: this.newest_,\n        value_: value\n      });\n      if (!this.newest_) {\n        this.oldest_ = entry;\n      } else {\n        this.newest_.newer = entry;\n      }\n      this.newest_ = entry;\n      this.entries_[key] = entry;\n      ++this.count_;\n    };\n\n\n    /**\n     * Set a maximum number of entries for the cache.\n     * @param {number} size Cache size.\n     * @api\n     */\n    LRUCache.prototype.setSize = function setSize (size) {\n      this.highWaterMark = size;\n    };\n\n\n    /**\n     * Prune the cache.\n     */\n    LRUCache.prototype.prune = function prune () {\n      while (this.canExpireCache()) {\n        this.pop();\n      }\n    };\n\n    return LRUCache;\n  }(Target));\n\n  /**\n   * @module ol/render/canvas\n   */\n\n\n  /**\n   * @typedef {Object} FillState\n   * @property {import(\"../colorlike.js\").ColorLike} fillStyle\n   */\n\n\n  /**\n   * @typedef {Object} FillStrokeState\n   * @property {import(\"../colorlike.js\").ColorLike} [currentFillStyle]\n   * @property {import(\"../colorlike.js\").ColorLike} [currentStrokeStyle]\n   * @property {string} [currentLineCap]\n   * @property {Array<number>} currentLineDash\n   * @property {number} [currentLineDashOffset]\n   * @property {string} [currentLineJoin]\n   * @property {number} [currentLineWidth]\n   * @property {number} [currentMiterLimit]\n   * @property {number} [lastStroke]\n   * @property {import(\"../colorlike.js\").ColorLike} [fillStyle]\n   * @property {import(\"../colorlike.js\").ColorLike} [strokeStyle]\n   * @property {string} [lineCap]\n   * @property {Array<number>} lineDash\n   * @property {number} [lineDashOffset]\n   * @property {string} [lineJoin]\n   * @property {number} [lineWidth]\n   * @property {number} [miterLimit]\n   */\n\n\n  /**\n   * @typedef {Object} StrokeState\n   * @property {string} lineCap\n   * @property {Array<number>} lineDash\n   * @property {number} lineDashOffset\n   * @property {string} lineJoin\n   * @property {number} lineWidth\n   * @property {number} miterLimit\n   * @property {import(\"../colorlike.js\").ColorLike} strokeStyle\n   */\n\n\n  /**\n   * @typedef {Object} TextState\n   * @property {string} font\n   * @property {string} [textAlign]\n   * @property {string} textBaseline\n   * @property {string} [placement]\n   * @property {number} [maxAngle]\n   * @property {boolean} [overflow]\n   * @property {import(\"../style/Fill.js\").default} [backgroundFill]\n   * @property {import(\"../style/Stroke.js\").default} [backgroundStroke]\n   * @property {number} [scale]\n   * @property {Array<number>} [padding]\n   */\n\n\n  /**\n   * Container for decluttered replay instructions that need to be rendered or\n   * omitted together, i.e. when styles render both an image and text, or for the\n   * characters that form text along lines. The basic elements of this array are\n   * `[minX, minY, maxX, maxY, count]`, where the first four entries are the\n   * rendered extent of the group in pixel space. `count` is the number of styles\n   * in the group, i.e. 2 when an image and a text are grouped, or 1 otherwise.\n   * In addition to these four elements, declutter instruction arrays (i.e. the\n   * arguments to {@link module:ol/render/canvas~drawImage} are appended to the array.\n   * @typedef {Array<*>} DeclutterGroup\n   */\n\n\n  /**\n   * @const\n   * @type {string}\n   */\n  var defaultFont = '10px sans-serif';\n\n\n  /**\n   * @const\n   * @type {import(\"../color.js\").Color}\n   */\n  var defaultFillStyle = [0, 0, 0, 1];\n\n\n  /**\n   * @const\n   * @type {string}\n   */\n  var defaultLineCap = 'round';\n\n\n  /**\n   * @const\n   * @type {Array<number>}\n   */\n  var defaultLineDash = [];\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var defaultLineDashOffset = 0;\n\n\n  /**\n   * @const\n   * @type {string}\n   */\n  var defaultLineJoin = 'round';\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var defaultMiterLimit = 10;\n\n\n  /**\n   * @const\n   * @type {import(\"../color.js\").Color}\n   */\n  var defaultStrokeStyle = [0, 0, 0, 1];\n\n\n  /**\n   * @const\n   * @type {string}\n   */\n  var defaultTextAlign = 'center';\n\n\n  /**\n   * @const\n   * @type {string}\n   */\n  var defaultTextBaseline = 'middle';\n\n\n  /**\n   * @const\n   * @type {Array<number>}\n   */\n  var defaultPadding = [0, 0, 0, 0];\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var defaultLineWidth = 1;\n\n\n  /**\n   * The label cache for text rendering. To change the default cache size of 2048\n   * entries, use {@link module:ol/structs/LRUCache#setSize}.\n   * @type {LRUCache<HTMLCanvasElement>}\n   * @api\n   */\n  var labelCache = new LRUCache();\n\n\n  /**\n   * @type {!Object<string, number>}\n   */\n  var checkedFonts = {};\n\n\n  /**\n   * @type {CanvasRenderingContext2D}\n   */\n  var measureContext = null;\n\n\n  /**\n   * @type {!Object<string, number>}\n   */\n  var textHeights = {};\n\n\n  /**\n   * Clears the label cache when a font becomes available.\n   * @param {string} fontSpec CSS font spec.\n   */\n  var checkFont = (function() {\n    var retries = 60;\n    var checked = checkedFonts;\n    var size = '32px ';\n    var referenceFonts = ['monospace', 'serif'];\n    var len = referenceFonts.length;\n    var text = 'wmytzilWMYTZIL@#/&?$%10\\uF013';\n    var interval, referenceWidth;\n\n    function isAvailable(font) {\n      var context = getMeasureContext();\n      // Check weight ranges according to\n      // https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight#Fallback_weights\n      for (var weight = 100; weight <= 700; weight += 300) {\n        var fontWeight = weight + ' ';\n        var available = true;\n        for (var i = 0; i < len; ++i) {\n          var referenceFont = referenceFonts[i];\n          context.font = fontWeight + size + referenceFont;\n          referenceWidth = context.measureText(text).width;\n          if (font != referenceFont) {\n            context.font = fontWeight + size + font + ',' + referenceFont;\n            var width = context.measureText(text).width;\n            // If width and referenceWidth are the same, then the fallback was used\n            // instead of the font we wanted, so the font is not available.\n            available = available && width != referenceWidth;\n          }\n        }\n        if (available) {\n          // Consider font available when it is available in one weight range.\n          //FIXME With this we miss rare corner cases, so we should consider\n          //FIXME checking availability for each requested weight range.\n          return true;\n        }\n      }\n      return false;\n    }\n\n    function check() {\n      var done = true;\n      for (var font in checked) {\n        if (checked[font] < retries) {\n          if (isAvailable(font)) {\n            checked[font] = retries;\n            clear(textHeights);\n            // Make sure that loaded fonts are picked up by Safari\n            measureContext = null;\n            labelCache.clear();\n          } else {\n            ++checked[font];\n            done = false;\n          }\n        }\n      }\n      if (done) {\n        clearInterval(interval);\n        interval = undefined;\n      }\n    }\n\n    return function(fontSpec) {\n      var fontFamilies = getFontFamilies(fontSpec);\n      if (!fontFamilies) {\n        return;\n      }\n      for (var i = 0, ii = fontFamilies.length; i < ii; ++i) {\n        var fontFamily = fontFamilies[i];\n        if (!(fontFamily in checked)) {\n          checked[fontFamily] = retries;\n          if (!isAvailable(fontFamily)) {\n            checked[fontFamily] = 0;\n            if (interval === undefined) {\n              interval = setInterval(check, 32);\n            }\n          }\n        }\n      }\n    };\n  })();\n\n\n  /**\n   * @return {CanvasRenderingContext2D} Measure context.\n   */\n  function getMeasureContext() {\n    if (!measureContext) {\n      measureContext = createCanvasContext2D(1, 1);\n    }\n    return measureContext;\n  }\n\n\n  /**\n   * @param {string} font Font to use for measuring.\n   * @return {import(\"../size.js\").Size} Measurement.\n   */\n  var measureTextHeight = (function() {\n    var span;\n    var heights = textHeights;\n    return function(font) {\n      var height = heights[font];\n      if (height == undefined) {\n        if (!span) {\n          span = document.createElement('span');\n          span.textContent = 'M';\n          span.style.margin = span.style.padding = '0 !important';\n          span.style.position = 'absolute !important';\n          span.style.left = '-99999px !important';\n        }\n        span.style.font = font;\n        document.body.appendChild(span);\n        height = heights[font] = span.offsetHeight;\n        document.body.removeChild(span);\n      }\n      return height;\n    };\n  })();\n\n\n  /**\n   * @param {string} font Font.\n   * @param {string} text Text.\n   * @return {number} Width.\n   */\n  function measureTextWidth(font, text) {\n    var measureContext = getMeasureContext();\n    if (font != measureContext.font) {\n      measureContext.font = font;\n    }\n    return measureContext.measureText(text).width;\n  }\n\n\n  /**\n   * @param {CanvasRenderingContext2D} context Context.\n   * @param {number} rotation Rotation.\n   * @param {number} offsetX X offset.\n   * @param {number} offsetY Y offset.\n   */\n  function rotateAtOffset(context, rotation, offsetX, offsetY) {\n    if (rotation !== 0) {\n      context.translate(offsetX, offsetY);\n      context.rotate(rotation);\n      context.translate(-offsetX, -offsetY);\n    }\n  }\n\n\n  var resetTransform = create();\n\n\n  /**\n   * @param {CanvasRenderingContext2D} context Context.\n   * @param {import(\"../transform.js\").Transform|null} transform Transform.\n   * @param {number} opacity Opacity.\n   * @param {HTMLImageElement|HTMLCanvasElement|HTMLVideoElement} image Image.\n   * @param {number} originX Origin X.\n   * @param {number} originY Origin Y.\n   * @param {number} w Width.\n   * @param {number} h Height.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @param {number} scale Scale.\n   */\n  function drawImage(context,\n    transform, opacity, image, originX, originY, w, h, x, y, scale) {\n    var alpha;\n    if (opacity != 1) {\n      alpha = context.globalAlpha;\n      context.globalAlpha = alpha * opacity;\n    }\n    if (transform) {\n      context.setTransform.apply(context, transform);\n    }\n\n    context.drawImage(image, originX, originY, w, h, x, y, w * scale, h * scale);\n\n    if (alpha) {\n      context.globalAlpha = alpha;\n    }\n    if (transform) {\n      context.setTransform.apply(context, resetTransform);\n    }\n  }\n\n  /**\n   * @module ol/style/Image\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} opacity\n   * @property {boolean} rotateWithView\n   * @property {number} rotation\n   * @property {number} scale\n   */\n\n\n  /**\n   * @classdesc\n   * A base class used for creating subclasses and not instantiated in\n   * apps. Base class for {@link module:ol/style/Icon~Icon}, {@link module:ol/style/Circle~CircleStyle} and\n   * {@link module:ol/style/RegularShape~RegularShape}.\n   * @abstract\n   * @api\n   */\n  var ImageStyle = function ImageStyle(options) {\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.opacity_ = options.opacity;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.rotateWithView_ = options.rotateWithView;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.rotation_ = options.rotation;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.scale_ = options.scale;\n\n  };\n\n  /**\n   * Clones the style.\n   * @return {ImageStyle} The cloned style.\n   * @api\n   */\n  ImageStyle.prototype.clone = function clone () {\n    return new ImageStyle({\n      opacity: this.getOpacity(),\n      scale: this.getScale(),\n      rotation: this.getRotation(),\n      rotateWithView: this.getRotateWithView()\n    });\n  };\n\n  /**\n   * Get the symbolizer opacity.\n   * @return {number} Opacity.\n   * @api\n   */\n  ImageStyle.prototype.getOpacity = function getOpacity () {\n    return this.opacity_;\n  };\n\n  /**\n   * Determine whether the symbolizer rotates with the map.\n   * @return {boolean} Rotate with map.\n   * @api\n   */\n  ImageStyle.prototype.getRotateWithView = function getRotateWithView () {\n    return this.rotateWithView_;\n  };\n\n  /**\n   * Get the symoblizer rotation.\n   * @return {number} Rotation.\n   * @api\n   */\n  ImageStyle.prototype.getRotation = function getRotation () {\n    return this.rotation_;\n  };\n\n  /**\n   * Get the symbolizer scale.\n   * @return {number} Scale.\n   * @api\n   */\n  ImageStyle.prototype.getScale = function getScale () {\n    return this.scale_;\n  };\n\n  /**\n   * This method is deprecated and always returns false.\n   * @return {boolean} false.\n   * @deprecated\n   * @api\n   */\n  ImageStyle.prototype.getSnapToPixel = function getSnapToPixel () {\n    return false;\n  };\n\n  /**\n   * Get the anchor point in pixels. The anchor determines the center point for the\n   * symbolizer.\n   * @abstract\n   * @return {Array<number>} Anchor.\n   */\n  ImageStyle.prototype.getAnchor = function getAnchor () {\n    return abstract();\n  };\n\n  /**\n   * Get the image element for the symbolizer.\n   * @abstract\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} Image element.\n   */\n  ImageStyle.prototype.getImage = function getImage (pixelRatio) {\n    return abstract();\n  };\n\n  /**\n   * @abstract\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} Image element.\n   */\n  ImageStyle.prototype.getHitDetectionImage = function getHitDetectionImage (pixelRatio) {\n    return abstract();\n  };\n\n  /**\n   * @abstract\n   * @return {import(\"../ImageState.js\").default} Image state.\n   */\n  ImageStyle.prototype.getImageState = function getImageState () {\n    return abstract();\n  };\n\n  /**\n   * @abstract\n   * @return {import(\"../size.js\").Size} Image size.\n   */\n  ImageStyle.prototype.getImageSize = function getImageSize () {\n    return abstract();\n  };\n\n  /**\n   * @abstract\n   * @return {import(\"../size.js\").Size} Size of the hit-detection image.\n   */\n  ImageStyle.prototype.getHitDetectionImageSize = function getHitDetectionImageSize () {\n    return abstract();\n  };\n\n  /**\n   * Get the origin of the symbolizer.\n   * @abstract\n   * @return {Array<number>} Origin.\n   */\n  ImageStyle.prototype.getOrigin = function getOrigin () {\n    return abstract();\n  };\n\n  /**\n   * Get the size of the symbolizer (in pixels).\n   * @abstract\n   * @return {import(\"../size.js\").Size} Size.\n   */\n  ImageStyle.prototype.getSize = function getSize () {\n    return abstract();\n  };\n\n  /**\n   * Set the opacity.\n   *\n   * @param {number} opacity Opacity.\n   * @api\n   */\n  ImageStyle.prototype.setOpacity = function setOpacity (opacity) {\n    this.opacity_ = opacity;\n  };\n\n  /**\n   * Set whether to rotate the style with the view.\n   *\n   * @param {boolean} rotateWithView Rotate with map.\n   * @api\n   */\n  ImageStyle.prototype.setRotateWithView = function setRotateWithView (rotateWithView) {\n    this.rotateWithView_ = rotateWithView;\n  };\n\n  /**\n   * Set the rotation.\n   *\n   * @param {number} rotation Rotation.\n   * @api\n   */\n  ImageStyle.prototype.setRotation = function setRotation (rotation) {\n    this.rotation_ = rotation;\n  };\n  /**\n   * Set the scale.\n   *\n   * @param {number} scale Scale.\n   * @api\n   */\n  ImageStyle.prototype.setScale = function setScale (scale) {\n    this.scale_ = scale;\n  };\n\n  /**\n   * This method is deprecated and does nothing.\n   * @param {boolean} snapToPixel Snap to pixel?\n   * @deprecated\n   * @api\n   */\n  ImageStyle.prototype.setSnapToPixel = function setSnapToPixel (snapToPixel) {};\n\n  /**\n   * @abstract\n   * @param {function(this: T, import(\"../events/Event.js\").default)} listener Listener function.\n   * @param {T} thisArg Value to use as `this` when executing `listener`.\n   * @return {import(\"../events.js\").EventsKey|undefined} Listener key.\n   * @template T\n   */\n  ImageStyle.prototype.listenImageChange = function listenImageChange (listener, thisArg) {\n    return abstract();\n  };\n\n  /**\n   * Load not yet loaded URI.\n   * @abstract\n   */\n  ImageStyle.prototype.load = function load () {\n    abstract();\n  };\n\n  /**\n   * @abstract\n   * @param {function(this: T, import(\"../events/Event.js\").default)} listener Listener function.\n   * @param {T} thisArg Value to use as `this` when executing `listener`.\n   * @template T\n   */\n  ImageStyle.prototype.unlistenImageChange = function unlistenImageChange (listener, thisArg) {\n    abstract();\n  };\n\n  /**\n   * @module ol/style/RegularShape\n   */\n\n\n  /**\n   * Specify radius for regular polygons, or radius1 and radius2 for stars.\n   * @typedef {Object} Options\n   * @property {import(\"./Fill.js\").default} [fill] Fill style.\n   * @property {number} points Number of points for stars and regular polygons. In case of a polygon, the number of points\n   * is the number of sides.\n   * @property {number} [radius] Radius of a regular polygon.\n   * @property {number} [radius1] Outer radius of a star.\n   * @property {number} [radius2] Inner radius of a star.\n   * @property {number} [angle=0] Shape's angle in radians. A value of 0 will have one of the shape's point facing up.\n   * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n   * @property {number} [rotation=0] Rotation in radians (positive rotation clockwise).\n   * @property {boolean} [rotateWithView=false] Whether to rotate the shape with the view.\n   * @property {import(\"./AtlasManager.js\").default} [atlasManager] The atlas manager to use for this symbol. When\n   * using WebGL it is recommended to use an atlas manager to avoid texture switching. If an atlas manager is given, the\n   * symbol is added to an atlas. By default no atlas manager is used.\n   */\n\n\n  /**\n   * @typedef {Object} RenderOptions\n   * @property {import(\"../colorlike.js\").ColorLike} [strokeStyle]\n   * @property {number} strokeWidth\n   * @property {number} size\n   * @property {string} lineCap\n   * @property {Array<number>} lineDash\n   * @property {number} lineDashOffset\n   * @property {string} lineJoin\n   * @property {number} miterLimit\n   */\n\n\n  /**\n   * @classdesc\n   * Set regular shape style for vector features. The resulting shape will be\n   * a regular polygon when `radius` is provided, or a star when `radius1` and\n   * `radius2` are provided.\n   * @api\n   */\n  var RegularShape = /*@__PURE__*/(function (ImageStyle$$1) {\n    function RegularShape(options) {\n      /**\n       * @type {boolean}\n       */\n      var rotateWithView = options.rotateWithView !== undefined ?\n        options.rotateWithView : false;\n\n      ImageStyle$$1.call(this, {\n        opacity: 1,\n        rotateWithView: rotateWithView,\n        rotation: options.rotation !== undefined ? options.rotation : 0,\n        scale: 1\n      });\n\n      /**\n       * @private\n       * @type {Array<string|number>}\n       */\n      this.checksums_ = null;\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement}\n       */\n      this.canvas_ = null;\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement}\n       */\n      this.hitDetectionCanvas_ = null;\n\n      /**\n       * @private\n       * @type {import(\"./Fill.js\").default}\n       */\n      this.fill_ = options.fill !== undefined ? options.fill : null;\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.origin_ = [0, 0];\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.points_ = options.points;\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.radius_ = /** @type {number} */ (options.radius !== undefined ?\n        options.radius : options.radius1);\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.radius2_ = options.radius2;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.angle_ = options.angle !== undefined ? options.angle : 0;\n\n      /**\n       * @private\n       * @type {import(\"./Stroke.js\").default}\n       */\n      this.stroke_ = options.stroke !== undefined ? options.stroke : null;\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.anchor_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../size.js\").Size}\n       */\n      this.size_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../size.js\").Size}\n       */\n      this.imageSize_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../size.js\").Size}\n       */\n      this.hitDetectionImageSize_ = null;\n\n      /**\n       * @protected\n       * @type {import(\"./AtlasManager.js\").default|undefined}\n       */\n      this.atlasManager_ = options.atlasManager;\n\n      this.render_(this.atlasManager_);\n\n    }\n\n    if ( ImageStyle$$1 ) RegularShape.__proto__ = ImageStyle$$1;\n    RegularShape.prototype = Object.create( ImageStyle$$1 && ImageStyle$$1.prototype );\n    RegularShape.prototype.constructor = RegularShape;\n\n    /**\n     * Clones the style. If an atlasmanager was provided to the original style it will be used in the cloned style, too.\n     * @return {RegularShape} The cloned style.\n     * @api\n     */\n    RegularShape.prototype.clone = function clone () {\n      var style = new RegularShape({\n        fill: this.getFill() ? this.getFill().clone() : undefined,\n        points: this.getPoints(),\n        radius: this.getRadius(),\n        radius2: this.getRadius2(),\n        angle: this.getAngle(),\n        stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n        rotation: this.getRotation(),\n        rotateWithView: this.getRotateWithView(),\n        atlasManager: this.atlasManager_\n      });\n      style.setOpacity(this.getOpacity());\n      style.setScale(this.getScale());\n      return style;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    RegularShape.prototype.getAnchor = function getAnchor () {\n      return this.anchor_;\n    };\n\n    /**\n     * Get the angle used in generating the shape.\n     * @return {number} Shape's rotation in radians.\n     * @api\n     */\n    RegularShape.prototype.getAngle = function getAngle () {\n      return this.angle_;\n    };\n\n    /**\n     * Get the fill style for the shape.\n     * @return {import(\"./Fill.js\").default} Fill style.\n     * @api\n     */\n    RegularShape.prototype.getFill = function getFill () {\n      return this.fill_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    RegularShape.prototype.getHitDetectionImage = function getHitDetectionImage (pixelRatio) {\n      return this.hitDetectionCanvas_;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    RegularShape.prototype.getImage = function getImage (pixelRatio) {\n      return this.canvas_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    RegularShape.prototype.getImageSize = function getImageSize () {\n      return this.imageSize_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    RegularShape.prototype.getHitDetectionImageSize = function getHitDetectionImageSize () {\n      return this.hitDetectionImageSize_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    RegularShape.prototype.getImageState = function getImageState () {\n      return ImageState.LOADED;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    RegularShape.prototype.getOrigin = function getOrigin () {\n      return this.origin_;\n    };\n\n    /**\n     * Get the number of points for generating the shape.\n     * @return {number} Number of points for stars and regular polygons.\n     * @api\n     */\n    RegularShape.prototype.getPoints = function getPoints () {\n      return this.points_;\n    };\n\n    /**\n     * Get the (primary) radius for the shape.\n     * @return {number} Radius.\n     * @api\n     */\n    RegularShape.prototype.getRadius = function getRadius () {\n      return this.radius_;\n    };\n\n    /**\n     * Get the secondary radius for the shape.\n     * @return {number|undefined} Radius2.\n     * @api\n     */\n    RegularShape.prototype.getRadius2 = function getRadius2 () {\n      return this.radius2_;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    RegularShape.prototype.getSize = function getSize () {\n      return this.size_;\n    };\n\n    /**\n     * Get the stroke style for the shape.\n     * @return {import(\"./Stroke.js\").default} Stroke style.\n     * @api\n     */\n    RegularShape.prototype.getStroke = function getStroke () {\n      return this.stroke_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    RegularShape.prototype.listenImageChange = function listenImageChange (listener, thisArg) {\n      return undefined;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    RegularShape.prototype.load = function load () {};\n\n    /**\n     * @inheritDoc\n     */\n    RegularShape.prototype.unlistenImageChange = function unlistenImageChange (listener, thisArg) {};\n\n    /**\n     * @protected\n     * @param {import(\"./AtlasManager.js\").default|undefined} atlasManager An atlas manager.\n     */\n    RegularShape.prototype.render_ = function render_ (atlasManager) {\n      var imageSize;\n      var lineCap = '';\n      var lineJoin = '';\n      var miterLimit = 0;\n      var lineDash = null;\n      var lineDashOffset = 0;\n      var strokeStyle;\n      var strokeWidth = 0;\n\n      if (this.stroke_) {\n        strokeStyle = this.stroke_.getColor();\n        if (strokeStyle === null) {\n          strokeStyle = defaultStrokeStyle;\n        }\n        strokeStyle = asColorLike(strokeStyle);\n        strokeWidth = this.stroke_.getWidth();\n        if (strokeWidth === undefined) {\n          strokeWidth = defaultLineWidth;\n        }\n        lineDash = this.stroke_.getLineDash();\n        lineDashOffset = this.stroke_.getLineDashOffset();\n        if (!CANVAS_LINE_DASH) {\n          lineDash = null;\n          lineDashOffset = 0;\n        }\n        lineJoin = this.stroke_.getLineJoin();\n        if (lineJoin === undefined) {\n          lineJoin = defaultLineJoin;\n        }\n        lineCap = this.stroke_.getLineCap();\n        if (lineCap === undefined) {\n          lineCap = defaultLineCap;\n        }\n        miterLimit = this.stroke_.getMiterLimit();\n        if (miterLimit === undefined) {\n          miterLimit = defaultMiterLimit;\n        }\n      }\n\n      var size = 2 * (this.radius_ + strokeWidth) + 1;\n\n      /** @type {RenderOptions} */\n      var renderOptions = {\n        strokeStyle: strokeStyle,\n        strokeWidth: strokeWidth,\n        size: size,\n        lineCap: lineCap,\n        lineDash: lineDash,\n        lineDashOffset: lineDashOffset,\n        lineJoin: lineJoin,\n        miterLimit: miterLimit\n      };\n\n      if (atlasManager === undefined) {\n        // no atlas manager is used, create a new canvas\n        var context = createCanvasContext2D(size, size);\n        this.canvas_ = context.canvas;\n\n        // canvas.width and height are rounded to the closest integer\n        size = this.canvas_.width;\n        imageSize = size;\n\n        this.draw_(renderOptions, context, 0, 0);\n\n        this.createHitDetectionCanvas_(renderOptions);\n      } else {\n        // an atlas manager is used, add the symbol to an atlas\n        size = Math.round(size);\n\n        var hasCustomHitDetectionImage = !this.fill_;\n        var renderHitDetectionCallback;\n        if (hasCustomHitDetectionImage) {\n          // render the hit-detection image into a separate atlas image\n          renderHitDetectionCallback =\n              this.drawHitDetectionCanvas_.bind(this, renderOptions);\n        }\n\n        var id = this.getChecksum();\n        var info = atlasManager.add(\n          id, size, size, this.draw_.bind(this, renderOptions),\n          renderHitDetectionCallback);\n\n        this.canvas_ = info.image;\n        this.origin_ = [info.offsetX, info.offsetY];\n        imageSize = info.image.width;\n\n        if (hasCustomHitDetectionImage) {\n          this.hitDetectionCanvas_ = info.hitImage;\n          this.hitDetectionImageSize_ =\n              [info.hitImage.width, info.hitImage.height];\n        } else {\n          this.hitDetectionCanvas_ = this.canvas_;\n          this.hitDetectionImageSize_ = [imageSize, imageSize];\n        }\n      }\n\n      this.anchor_ = [size / 2, size / 2];\n      this.size_ = [size, size];\n      this.imageSize_ = [imageSize, imageSize];\n    };\n\n    /**\n     * @private\n     * @param {RenderOptions} renderOptions Render options.\n     * @param {CanvasRenderingContext2D} context The rendering context.\n     * @param {number} x The origin for the symbol (x).\n     * @param {number} y The origin for the symbol (y).\n     */\n    RegularShape.prototype.draw_ = function draw_ (renderOptions, context, x, y) {\n      var i, angle0, radiusC;\n      // reset transform\n      context.setTransform(1, 0, 0, 1, 0, 0);\n\n      // then move to (x, y)\n      context.translate(x, y);\n\n      context.beginPath();\n\n      var points = this.points_;\n      if (points === Infinity) {\n        context.arc(\n          renderOptions.size / 2, renderOptions.size / 2,\n          this.radius_, 0, 2 * Math.PI, true);\n      } else {\n        var radius2 = (this.radius2_ !== undefined) ? this.radius2_\n          : this.radius_;\n        if (radius2 !== this.radius_) {\n          points = 2 * points;\n        }\n        for (i = 0; i <= points; i++) {\n          angle0 = i * 2 * Math.PI / points - Math.PI / 2 + this.angle_;\n          radiusC = i % 2 === 0 ? this.radius_ : radius2;\n          context.lineTo(renderOptions.size / 2 + radiusC * Math.cos(angle0),\n            renderOptions.size / 2 + radiusC * Math.sin(angle0));\n        }\n      }\n\n\n      if (this.fill_) {\n        var color = this.fill_.getColor();\n        if (color === null) {\n          color = defaultFillStyle;\n        }\n        context.fillStyle = asColorLike(color);\n        context.fill();\n      }\n      if (this.stroke_) {\n        context.strokeStyle = renderOptions.strokeStyle;\n        context.lineWidth = renderOptions.strokeWidth;\n        if (renderOptions.lineDash) {\n          context.setLineDash(renderOptions.lineDash);\n          context.lineDashOffset = renderOptions.lineDashOffset;\n        }\n        context.lineCap = /** @type {CanvasLineCap} */ (renderOptions.lineCap);\n        context.lineJoin = /** @type {CanvasLineJoin} */ (renderOptions.lineJoin);\n        context.miterLimit = renderOptions.miterLimit;\n        context.stroke();\n      }\n      context.closePath();\n    };\n\n    /**\n     * @private\n     * @param {RenderOptions} renderOptions Render options.\n     */\n    RegularShape.prototype.createHitDetectionCanvas_ = function createHitDetectionCanvas_ (renderOptions) {\n      this.hitDetectionImageSize_ = [renderOptions.size, renderOptions.size];\n      if (this.fill_) {\n        this.hitDetectionCanvas_ = this.canvas_;\n        return;\n      }\n\n      // if no fill style is set, create an extra hit-detection image with a\n      // default fill style\n      var context = createCanvasContext2D(renderOptions.size, renderOptions.size);\n      this.hitDetectionCanvas_ = context.canvas;\n\n      this.drawHitDetectionCanvas_(renderOptions, context, 0, 0);\n    };\n\n    /**\n     * @private\n     * @param {RenderOptions} renderOptions Render options.\n     * @param {CanvasRenderingContext2D} context The context.\n     * @param {number} x The origin for the symbol (x).\n     * @param {number} y The origin for the symbol (y).\n     */\n    RegularShape.prototype.drawHitDetectionCanvas_ = function drawHitDetectionCanvas_ (renderOptions, context, x, y) {\n      // reset transform\n      context.setTransform(1, 0, 0, 1, 0, 0);\n\n      // then move to (x, y)\n      context.translate(x, y);\n\n      context.beginPath();\n\n      var points = this.points_;\n      if (points === Infinity) {\n        context.arc(\n          renderOptions.size / 2, renderOptions.size / 2,\n          this.radius_, 0, 2 * Math.PI, true);\n      } else {\n        var radius2 = (this.radius2_ !== undefined) ? this.radius2_\n          : this.radius_;\n        if (radius2 !== this.radius_) {\n          points = 2 * points;\n        }\n        var i, radiusC, angle0;\n        for (i = 0; i <= points; i++) {\n          angle0 = i * 2 * Math.PI / points - Math.PI / 2 + this.angle_;\n          radiusC = i % 2 === 0 ? this.radius_ : radius2;\n          context.lineTo(renderOptions.size / 2 + radiusC * Math.cos(angle0),\n            renderOptions.size / 2 + radiusC * Math.sin(angle0));\n        }\n      }\n\n      context.fillStyle = asString(defaultFillStyle);\n      context.fill();\n      if (this.stroke_) {\n        context.strokeStyle = renderOptions.strokeStyle;\n        context.lineWidth = renderOptions.strokeWidth;\n        if (renderOptions.lineDash) {\n          context.setLineDash(renderOptions.lineDash);\n          context.lineDashOffset = renderOptions.lineDashOffset;\n        }\n        context.stroke();\n      }\n      context.closePath();\n    };\n\n    /**\n     * @return {string} The checksum.\n     */\n    RegularShape.prototype.getChecksum = function getChecksum () {\n      var strokeChecksum = this.stroke_ ?\n        this.stroke_.getChecksum() : '-';\n      var fillChecksum = this.fill_ ?\n        this.fill_.getChecksum() : '-';\n\n      var recalculate = !this.checksums_ ||\n          (strokeChecksum != this.checksums_[1] ||\n          fillChecksum != this.checksums_[2] ||\n          this.radius_ != this.checksums_[3] ||\n          this.radius2_ != this.checksums_[4] ||\n          this.angle_ != this.checksums_[5] ||\n          this.points_ != this.checksums_[6]);\n\n      if (recalculate) {\n        var checksum = 'r' + strokeChecksum + fillChecksum +\n            (this.radius_ !== undefined ? this.radius_.toString() : '-') +\n            (this.radius2_ !== undefined ? this.radius2_.toString() : '-') +\n            (this.angle_ !== undefined ? this.angle_.toString() : '-') +\n            (this.points_ !== undefined ? this.points_.toString() : '-');\n        this.checksums_ = [checksum, strokeChecksum, fillChecksum,\n          this.radius_, this.radius2_, this.angle_, this.points_];\n      }\n\n      return /** @type {string} */ (this.checksums_[0]);\n    };\n\n    return RegularShape;\n  }(ImageStyle));\n\n  /**\n   * @module ol/style/Circle\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"./Fill.js\").default} [fill] Fill style.\n   * @property {number} radius Circle radius.\n   * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n   * @property {import(\"./AtlasManager.js\").default} [atlasManager] The atlas manager to use for this circle.\n   * When using WebGL it is recommended to use an atlas manager to avoid texture switching. If an atlas manager is given,\n   * the circle is added to an atlas. By default no atlas manager is used.\n   */\n\n\n  /**\n   * @classdesc\n   * Set circle style for vector features.\n   * @api\n   */\n  var CircleStyle = /*@__PURE__*/(function (RegularShape$$1) {\n    function CircleStyle(opt_options) {\n\n      var options = opt_options || /** @type {Options} */ ({});\n\n      RegularShape$$1.call(this, {\n        points: Infinity,\n        fill: options.fill,\n        radius: options.radius,\n        stroke: options.stroke,\n        atlasManager: options.atlasManager\n      });\n\n    }\n\n    if ( RegularShape$$1 ) CircleStyle.__proto__ = RegularShape$$1;\n    CircleStyle.prototype = Object.create( RegularShape$$1 && RegularShape$$1.prototype );\n    CircleStyle.prototype.constructor = CircleStyle;\n\n    /**\n    * Clones the style.  If an atlasmanager was provided to the original style it will be used in the cloned style, too.\n    * @return {CircleStyle} The cloned style.\n    * @override\n    * @api\n    */\n    CircleStyle.prototype.clone = function clone () {\n      var style = new CircleStyle({\n        fill: this.getFill() ? this.getFill().clone() : undefined,\n        stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n        radius: this.getRadius(),\n        atlasManager: this.atlasManager_\n      });\n      style.setOpacity(this.getOpacity());\n      style.setScale(this.getScale());\n      return style;\n    };\n\n    /**\n    * Set the circle radius.\n    *\n    * @param {number} radius Circle radius.\n    * @api\n    */\n    CircleStyle.prototype.setRadius = function setRadius (radius) {\n      this.radius_ = radius;\n      this.render_(this.atlasManager_);\n    };\n\n    return CircleStyle;\n  }(RegularShape));\n\n  /**\n   * @module ol/style/Fill\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} [color] A color, gradient or pattern.\n   * See {@link module:ol/color~Color} and {@link module:ol/colorlike~ColorLike} for possible formats.\n   * Default null; if null, the Canvas/renderer default black will be used.\n   */\n\n\n  /**\n   * @classdesc\n   * Set fill style for vector features.\n   * @api\n   */\n  var Fill = function Fill(opt_options) {\n\n    var options = opt_options || {};\n\n    /**\n     * @private\n     * @type {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike}\n     */\n    this.color_ = options.color !== undefined ? options.color : null;\n\n    /**\n     * @private\n     * @type {string|undefined}\n     */\n    this.checksum_ = undefined;\n  };\n\n  /**\n   * Clones the style. The color is not cloned if it is an {@link module:ol/colorlike~ColorLike}.\n   * @return {Fill} The cloned style.\n   * @api\n   */\n  Fill.prototype.clone = function clone () {\n    var color = this.getColor();\n    return new Fill({\n      color: Array.isArray(color) ? color.slice() : color || undefined\n    });\n  };\n\n  /**\n   * Get the fill color.\n   * @return {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} Color.\n   * @api\n   */\n  Fill.prototype.getColor = function getColor () {\n    return this.color_;\n  };\n\n  /**\n   * Set the color.\n   *\n   * @param {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} color Color.\n   * @api\n   */\n  Fill.prototype.setColor = function setColor (color) {\n    this.color_ = color;\n    this.checksum_ = undefined;\n  };\n\n  /**\n   * @return {string} The checksum.\n   */\n  Fill.prototype.getChecksum = function getChecksum () {\n    if (this.checksum_ === undefined) {\n      var color = this.color_;\n      if (color) {\n        if (Array.isArray(color) || typeof color == 'string') {\n          this.checksum_ = 'f' + asString(/** @type {import(\"../color.js\").Color|string} */ (color));\n        } else {\n          this.checksum_ = getUid(this.color_);\n        }\n      } else {\n        this.checksum_ = 'f-';\n      }\n    }\n\n    return this.checksum_;\n  };\n\n  /**\n   * @module ol/style/Stroke\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} [color] A color, gradient or pattern.\n   * See {@link module:ol/color~Color} and {@link module:ol/colorlike~ColorLike} for possible formats.\n   * Default null; if null, the Canvas/renderer default black will be used.\n   * @property {string} [lineCap='round'] Line cap style: `butt`, `round`, or `square`.\n   * @property {string} [lineJoin='round'] Line join style: `bevel`, `round`, or `miter`.\n   * @property {Array<number>} [lineDash] Line dash pattern. Default is `undefined` (no dash).\n   * Please note that Internet Explorer 10 and lower do not support the `setLineDash` method on\n   * the `CanvasRenderingContext2D` and therefore this option will have no visual effect in these browsers.\n   * @property {number} [lineDashOffset=0] Line dash offset.\n   * @property {number} [miterLimit=10] Miter limit.\n   * @property {number} [width] Width.\n   */\n\n\n  /**\n   * @classdesc\n   * Set stroke style for vector features.\n   * Note that the defaults given are the Canvas defaults, which will be used if\n   * option is not defined. The `get` functions return whatever was entered in\n   * the options; they will not return the default.\n   * @api\n   */\n  var Stroke = function Stroke(opt_options) {\n\n    var options = opt_options || {};\n\n    /**\n     * @private\n     * @type {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike}\n     */\n    this.color_ = options.color !== undefined ? options.color : null;\n\n    /**\n     * @private\n     * @type {string|undefined}\n     */\n    this.lineCap_ = options.lineCap;\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    this.lineDash_ = options.lineDash !== undefined ? options.lineDash : null;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.lineDashOffset_ = options.lineDashOffset;\n\n    /**\n     * @private\n     * @type {string|undefined}\n     */\n    this.lineJoin_ = options.lineJoin;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.miterLimit_ = options.miterLimit;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.width_ = options.width;\n\n    /**\n     * @private\n     * @type {string|undefined}\n     */\n    this.checksum_ = undefined;\n  };\n\n  /**\n   * Clones the style.\n   * @return {Stroke} The cloned style.\n   * @api\n   */\n  Stroke.prototype.clone = function clone () {\n    var color = this.getColor();\n    return new Stroke({\n      color: Array.isArray(color) ? color.slice() : color || undefined,\n      lineCap: this.getLineCap(),\n      lineDash: this.getLineDash() ? this.getLineDash().slice() : undefined,\n      lineDashOffset: this.getLineDashOffset(),\n      lineJoin: this.getLineJoin(),\n      miterLimit: this.getMiterLimit(),\n      width: this.getWidth()\n    });\n  };\n\n  /**\n   * Get the stroke color.\n   * @return {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} Color.\n   * @api\n   */\n  Stroke.prototype.getColor = function getColor () {\n    return this.color_;\n  };\n\n  /**\n   * Get the line cap type for the stroke.\n   * @return {string|undefined} Line cap.\n   * @api\n   */\n  Stroke.prototype.getLineCap = function getLineCap () {\n    return this.lineCap_;\n  };\n\n  /**\n   * Get the line dash style for the stroke.\n   * @return {Array<number>} Line dash.\n   * @api\n   */\n  Stroke.prototype.getLineDash = function getLineDash () {\n    return this.lineDash_;\n  };\n\n  /**\n   * Get the line dash offset for the stroke.\n   * @return {number|undefined} Line dash offset.\n   * @api\n   */\n  Stroke.prototype.getLineDashOffset = function getLineDashOffset () {\n    return this.lineDashOffset_;\n  };\n\n  /**\n   * Get the line join type for the stroke.\n   * @return {string|undefined} Line join.\n   * @api\n   */\n  Stroke.prototype.getLineJoin = function getLineJoin () {\n    return this.lineJoin_;\n  };\n\n  /**\n   * Get the miter limit for the stroke.\n   * @return {number|undefined} Miter limit.\n   * @api\n   */\n  Stroke.prototype.getMiterLimit = function getMiterLimit () {\n    return this.miterLimit_;\n  };\n\n  /**\n   * Get the stroke width.\n   * @return {number|undefined} Width.\n   * @api\n   */\n  Stroke.prototype.getWidth = function getWidth () {\n    return this.width_;\n  };\n\n  /**\n   * Set the color.\n   *\n   * @param {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} color Color.\n   * @api\n   */\n  Stroke.prototype.setColor = function setColor (color) {\n    this.color_ = color;\n    this.checksum_ = undefined;\n  };\n\n  /**\n   * Set the line cap.\n   *\n   * @param {string|undefined} lineCap Line cap.\n   * @api\n   */\n  Stroke.prototype.setLineCap = function setLineCap (lineCap) {\n    this.lineCap_ = lineCap;\n    this.checksum_ = undefined;\n  };\n\n  /**\n   * Set the line dash.\n   *\n   * Please note that Internet Explorer 10 and lower [do not support][mdn] the\n   * `setLineDash` method on the `CanvasRenderingContext2D` and therefore this\n   * property will have no visual effect in these browsers.\n   *\n   * [mdn]: https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility\n   *\n   * @param {Array<number>} lineDash Line dash.\n   * @api\n   */\n  Stroke.prototype.setLineDash = function setLineDash (lineDash) {\n    this.lineDash_ = lineDash;\n    this.checksum_ = undefined;\n  };\n\n  /**\n   * Set the line dash offset.\n   *\n   * @param {number|undefined} lineDashOffset Line dash offset.\n   * @api\n   */\n  Stroke.prototype.setLineDashOffset = function setLineDashOffset (lineDashOffset) {\n    this.lineDashOffset_ = lineDashOffset;\n    this.checksum_ = undefined;\n  };\n\n  /**\n   * Set the line join.\n   *\n   * @param {string|undefined} lineJoin Line join.\n   * @api\n   */\n  Stroke.prototype.setLineJoin = function setLineJoin (lineJoin) {\n    this.lineJoin_ = lineJoin;\n    this.checksum_ = undefined;\n  };\n\n  /**\n   * Set the miter limit.\n   *\n   * @param {number|undefined} miterLimit Miter limit.\n   * @api\n   */\n  Stroke.prototype.setMiterLimit = function setMiterLimit (miterLimit) {\n    this.miterLimit_ = miterLimit;\n    this.checksum_ = undefined;\n  };\n\n  /**\n   * Set the width.\n   *\n   * @param {number|undefined} width Width.\n   * @api\n   */\n  Stroke.prototype.setWidth = function setWidth (width) {\n    this.width_ = width;\n    this.checksum_ = undefined;\n  };\n\n  /**\n   * @return {string} The checksum.\n   */\n  Stroke.prototype.getChecksum = function getChecksum () {\n    if (this.checksum_ === undefined) {\n      this.checksum_ = 's';\n      if (this.color_) {\n        if (typeof this.color_ === 'string') {\n          this.checksum_ += this.color_;\n        } else {\n          this.checksum_ += getUid(this.color_);\n        }\n      } else {\n        this.checksum_ += '-';\n      }\n      this.checksum_ += ',' +\n          (this.lineCap_ !== undefined ?\n            this.lineCap_.toString() : '-') + ',' +\n          (this.lineDash_ ?\n            this.lineDash_.toString() : '-') + ',' +\n          (this.lineDashOffset_ !== undefined ?\n            this.lineDashOffset_ : '-') + ',' +\n          (this.lineJoin_ !== undefined ?\n            this.lineJoin_ : '-') + ',' +\n          (this.miterLimit_ !== undefined ?\n            this.miterLimit_.toString() : '-') + ',' +\n          (this.width_ !== undefined ?\n            this.width_.toString() : '-');\n    }\n\n    return this.checksum_;\n  };\n\n  /**\n   * @module ol/style/Style\n   */\n\n\n  /**\n   * A function that takes an {@link module:ol/Feature} and a `{number}`\n   * representing the view's resolution. The function should return a\n   * {@link module:ol/style/Style} or an array of them. This way e.g. a\n   * vector layer can be styled.\n   *\n   * @typedef {function(import(\"../Feature.js\").FeatureLike, number):(Style|Array<Style>)} StyleFunction\n   */\n\n  /**\n   * A {@link Style}, an array of {@link Style}, or a {@link StyleFunction}.\n   * @typedef {Style|Array<Style>|StyleFunction} StyleLike\n   */\n\n  /**\n   * A function that takes an {@link module:ol/Feature} as argument and returns an\n   * {@link module:ol/geom/Geometry} that will be rendered and styled for the feature.\n   *\n   * @typedef {function(import(\"../Feature.js\").FeatureLike):\n   *     (import(\"../geom/Geometry.js\").default|import(\"../render/Feature.js\").default|undefined)} GeometryFunction\n   */\n\n\n  /**\n   * Custom renderer function. Takes two arguments:\n   *\n   * 1. The pixel coordinates of the geometry in GeoJSON notation.\n   * 2. The {@link module:ol/render~State} of the layer renderer.\n   *\n   * @typedef {function((import(\"../coordinate.js\").Coordinate|Array<import(\"../coordinate.js\").Coordinate>|Array<Array<import(\"../coordinate.js\").Coordinate>>),import(\"../render.js\").State)}\n   * RenderFunction\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string|import(\"../geom/Geometry.js\").default|GeometryFunction} [geometry] Feature property or geometry\n   * or function returning a geometry to render for this style.\n   * @property {import(\"./Fill.js\").default} [fill] Fill style.\n   * @property {import(\"./Image.js\").default} [image] Image style.\n   * @property {RenderFunction} [renderer] Custom renderer. When configured, `fill`, `stroke` and `image` will be\n   * ignored, and the provided function will be called with each render frame for each geometry.\n   * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n   * @property {import(\"./Text.js\").default} [text] Text style.\n   * @property {number} [zIndex] Z index.\n   */\n\n  /**\n   * @classdesc\n   * Container for vector feature rendering styles. Any changes made to the style\n   * or its children through `set*()` methods will not take effect until the\n   * feature or layer that uses the style is re-rendered.\n   * @api\n   */\n  var Style = function Style(opt_options) {\n\n    var options = opt_options || {};\n\n    /**\n     * @private\n     * @type {string|import(\"../geom/Geometry.js\").default|GeometryFunction}\n     */\n    this.geometry_ = null;\n\n    /**\n     * @private\n     * @type {!GeometryFunction}\n     */\n    this.geometryFunction_ = defaultGeometryFunction;\n\n    if (options.geometry !== undefined) {\n      this.setGeometry(options.geometry);\n    }\n\n    /**\n     * @private\n     * @type {import(\"./Fill.js\").default}\n     */\n    this.fill_ = options.fill !== undefined ? options.fill : null;\n\n    /**\n       * @private\n       * @type {import(\"./Image.js\").default}\n       */\n    this.image_ = options.image !== undefined ? options.image : null;\n\n    /**\n     * @private\n     * @type {RenderFunction|null}\n     */\n    this.renderer_ = options.renderer !== undefined ? options.renderer : null;\n\n    /**\n     * @private\n     * @type {import(\"./Stroke.js\").default}\n     */\n    this.stroke_ = options.stroke !== undefined ? options.stroke : null;\n\n    /**\n     * @private\n     * @type {import(\"./Text.js\").default}\n     */\n    this.text_ = options.text !== undefined ? options.text : null;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.zIndex_ = options.zIndex;\n\n  };\n\n  /**\n   * Clones the style.\n   * @return {Style} The cloned style.\n   * @api\n   */\n  Style.prototype.clone = function clone () {\n    var geometry = this.getGeometry();\n    if (geometry && typeof geometry === 'object') {\n      geometry = /** @type {import(\"../geom/Geometry.js\").default} */ (geometry).clone();\n    }\n    return new Style({\n      geometry: geometry,\n      fill: this.getFill() ? this.getFill().clone() : undefined,\n      image: this.getImage() ? this.getImage().clone() : undefined,\n      stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n      text: this.getText() ? this.getText().clone() : undefined,\n      zIndex: this.getZIndex()\n    });\n  };\n\n  /**\n   * Get the custom renderer function that was configured with\n   * {@link #setRenderer} or the `renderer` constructor option.\n   * @return {RenderFunction|null} Custom renderer function.\n   * @api\n   */\n  Style.prototype.getRenderer = function getRenderer () {\n    return this.renderer_;\n  };\n\n  /**\n   * Sets a custom renderer function for this style. When set, `fill`, `stroke`\n   * and `image` options of the style will be ignored.\n   * @param {RenderFunction|null} renderer Custom renderer function.\n   * @api\n   */\n  Style.prototype.setRenderer = function setRenderer (renderer) {\n    this.renderer_ = renderer;\n  };\n\n  /**\n   * Get the geometry to be rendered.\n   * @return {string|import(\"../geom/Geometry.js\").default|GeometryFunction}\n   * Feature property or geometry or function that returns the geometry that will\n   * be rendered with this style.\n   * @api\n   */\n  Style.prototype.getGeometry = function getGeometry () {\n    return this.geometry_;\n  };\n\n  /**\n   * Get the function used to generate a geometry for rendering.\n   * @return {!GeometryFunction} Function that is called with a feature\n   * and returns the geometry to render instead of the feature's geometry.\n   * @api\n   */\n  Style.prototype.getGeometryFunction = function getGeometryFunction () {\n    return this.geometryFunction_;\n  };\n\n  /**\n   * Get the fill style.\n   * @return {import(\"./Fill.js\").default} Fill style.\n   * @api\n   */\n  Style.prototype.getFill = function getFill () {\n    return this.fill_;\n  };\n\n  /**\n   * Set the fill style.\n   * @param {import(\"./Fill.js\").default} fill Fill style.\n   * @api\n   */\n  Style.prototype.setFill = function setFill (fill) {\n    this.fill_ = fill;\n  };\n\n  /**\n   * Get the image style.\n   * @return {import(\"./Image.js\").default} Image style.\n   * @api\n   */\n  Style.prototype.getImage = function getImage () {\n    return this.image_;\n  };\n\n  /**\n   * Set the image style.\n   * @param {import(\"./Image.js\").default} image Image style.\n   * @api\n   */\n  Style.prototype.setImage = function setImage (image) {\n    this.image_ = image;\n  };\n\n  /**\n   * Get the stroke style.\n   * @return {import(\"./Stroke.js\").default} Stroke style.\n   * @api\n   */\n  Style.prototype.getStroke = function getStroke () {\n    return this.stroke_;\n  };\n\n  /**\n   * Set the stroke style.\n   * @param {import(\"./Stroke.js\").default} stroke Stroke style.\n   * @api\n   */\n  Style.prototype.setStroke = function setStroke (stroke) {\n    this.stroke_ = stroke;\n  };\n\n  /**\n   * Get the text style.\n   * @return {import(\"./Text.js\").default} Text style.\n   * @api\n   */\n  Style.prototype.getText = function getText () {\n    return this.text_;\n  };\n\n  /**\n   * Set the text style.\n   * @param {import(\"./Text.js\").default} text Text style.\n   * @api\n   */\n  Style.prototype.setText = function setText (text) {\n    this.text_ = text;\n  };\n\n  /**\n   * Get the z-index for the style.\n   * @return {number|undefined} ZIndex.\n   * @api\n   */\n  Style.prototype.getZIndex = function getZIndex () {\n    return this.zIndex_;\n  };\n\n  /**\n   * Set a geometry that is rendered instead of the feature's geometry.\n   *\n   * @param {string|import(\"../geom/Geometry.js\").default|GeometryFunction} geometry\n   *   Feature property or geometry or function returning a geometry to render\n   *   for this style.\n   * @api\n   */\n  Style.prototype.setGeometry = function setGeometry (geometry) {\n    if (typeof geometry === 'function') {\n      this.geometryFunction_ = geometry;\n    } else if (typeof geometry === 'string') {\n      this.geometryFunction_ = function(feature) {\n        return (\n          /** @type {import(\"../geom/Geometry.js\").default} */ (feature.get(geometry))\n        );\n      };\n    } else if (!geometry) {\n      this.geometryFunction_ = defaultGeometryFunction;\n    } else if (geometry !== undefined) {\n      this.geometryFunction_ = function() {\n        return (\n          /** @type {import(\"../geom/Geometry.js\").default} */ (geometry)\n        );\n      };\n    }\n    this.geometry_ = geometry;\n  };\n\n  /**\n   * Set the z-index.\n   *\n   * @param {number|undefined} zIndex ZIndex.\n   * @api\n   */\n  Style.prototype.setZIndex = function setZIndex (zIndex) {\n    this.zIndex_ = zIndex;\n  };\n\n\n  /**\n   * Convert the provided object into a style function.  Functions passed through\n   * unchanged.  Arrays of Style or single style objects wrapped in a\n   * new style function.\n   * @param {StyleFunction|Array<Style>|Style} obj\n   *     A style function, a single style, or an array of styles.\n   * @return {StyleFunction} A style function.\n   */\n  function toFunction(obj) {\n    var styleFunction;\n\n    if (typeof obj === 'function') {\n      styleFunction = obj;\n    } else {\n      /**\n       * @type {Array<Style>}\n       */\n      var styles;\n      if (Array.isArray(obj)) {\n        styles = obj;\n      } else {\n        assert(typeof /** @type {?} */ (obj).getZIndex === 'function',\n          41); // Expected an `Style` or an array of `Style`\n        var style = /** @type {Style} */ (obj);\n        styles = [style];\n      }\n      styleFunction = function() {\n        return styles;\n      };\n    }\n    return styleFunction;\n  }\n\n\n  /**\n   * @type {Array<Style>}\n   */\n  var defaultStyles = null;\n\n\n  /**\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   * @param {number} resolution Resolution.\n   * @return {Array<Style>} Style.\n   */\n  function createDefaultStyle(feature, resolution) {\n    // We don't use an immediately-invoked function\n    // and a closure so we don't get an error at script evaluation time in\n    // browsers that do not support Canvas. (import(\"./Circle.js\").CircleStyle does\n    // canvas.getContext('2d') at construction time, which will cause an.error\n    // in such browsers.)\n    if (!defaultStyles) {\n      var fill = new Fill({\n        color: 'rgba(255,255,255,0.4)'\n      });\n      var stroke = new Stroke({\n        color: '#3399CC',\n        width: 1.25\n      });\n      defaultStyles = [\n        new Style({\n          image: new CircleStyle({\n            fill: fill,\n            stroke: stroke,\n            radius: 5\n          }),\n          fill: fill,\n          stroke: stroke\n        })\n      ];\n    }\n    return defaultStyles;\n  }\n\n\n  /**\n   * Default styles for editing features.\n   * @return {Object<import(\"../geom/GeometryType.js\").default, Array<Style>>} Styles\n   */\n  function createEditingStyle() {\n    /** @type {Object<import(\"../geom/GeometryType.js\").default, Array<Style>>} */\n    var styles = {};\n    var white = [255, 255, 255, 1];\n    var blue = [0, 153, 255, 1];\n    var width = 3;\n    styles[GeometryType.POLYGON] = [\n      new Style({\n        fill: new Fill({\n          color: [255, 255, 255, 0.5]\n        })\n      })\n    ];\n    styles[GeometryType.MULTI_POLYGON] =\n        styles[GeometryType.POLYGON];\n\n    styles[GeometryType.LINE_STRING] = [\n      new Style({\n        stroke: new Stroke({\n          color: white,\n          width: width + 2\n        })\n      }),\n      new Style({\n        stroke: new Stroke({\n          color: blue,\n          width: width\n        })\n      })\n    ];\n    styles[GeometryType.MULTI_LINE_STRING] =\n        styles[GeometryType.LINE_STRING];\n\n    styles[GeometryType.CIRCLE] =\n        styles[GeometryType.POLYGON].concat(\n          styles[GeometryType.LINE_STRING]\n        );\n\n\n    styles[GeometryType.POINT] = [\n      new Style({\n        image: new CircleStyle({\n          radius: width * 2,\n          fill: new Fill({\n            color: blue\n          }),\n          stroke: new Stroke({\n            color: white,\n            width: width / 2\n          })\n        }),\n        zIndex: Infinity\n      })\n    ];\n    styles[GeometryType.MULTI_POINT] =\n        styles[GeometryType.POINT];\n\n    styles[GeometryType.GEOMETRY_COLLECTION] =\n        styles[GeometryType.POLYGON].concat(\n          styles[GeometryType.LINE_STRING],\n          styles[GeometryType.POINT]\n        );\n\n    return styles;\n  }\n\n\n  /**\n   * Function that is called with a feature and returns its default geometry.\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature to get the geometry for.\n   * @return {import(\"../geom/Geometry.js\").default|import(\"../render/Feature.js\").default|undefined} Geometry to render.\n   */\n  function defaultGeometryFunction(feature) {\n    return feature.getGeometry();\n  }\n\n  /**\n   * @module ol/layer/Vector\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [opacity=1] Opacity (0, 1).\n   * @property {boolean} [visible=true] Visibility.\n   * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n   * rendered outside of this extent.\n   * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n   * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n   * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n   * method was used.\n   * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n   * visible.\n   * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n   * be visible.\n   * @property {import(\"../render.js\").OrderFunction} [renderOrder] Render order. Function to be used when sorting\n   * features before rendering. By default features are drawn in the order that they are created. Use\n   * `null` to avoid the sort, but get an undefined draw order.\n   * @property {number} [renderBuffer=100] The buffer in pixels around the viewport extent used by the\n   * renderer when getting features from the vector source for the rendering or hit-detection.\n   * Recommended value: the size of the largest symbol, line width or label.\n   * @property {import(\"./VectorRenderType.js\").default|string} [renderMode='vector'] Render mode for vector layers:\n   *  * `'image'`: Vector layers are rendered as images. Great performance, but point symbols and\n   *    texts are always rotated with the view and pixels are scaled during zoom animations.\n   *  * `'vector'`: Vector layers are rendered as vectors. Most accurate rendering even during\n   *    animations, but slower performance.\n   * @property {import(\"../source/Vector.js\").default} [source] Source.\n   * @property {import(\"../PluggableMap.js\").default} [map] Sets the layer as overlay on a map. The map will not manage\n   * this layer in its layers collection, and the layer will be rendered on top. This is useful for\n   * temporary layers. The standard way to add a layer to a map and have it managed by the map is to\n   * use {@link module:ol/Map#addLayer}.\n   * @property {boolean} [declutter=false] Declutter images and text. Decluttering is applied to all\n   * image and text styles, and the priority is defined by the z-index of the style. Lower z-index\n   * means higher priority.\n   * @property {import(\"../style/Style.js\").StyleLike} [style] Layer style. See\n   * {@link module:ol/style} for default style which will be used if this is not defined.\n   * @property {boolean} [updateWhileAnimating=false] When set to `true` and `renderMode`\n   * is `vector`, feature batches will be recreated during animations. This means that no\n   * vectors will be shown clipped, but the setting will have a performance impact for large\n   * amounts of vector data. When set to `false`, batches will be recreated when no animation\n   * is active.\n   * @property {boolean} [updateWhileInteracting=false] When set to `true` and `renderMode`\n   * is `vector`, feature batches will be recreated during interactions. See also\n   * `updateWhileAnimating`.\n   */\n\n\n  /**\n   * @enum {string}\n   * @private\n   */\n  var Property$2 = {\n    RENDER_ORDER: 'renderOrder'\n  };\n\n\n  /**\n   * @classdesc\n   * Vector data that is rendered client-side.\n   * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n   * property on the layer object; for example, setting `title: 'My Title'` in the\n   * options means that `title` is observable, and has get/set accessors.\n   *\n   * @api\n   */\n  var VectorLayer = /*@__PURE__*/(function (Layer$$1) {\n    function VectorLayer(opt_options) {\n      var options = opt_options ?\n        opt_options : /** @type {Options} */ ({});\n\n      var baseOptions = assign({}, options);\n\n      delete baseOptions.style;\n      delete baseOptions.renderBuffer;\n      delete baseOptions.updateWhileAnimating;\n      delete baseOptions.updateWhileInteracting;\n      Layer$$1.call(this, baseOptions);\n\n      /**\n      * @private\n      * @type {boolean}\n      */\n      this.declutter_ = options.declutter !== undefined ? options.declutter : false;\n\n      /**\n      * @type {number}\n      * @private\n      */\n      this.renderBuffer_ = options.renderBuffer !== undefined ?\n        options.renderBuffer : 100;\n\n      /**\n      * User provided style.\n      * @type {import(\"../style/Style.js\").StyleLike}\n      * @private\n      */\n      this.style_ = null;\n\n      /**\n      * Style function for use within the library.\n      * @type {import(\"../style/Style.js\").StyleFunction|undefined}\n      * @private\n      */\n      this.styleFunction_ = undefined;\n\n      this.setStyle(options.style);\n\n      /**\n      * @type {boolean}\n      * @private\n      */\n      this.updateWhileAnimating_ = options.updateWhileAnimating !== undefined ?\n        options.updateWhileAnimating : false;\n\n      /**\n      * @type {boolean}\n      * @private\n      */\n      this.updateWhileInteracting_ = options.updateWhileInteracting !== undefined ?\n        options.updateWhileInteracting : false;\n\n      /**\n      * @private\n      * @type {import(\"./VectorTileRenderType.js\").default|string}\n      */\n      this.renderMode_ = options.renderMode || VectorRenderType.VECTOR;\n\n      /**\n      * The layer type.\n      * @protected\n      * @type {import(\"../LayerType.js\").default}\n      */\n      this.type = LayerType.VECTOR;\n\n    }\n\n    if ( Layer$$1 ) VectorLayer.__proto__ = Layer$$1;\n    VectorLayer.prototype = Object.create( Layer$$1 && Layer$$1.prototype );\n    VectorLayer.prototype.constructor = VectorLayer;\n\n    /**\n    * @return {boolean} Declutter.\n    */\n    VectorLayer.prototype.getDeclutter = function getDeclutter () {\n      return this.declutter_;\n    };\n\n    /**\n    * @param {boolean} declutter Declutter.\n    */\n    VectorLayer.prototype.setDeclutter = function setDeclutter (declutter) {\n      this.declutter_ = declutter;\n    };\n\n    /**\n    * @return {number|undefined} Render buffer.\n    */\n    VectorLayer.prototype.getRenderBuffer = function getRenderBuffer () {\n      return this.renderBuffer_;\n    };\n\n    /**\n    * @return {function(import(\"../Feature.js\").default, import(\"../Feature.js\").default): number|null|undefined} Render\n    *     order.\n    */\n    VectorLayer.prototype.getRenderOrder = function getRenderOrder () {\n      return (\n      /** @type {import(\"../render.js\").OrderFunction|null|undefined} */ (this.get(Property$2.RENDER_ORDER))\n      );\n    };\n\n    /**\n    * Get the style for features.  This returns whatever was passed to the `style`\n    * option at construction or to the `setStyle` method.\n    * @return {import(\"../style/Style.js\").StyleLike}\n    *     Layer style.\n    * @api\n    */\n    VectorLayer.prototype.getStyle = function getStyle () {\n      return this.style_;\n    };\n\n    /**\n    * Get the style function.\n    * @return {import(\"../style/Style.js\").StyleFunction|undefined} Layer style function.\n    * @api\n    */\n    VectorLayer.prototype.getStyleFunction = function getStyleFunction () {\n      return this.styleFunction_;\n    };\n\n    /**\n    * @return {boolean} Whether the rendered layer should be updated while\n    *     animating.\n    */\n    VectorLayer.prototype.getUpdateWhileAnimating = function getUpdateWhileAnimating () {\n      return this.updateWhileAnimating_;\n    };\n\n    /**\n    * @return {boolean} Whether the rendered layer should be updated while\n    *     interacting.\n    */\n    VectorLayer.prototype.getUpdateWhileInteracting = function getUpdateWhileInteracting () {\n      return this.updateWhileInteracting_;\n    };\n\n    /**\n    * @param {import(\"../render.js\").OrderFunction|null|undefined} renderOrder\n    *     Render order.\n    */\n    VectorLayer.prototype.setRenderOrder = function setRenderOrder (renderOrder) {\n      this.set(Property$2.RENDER_ORDER, renderOrder);\n    };\n\n    /**\n    * Set the style for features.  This can be a single style object, an array\n    * of styles, or a function that takes a feature and resolution and returns\n    * an array of styles. If it is `undefined` the default style is used. If\n    * it is `null` the layer has no style (a `null` style), so only features\n    * that have their own styles will be rendered in the layer. See\n    * {@link module:ol/style} for information on the default style.\n    * @param {import(\"../style/Style.js\").default|Array<import(\"../style/Style.js\").default>|import(\"../style/Style.js\").StyleFunction|null|undefined} style Layer style.\n    * @api\n    */\n    VectorLayer.prototype.setStyle = function setStyle (style) {\n      this.style_ = style !== undefined ? style : createDefaultStyle;\n      this.styleFunction_ = style === null ?\n        undefined : toFunction(this.style_);\n      this.changed();\n    };\n\n    /**\n    * @return {import(\"./VectorRenderType.js\").default|string} The render mode.\n    */\n    VectorLayer.prototype.getRenderMode = function getRenderMode () {\n      return this.renderMode_;\n    };\n\n    return VectorLayer;\n  }(Layer));\n\n\n  /**\n   * Return the associated {@link module:ol/source/Vector vectorsource} of the layer.\n   * @function\n   * @return {import(\"../source/Vector.js\").default} Source.\n   * @api\n   */\n  VectorLayer.prototype.getSource;\n\n  /**\n   * @module ol/format/FormatType\n   */\n\n  /**\n   * @enum {string}\n   */\n  var FormatType = {\n    ARRAY_BUFFER: 'arraybuffer',\n    JSON: 'json',\n    TEXT: 'text',\n    XML: 'xml'\n  };\n\n  /**\n   * @module ol/featureloader\n   */\n\n  /**\n   * {@link module:ol/source/Vector} sources use a function of this type to\n   * load features.\n   *\n   * This function takes an {@link module:ol/extent~Extent} representing the area to be loaded,\n   * a `{number}` representing the resolution (map units per pixel) and an\n   * {@link module:ol/proj/Projection} for the projection  as\n   * arguments. `this` within the function is bound to the\n   * {@link module:ol/source/Vector} it's called from.\n   *\n   * The function is responsible for loading the features and adding them to the\n   * source.\n   * @typedef {function(this:(import(\"./source/Vector\").default|import(\"./VectorTile.js\").default), import(\"./extent.js\").Extent, number,\n   *                    import(\"./proj/Projection.js\").default)} FeatureLoader\n   * @api\n   */\n\n\n  /**\n   * {@link module:ol/source/Vector} sources use a function of this type to\n   * get the url to load features from.\n   *\n   * This function takes an {@link module:ol/extent~Extent} representing the area\n   * to be loaded, a `{number}` representing the resolution (map units per pixel)\n   * and an {@link module:ol/proj/Projection} for the projection  as\n   * arguments and returns a `{string}` representing the URL.\n   * @typedef {function(import(\"./extent.js\").Extent, number, import(\"./proj/Projection.js\").default): string} FeatureUrlFunction\n   * @api\n   */\n\n\n  /**\n   * @param {string|FeatureUrlFunction} url Feature URL service.\n   * @param {import(\"./format/Feature.js\").default} format Feature format.\n   * @param {function(this:import(\"./VectorTile.js\").default, Array<import(\"./Feature.js\").default>, import(\"./proj/Projection.js\").default, import(\"./extent.js\").Extent)|function(this:import(\"./source/Vector\").default, Array<import(\"./Feature.js\").default>)} success\n   *     Function called with the loaded features and optionally with the data\n   *     projection. Called with the vector tile or source as `this`.\n   * @param {function(this:import(\"./VectorTile.js\").default)|function(this:import(\"./source/Vector\").default)} failure\n   *     Function called when loading failed. Called with the vector tile or\n   *     source as `this`.\n   * @return {FeatureLoader} The feature loader.\n   */\n  function loadFeaturesXhr(url, format, success, failure) {\n    return (\n      /**\n       * @param {import(\"./extent.js\").Extent} extent Extent.\n       * @param {number} resolution Resolution.\n       * @param {import(\"./proj/Projection.js\").default} projection Projection.\n       * @this {import(\"./source/Vector\").default|import(\"./VectorTile.js\").default}\n       */\n      function(extent, resolution, projection) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET',\n          typeof url === 'function' ? url(extent, resolution, projection) : url,\n          true);\n        if (format.getType() == FormatType.ARRAY_BUFFER) {\n          xhr.responseType = 'arraybuffer';\n        }\n        /**\n         * @param {Event} event Event.\n         * @private\n         */\n        xhr.onload = function(event) {\n          // status will be 0 for file:// urls\n          if (!xhr.status || xhr.status >= 200 && xhr.status < 300) {\n            var type = format.getType();\n            /** @type {Document|Node|Object|string|undefined} */\n            var source;\n            if (type == FormatType.JSON || type == FormatType.TEXT) {\n              source = xhr.responseText;\n            } else if (type == FormatType.XML) {\n              source = xhr.responseXML;\n              if (!source) {\n                source = new DOMParser().parseFromString(xhr.responseText, 'application/xml');\n              }\n            } else if (type == FormatType.ARRAY_BUFFER) {\n              source = /** @type {ArrayBuffer} */ (xhr.response);\n            }\n            if (source) {\n              success.call(this, format.readFeatures(source,\n                {featureProjection: projection}),\n              format.readProjection(source), format.getLastExtent());\n            } else {\n              failure.call(this);\n            }\n          } else {\n            failure.call(this);\n          }\n        }.bind(this);\n        /**\n         * @private\n         */\n        xhr.onerror = function() {\n          failure.call(this);\n        }.bind(this);\n        xhr.send();\n      }\n    );\n  }\n\n\n  /**\n   * Create an XHR feature loader for a `url` and `format`. The feature loader\n   * loads features (with XHR), parses the features, and adds them to the\n   * vector source.\n   * @param {string|FeatureUrlFunction} url Feature URL service.\n   * @param {import(\"./format/Feature.js\").default} format Feature format.\n   * @return {FeatureLoader} The feature loader.\n   * @api\n   */\n  function xhr(url, format) {\n    return loadFeaturesXhr(url, format,\n      /**\n       * @param {Array<import(\"./Feature.js\").default>} features The loaded features.\n       * @param {import(\"./proj/Projection.js\").default} dataProjection Data\n       * projection.\n       * @this {import(\"./source/Vector\").default|import(\"./VectorTile.js\").default}\n       */\n      function(features, dataProjection) {\n        var sourceOrTile = /** @type {?} */ (this);\n        if (typeof sourceOrTile.addFeatures === 'function') {\n          /** @type {import(\"./source/Vector\").default} */ (sourceOrTile).addFeatures(features);\n        }\n      }, /* FIXME handle error */ VOID);\n  }\n\n  /**\n   * @module ol/loadingstrategy\n   */\n\n\n  /**\n   * Strategy function for loading all features with a single request.\n   * @param {import(\"./extent.js\").Extent} extent Extent.\n   * @param {number} resolution Resolution.\n   * @return {Array<import(\"./extent.js\").Extent>} Extents.\n   * @api\n   */\n  function all(extent, resolution) {\n    return [[-Infinity, -Infinity, Infinity, Infinity]];\n  }\n\n  /**\n   * @module ol/source/Source\n   */\n\n\n  /**\n   * A function that returns a string or an array of strings representing source\n   * attributions.\n   *\n   * @typedef {function(import(\"../PluggableMap.js\").FrameState): (string|Array<string>)} Attribution\n   */\n\n\n  /**\n   * A type that can be used to provide attribution information for data sources.\n   *\n   * It represents either\n   * * a simple string (e.g. `'© Acme Inc.'`)\n   * * an array of simple strings (e.g. `['© Acme Inc.', '© Bacme Inc.']`)\n   * * a function that returns a string or array of strings (`{@link module:ol/source/Source~Attribution}`)\n   *\n   * @typedef {string|Array<string>|Attribution} AttributionLike\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {AttributionLike} [attributions]\n   * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n   * @property {import(\"../proj.js\").ProjectionLike} projection\n   * @property {SourceState} [state='ready']\n   * @property {boolean} [wrapX=false]\n   */\n\n\n  /**\n   * @classdesc\n   * Abstract base class; normally only used for creating subclasses and not\n   * instantiated in apps.\n   * Base class for {@link module:ol/layer/Layer~Layer} sources.\n   *\n   * A generic `change` event is triggered when the state of the source changes.\n   * @abstract\n   * @api\n   */\n  var Source = /*@__PURE__*/(function (BaseObject$$1) {\n    function Source(options) {\n\n      BaseObject$$1.call(this);\n\n      /**\n       * @private\n       * @type {import(\"../proj/Projection.js\").default}\n       */\n      this.projection_ = get$2(options.projection);\n\n      /**\n       * @private\n       * @type {?Attribution}\n       */\n      this.attributions_ = adaptAttributions(options.attributions);\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.attributionsCollapsible_ = options.attributionsCollapsible !== undefined ?\n        options.attributionsCollapsible : true;\n\n      /**\n       * This source is currently loading data. Sources that defer loading to the\n       * map's tile queue never set this to `true`.\n       * @type {boolean}\n       */\n      this.loading = false;\n\n      /**\n       * @private\n       * @type {SourceState}\n       */\n      this.state_ = options.state !== undefined ?\n        options.state : SourceState.READY;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.wrapX_ = options.wrapX !== undefined ? options.wrapX : false;\n\n    }\n\n    if ( BaseObject$$1 ) Source.__proto__ = BaseObject$$1;\n    Source.prototype = Object.create( BaseObject$$1 && BaseObject$$1.prototype );\n    Source.prototype.constructor = Source;\n\n    /**\n     * Get the attribution function for the source.\n     * @return {?Attribution} Attribution function.\n     */\n    Source.prototype.getAttributions = function getAttributions () {\n      return this.attributions_;\n    };\n\n    /**\n     * @return {boolean} Aattributions are collapsible.\n     */\n    Source.prototype.getAttributionsCollapsible = function getAttributionsCollapsible () {\n      return this.attributionsCollapsible_;\n    };\n\n    /**\n     * Get the projection of the source.\n     * @return {import(\"../proj/Projection.js\").default} Projection.\n     * @api\n     */\n    Source.prototype.getProjection = function getProjection () {\n      return this.projection_;\n    };\n\n    /**\n     * @abstract\n     * @return {Array<number>|undefined} Resolutions.\n     */\n    Source.prototype.getResolutions = function getResolutions () {\n      return abstract();\n    };\n\n    /**\n     * Get the state of the source, see {@link module:ol/source/State~State} for possible states.\n     * @return {SourceState} State.\n     * @api\n     */\n    Source.prototype.getState = function getState () {\n      return this.state_;\n    };\n\n    /**\n     * @return {boolean|undefined} Wrap X.\n     */\n    Source.prototype.getWrapX = function getWrapX () {\n      return this.wrapX_;\n    };\n\n    /**\n     * Refreshes the source and finally dispatches a 'change' event.\n     * @api\n     */\n    Source.prototype.refresh = function refresh () {\n      this.changed();\n    };\n\n    /**\n     * Set the attributions of the source.\n     * @param {AttributionLike|undefined} attributions Attributions.\n     *     Can be passed as `string`, `Array<string>`, `{@link module:ol/source/Source~Attribution}`,\n     *     or `undefined`.\n     * @api\n     */\n    Source.prototype.setAttributions = function setAttributions (attributions) {\n      this.attributions_ = adaptAttributions(attributions);\n      this.changed();\n    };\n\n    /**\n     * Set the state of the source.\n     * @param {SourceState} state State.\n     * @protected\n     */\n    Source.prototype.setState = function setState (state) {\n      this.state_ = state;\n      this.changed();\n    };\n\n    return Source;\n  }(BaseObject));\n\n\n  /**\n   * Turns the attributions option into an attributions function.\n   * @param {AttributionLike|undefined} attributionLike The attribution option.\n   * @return {?Attribution} An attribution function (or null).\n   */\n  function adaptAttributions(attributionLike) {\n    if (!attributionLike) {\n      return null;\n    }\n    if (Array.isArray(attributionLike)) {\n      return function(frameState) {\n        return attributionLike;\n      };\n    }\n\n    if (typeof attributionLike === 'function') {\n      return attributionLike;\n    }\n\n    return function(frameState) {\n      return [attributionLike];\n    };\n  }\n\n  /**\n   * @module ol/source/VectorEventType\n   */\n\n  /**\n   * @enum {string}\n   */\n  var VectorEventType = {\n    /**\n     * Triggered when a feature is added to the source.\n     * @event ol/source/Vector.VectorSourceEvent#addfeature\n     * @api\n     */\n    ADDFEATURE: 'addfeature',\n\n    /**\n     * Triggered when a feature is updated.\n     * @event ol/source/Vector.VectorSourceEvent#changefeature\n     * @api\n     */\n    CHANGEFEATURE: 'changefeature',\n\n    /**\n     * Triggered when the clear method is called on the source.\n     * @event ol/source/Vector.VectorSourceEvent#clear\n     * @api\n     */\n    CLEAR: 'clear',\n\n    /**\n     * Triggered when a feature is removed from the source.\n     * See {@link module:ol/source/Vector#clear source.clear()} for exceptions.\n     * @event ol/source/Vector.VectorSourceEvent#removefeature\n     * @api\n     */\n    REMOVEFEATURE: 'removefeature'\n  };\n\n  var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function unwrapExports (x) {\n  \treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n  }\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var quickselect = createCommonjsModule(function (module, exports) {\n  (function (global, factory) {\n  \tmodule.exports = factory();\n  }(commonjsGlobal, (function () {\n  function quickselect(arr, k, left, right, compare) {\n      quickselectStep(arr, k, left || 0, right || (arr.length - 1), compare || defaultCompare);\n  }\n\n  function quickselectStep(arr, k, left, right, compare) {\n\n      while (right > left) {\n          if (right - left > 600) {\n              var n = right - left + 1;\n              var m = k - left + 1;\n              var z = Math.log(n);\n              var s = 0.5 * Math.exp(2 * z / 3);\n              var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n              var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n              var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n              quickselectStep(arr, k, newLeft, newRight, compare);\n          }\n\n          var t = arr[k];\n          var i = left;\n          var j = right;\n\n          swap(arr, left, k);\n          if (compare(arr[right], t) > 0) swap(arr, left, right);\n\n          while (i < j) {\n              swap(arr, i, j);\n              i++;\n              j--;\n              while (compare(arr[i], t) < 0) i++;\n              while (compare(arr[j], t) > 0) j--;\n          }\n\n          if (compare(arr[left], t) === 0) swap(arr, left, j);\n          else {\n              j++;\n              swap(arr, j, right);\n          }\n\n          if (j <= k) left = j + 1;\n          if (k <= j) right = j - 1;\n      }\n  }\n\n  function swap(arr, i, j) {\n      var tmp = arr[i];\n      arr[i] = arr[j];\n      arr[j] = tmp;\n  }\n\n  function defaultCompare(a, b) {\n      return a < b ? -1 : a > b ? 1 : 0;\n  }\n\n  return quickselect;\n\n  })));\n  });\n\n  var quickselect$1 = /*#__PURE__*/Object.freeze({\n    default: quickselect,\n    __moduleExports: quickselect\n  });\n\n  var quickselect$2 = ( quickselect$1 && quickselect ) || quickselect$1;\n\n  var rbush_1 = rbush;\n  var default_1 = rbush;\n\n\n\n  function rbush(maxEntries, format) {\n      if (!(this instanceof rbush)) return new rbush(maxEntries, format);\n\n      // max entries in a node is 9 by default; min node fill is 40% for best performance\n      this._maxEntries = Math.max(4, maxEntries || 9);\n      this._minEntries = Math.max(2, Math.ceil(this._maxEntries * 0.4));\n\n      if (format) {\n          this._initFormat(format);\n      }\n\n      this.clear();\n  }\n\n  rbush.prototype = {\n\n      all: function () {\n          return this._all(this.data, []);\n      },\n\n      search: function (bbox) {\n\n          var node = this.data,\n              result = [],\n              toBBox = this.toBBox;\n\n          if (!intersects$1(bbox, node)) return result;\n\n          var nodesToSearch = [],\n              i, len, child, childBBox;\n\n          while (node) {\n              for (i = 0, len = node.children.length; i < len; i++) {\n\n                  child = node.children[i];\n                  childBBox = node.leaf ? toBBox(child) : child;\n\n                  if (intersects$1(bbox, childBBox)) {\n                      if (node.leaf) result.push(child);\n                      else if (contains(bbox, childBBox)) this._all(child, result);\n                      else nodesToSearch.push(child);\n                  }\n              }\n              node = nodesToSearch.pop();\n          }\n\n          return result;\n      },\n\n      collides: function (bbox) {\n\n          var node = this.data,\n              toBBox = this.toBBox;\n\n          if (!intersects$1(bbox, node)) return false;\n\n          var nodesToSearch = [],\n              i, len, child, childBBox;\n\n          while (node) {\n              for (i = 0, len = node.children.length; i < len; i++) {\n\n                  child = node.children[i];\n                  childBBox = node.leaf ? toBBox(child) : child;\n\n                  if (intersects$1(bbox, childBBox)) {\n                      if (node.leaf || contains(bbox, childBBox)) return true;\n                      nodesToSearch.push(child);\n                  }\n              }\n              node = nodesToSearch.pop();\n          }\n\n          return false;\n      },\n\n      load: function (data) {\n          if (!(data && data.length)) return this;\n\n          if (data.length < this._minEntries) {\n              for (var i = 0, len = data.length; i < len; i++) {\n                  this.insert(data[i]);\n              }\n              return this;\n          }\n\n          // recursively build the tree with the given data from scratch using OMT algorithm\n          var node = this._build(data.slice(), 0, data.length - 1, 0);\n\n          if (!this.data.children.length) {\n              // save as is if tree is empty\n              this.data = node;\n\n          } else if (this.data.height === node.height) {\n              // split root if trees have the same height\n              this._splitRoot(this.data, node);\n\n          } else {\n              if (this.data.height < node.height) {\n                  // swap trees if inserted one is bigger\n                  var tmpNode = this.data;\n                  this.data = node;\n                  node = tmpNode;\n              }\n\n              // insert the small tree into the large tree at appropriate level\n              this._insert(node, this.data.height - node.height - 1, true);\n          }\n\n          return this;\n      },\n\n      insert: function (item) {\n          if (item) this._insert(item, this.data.height - 1);\n          return this;\n      },\n\n      clear: function () {\n          this.data = createNode([]);\n          return this;\n      },\n\n      remove: function (item, equalsFn) {\n          if (!item) return this;\n\n          var node = this.data,\n              bbox = this.toBBox(item),\n              path = [],\n              indexes = [],\n              i, parent, index, goingUp;\n\n          // depth-first iterative tree traversal\n          while (node || path.length) {\n\n              if (!node) { // go up\n                  node = path.pop();\n                  parent = path[path.length - 1];\n                  i = indexes.pop();\n                  goingUp = true;\n              }\n\n              if (node.leaf) { // check current node\n                  index = findItem(item, node.children, equalsFn);\n\n                  if (index !== -1) {\n                      // item found, remove the item and condense tree upwards\n                      node.children.splice(index, 1);\n                      path.push(node);\n                      this._condense(path);\n                      return this;\n                  }\n              }\n\n              if (!goingUp && !node.leaf && contains(node, bbox)) { // go down\n                  path.push(node);\n                  indexes.push(i);\n                  i = 0;\n                  parent = node;\n                  node = node.children[0];\n\n              } else if (parent) { // go right\n                  i++;\n                  node = parent.children[i];\n                  goingUp = false;\n\n              } else node = null; // nothing found\n          }\n\n          return this;\n      },\n\n      toBBox: function (item) { return item; },\n\n      compareMinX: compareNodeMinX,\n      compareMinY: compareNodeMinY,\n\n      toJSON: function () { return this.data; },\n\n      fromJSON: function (data) {\n          this.data = data;\n          return this;\n      },\n\n      _all: function (node, result) {\n          var nodesToSearch = [];\n          while (node) {\n              if (node.leaf) result.push.apply(result, node.children);\n              else nodesToSearch.push.apply(nodesToSearch, node.children);\n\n              node = nodesToSearch.pop();\n          }\n          return result;\n      },\n\n      _build: function (items, left, right, height) {\n\n          var N = right - left + 1,\n              M = this._maxEntries,\n              node;\n\n          if (N <= M) {\n              // reached leaf level; return leaf\n              node = createNode(items.slice(left, right + 1));\n              calcBBox(node, this.toBBox);\n              return node;\n          }\n\n          if (!height) {\n              // target height of the bulk-loaded tree\n              height = Math.ceil(Math.log(N) / Math.log(M));\n\n              // target number of root entries to maximize storage utilization\n              M = Math.ceil(N / Math.pow(M, height - 1));\n          }\n\n          node = createNode([]);\n          node.leaf = false;\n          node.height = height;\n\n          // split the items into M mostly square tiles\n\n          var N2 = Math.ceil(N / M),\n              N1 = N2 * Math.ceil(Math.sqrt(M)),\n              i, j, right2, right3;\n\n          multiSelect(items, left, right, N1, this.compareMinX);\n\n          for (i = left; i <= right; i += N1) {\n\n              right2 = Math.min(i + N1 - 1, right);\n\n              multiSelect(items, i, right2, N2, this.compareMinY);\n\n              for (j = i; j <= right2; j += N2) {\n\n                  right3 = Math.min(j + N2 - 1, right2);\n\n                  // pack each entry recursively\n                  node.children.push(this._build(items, j, right3, height - 1));\n              }\n          }\n\n          calcBBox(node, this.toBBox);\n\n          return node;\n      },\n\n      _chooseSubtree: function (bbox, node, level, path) {\n\n          var i, len, child, targetNode, area, enlargement, minArea, minEnlargement;\n\n          while (true) {\n              path.push(node);\n\n              if (node.leaf || path.length - 1 === level) break;\n\n              minArea = minEnlargement = Infinity;\n\n              for (i = 0, len = node.children.length; i < len; i++) {\n                  child = node.children[i];\n                  area = bboxArea(child);\n                  enlargement = enlargedArea(bbox, child) - area;\n\n                  // choose entry with the least area enlargement\n                  if (enlargement < minEnlargement) {\n                      minEnlargement = enlargement;\n                      minArea = area < minArea ? area : minArea;\n                      targetNode = child;\n\n                  } else if (enlargement === minEnlargement) {\n                      // otherwise choose one with the smallest area\n                      if (area < minArea) {\n                          minArea = area;\n                          targetNode = child;\n                      }\n                  }\n              }\n\n              node = targetNode || node.children[0];\n          }\n\n          return node;\n      },\n\n      _insert: function (item, level, isNode) {\n\n          var toBBox = this.toBBox,\n              bbox = isNode ? item : toBBox(item),\n              insertPath = [];\n\n          // find the best node for accommodating the item, saving all nodes along the path too\n          var node = this._chooseSubtree(bbox, this.data, level, insertPath);\n\n          // put the item into the node\n          node.children.push(item);\n          extend$2(node, bbox);\n\n          // split on node overflow; propagate upwards if necessary\n          while (level >= 0) {\n              if (insertPath[level].children.length > this._maxEntries) {\n                  this._split(insertPath, level);\n                  level--;\n              } else break;\n          }\n\n          // adjust bboxes along the insertion path\n          this._adjustParentBBoxes(bbox, insertPath, level);\n      },\n\n      // split overflowed node into two\n      _split: function (insertPath, level) {\n\n          var node = insertPath[level],\n              M = node.children.length,\n              m = this._minEntries;\n\n          this._chooseSplitAxis(node, m, M);\n\n          var splitIndex = this._chooseSplitIndex(node, m, M);\n\n          var newNode = createNode(node.children.splice(splitIndex, node.children.length - splitIndex));\n          newNode.height = node.height;\n          newNode.leaf = node.leaf;\n\n          calcBBox(node, this.toBBox);\n          calcBBox(newNode, this.toBBox);\n\n          if (level) insertPath[level - 1].children.push(newNode);\n          else this._splitRoot(node, newNode);\n      },\n\n      _splitRoot: function (node, newNode) {\n          // split root node\n          this.data = createNode([node, newNode]);\n          this.data.height = node.height + 1;\n          this.data.leaf = false;\n          calcBBox(this.data, this.toBBox);\n      },\n\n      _chooseSplitIndex: function (node, m, M) {\n\n          var i, bbox1, bbox2, overlap, area, minOverlap, minArea, index;\n\n          minOverlap = minArea = Infinity;\n\n          for (i = m; i <= M - m; i++) {\n              bbox1 = distBBox(node, 0, i, this.toBBox);\n              bbox2 = distBBox(node, i, M, this.toBBox);\n\n              overlap = intersectionArea(bbox1, bbox2);\n              area = bboxArea(bbox1) + bboxArea(bbox2);\n\n              // choose distribution with minimum overlap\n              if (overlap < minOverlap) {\n                  minOverlap = overlap;\n                  index = i;\n\n                  minArea = area < minArea ? area : minArea;\n\n              } else if (overlap === minOverlap) {\n                  // otherwise choose distribution with minimum area\n                  if (area < minArea) {\n                      minArea = area;\n                      index = i;\n                  }\n              }\n          }\n\n          return index;\n      },\n\n      // sorts node children by the best axis for split\n      _chooseSplitAxis: function (node, m, M) {\n\n          var compareMinX = node.leaf ? this.compareMinX : compareNodeMinX,\n              compareMinY = node.leaf ? this.compareMinY : compareNodeMinY,\n              xMargin = this._allDistMargin(node, m, M, compareMinX),\n              yMargin = this._allDistMargin(node, m, M, compareMinY);\n\n          // if total distributions margin value is minimal for x, sort by minX,\n          // otherwise it's already sorted by minY\n          if (xMargin < yMargin) node.children.sort(compareMinX);\n      },\n\n      // total margin of all possible split distributions where each node is at least m full\n      _allDistMargin: function (node, m, M, compare) {\n\n          node.children.sort(compare);\n\n          var toBBox = this.toBBox,\n              leftBBox = distBBox(node, 0, m, toBBox),\n              rightBBox = distBBox(node, M - m, M, toBBox),\n              margin = bboxMargin(leftBBox) + bboxMargin(rightBBox),\n              i, child;\n\n          for (i = m; i < M - m; i++) {\n              child = node.children[i];\n              extend$2(leftBBox, node.leaf ? toBBox(child) : child);\n              margin += bboxMargin(leftBBox);\n          }\n\n          for (i = M - m - 1; i >= m; i--) {\n              child = node.children[i];\n              extend$2(rightBBox, node.leaf ? toBBox(child) : child);\n              margin += bboxMargin(rightBBox);\n          }\n\n          return margin;\n      },\n\n      _adjustParentBBoxes: function (bbox, path, level) {\n          // adjust bboxes along the given tree path\n          for (var i = level; i >= 0; i--) {\n              extend$2(path[i], bbox);\n          }\n      },\n\n      _condense: function (path) {\n          // go through the path, removing empty nodes and updating bboxes\n          for (var i = path.length - 1, siblings; i >= 0; i--) {\n              if (path[i].children.length === 0) {\n                  if (i > 0) {\n                      siblings = path[i - 1].children;\n                      siblings.splice(siblings.indexOf(path[i]), 1);\n\n                  } else this.clear();\n\n              } else calcBBox(path[i], this.toBBox);\n          }\n      },\n\n      _initFormat: function (format) {\n          // data format (minX, minY, maxX, maxY accessors)\n\n          // uses eval-type function compilation instead of just accepting a toBBox function\n          // because the algorithms are very sensitive to sorting functions performance,\n          // so they should be dead simple and without inner calls\n\n          var compareArr = ['return a', ' - b', ';'];\n\n          this.compareMinX = new Function('a', 'b', compareArr.join(format[0]));\n          this.compareMinY = new Function('a', 'b', compareArr.join(format[1]));\n\n          this.toBBox = new Function('a',\n              'return {minX: a' + format[0] +\n              ', minY: a' + format[1] +\n              ', maxX: a' + format[2] +\n              ', maxY: a' + format[3] + '};');\n      }\n  };\n\n  function findItem(item, items, equalsFn) {\n      if (!equalsFn) return items.indexOf(item);\n\n      for (var i = 0; i < items.length; i++) {\n          if (equalsFn(item, items[i])) return i;\n      }\n      return -1;\n  }\n\n  // calculate node's bbox from bboxes of its children\n  function calcBBox(node, toBBox) {\n      distBBox(node, 0, node.children.length, toBBox, node);\n  }\n\n  // min bounding rectangle of node children from k to p-1\n  function distBBox(node, k, p, toBBox, destNode) {\n      if (!destNode) destNode = createNode(null);\n      destNode.minX = Infinity;\n      destNode.minY = Infinity;\n      destNode.maxX = -Infinity;\n      destNode.maxY = -Infinity;\n\n      for (var i = k, child; i < p; i++) {\n          child = node.children[i];\n          extend$2(destNode, node.leaf ? toBBox(child) : child);\n      }\n\n      return destNode;\n  }\n\n  function extend$2(a, b) {\n      a.minX = Math.min(a.minX, b.minX);\n      a.minY = Math.min(a.minY, b.minY);\n      a.maxX = Math.max(a.maxX, b.maxX);\n      a.maxY = Math.max(a.maxY, b.maxY);\n      return a;\n  }\n\n  function compareNodeMinX(a, b) { return a.minX - b.minX; }\n  function compareNodeMinY(a, b) { return a.minY - b.minY; }\n\n  function bboxArea(a)   { return (a.maxX - a.minX) * (a.maxY - a.minY); }\n  function bboxMargin(a) { return (a.maxX - a.minX) + (a.maxY - a.minY); }\n\n  function enlargedArea(a, b) {\n      return (Math.max(b.maxX, a.maxX) - Math.min(b.minX, a.minX)) *\n             (Math.max(b.maxY, a.maxY) - Math.min(b.minY, a.minY));\n  }\n\n  function intersectionArea(a, b) {\n      var minX = Math.max(a.minX, b.minX),\n          minY = Math.max(a.minY, b.minY),\n          maxX = Math.min(a.maxX, b.maxX),\n          maxY = Math.min(a.maxY, b.maxY);\n\n      return Math.max(0, maxX - minX) *\n             Math.max(0, maxY - minY);\n  }\n\n  function contains(a, b) {\n      return a.minX <= b.minX &&\n             a.minY <= b.minY &&\n             b.maxX <= a.maxX &&\n             b.maxY <= a.maxY;\n  }\n\n  function intersects$1(a, b) {\n      return b.minX <= a.maxX &&\n             b.minY <= a.maxY &&\n             b.maxX >= a.minX &&\n             b.maxY >= a.minY;\n  }\n\n  function createNode(children) {\n      return {\n          children: children,\n          height: 1,\n          leaf: true,\n          minX: Infinity,\n          minY: Infinity,\n          maxX: -Infinity,\n          maxY: -Infinity\n      };\n  }\n\n  // sort an array so that items come in groups of n unsorted items, with groups sorted between each other;\n  // combines selection algorithm with binary divide & conquer approach\n\n  function multiSelect(arr, left, right, n, compare) {\n      var stack = [left, right],\n          mid;\n\n      while (stack.length) {\n          right = stack.pop();\n          left = stack.pop();\n\n          if (right - left <= n) continue;\n\n          mid = left + Math.ceil((right - left) / n / 2) * n;\n          quickselect$2(arr, mid, left, right, compare);\n\n          stack.push(left, mid, mid, right);\n      }\n  }\n  rbush_1.default = default_1;\n\n  /**\n   * @module ol/structs/RBush\n   */\n\n  /**\n   * @typedef {Object} Entry\n   * @property {number} minX\n   * @property {number} minY\n   * @property {number} maxX\n   * @property {number} maxY\n   * @property {Object} [value]\n   */\n\n  /**\n   * @classdesc\n   * Wrapper around the RBush by Vladimir Agafonkin.\n   * See https://github.com/mourner/rbush.\n   *\n   * @template T\n   */\n  var RBush = function RBush(opt_maxEntries) {\n\n    /**\n     * @private\n     */\n    this.rbush_ = rbush_1(opt_maxEntries, undefined);\n\n    /**\n     * A mapping between the objects added to this rbush wrapper\n     * and the objects that are actually added to the internal rbush.\n     * @private\n     * @type {Object<string, Entry>}\n     */\n    this.items_ = {};\n\n  };\n\n  /**\n   * Insert a value into the RBush.\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @param {T} value Value.\n   */\n  RBush.prototype.insert = function insert (extent, value) {\n    /** @type {Entry} */\n    var item = {\n      minX: extent[0],\n      minY: extent[1],\n      maxX: extent[2],\n      maxY: extent[3],\n      value: value\n    };\n\n    this.rbush_.insert(item);\n    this.items_[getUid(value)] = item;\n  };\n\n\n  /**\n   * Bulk-insert values into the RBush.\n   * @param {Array<import(\"../extent.js\").Extent>} extents Extents.\n   * @param {Array<T>} values Values.\n   */\n  RBush.prototype.load = function load (extents, values) {\n    var items = new Array(values.length);\n    for (var i = 0, l = values.length; i < l; i++) {\n      var extent = extents[i];\n      var value = values[i];\n\n      /** @type {Entry} */\n      var item = {\n        minX: extent[0],\n        minY: extent[1],\n        maxX: extent[2],\n        maxY: extent[3],\n        value: value\n      };\n      items[i] = item;\n      this.items_[getUid(value)] = item;\n    }\n    this.rbush_.load(items);\n  };\n\n\n  /**\n   * Remove a value from the RBush.\n   * @param {T} value Value.\n   * @return {boolean} Removed.\n   */\n  RBush.prototype.remove = function remove (value) {\n    var uid = getUid(value);\n\n    // get the object in which the value was wrapped when adding to the\n    // internal rbush. then use that object to do the removal.\n    var item = this.items_[uid];\n    delete this.items_[uid];\n    return this.rbush_.remove(item) !== null;\n  };\n\n\n  /**\n   * Update the extent of a value in the RBush.\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @param {T} value Value.\n   */\n  RBush.prototype.update = function update (extent, value) {\n    var item = this.items_[getUid(value)];\n    var bbox = [item.minX, item.minY, item.maxX, item.maxY];\n    if (!equals$2(bbox, extent)) {\n      this.remove(value);\n      this.insert(extent, value);\n    }\n  };\n\n\n  /**\n   * Return all values in the RBush.\n   * @return {Array<T>} All.\n   */\n  RBush.prototype.getAll = function getAll () {\n    var items = this.rbush_.all();\n    return items.map(function(item) {\n      return item.value;\n    });\n  };\n\n\n  /**\n   * Return all values in the given extent.\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @return {Array<T>} All in extent.\n   */\n  RBush.prototype.getInExtent = function getInExtent (extent) {\n    /** @type {Entry} */\n    var bbox = {\n      minX: extent[0],\n      minY: extent[1],\n      maxX: extent[2],\n      maxY: extent[3]\n    };\n    var items = this.rbush_.search(bbox);\n    return items.map(function(item) {\n      return item.value;\n    });\n  };\n\n\n  /**\n   * Calls a callback function with each value in the tree.\n   * If the callback returns a truthy value, this value is returned without\n   * checking the rest of the tree.\n   * @param {function(this: S, T): *} callback Callback.\n   * @param {S=} opt_this The object to use as `this` in `callback`.\n   * @return {*} Callback return value.\n   * @template S\n   */\n  RBush.prototype.forEach = function forEach (callback, opt_this) {\n    return this.forEach_(this.getAll(), callback, opt_this);\n  };\n\n\n  /**\n   * Calls a callback function with each value in the provided extent.\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @param {function(this: S, T): *} callback Callback.\n   * @param {S=} opt_this The object to use as `this` in `callback`.\n   * @return {*} Callback return value.\n   * @template S\n   */\n  RBush.prototype.forEachInExtent = function forEachInExtent (extent, callback, opt_this) {\n    return this.forEach_(this.getInExtent(extent), callback, opt_this);\n  };\n\n\n  /**\n   * @param {Array<T>} values Values.\n   * @param {function(this: S, T): *} callback Callback.\n   * @param {S=} opt_this The object to use as `this` in `callback`.\n   * @private\n   * @return {*} Callback return value.\n   * @template S\n   */\n  RBush.prototype.forEach_ = function forEach_ (values, callback, opt_this) {\n    var result;\n    for (var i = 0, l = values.length; i < l; i++) {\n      result = callback.call(opt_this, values[i]);\n      if (result) {\n        return result;\n      }\n    }\n    return result;\n  };\n\n\n  /**\n   * @return {boolean} Is empty.\n   */\n  RBush.prototype.isEmpty = function isEmpty$1$$1 () {\n    return isEmpty(this.items_);\n  };\n\n\n  /**\n   * Remove all values from the RBush.\n   */\n  RBush.prototype.clear = function clear$$1 () {\n    this.rbush_.clear();\n    this.items_ = {};\n  };\n\n\n  /**\n   * @param {import(\"../extent.js\").Extent=} opt_extent Extent.\n   * @return {import(\"../extent.js\").Extent} Extent.\n   */\n  RBush.prototype.getExtent = function getExtent (opt_extent) {\n    var data = this.rbush_.toJSON();\n    return createOrUpdate(data.minX, data.minY, data.maxX, data.maxY, opt_extent);\n  };\n\n\n  /**\n   * @param {RBush} rbush R-Tree.\n   */\n  RBush.prototype.concat = function concat (rbush) {\n    this.rbush_.load(rbush.rbush_.all());\n    for (var i in rbush.items_) {\n      this.items_[i] = rbush.items_[i];\n    }\n  };\n\n  /**\n   * @module ol/source/Vector\n   */\n\n  /**\n   * A function that takes an {@link module:ol/extent~Extent} and a resolution as arguments, and\n   * returns an array of {@link module:ol/extent~Extent} with the extents to load. Usually this\n   * is one of the standard {@link module:ol/loadingstrategy} strategies.\n   *\n   * @typedef {function(import(\"../extent.js\").Extent, number): Array<import(\"../extent.js\").Extent>} LoadingStrategy\n   * @api\n   */\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/source/Vector} instances are instances of this\n   * type.\n   */\n  var VectorSourceEvent = /*@__PURE__*/(function (Event$$1) {\n    function VectorSourceEvent(type, opt_feature) {\n\n      Event$$1.call(this, type);\n\n      /**\n       * The feature being added or removed.\n       * @type {import(\"../Feature.js\").default|undefined}\n       * @api\n       */\n      this.feature = opt_feature;\n\n    }\n\n    if ( Event$$1 ) VectorSourceEvent.__proto__ = Event$$1;\n    VectorSourceEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    VectorSourceEvent.prototype.constructor = VectorSourceEvent;\n\n    return VectorSourceEvent;\n  }(Event));\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n   * @property {Array<import(\"../Feature.js\").default>|Collection<import(\"../Feature.js\").default>} [features]\n   * Features. If provided as {@link module:ol/Collection}, the features in the source\n   * and the collection will stay in sync.\n   * @property {import(\"../format/Feature.js\").default} [format] The feature format used by the XHR\n   * feature loader when `url` is set. Required if `url` is set, otherwise ignored.\n   * @property {import(\"../featureloader.js\").FeatureLoader} [loader]\n   * The loader function used to load features, from a remote source for example.\n   * If this is not set and `url` is set, the source will create and use an XHR\n   * feature loader.\n   *\n   * Example:\n   *\n   * ```js\n   * import {Vector} from 'ol/source';\n   * import {GeoJSON} from 'ol/format';\n   * import {bbox} from 'ol/loadingstrategy';\n   *\n   * var vectorSource = new Vector({\n   *   format: new GeoJSON(),\n   *   loader: function(extent, resolution, projection) {\n   *      var proj = projection.getCode();\n   *      var url = 'https://ahocevar.com/geoserver/wfs?service=WFS&' +\n   *          'version=1.1.0&request=GetFeature&typename=osm:water_areas&' +\n   *          'outputFormat=application/json&srsname=' + proj + '&' +\n   *          'bbox=' + extent.join(',') + ',' + proj;\n   *      var xhr = new XMLHttpRequest();\n   *      xhr.open('GET', url);\n   *      var onError = function() {\n   *        vectorSource.removeLoadedExtent(extent);\n   *      }\n   *      xhr.onerror = onError;\n   *      xhr.onload = function() {\n   *        if (xhr.status == 200) {\n   *          vectorSource.addFeatures(\n   *              vectorSource.getFormat().readFeatures(xhr.responseText));\n   *        } else {\n   *          onError();\n   *        }\n   *      }\n   *      xhr.send();\n   *    },\n   *    strategy: bbox\n   *  });\n   * ```\n   * @property {boolean} [overlaps=true] This source may have overlapping geometries.\n   * Setting this to `false` (e.g. for sources with polygons that represent administrative\n   * boundaries or TopoJSON sources) allows the renderer to optimise fill and\n   * stroke operations.\n   * @property {LoadingStrategy} [strategy] The loading strategy to use.\n   * By default an {@link module:ol/loadingstrategy~all}\n   * strategy is used, a one-off strategy which loads all features at once.\n   * @property {string|import(\"../featureloader.js\").FeatureUrlFunction} [url]\n   * Setting this option instructs the source to load features using an XHR loader\n   * (see {@link module:ol/featureloader~xhr}). Use a `string` and an\n   * {@link module:ol/loadingstrategy~all} for a one-off download of all features from\n   * the given URL. Use a {@link module:ol/featureloader~FeatureUrlFunction} to generate the url with\n   * other loading strategies.\n   * Requires `format` to be set as well.\n   * When default XHR feature loader is provided, the features will\n   * be transformed from the data projection to the view projection\n   * during parsing. If your remote data source does not advertise its projection\n   * properly, this transformation will be incorrect. For some formats, the\n   * default projection (usually EPSG:4326) can be overridden by setting the\n   * dataProjection constructor option on the format.\n   * Note that if a source contains non-feature data, such as a GeoJSON geometry\n   * or a KML NetworkLink, these will be ignored. Use a custom loader to load these.\n   * @property {boolean} [useSpatialIndex=true]\n   * By default, an RTree is used as spatial index. When features are removed and\n   * added frequently, and the total number of features is low, setting this to\n   * `false` may improve performance.\n   *\n   * Note that\n   * {@link module:ol/source/Vector~VectorSource#getFeaturesInExtent},\n   * {@link module:ol/source/Vector~VectorSource#getClosestFeatureToCoordinate} and\n   * {@link module:ol/source/Vector~VectorSource#getExtent} cannot be used when `useSpatialIndex` is\n   * set to `false`, and {@link module:ol/source/Vector~VectorSource#forEachFeatureInExtent} will loop\n   * through all features.\n   *\n   * When set to `false`, the features will be maintained in an\n   * {@link module:ol/Collection}, which can be retrieved through\n   * {@link module:ol/source/Vector~VectorSource#getFeaturesCollection}.\n   * @property {boolean} [wrapX=true] Wrap the world horizontally. For vector editing across the\n   * -180° and 180° meridians to work properly, this should be set to `false`. The\n   * resulting geometry coordinates will then exceed the world bounds.\n   */\n\n\n  /**\n   * @classdesc\n   * Provides a source of features for vector layers. Vector features provided\n   * by this source are suitable for editing. See {@link module:ol/source/VectorTile~VectorTile} for\n   * vector data that is optimized for rendering.\n   *\n   * @fires ol/source/Vector.VectorSourceEvent\n   * @api\n   */\n  var VectorSource = /*@__PURE__*/(function (Source$$1) {\n    function VectorSource(opt_options) {\n\n      var options = opt_options || {};\n\n      Source$$1.call(this, {\n        attributions: options.attributions,\n        projection: undefined,\n        state: SourceState.READY,\n        wrapX: options.wrapX !== undefined ? options.wrapX : true\n      });\n\n      /**\n       * @private\n       * @type {import(\"../featureloader.js\").FeatureLoader}\n       */\n      this.loader_ = VOID;\n\n      /**\n       * @private\n       * @type {import(\"../format/Feature.js\").default|undefined}\n       */\n      this.format_ = options.format;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.overlaps_ = options.overlaps == undefined ? true : options.overlaps;\n\n      /**\n       * @private\n       * @type {string|import(\"../featureloader.js\").FeatureUrlFunction|undefined}\n       */\n      this.url_ = options.url;\n\n      if (options.loader !== undefined) {\n        this.loader_ = options.loader;\n      } else if (this.url_ !== undefined) {\n        assert(this.format_, 7); // `format` must be set when `url` is set\n        // create a XHR feature loader for \"url\" and \"format\"\n        this.loader_ = xhr(this.url_, /** @type {import(\"../format/Feature.js\").default} */ (this.format_));\n      }\n\n      /**\n       * @private\n       * @type {LoadingStrategy}\n       */\n      this.strategy_ = options.strategy !== undefined ? options.strategy : all;\n\n      var useSpatialIndex =\n          options.useSpatialIndex !== undefined ? options.useSpatialIndex : true;\n\n      /**\n       * @private\n       * @type {RBush<import(\"../Feature.js\").default>}\n       */\n      this.featuresRtree_ = useSpatialIndex ? new RBush() : null;\n\n      /**\n       * @private\n       * @type {RBush<{extent: import(\"../extent.js\").Extent}>}\n       */\n      this.loadedExtentsRtree_ = new RBush();\n\n      /**\n       * @private\n       * @type {!Object<string, import(\"../Feature.js\").default>}\n       */\n      this.nullGeometryFeatures_ = {};\n\n      /**\n       * A lookup of features by id (the return from feature.getId()).\n       * @private\n       * @type {!Object<string, import(\"../Feature.js\").default>}\n       */\n      this.idIndex_ = {};\n\n      /**\n       * A lookup of features without id (keyed by getUid(feature)).\n       * @private\n       * @type {!Object<string, import(\"../Feature.js\").default>}\n       */\n      this.undefIdIndex_ = {};\n\n      /**\n       * @private\n       * @type {Object<string, Array<import(\"../events.js\").EventsKey>>}\n       */\n      this.featureChangeKeys_ = {};\n\n      /**\n       * @private\n       * @type {Collection<import(\"../Feature.js\").default>}\n       */\n      this.featuresCollection_ = null;\n\n      var collection, features;\n      if (Array.isArray(options.features)) {\n        features = options.features;\n      } else if (options.features) {\n        collection = options.features;\n        features = collection.getArray();\n      }\n      if (!useSpatialIndex && collection === undefined) {\n        collection = new Collection(features);\n      }\n      if (features !== undefined) {\n        this.addFeaturesInternal(features);\n      }\n      if (collection !== undefined) {\n        this.bindFeaturesCollection_(collection);\n      }\n\n    }\n\n    if ( Source$$1 ) VectorSource.__proto__ = Source$$1;\n    VectorSource.prototype = Object.create( Source$$1 && Source$$1.prototype );\n    VectorSource.prototype.constructor = VectorSource;\n\n    /**\n     * Add a single feature to the source.  If you want to add a batch of features\n     * at once, call {@link module:ol/source/Vector~VectorSource#addFeatures #addFeatures()}\n     * instead. A feature will not be added to the source if feature with\n     * the same id is already there. The reason for this behavior is to avoid\n     * feature duplication when using bbox or tile loading strategies.\n     * @param {import(\"../Feature.js\").default} feature Feature to add.\n     * @api\n     */\n    VectorSource.prototype.addFeature = function addFeature (feature) {\n      this.addFeatureInternal(feature);\n      this.changed();\n    };\n\n\n    /**\n     * Add a feature without firing a `change` event.\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @protected\n     */\n    VectorSource.prototype.addFeatureInternal = function addFeatureInternal (feature) {\n      var featureKey = getUid(feature);\n\n      if (!this.addToIndex_(featureKey, feature)) {\n        return;\n      }\n\n      this.setupChangeEvents_(featureKey, feature);\n\n      var geometry = feature.getGeometry();\n      if (geometry) {\n        var extent = geometry.getExtent();\n        if (this.featuresRtree_) {\n          this.featuresRtree_.insert(extent, feature);\n        }\n      } else {\n        this.nullGeometryFeatures_[featureKey] = feature;\n      }\n\n      this.dispatchEvent(\n        new VectorSourceEvent(VectorEventType.ADDFEATURE, feature));\n    };\n\n\n    /**\n     * @param {string} featureKey Unique identifier for the feature.\n     * @param {import(\"../Feature.js\").default} feature The feature.\n     * @private\n     */\n    VectorSource.prototype.setupChangeEvents_ = function setupChangeEvents_ (featureKey, feature) {\n      this.featureChangeKeys_[featureKey] = [\n        listen(feature, EventType.CHANGE,\n          this.handleFeatureChange_, this),\n        listen(feature, ObjectEventType.PROPERTYCHANGE,\n          this.handleFeatureChange_, this)\n      ];\n    };\n\n\n    /**\n     * @param {string} featureKey Unique identifier for the feature.\n     * @param {import(\"../Feature.js\").default} feature The feature.\n     * @return {boolean} The feature is \"valid\", in the sense that it is also a\n     *     candidate for insertion into the Rtree.\n     * @private\n     */\n    VectorSource.prototype.addToIndex_ = function addToIndex_ (featureKey, feature) {\n      var valid = true;\n      var id = feature.getId();\n      if (id !== undefined) {\n        if (!(id.toString() in this.idIndex_)) {\n          this.idIndex_[id.toString()] = feature;\n        } else {\n          valid = false;\n        }\n      } else {\n        assert(!(featureKey in this.undefIdIndex_),\n          30); // The passed `feature` was already added to the source\n        this.undefIdIndex_[featureKey] = feature;\n      }\n      return valid;\n    };\n\n\n    /**\n     * Add a batch of features to the source.\n     * @param {Array<import(\"../Feature.js\").default>} features Features to add.\n     * @api\n     */\n    VectorSource.prototype.addFeatures = function addFeatures (features) {\n      this.addFeaturesInternal(features);\n      this.changed();\n    };\n\n\n    /**\n     * Add features without firing a `change` event.\n     * @param {Array<import(\"../Feature.js\").default>} features Features.\n     * @protected\n     */\n    VectorSource.prototype.addFeaturesInternal = function addFeaturesInternal (features) {\n      var extents = [];\n      var newFeatures = [];\n      var geometryFeatures = [];\n\n      for (var i = 0, length = features.length; i < length; i++) {\n        var feature = features[i];\n        var featureKey = getUid(feature);\n        if (this.addToIndex_(featureKey, feature)) {\n          newFeatures.push(feature);\n        }\n      }\n\n      for (var i$1 = 0, length$1 = newFeatures.length; i$1 < length$1; i$1++) {\n        var feature$1 = newFeatures[i$1];\n        var featureKey$1 = getUid(feature$1);\n        this.setupChangeEvents_(featureKey$1, feature$1);\n\n        var geometry = feature$1.getGeometry();\n        if (geometry) {\n          var extent = geometry.getExtent();\n          extents.push(extent);\n          geometryFeatures.push(feature$1);\n        } else {\n          this.nullGeometryFeatures_[featureKey$1] = feature$1;\n        }\n      }\n      if (this.featuresRtree_) {\n        this.featuresRtree_.load(extents, geometryFeatures);\n      }\n\n      for (var i$2 = 0, length$2 = newFeatures.length; i$2 < length$2; i$2++) {\n        this.dispatchEvent(new VectorSourceEvent(VectorEventType.ADDFEATURE, newFeatures[i$2]));\n      }\n    };\n\n\n    /**\n     * @param {!Collection<import(\"../Feature.js\").default>} collection Collection.\n     * @private\n     */\n    VectorSource.prototype.bindFeaturesCollection_ = function bindFeaturesCollection_ (collection) {\n      var modifyingCollection = false;\n      listen(this, VectorEventType.ADDFEATURE,\n        /**\n         * @param {VectorSourceEvent} evt The vector source event\n         */\n        function(evt) {\n          if (!modifyingCollection) {\n            modifyingCollection = true;\n            collection.push(evt.feature);\n            modifyingCollection = false;\n          }\n        });\n      listen(this, VectorEventType.REMOVEFEATURE,\n        /**\n         * @param {VectorSourceEvent} evt The vector source event\n         */\n        function(evt) {\n          if (!modifyingCollection) {\n            modifyingCollection = true;\n            collection.remove(evt.feature);\n            modifyingCollection = false;\n          }\n        });\n      listen(collection, CollectionEventType.ADD,\n        /**\n         * @param {import(\"../Collection.js\").CollectionEvent} evt The collection event\n         */\n        function(evt) {\n          if (!modifyingCollection) {\n            modifyingCollection = true;\n            this.addFeature(/** @type {import(\"../Feature.js\").default} */ (evt.element));\n            modifyingCollection = false;\n          }\n        }, this);\n      listen(collection, CollectionEventType.REMOVE,\n        /**\n         * @param {import(\"../Collection.js\").CollectionEvent} evt The collection event\n         */\n        function(evt) {\n          if (!modifyingCollection) {\n            modifyingCollection = true;\n            this.removeFeature(/** @type {import(\"../Feature.js\").default} */ (evt.element));\n            modifyingCollection = false;\n          }\n        }, this);\n      this.featuresCollection_ = collection;\n    };\n\n\n    /**\n     * Remove all features from the source.\n     * @param {boolean=} opt_fast Skip dispatching of {@link module:ol/source/Vector.VectorSourceEvent#removefeature} events.\n     * @api\n     */\n    VectorSource.prototype.clear = function clear$$1 (opt_fast) {\n      if (opt_fast) {\n        for (var featureId in this.featureChangeKeys_) {\n          var keys = this.featureChangeKeys_[featureId];\n          keys.forEach(unlistenByKey);\n        }\n        if (!this.featuresCollection_) {\n          this.featureChangeKeys_ = {};\n          this.idIndex_ = {};\n          this.undefIdIndex_ = {};\n        }\n      } else {\n        if (this.featuresRtree_) {\n          this.featuresRtree_.forEach(this.removeFeatureInternal, this);\n          for (var id in this.nullGeometryFeatures_) {\n            this.removeFeatureInternal(this.nullGeometryFeatures_[id]);\n          }\n        }\n      }\n      if (this.featuresCollection_) {\n        this.featuresCollection_.clear();\n      }\n\n      if (this.featuresRtree_) {\n        this.featuresRtree_.clear();\n      }\n      this.loadedExtentsRtree_.clear();\n      this.nullGeometryFeatures_ = {};\n\n      var clearEvent = new VectorSourceEvent(VectorEventType.CLEAR);\n      this.dispatchEvent(clearEvent);\n      this.changed();\n    };\n\n\n    /**\n     * Iterate through all features on the source, calling the provided callback\n     * with each one.  If the callback returns any \"truthy\" value, iteration will\n     * stop and the function will return the same value.\n     * Note: this function only iterate through the feature that have a defined geometry.\n     *\n     * @param {function(import(\"../Feature.js\").default): T} callback Called with each feature\n     *     on the source.  Return a truthy value to stop iteration.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     * @api\n     */\n    VectorSource.prototype.forEachFeature = function forEachFeature (callback) {\n      if (this.featuresRtree_) {\n        return this.featuresRtree_.forEach(callback);\n      } else if (this.featuresCollection_) {\n        this.featuresCollection_.forEach(callback);\n      }\n    };\n\n\n    /**\n     * Iterate through all features whose geometries contain the provided\n     * coordinate, calling the callback with each feature.  If the callback returns\n     * a \"truthy\" value, iteration will stop and the function will return the same\n     * value.\n     *\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {function(import(\"../Feature.js\").default): T} callback Called with each feature\n     *     whose goemetry contains the provided coordinate.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     */\n    VectorSource.prototype.forEachFeatureAtCoordinateDirect = function forEachFeatureAtCoordinateDirect (coordinate, callback) {\n      var extent = [coordinate[0], coordinate[1], coordinate[0], coordinate[1]];\n      return this.forEachFeatureInExtent(extent, function(feature) {\n        var geometry = feature.getGeometry();\n        if (geometry.intersectsCoordinate(coordinate)) {\n          return callback(feature);\n        } else {\n          return undefined;\n        }\n      });\n    };\n\n\n    /**\n     * Iterate through all features whose bounding box intersects the provided\n     * extent (note that the feature's geometry may not intersect the extent),\n     * calling the callback with each feature.  If the callback returns a \"truthy\"\n     * value, iteration will stop and the function will return the same value.\n     *\n     * If you are interested in features whose geometry intersects an extent, call\n     * the {@link module:ol/source/Vector~VectorSource#forEachFeatureIntersectingExtent #forEachFeatureIntersectingExtent()} method instead.\n     *\n     * When `useSpatialIndex` is set to false, this method will loop through all\n     * features, equivalent to {@link module:ol/source/Vector~VectorSource#forEachFeature #forEachFeature()}.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {function(import(\"../Feature.js\").default): T} callback Called with each feature\n     *     whose bounding box intersects the provided extent.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     * @api\n     */\n    VectorSource.prototype.forEachFeatureInExtent = function forEachFeatureInExtent (extent, callback) {\n      if (this.featuresRtree_) {\n        return this.featuresRtree_.forEachInExtent(extent, callback);\n      } else if (this.featuresCollection_) {\n        this.featuresCollection_.forEach(callback);\n      }\n    };\n\n\n    /**\n     * Iterate through all features whose geometry intersects the provided extent,\n     * calling the callback with each feature.  If the callback returns a \"truthy\"\n     * value, iteration will stop and the function will return the same value.\n     *\n     * If you only want to test for bounding box intersection, call the\n     * {@link module:ol/source/Vector~VectorSource#forEachFeatureInExtent #forEachFeatureInExtent()} method instead.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {function(import(\"../Feature.js\").default): T} callback Called with each feature\n     *     whose geometry intersects the provided extent.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     * @api\n     */\n    VectorSource.prototype.forEachFeatureIntersectingExtent = function forEachFeatureIntersectingExtent (extent, callback) {\n      return this.forEachFeatureInExtent(extent,\n        /**\n         * @param {import(\"../Feature.js\").default} feature Feature.\n         * @return {T|undefined} The return value from the last call to the callback.\n         */\n        function(feature) {\n          var geometry = feature.getGeometry();\n          if (geometry.intersectsExtent(extent)) {\n            var result = callback(feature);\n            if (result) {\n              return result;\n            }\n          }\n        });\n    };\n\n\n    /**\n     * Get the features collection associated with this source. Will be `null`\n     * unless the source was configured with `useSpatialIndex` set to `false`, or\n     * with an {@link module:ol/Collection} as `features`.\n     * @return {Collection<import(\"../Feature.js\").default>} The collection of features.\n     * @api\n     */\n    VectorSource.prototype.getFeaturesCollection = function getFeaturesCollection () {\n      return this.featuresCollection_;\n    };\n\n\n    /**\n     * Get all features on the source in random order.\n     * @return {Array<import(\"../Feature.js\").default>} Features.\n     * @api\n     */\n    VectorSource.prototype.getFeatures = function getFeatures () {\n      var features;\n      if (this.featuresCollection_) {\n        features = this.featuresCollection_.getArray();\n      } else if (this.featuresRtree_) {\n        features = this.featuresRtree_.getAll();\n        if (!isEmpty(this.nullGeometryFeatures_)) {\n          extend(features, getValues(this.nullGeometryFeatures_));\n        }\n      }\n      return (\n        /** @type {Array<import(\"../Feature.js\").default>} */ (features)\n      );\n    };\n\n\n    /**\n     * Get all features whose geometry intersects the provided coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @return {Array<import(\"../Feature.js\").default>} Features.\n     * @api\n     */\n    VectorSource.prototype.getFeaturesAtCoordinate = function getFeaturesAtCoordinate (coordinate) {\n      var features = [];\n      this.forEachFeatureAtCoordinateDirect(coordinate, function(feature) {\n        features.push(feature);\n      });\n      return features;\n    };\n\n\n    /**\n     * Get all features in the provided extent.  Note that this returns an array of\n     * all features intersecting the given extent in random order (so it may include\n     * features whose geometries do not intersect the extent).\n     *\n     * This method is not available when the source is configured with\n     * `useSpatialIndex` set to `false`.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {Array<import(\"../Feature.js\").default>} Features.\n     * @api\n     */\n    VectorSource.prototype.getFeaturesInExtent = function getFeaturesInExtent (extent) {\n      return this.featuresRtree_.getInExtent(extent);\n    };\n\n\n    /**\n     * Get the closest feature to the provided coordinate.\n     *\n     * This method is not available when the source is configured with\n     * `useSpatialIndex` set to `false`.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {function(import(\"../Feature.js\").default):boolean=} opt_filter Feature filter function.\n     *     The filter function will receive one argument, the {@link module:ol/Feature feature}\n     *     and it should return a boolean value. By default, no filtering is made.\n     * @return {import(\"../Feature.js\").default} Closest feature.\n     * @api\n     */\n    VectorSource.prototype.getClosestFeatureToCoordinate = function getClosestFeatureToCoordinate (coordinate, opt_filter) {\n      // Find the closest feature using branch and bound.  We start searching an\n      // infinite extent, and find the distance from the first feature found.  This\n      // becomes the closest feature.  We then compute a smaller extent which any\n      // closer feature must intersect.  We continue searching with this smaller\n      // extent, trying to find a closer feature.  Every time we find a closer\n      // feature, we update the extent being searched so that any even closer\n      // feature must intersect it.  We continue until we run out of features.\n      var x = coordinate[0];\n      var y = coordinate[1];\n      var closestFeature = null;\n      var closestPoint = [NaN, NaN];\n      var minSquaredDistance = Infinity;\n      var extent = [-Infinity, -Infinity, Infinity, Infinity];\n      var filter = opt_filter ? opt_filter : TRUE;\n      this.featuresRtree_.forEachInExtent(extent,\n        /**\n         * @param {import(\"../Feature.js\").default} feature Feature.\n         */\n        function(feature) {\n          if (filter(feature)) {\n            var geometry = feature.getGeometry();\n            var previousMinSquaredDistance = minSquaredDistance;\n            minSquaredDistance = geometry.closestPointXY(\n              x, y, closestPoint, minSquaredDistance);\n            if (minSquaredDistance < previousMinSquaredDistance) {\n              closestFeature = feature;\n              // This is sneaky.  Reduce the extent that it is currently being\n              // searched while the R-Tree traversal using this same extent object\n              // is still in progress.  This is safe because the new extent is\n              // strictly contained by the old extent.\n              var minDistance = Math.sqrt(minSquaredDistance);\n              extent[0] = x - minDistance;\n              extent[1] = y - minDistance;\n              extent[2] = x + minDistance;\n              extent[3] = y + minDistance;\n            }\n          }\n        });\n      return closestFeature;\n    };\n\n\n    /**\n     * Get the extent of the features currently in the source.\n     *\n     * This method is not available when the source is configured with\n     * `useSpatialIndex` set to `false`.\n     * @param {import(\"../extent.js\").Extent=} opt_extent Destination extent. If provided, no new extent\n     *     will be created. Instead, that extent's coordinates will be overwritten.\n     * @return {import(\"../extent.js\").Extent} Extent.\n     * @api\n     */\n    VectorSource.prototype.getExtent = function getExtent (opt_extent) {\n      return this.featuresRtree_.getExtent(opt_extent);\n    };\n\n\n    /**\n     * Get a feature by its identifier (the value returned by feature.getId()).\n     * Note that the index treats string and numeric identifiers as the same.  So\n     * `source.getFeatureById(2)` will return a feature with id `'2'` or `2`.\n     *\n     * @param {string|number} id Feature identifier.\n     * @return {import(\"../Feature.js\").default} The feature (or `null` if not found).\n     * @api\n     */\n    VectorSource.prototype.getFeatureById = function getFeatureById (id) {\n      var feature = this.idIndex_[id.toString()];\n      return feature !== undefined ? feature : null;\n    };\n\n\n    /**\n     * Get the format associated with this source.\n     *\n     * @return {import(\"../format/Feature.js\").default|undefined} The feature format.\n     * @api\n     */\n    VectorSource.prototype.getFormat = function getFormat () {\n      return this.format_;\n    };\n\n\n    /**\n     * @return {boolean} The source can have overlapping geometries.\n     */\n    VectorSource.prototype.getOverlaps = function getOverlaps () {\n      return this.overlaps_;\n    };\n\n\n    /**\n     * Get the url associated with this source.\n     *\n     * @return {string|import(\"../featureloader.js\").FeatureUrlFunction|undefined} The url.\n     * @api\n     */\n    VectorSource.prototype.getUrl = function getUrl () {\n      return this.url_;\n    };\n\n\n    /**\n     * @param {Event} event Event.\n     * @private\n     */\n    VectorSource.prototype.handleFeatureChange_ = function handleFeatureChange_ (event) {\n      var feature = /** @type {import(\"../Feature.js\").default} */ (event.target);\n      var featureKey = getUid(feature);\n      var geometry = feature.getGeometry();\n      if (!geometry) {\n        if (!(featureKey in this.nullGeometryFeatures_)) {\n          if (this.featuresRtree_) {\n            this.featuresRtree_.remove(feature);\n          }\n          this.nullGeometryFeatures_[featureKey] = feature;\n        }\n      } else {\n        var extent = geometry.getExtent();\n        if (featureKey in this.nullGeometryFeatures_) {\n          delete this.nullGeometryFeatures_[featureKey];\n          if (this.featuresRtree_) {\n            this.featuresRtree_.insert(extent, feature);\n          }\n        } else {\n          if (this.featuresRtree_) {\n            this.featuresRtree_.update(extent, feature);\n          }\n        }\n      }\n      var id = feature.getId();\n      if (id !== undefined) {\n        var sid = id.toString();\n        if (featureKey in this.undefIdIndex_) {\n          delete this.undefIdIndex_[featureKey];\n          this.idIndex_[sid] = feature;\n        } else {\n          if (this.idIndex_[sid] !== feature) {\n            this.removeFromIdIndex_(feature);\n            this.idIndex_[sid] = feature;\n          }\n        }\n      } else {\n        if (!(featureKey in this.undefIdIndex_)) {\n          this.removeFromIdIndex_(feature);\n          this.undefIdIndex_[featureKey] = feature;\n        }\n      }\n      this.changed();\n      this.dispatchEvent(new VectorSourceEvent(\n        VectorEventType.CHANGEFEATURE, feature));\n    };\n\n    /**\n     * Returns true if the feature is contained within the source.\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @return {boolean} Has feature.\n     * @api\n     */\n    VectorSource.prototype.hasFeature = function hasFeature (feature) {\n      var id = feature.getId();\n      if (id !== undefined) {\n        return id in this.idIndex_;\n      } else {\n        return getUid(feature) in this.undefIdIndex_;\n      }\n    };\n\n    /**\n     * @return {boolean} Is empty.\n     */\n    VectorSource.prototype.isEmpty = function isEmpty$1$$1 () {\n      return this.featuresRtree_.isEmpty() && isEmpty(this.nullGeometryFeatures_);\n    };\n\n\n    /**\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     */\n    VectorSource.prototype.loadFeatures = function loadFeatures (extent, resolution, projection) {\n      var this$1 = this;\n\n      var loadedExtentsRtree = this.loadedExtentsRtree_;\n      var extentsToLoad = this.strategy_(extent, resolution);\n      this.loading = false;\n      var loop = function ( i, ii ) {\n        var extentToLoad = extentsToLoad[i];\n        var alreadyLoaded = loadedExtentsRtree.forEachInExtent(extentToLoad,\n          /**\n           * @param {{extent: import(\"../extent.js\").Extent}} object Object.\n           * @return {boolean} Contains.\n           */\n          function(object) {\n            return containsExtent(object.extent, extentToLoad);\n          });\n        if (!alreadyLoaded) {\n          this$1.loader_.call(this$1, extentToLoad, resolution, projection);\n          loadedExtentsRtree.insert(extentToLoad, {extent: extentToLoad.slice()});\n          this$1.loading = this$1.loader_ !== VOID;\n        }\n      };\n\n      for (var i = 0, ii = extentsToLoad.length; i < ii; ++i) loop( i, ii );\n    };\n\n\n    /**\n     * Remove an extent from the list of loaded extents.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @api\n     */\n    VectorSource.prototype.removeLoadedExtent = function removeLoadedExtent (extent) {\n      var loadedExtentsRtree = this.loadedExtentsRtree_;\n      var obj;\n      loadedExtentsRtree.forEachInExtent(extent, function(object) {\n        if (equals$2(object.extent, extent)) {\n          obj = object;\n          return true;\n        }\n      });\n      if (obj) {\n        loadedExtentsRtree.remove(obj);\n      }\n    };\n\n\n    /**\n     * Remove a single feature from the source.  If you want to remove all features\n     * at once, use the {@link module:ol/source/Vector~VectorSource#clear #clear()} method\n     * instead.\n     * @param {import(\"../Feature.js\").default} feature Feature to remove.\n     * @api\n     */\n    VectorSource.prototype.removeFeature = function removeFeature (feature) {\n      var featureKey = getUid(feature);\n      if (featureKey in this.nullGeometryFeatures_) {\n        delete this.nullGeometryFeatures_[featureKey];\n      } else {\n        if (this.featuresRtree_) {\n          this.featuresRtree_.remove(feature);\n        }\n      }\n      this.removeFeatureInternal(feature);\n      this.changed();\n    };\n\n\n    /**\n     * Remove feature without firing a `change` event.\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @protected\n     */\n    VectorSource.prototype.removeFeatureInternal = function removeFeatureInternal (feature) {\n      var featureKey = getUid(feature);\n      this.featureChangeKeys_[featureKey].forEach(unlistenByKey);\n      delete this.featureChangeKeys_[featureKey];\n      var id = feature.getId();\n      if (id !== undefined) {\n        delete this.idIndex_[id.toString()];\n      } else {\n        delete this.undefIdIndex_[featureKey];\n      }\n      this.dispatchEvent(new VectorSourceEvent(\n        VectorEventType.REMOVEFEATURE, feature));\n    };\n\n\n    /**\n     * Remove a feature from the id index.  Called internally when the feature id\n     * may have changed.\n     * @param {import(\"../Feature.js\").default} feature The feature.\n     * @return {boolean} Removed the feature from the index.\n     * @private\n     */\n    VectorSource.prototype.removeFromIdIndex_ = function removeFromIdIndex_ (feature) {\n      var removed = false;\n      for (var id in this.idIndex_) {\n        if (this.idIndex_[id] === feature) {\n          delete this.idIndex_[id];\n          removed = true;\n          break;\n        }\n      }\n      return removed;\n    };\n\n\n    /**\n     * Set the new loader of the source. The next loadFeatures call will use the\n     * new loader.\n     * @param {import(\"../featureloader.js\").FeatureLoader} loader The loader to set.\n     * @api\n     */\n    VectorSource.prototype.setLoader = function setLoader (loader) {\n      this.loader_ = loader;\n    };\n\n    return VectorSource;\n  }(Source));\n\n  /**\n   * @module ol/interaction/Draw\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {GeometryType} type Geometry type of\n   * the geometries being drawn with this instance.\n   * @property {number} [clickTolerance=6] The maximum distance in pixels between\n   * \"down\" and \"up\" for a \"up\" event to be considered a \"click\" event and\n   * actually add a point/vertex to the geometry being drawn.  The default of `6`\n   * was chosen for the draw interaction to behave correctly on mouse as well as\n   * on touch devices.\n   * @property {import(\"../Collection.js\").default<Feature>} [features]\n   * Destination collection for the drawn features.\n   * @property {VectorSource} [source] Destination source for\n   * the drawn features.\n   * @property {number} [dragVertexDelay=500] Delay in milliseconds after pointerdown\n   * before the current vertex can be dragged to its exact position.\n   * @property {number} [snapTolerance=12] Pixel distance for snapping to the\n   * drawing finish.\n   * @property {boolean} [stopClick=false] Stop click, singleclick, and\n   * doubleclick events from firing during drawing.\n   * @property {number} [maxPoints] The number of points that can be drawn before\n   * a polygon ring or line string is finished. By default there is no\n   * restriction.\n   * @property {number} [minPoints] The number of points that must be drawn\n   * before a polygon ring or line string can be finished. Default is `3` for\n   * polygon rings and `2` for line strings.\n   * @property {import(\"../events/condition.js\").Condition} [finishCondition] A function\n   * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether the drawing can be finished.\n   * @property {import(\"../style/Style.js\").StyleLike} [style]\n   * Style for sketch features.\n   * @property {GeometryFunction} [geometryFunction]\n   * Function that is called when a geometry's coordinates are updated.\n   * @property {string} [geometryName] Geometry name to use for features created\n   * by the draw interaction.\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n   * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled.\n   * By default {@link module:ol/events/condition~noModifierKeys}, i.e. a click,\n   * adds a vertex or deactivates freehand drawing.\n   * @property {boolean} [freehand=false] Operate in freehand mode for lines,\n   * polygons, and circles.  This makes the interaction always operate in freehand\n   * mode and takes precedence over any `freehandCondition` option.\n   * @property {import(\"../events/condition.js\").Condition} [freehandCondition]\n   * Condition that activates freehand drawing for lines and polygons. This\n   * function takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and\n   * returns a boolean to indicate whether that event should be handled. The\n   * default is {@link module:ol/events/condition~shiftKeyOnly}, meaning that the\n   * Shift key activates freehand drawing.\n   * @property {boolean} [wrapX=false] Wrap the world horizontally on the sketch\n   * overlay.\n   */\n\n\n  /**\n   * Coordinate type when drawing points.\n   * @typedef {import(\"../coordinate.js\").Coordinate} PointCoordType\n   */\n\n\n  /**\n   * Coordinate type when drawing lines.\n   * @typedef {Array<import(\"../coordinate.js\").Coordinate>} LineCoordType\n   */\n\n\n  /**\n   * Coordinate type when drawing polygons.\n   * @typedef {Array<Array<import(\"../coordinate.js\").Coordinate>>} PolyCoordType\n   */\n\n\n  /**\n   * Types used for drawing coordinates.\n   * @typedef {PointCoordType|LineCoordType|PolyCoordType} SketchCoordType\n   */\n\n\n  /**\n   * Function that takes an array of coordinates and an optional existing geometry as\n   * arguments, and returns a geometry. The optional existing geometry is the\n   * geometry that is returned when the function is called without a second\n   * argument.\n   * @typedef {function(!SketchCoordType, import(\"../geom/SimpleGeometry.js\").default=):\n   *     import(\"../geom/SimpleGeometry.js\").default} GeometryFunction\n   */\n\n\n  /**\n   * Draw mode.  This collapses multi-part geometry types with their single-part\n   * cousins.\n   * @enum {string}\n   */\n  var Mode$1 = {\n    POINT: 'Point',\n    LINE_STRING: 'LineString',\n    POLYGON: 'Polygon',\n    CIRCLE: 'Circle'\n  };\n\n\n  /**\n   * @enum {string}\n   */\n  var DrawEventType = {\n    /**\n     * Triggered upon feature draw start\n     * @event DrawEvent#drawstart\n     * @api\n     */\n    DRAWSTART: 'drawstart',\n    /**\n     * Triggered upon feature draw end\n     * @event DrawEvent#drawend\n     * @api\n     */\n    DRAWEND: 'drawend'\n  };\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/interaction/Draw~Draw} instances are\n   * instances of this type.\n   */\n  var DrawEvent = /*@__PURE__*/(function (Event$$1) {\n    function DrawEvent(type, feature) {\n\n      Event$$1.call(this, type);\n\n      /**\n       * The feature being drawn.\n       * @type {Feature}\n       * @api\n       */\n      this.feature = feature;\n\n    }\n\n    if ( Event$$1 ) DrawEvent.__proto__ = Event$$1;\n    DrawEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    DrawEvent.prototype.constructor = DrawEvent;\n\n    return DrawEvent;\n  }(Event));\n\n\n  /**\n   * @classdesc\n   * Interaction for drawing feature geometries.\n   *\n   * @fires DrawEvent\n   * @api\n   */\n  var Draw = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function Draw(options) {\n\n      var pointerOptions = /** @type {import(\"./Pointer.js\").Options} */ (options);\n      if (!pointerOptions.stopDown) {\n        pointerOptions.stopDown = FALSE;\n      }\n\n      PointerInteraction$$1.call(this, pointerOptions);\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this.shouldHandle_ = false;\n\n      /**\n       * @type {import(\"../pixel.js\").Pixel}\n       * @private\n       */\n      this.downPx_ = null;\n\n      /**\n       * @type {?}\n       * @private\n       */\n      this.downTimeout_;\n\n      /**\n       * @type {number|undefined}\n       * @private\n       */\n      this.lastDragTime_;\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this.freehand_ = false;\n\n      /**\n       * Target source for drawn features.\n       * @type {VectorSource}\n       * @private\n       */\n      this.source_ = options.source ? options.source : null;\n\n      /**\n       * Target collection for drawn features.\n       * @type {import(\"../Collection.js\").default<Feature>}\n       * @private\n       */\n      this.features_ = options.features ? options.features : null;\n\n      /**\n       * Pixel distance for snapping.\n       * @type {number}\n       * @private\n       */\n      this.snapTolerance_ = options.snapTolerance ? options.snapTolerance : 12;\n\n      /**\n       * Geometry type.\n       * @type {GeometryType}\n       * @private\n       */\n      this.type_ = /** @type {GeometryType} */ (options.type);\n\n      /**\n       * Drawing mode (derived from geometry type.\n       * @type {Mode}\n       * @private\n       */\n      this.mode_ = getMode(this.type_);\n\n      /**\n       * Stop click, singleclick, and doubleclick events from firing during drawing.\n       * Default is `false`.\n       * @type {boolean}\n       * @private\n       */\n      this.stopClick_ = !!options.stopClick;\n\n      /**\n       * The number of points that must be drawn before a polygon ring or line\n       * string can be finished.  The default is 3 for polygon rings and 2 for\n       * line strings.\n       * @type {number}\n       * @private\n       */\n      this.minPoints_ = options.minPoints ?\n        options.minPoints :\n        (this.mode_ === Mode$1.POLYGON ? 3 : 2);\n\n      /**\n       * The number of points that can be drawn before a polygon ring or line string\n       * is finished. The default is no restriction.\n       * @type {number}\n       * @private\n       */\n      this.maxPoints_ = options.maxPoints ? options.maxPoints : Infinity;\n\n      /**\n       * A function to decide if a potential finish coordinate is permissible\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.finishCondition_ = options.finishCondition ? options.finishCondition : TRUE;\n\n      var geometryFunction = options.geometryFunction;\n      if (!geometryFunction) {\n        if (this.type_ === GeometryType.CIRCLE) {\n          /**\n           * @param {!LineCoordType} coordinates The coordinates.\n           * @param {import(\"../geom/SimpleGeometry.js\").default=} opt_geometry Optional geometry.\n           * @return {import(\"../geom/SimpleGeometry.js\").default} A geometry.\n           */\n          geometryFunction = function(coordinates, opt_geometry) {\n            var circle = opt_geometry ? /** @type {Circle} */ (opt_geometry) :\n              new Circle([NaN, NaN]);\n            var squaredLength = squaredDistance$1(\n              coordinates[0], coordinates[1]);\n            circle.setCenterAndRadius(coordinates[0], Math.sqrt(squaredLength));\n            return circle;\n          };\n        } else {\n          var Constructor;\n          var mode = this.mode_;\n          if (mode === Mode$1.POINT) {\n            Constructor = Point;\n          } else if (mode === Mode$1.LINE_STRING) {\n            Constructor = LineString;\n          } else if (mode === Mode$1.POLYGON) {\n            Constructor = Polygon;\n          }\n          /**\n           * @param {!LineCoordType} coordinates The coordinates.\n           * @param {import(\"../geom/SimpleGeometry.js\").default=} opt_geometry Optional geometry.\n           * @return {import(\"../geom/SimpleGeometry.js\").default} A geometry.\n           */\n          geometryFunction = function(coordinates, opt_geometry) {\n            var geometry = opt_geometry;\n            if (geometry) {\n              if (mode === Mode$1.POLYGON) {\n                if (coordinates[0].length) {\n                  // Add a closing coordinate to match the first\n                  geometry.setCoordinates([coordinates[0].concat([coordinates[0][0]])]);\n                } else {\n                  geometry.setCoordinates([]);\n                }\n              } else {\n                geometry.setCoordinates(coordinates);\n              }\n            } else {\n              geometry = new Constructor(coordinates);\n            }\n            return geometry;\n          };\n        }\n      }\n\n      /**\n       * @type {GeometryFunction}\n       * @private\n       */\n      this.geometryFunction_ = geometryFunction;\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.dragVertexDelay_ = options.dragVertexDelay !== undefined ? options.dragVertexDelay : 500;\n\n      /**\n       * Finish coordinate for the feature (first point for polygons, last point for\n       * linestrings).\n       * @type {import(\"../coordinate.js\").Coordinate}\n       * @private\n       */\n      this.finishCoordinate_ = null;\n\n      /**\n       * Sketch feature.\n       * @type {Feature}\n       * @private\n       */\n      this.sketchFeature_ = null;\n\n      /**\n       * Sketch point.\n       * @type {Feature}\n       * @private\n       */\n      this.sketchPoint_ = null;\n\n      /**\n       * Sketch coordinates. Used when drawing a line or polygon.\n       * @type {SketchCoordType}\n       * @private\n       */\n      this.sketchCoords_ = null;\n\n      /**\n       * Sketch line. Used when drawing polygon.\n       * @type {Feature}\n       * @private\n       */\n      this.sketchLine_ = null;\n\n      /**\n       * Sketch line coordinates. Used when drawing a polygon or circle.\n       * @type {LineCoordType}\n       * @private\n       */\n      this.sketchLineCoords_ = null;\n\n      /**\n       * Squared tolerance for handling up events.  If the squared distance\n       * between a down and up event is greater than this tolerance, up events\n       * will not be handled.\n       * @type {number}\n       * @private\n       */\n      this.squaredClickTolerance_ = options.clickTolerance ?\n        options.clickTolerance * options.clickTolerance : 36;\n\n      /**\n       * Draw overlay where our sketch features are drawn.\n       * @type {VectorLayer}\n       * @private\n       */\n      this.overlay_ = new VectorLayer({\n        source: new VectorSource({\n          useSpatialIndex: false,\n          wrapX: options.wrapX ? options.wrapX : false\n        }),\n        style: options.style ? options.style :\n          getDefaultStyleFunction(),\n        updateWhileInteracting: true\n      });\n\n      /**\n       * Name of the geometry attribute for newly created features.\n       * @type {string|undefined}\n       * @private\n       */\n      this.geometryName_ = options.geometryName;\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.condition_ = options.condition ? options.condition : noModifierKeys;\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.freehandCondition_;\n      if (options.freehand) {\n        this.freehandCondition_ = always;\n      } else {\n        this.freehandCondition_ = options.freehandCondition ?\n          options.freehandCondition : shiftKeyOnly;\n      }\n\n      listen(this,\n        getChangeEventType(InteractionProperty.ACTIVE),\n        this.updateState_, this);\n\n    }\n\n    if ( PointerInteraction$$1 ) Draw.__proto__ = PointerInteraction$$1;\n    Draw.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    Draw.prototype.constructor = Draw;\n\n    /**\n     * @inheritDoc\n     */\n    Draw.prototype.setMap = function setMap (map) {\n      PointerInteraction$$1.prototype.setMap.call(this, map);\n      this.updateState_();\n    };\n\n    /**\n     * Get the overlay layer that this interaction renders sketch features to.\n     * @return {VectorLayer} Overlay layer.\n     * @api\n     */\n    Draw.prototype.getOverlay = function getOverlay () {\n      return this.overlay_;\n    };\n\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent map browser event} and may actually draw or finish the drawing.\n     * @override\n     * @api\n     */\n    Draw.prototype.handleEvent = function handleEvent (event) {\n      if (event.originalEvent.type === EventType.CONTEXTMENU) {\n        // Avoid context menu for long taps when drawing on mobile\n        event.preventDefault();\n      }\n      this.freehand_ = this.mode_ !== Mode$1.POINT && this.freehandCondition_(event);\n      var move = event.type === MapBrowserEventType.POINTERMOVE;\n      var pass = true;\n      if (!this.freehand_ && this.lastDragTime_ && event.type === MapBrowserEventType.POINTERDRAG) {\n        var now = Date.now();\n        if (now - this.lastDragTime_ >= this.dragVertexDelay_) {\n          this.downPx_ = event.pixel;\n          this.shouldHandle_ = !this.freehand_;\n          move = true;\n        } else {\n          this.lastDragTime_ = undefined;\n        }\n        if (this.shouldHandle_ && this.downTimeout_ !== undefined) {\n          clearTimeout(this.downTimeout_);\n          this.downTimeout_ = undefined;\n        }\n      }\n      if (this.freehand_ &&\n          event.type === MapBrowserEventType.POINTERDRAG &&\n          this.sketchFeature_ !== null) {\n        this.addToDrawing_(event);\n        pass = false;\n      } else if (this.freehand_ &&\n          event.type === MapBrowserEventType.POINTERDOWN) {\n        pass = false;\n      } else if (move) {\n        pass = event.type === MapBrowserEventType.POINTERMOVE;\n        if (pass && this.freehand_) {\n          pass = this.handlePointerMove_(event);\n        } else if (/** @type {MapBrowserPointerEvent} */ (event).pointerEvent.pointerType == POINTER_TYPE ||\n            (event.type === MapBrowserEventType.POINTERDRAG && this.downTimeout_ === undefined)) {\n          this.handlePointerMove_(event);\n        }\n      } else if (event.type === MapBrowserEventType.DBLCLICK) {\n        pass = false;\n      }\n\n      return PointerInteraction$$1.prototype.handleEvent.call(this, event) && pass;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Draw.prototype.handleDownEvent = function handleDownEvent (event) {\n      this.shouldHandle_ = !this.freehand_;\n\n      if (this.freehand_) {\n        this.downPx_ = event.pixel;\n        if (!this.finishCoordinate_) {\n          this.startDrawing_(event);\n        }\n        return true;\n      } else if (this.condition_(event)) {\n        this.lastDragTime_ = Date.now();\n        this.downTimeout_ = setTimeout(function() {\n          this.handlePointerMove_(new MapBrowserPointerEvent(\n            MapBrowserEventType.POINTERMOVE, event.map, event.pointerEvent, false, event.frameState));\n        }.bind(this), this.dragVertexDelay_);\n        this.downPx_ = event.pixel;\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n\n    /**\n     * @inheritDoc\n     */\n    Draw.prototype.handleUpEvent = function handleUpEvent (event) {\n      var pass = true;\n\n      if (this.downTimeout_) {\n        clearTimeout(this.downTimeout_);\n        this.downTimeout_ = undefined;\n      }\n\n      this.handlePointerMove_(event);\n\n      var circleMode = this.mode_ === Mode$1.CIRCLE;\n\n      if (this.shouldHandle_) {\n        if (!this.finishCoordinate_) {\n          this.startDrawing_(event);\n          if (this.mode_ === Mode$1.POINT) {\n            this.finishDrawing();\n          }\n        } else if (this.freehand_ || circleMode) {\n          this.finishDrawing();\n        } else if (this.atFinish_(event)) {\n          if (this.finishCondition_(event)) {\n            this.finishDrawing();\n          }\n        } else {\n          this.addToDrawing_(event);\n        }\n        pass = false;\n      } else if (this.freehand_) {\n        this.finishCoordinate_ = null;\n        this.abortDrawing_();\n      }\n      if (!pass && this.stopClick_) {\n        event.stopPropagation();\n      }\n      return pass;\n    };\n\n    /**\n     * Handle move events.\n     * @param {import(\"../MapBrowserEvent.js\").default} event A move event.\n     * @return {boolean} Pass the event to other interactions.\n     * @private\n     */\n    Draw.prototype.handlePointerMove_ = function handlePointerMove_ (event) {\n      if (this.downPx_ &&\n          ((!this.freehand_ && this.shouldHandle_) ||\n          (this.freehand_ && !this.shouldHandle_))) {\n        var downPx = this.downPx_;\n        var clickPx = event.pixel;\n        var dx = downPx[0] - clickPx[0];\n        var dy = downPx[1] - clickPx[1];\n        var squaredDistance$$1 = dx * dx + dy * dy;\n        this.shouldHandle_ = this.freehand_ ?\n          squaredDistance$$1 > this.squaredClickTolerance_ :\n          squaredDistance$$1 <= this.squaredClickTolerance_;\n        if (!this.shouldHandle_) {\n          return true;\n        }\n      }\n\n      if (this.finishCoordinate_) {\n        this.modifyDrawing_(event);\n      } else {\n        this.createOrUpdateSketchPoint_(event);\n      }\n      return true;\n    };\n\n    /**\n     * Determine if an event is within the snapping tolerance of the start coord.\n     * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n     * @return {boolean} The event is within the snapping tolerance of the start.\n     * @private\n     */\n    Draw.prototype.atFinish_ = function atFinish_ (event) {\n      var at = false;\n      if (this.sketchFeature_) {\n        var potentiallyDone = false;\n        var potentiallyFinishCoordinates = [this.finishCoordinate_];\n        if (this.mode_ === Mode$1.LINE_STRING) {\n          potentiallyDone = this.sketchCoords_.length > this.minPoints_;\n        } else if (this.mode_ === Mode$1.POLYGON) {\n          var sketchCoords = /** @type {PolyCoordType} */ (this.sketchCoords_);\n          potentiallyDone = sketchCoords[0].length > this.minPoints_;\n          potentiallyFinishCoordinates = [sketchCoords[0][0], sketchCoords[0][sketchCoords[0].length - 2]];\n        }\n        if (potentiallyDone) {\n          var map = event.map;\n          for (var i = 0, ii = potentiallyFinishCoordinates.length; i < ii; i++) {\n            var finishCoordinate = potentiallyFinishCoordinates[i];\n            var finishPixel = map.getPixelFromCoordinate(finishCoordinate);\n            var pixel = event.pixel;\n            var dx = pixel[0] - finishPixel[0];\n            var dy = pixel[1] - finishPixel[1];\n            var snapTolerance = this.freehand_ ? 1 : this.snapTolerance_;\n            at = Math.sqrt(dx * dx + dy * dy) <= snapTolerance;\n            if (at) {\n              this.finishCoordinate_ = finishCoordinate;\n              break;\n            }\n          }\n        }\n      }\n      return at;\n    };\n\n    /**\n     * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n     * @private\n     */\n    Draw.prototype.createOrUpdateSketchPoint_ = function createOrUpdateSketchPoint_ (event) {\n      var coordinates = event.coordinate.slice();\n      if (!this.sketchPoint_) {\n        this.sketchPoint_ = new Feature(new Point(coordinates));\n        this.updateSketchFeatures_();\n      } else {\n        var sketchPointGeom = /** @type {Point} */ (this.sketchPoint_.getGeometry());\n        sketchPointGeom.setCoordinates(coordinates);\n      }\n    };\n\n    /**\n     * Start the drawing.\n     * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n     * @private\n     */\n    Draw.prototype.startDrawing_ = function startDrawing_ (event) {\n      var start = event.coordinate;\n      this.finishCoordinate_ = start;\n      if (this.mode_ === Mode$1.POINT) {\n        this.sketchCoords_ = start.slice();\n      } else if (this.mode_ === Mode$1.POLYGON) {\n        this.sketchCoords_ = [[start.slice(), start.slice()]];\n        this.sketchLineCoords_ = this.sketchCoords_[0];\n      } else {\n        this.sketchCoords_ = [start.slice(), start.slice()];\n      }\n      if (this.sketchLineCoords_) {\n        this.sketchLine_ = new Feature(\n          new LineString(this.sketchLineCoords_));\n      }\n      var geometry = this.geometryFunction_(this.sketchCoords_);\n      this.sketchFeature_ = new Feature();\n      if (this.geometryName_) {\n        this.sketchFeature_.setGeometryName(this.geometryName_);\n      }\n      this.sketchFeature_.setGeometry(geometry);\n      this.updateSketchFeatures_();\n      this.dispatchEvent(new DrawEvent(DrawEventType.DRAWSTART, this.sketchFeature_));\n    };\n\n    /**\n     * Modify the drawing.\n     * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n     * @private\n     */\n    Draw.prototype.modifyDrawing_ = function modifyDrawing_ (event) {\n      var coordinate = event.coordinate;\n      var geometry = /** @type {import(\"../geom/SimpleGeometry.js\").default} */ (this.sketchFeature_.getGeometry());\n      var coordinates, last;\n      if (this.mode_ === Mode$1.POINT) {\n        last = this.sketchCoords_;\n      } else if (this.mode_ === Mode$1.POLYGON) {\n        coordinates = /** @type {PolyCoordType} */ (this.sketchCoords_)[0];\n        last = coordinates[coordinates.length - 1];\n        if (this.atFinish_(event)) {\n          // snap to finish\n          coordinate = this.finishCoordinate_.slice();\n        }\n      } else {\n        coordinates = this.sketchCoords_;\n        last = coordinates[coordinates.length - 1];\n      }\n      last[0] = coordinate[0];\n      last[1] = coordinate[1];\n      this.geometryFunction_(/** @type {!LineCoordType} */ (this.sketchCoords_), geometry);\n      if (this.sketchPoint_) {\n        var sketchPointGeom = /** @type {Point} */ (this.sketchPoint_.getGeometry());\n        sketchPointGeom.setCoordinates(coordinate);\n      }\n      /** @type {LineString} */\n      var sketchLineGeom;\n      if (geometry.getType() == GeometryType.POLYGON &&\n          this.mode_ !== Mode$1.POLYGON) {\n        if (!this.sketchLine_) {\n          this.sketchLine_ = new Feature();\n        }\n        var ring = /** @type {Polygon} */ (geometry).getLinearRing(0);\n        sketchLineGeom = /** @type {LineString} */ (this.sketchLine_.getGeometry());\n        if (!sketchLineGeom) {\n          sketchLineGeom = new LineString(ring.getFlatCoordinates(), ring.getLayout());\n          this.sketchLine_.setGeometry(sketchLineGeom);\n        } else {\n          sketchLineGeom.setFlatCoordinates(\n            ring.getLayout(), ring.getFlatCoordinates());\n          sketchLineGeom.changed();\n        }\n      } else if (this.sketchLineCoords_) {\n        sketchLineGeom = /** @type {LineString} */ (this.sketchLine_.getGeometry());\n        sketchLineGeom.setCoordinates(this.sketchLineCoords_);\n      }\n      this.updateSketchFeatures_();\n    };\n\n    /**\n     * Add a new coordinate to the drawing.\n     * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n     * @private\n     */\n    Draw.prototype.addToDrawing_ = function addToDrawing_ (event) {\n      var coordinate = event.coordinate;\n      var geometry = /** @type {import(\"../geom/SimpleGeometry.js\").default} */ (this.sketchFeature_.getGeometry());\n      var done;\n      var coordinates;\n      if (this.mode_ === Mode$1.LINE_STRING) {\n        this.finishCoordinate_ = coordinate.slice();\n        coordinates = /** @type {LineCoordType} */ (this.sketchCoords_);\n        if (coordinates.length >= this.maxPoints_) {\n          if (this.freehand_) {\n            coordinates.pop();\n          } else {\n            done = true;\n          }\n        }\n        coordinates.push(coordinate.slice());\n        this.geometryFunction_(coordinates, geometry);\n      } else if (this.mode_ === Mode$1.POLYGON) {\n        coordinates = /** @type {PolyCoordType} */ (this.sketchCoords_)[0];\n        if (coordinates.length >= this.maxPoints_) {\n          if (this.freehand_) {\n            coordinates.pop();\n          } else {\n            done = true;\n          }\n        }\n        coordinates.push(coordinate.slice());\n        if (done) {\n          this.finishCoordinate_ = coordinates[0];\n        }\n        this.geometryFunction_(this.sketchCoords_, geometry);\n      }\n      this.updateSketchFeatures_();\n      if (done) {\n        this.finishDrawing();\n      }\n    };\n\n    /**\n     * Remove last point of the feature currently being drawn.\n     * @api\n     */\n    Draw.prototype.removeLastPoint = function removeLastPoint () {\n      if (!this.sketchFeature_) {\n        return;\n      }\n      var geometry = /** @type {import(\"../geom/SimpleGeometry.js\").default} */ (this.sketchFeature_.getGeometry());\n      var coordinates;\n      /** @type {LineString} */\n      var sketchLineGeom;\n      if (this.mode_ === Mode$1.LINE_STRING) {\n        coordinates = /** @type {LineCoordType} */ (this.sketchCoords_);\n        coordinates.splice(-2, 1);\n        this.geometryFunction_(coordinates, geometry);\n        if (coordinates.length >= 2) {\n          this.finishCoordinate_ = coordinates[coordinates.length - 2].slice();\n        }\n      } else if (this.mode_ === Mode$1.POLYGON) {\n        coordinates = /** @type {PolyCoordType} */ (this.sketchCoords_)[0];\n        coordinates.splice(-2, 1);\n        sketchLineGeom = /** @type {LineString} */ (this.sketchLine_.getGeometry());\n        sketchLineGeom.setCoordinates(coordinates);\n        this.geometryFunction_(this.sketchCoords_, geometry);\n      }\n\n      if (coordinates.length === 0) {\n        this.finishCoordinate_ = null;\n      }\n\n      this.updateSketchFeatures_();\n    };\n\n    /**\n     * Stop drawing and add the sketch feature to the target layer.\n     * The {@link module:ol/interaction/Draw~DrawEventType.DRAWEND} event is\n     * dispatched before inserting the feature.\n     * @api\n     */\n    Draw.prototype.finishDrawing = function finishDrawing () {\n      var sketchFeature = this.abortDrawing_();\n      if (!sketchFeature) {\n        return;\n      }\n      var coordinates = this.sketchCoords_;\n      var geometry = /** @type {import(\"../geom/SimpleGeometry.js\").default} */ (sketchFeature.getGeometry());\n      if (this.mode_ === Mode$1.LINE_STRING) {\n        // remove the redundant last point\n        coordinates.pop();\n        this.geometryFunction_(coordinates, geometry);\n      } else if (this.mode_ === Mode$1.POLYGON) {\n        // remove the redundant last point in ring\n        /** @type {PolyCoordType} */ (coordinates)[0].pop();\n        this.geometryFunction_(coordinates, geometry);\n        coordinates = geometry.getCoordinates();\n      }\n\n      // cast multi-part geometries\n      if (this.type_ === GeometryType.MULTI_POINT) {\n        sketchFeature.setGeometry(new MultiPoint([/** @type {PointCoordType} */(coordinates)]));\n      } else if (this.type_ === GeometryType.MULTI_LINE_STRING) {\n        sketchFeature.setGeometry(new MultiLineString([/** @type {LineCoordType} */(coordinates)]));\n      } else if (this.type_ === GeometryType.MULTI_POLYGON) {\n        sketchFeature.setGeometry(new MultiPolygon([/** @type {PolyCoordType} */(coordinates)]));\n      }\n\n      // First dispatch event to allow full set up of feature\n      this.dispatchEvent(new DrawEvent(DrawEventType.DRAWEND, sketchFeature));\n\n      // Then insert feature\n      if (this.features_) {\n        this.features_.push(sketchFeature);\n      }\n      if (this.source_) {\n        this.source_.addFeature(sketchFeature);\n      }\n    };\n\n    /**\n     * Stop drawing without adding the sketch feature to the target layer.\n     * @return {Feature} The sketch feature (or null if none).\n     * @private\n     */\n    Draw.prototype.abortDrawing_ = function abortDrawing_ () {\n      this.finishCoordinate_ = null;\n      var sketchFeature = this.sketchFeature_;\n      if (sketchFeature) {\n        this.sketchFeature_ = null;\n        this.sketchPoint_ = null;\n        this.sketchLine_ = null;\n        /** @type {VectorSource} */ (this.overlay_.getSource()).clear(true);\n      }\n      return sketchFeature;\n    };\n\n    /**\n     * Extend an existing geometry by adding additional points. This only works\n     * on features with `LineString` geometries, where the interaction will\n     * extend lines by adding points to the end of the coordinates array.\n     * @param {!Feature} feature Feature to be extended.\n     * @api\n     */\n    Draw.prototype.extend = function extend (feature) {\n      var geometry = feature.getGeometry();\n      var lineString = /** @type {LineString} */ (geometry);\n      this.sketchFeature_ = feature;\n      this.sketchCoords_ = lineString.getCoordinates();\n      var last = this.sketchCoords_[this.sketchCoords_.length - 1];\n      this.finishCoordinate_ = last.slice();\n      this.sketchCoords_.push(last.slice());\n      this.updateSketchFeatures_();\n      this.dispatchEvent(new DrawEvent(DrawEventType.DRAWSTART, this.sketchFeature_));\n    };\n\n    /**\n     * Redraw the sketch features.\n     * @private\n     */\n    Draw.prototype.updateSketchFeatures_ = function updateSketchFeatures_ () {\n      var sketchFeatures = [];\n      if (this.sketchFeature_) {\n        sketchFeatures.push(this.sketchFeature_);\n      }\n      if (this.sketchLine_) {\n        sketchFeatures.push(this.sketchLine_);\n      }\n      if (this.sketchPoint_) {\n        sketchFeatures.push(this.sketchPoint_);\n      }\n      var overlaySource = /** @type {VectorSource} */ (this.overlay_.getSource());\n      overlaySource.clear(true);\n      overlaySource.addFeatures(sketchFeatures);\n    };\n\n    /**\n     * @private\n     */\n    Draw.prototype.updateState_ = function updateState_ () {\n      var map = this.getMap();\n      var active = this.getActive();\n      if (!map || !active) {\n        this.abortDrawing_();\n      }\n      this.overlay_.setMap(active ? map : null);\n    };\n\n    return Draw;\n  }(PointerInteraction));\n\n\n  /**\n   * @return {import(\"../style/Style.js\").StyleFunction} Styles.\n   */\n  function getDefaultStyleFunction() {\n    var styles = createEditingStyle();\n    return function(feature, resolution) {\n      return styles[feature.getGeometry().getType()];\n    };\n  }\n\n\n  /**\n   * Create a `geometryFunction` for `type: 'Circle'` that will create a regular\n   * polygon with a user specified number of sides and start angle instead of an\n   * `import(\"../geom/Circle.js\").Circle` geometry.\n   * @param {number=} opt_sides Number of sides of the regular polygon. Default is\n   *     32.\n   * @param {number=} opt_angle Angle of the first point in radians. 0 means East.\n   *     Default is the angle defined by the heading from the center of the\n   *     regular polygon to the current pointer position.\n   * @return {GeometryFunction} Function that draws a\n   *     polygon.\n   * @api\n   */\n  function createRegularPolygon(opt_sides, opt_angle) {\n    return function(coordinates, opt_geometry) {\n      var center = /** @type {LineCoordType} */ (coordinates)[0];\n      var end = /** @type {LineCoordType} */ (coordinates)[1];\n      var radius = Math.sqrt(\n        squaredDistance$1(center, end));\n      var geometry = opt_geometry ? /** @type {Polygon} */ (opt_geometry) :\n        fromCircle(new Circle(center), opt_sides);\n      var angle = opt_angle;\n      if (!opt_angle) {\n        var x = end[0] - center[0];\n        var y = end[1] - center[1];\n        angle = Math.atan(y / x) - (x < 0 ? Math.PI : 0);\n      }\n      makeRegular(geometry, center, radius, angle);\n      return geometry;\n    };\n  }\n\n\n  /**\n   * Get the drawing mode.  The mode for mult-part geometries is the same as for\n   * their single-part cousins.\n   * @param {GeometryType} type Geometry type.\n   * @return {Mode} Drawing mode.\n   */\n  function getMode(type) {\n    var mode;\n    if (type === GeometryType.POINT ||\n        type === GeometryType.MULTI_POINT) {\n      mode = Mode$1.POINT;\n    } else if (type === GeometryType.LINE_STRING ||\n        type === GeometryType.MULTI_LINE_STRING) {\n      mode = Mode$1.LINE_STRING;\n    } else if (type === GeometryType.POLYGON ||\n        type === GeometryType.MULTI_POLYGON) {\n      mode = Mode$1.POLYGON;\n    } else if (type === GeometryType.CIRCLE) {\n      mode = Mode$1.CIRCLE;\n    }\n    return (\n      /** @type {!Mode} */ (mode)\n    );\n  }\n\n  /**\n   * @module ol/interaction/Extent\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../extent.js\").Extent} [extent] Initial extent. Defaults to no\n   * initial extent.\n   * @property {import(\"../style/Style.js\").StyleLike} [boxStyle]\n   * Style for the drawn extent box. Defaults to\n   * {@link module:ol/style/Style~createEditing()['Polygon']}\n   * @property {number} [pixelTolerance=10] Pixel tolerance for considering the\n   * pointer close enough to a segment or vertex for editing.\n   * @property {import(\"../style/Style.js\").StyleLike} [pointerStyle]\n   * Style for the cursor used to draw the extent. Defaults to\n   * {@link module:ol/style/Style~createEditing()['Point']}\n   * @property {boolean} [wrapX=false] Wrap the drawn extent across multiple maps\n   * in the X direction? Only affects visuals, not functionality.\n   */\n\n\n  /**\n   * @enum {string}\n   */\n  var ExtentEventType = {\n    /**\n     * Triggered after the extent is changed\n     * @event ExtentEventType#extentchanged\n     * @api\n     */\n    EXTENTCHANGED: 'extentchanged'\n  };\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/interaction/Extent~ExtentInteraction} instances are\n   * instances of this type.\n   */\n  var ExtentInteractionEvent = /*@__PURE__*/(function (Event$$1) {\n    function ExtentInteractionEvent(extent) {\n      Event$$1.call(this, ExtentEventType.EXTENTCHANGED);\n\n      /**\n       * The current extent.\n       * @type {import(\"../extent.js\").Extent}\n       * @api\n       */\n      this.extent = extent;\n    }\n\n    if ( Event$$1 ) ExtentInteractionEvent.__proto__ = Event$$1;\n    ExtentInteractionEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    ExtentInteractionEvent.prototype.constructor = ExtentInteractionEvent;\n\n    return ExtentInteractionEvent;\n  }(Event));\n\n\n  /**\n   * @classdesc\n   * Allows the user to draw a vector box by clicking and dragging on the map.\n   * Once drawn, the vector box can be modified by dragging its vertices or edges.\n   * This interaction is only supported for mouse devices.\n   *\n   * @fires Event\n   * @api\n   */\n  var ExtentInteraction = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function ExtentInteraction(opt_options) {\n\n      var options = opt_options || {};\n\n      PointerInteraction$$1.call(/** @type {import(\"./Pointer.js\").Options} */ this, (options));\n\n      /**\n       * Extent of the drawn box\n       * @type {import(\"../extent.js\").Extent}\n       * @private\n       */\n      this.extent_ = null;\n\n      /**\n       * Handler for pointer move events\n       * @type {function (import(\"../coordinate.js\").Coordinate): import(\"../extent.js\").Extent|null}\n       * @private\n       */\n      this.pointerHandler_ = null;\n\n      /**\n       * Pixel threshold to snap to extent\n       * @type {number}\n       * @private\n       */\n      this.pixelTolerance_ = options.pixelTolerance !== undefined ?\n        options.pixelTolerance : 10;\n\n      /**\n       * Is the pointer snapped to an extent vertex\n       * @type {boolean}\n       * @private\n       */\n      this.snappedToVertex_ = false;\n\n      /**\n       * Feature for displaying the visible extent\n       * @type {Feature}\n       * @private\n       */\n      this.extentFeature_ = null;\n\n      /**\n       * Feature for displaying the visible pointer\n       * @type {Feature}\n       * @private\n       */\n      this.vertexFeature_ = null;\n\n      if (!opt_options) {\n        opt_options = {};\n      }\n\n      /**\n       * Layer for the extentFeature\n       * @type {VectorLayer}\n       * @private\n       */\n      this.extentOverlay_ = new VectorLayer({\n        source: new VectorSource({\n          useSpatialIndex: false,\n          wrapX: !!opt_options.wrapX\n        }),\n        style: opt_options.boxStyle ? opt_options.boxStyle : getDefaultExtentStyleFunction(),\n        updateWhileAnimating: true,\n        updateWhileInteracting: true\n      });\n\n      /**\n       * Layer for the vertexFeature\n       * @type {VectorLayer}\n       * @private\n       */\n      this.vertexOverlay_ = new VectorLayer({\n        source: new VectorSource({\n          useSpatialIndex: false,\n          wrapX: !!opt_options.wrapX\n        }),\n        style: opt_options.pointerStyle ? opt_options.pointerStyle : getDefaultPointerStyleFunction(),\n        updateWhileAnimating: true,\n        updateWhileInteracting: true\n      });\n\n      if (opt_options.extent) {\n        this.setExtent(opt_options.extent);\n      }\n    }\n\n    if ( PointerInteraction$$1 ) ExtentInteraction.__proto__ = PointerInteraction$$1;\n    ExtentInteraction.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    ExtentInteraction.prototype.constructor = ExtentInteraction;\n\n    /**\n     * @param {import(\"../pixel.js\").Pixel} pixel cursor location\n     * @param {import(\"../PluggableMap.js\").default} map map\n     * @returns {import(\"../coordinate.js\").Coordinate|null} snapped vertex on extent\n     * @private\n     */\n    ExtentInteraction.prototype.snapToVertex_ = function snapToVertex_ (pixel, map) {\n      var pixelCoordinate = map.getCoordinateFromPixel(pixel);\n      var sortByDistance = function(a, b) {\n        return squaredDistanceToSegment(pixelCoordinate, a) -\n            squaredDistanceToSegment(pixelCoordinate, b);\n      };\n      var extent = this.getExtent();\n      if (extent) {\n        //convert extents to line segments and find the segment closest to pixelCoordinate\n        var segments = getSegments(extent);\n        segments.sort(sortByDistance);\n        var closestSegment = segments[0];\n\n        var vertex = (closestOnSegment(pixelCoordinate,\n          closestSegment));\n        var vertexPixel = map.getPixelFromCoordinate(vertex);\n\n        //if the distance is within tolerance, snap to the segment\n        if (distance(pixel, vertexPixel) <= this.pixelTolerance_) {\n          //test if we should further snap to a vertex\n          var pixel1 = map.getPixelFromCoordinate(closestSegment[0]);\n          var pixel2 = map.getPixelFromCoordinate(closestSegment[1]);\n          var squaredDist1 = squaredDistance$1(vertexPixel, pixel1);\n          var squaredDist2 = squaredDistance$1(vertexPixel, pixel2);\n          var dist = Math.sqrt(Math.min(squaredDist1, squaredDist2));\n          this.snappedToVertex_ = dist <= this.pixelTolerance_;\n          if (this.snappedToVertex_) {\n            vertex = squaredDist1 > squaredDist2 ?\n              closestSegment[1] : closestSegment[0];\n          }\n          return vertex;\n        }\n      }\n      return null;\n    };\n\n    /**\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent pointer move event\n     * @private\n     */\n    ExtentInteraction.prototype.handlePointerMove_ = function handlePointerMove_ (mapBrowserEvent) {\n      var pixel = mapBrowserEvent.pixel;\n      var map = mapBrowserEvent.map;\n\n      var vertex = this.snapToVertex_(pixel, map);\n      if (!vertex) {\n        vertex = map.getCoordinateFromPixel(pixel);\n      }\n      this.createOrUpdatePointerFeature_(vertex);\n    };\n\n    /**\n     * @param {import(\"../extent.js\").Extent} extent extent\n     * @returns {Feature} extent as featrue\n     * @private\n     */\n    ExtentInteraction.prototype.createOrUpdateExtentFeature_ = function createOrUpdateExtentFeature_ (extent) {\n      var extentFeature = this.extentFeature_;\n\n      if (!extentFeature) {\n        if (!extent) {\n          extentFeature = new Feature({});\n        } else {\n          extentFeature = new Feature(fromExtent(extent));\n        }\n        this.extentFeature_ = extentFeature;\n        /** @type {VectorSource} */ (this.extentOverlay_.getSource()).addFeature(extentFeature);\n      } else {\n        if (!extent) {\n          extentFeature.setGeometry(undefined);\n        } else {\n          extentFeature.setGeometry(fromExtent(extent));\n        }\n      }\n      return extentFeature;\n    };\n\n    /**\n     * @param {import(\"../coordinate.js\").Coordinate} vertex location of feature\n     * @returns {Feature} vertex as feature\n     * @private\n     */\n    ExtentInteraction.prototype.createOrUpdatePointerFeature_ = function createOrUpdatePointerFeature_ (vertex) {\n      var vertexFeature = this.vertexFeature_;\n      if (!vertexFeature) {\n        vertexFeature = new Feature(new Point(vertex));\n        this.vertexFeature_ = vertexFeature;\n        /** @type {VectorSource} */ (this.vertexOverlay_.getSource()).addFeature(vertexFeature);\n      } else {\n        var geometry = /** @type {Point} */ (vertexFeature.getGeometry());\n        geometry.setCoordinates(vertex);\n      }\n      return vertexFeature;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    ExtentInteraction.prototype.handleEvent = function handleEvent (mapBrowserEvent) {\n      if (!(/** @type {import(\"../MapBrowserPointerEvent.js\").default} */ (mapBrowserEvent).pointerEvent)) {\n        return true;\n      }\n      //display pointer (if not dragging)\n      if (mapBrowserEvent.type == MapBrowserEventType.POINTERMOVE && !this.handlingDownUpSequence) {\n        this.handlePointerMove_(mapBrowserEvent);\n      }\n      //call pointer to determine up/down/drag\n      PointerInteraction$$1.prototype.handleEvent.call(this, mapBrowserEvent);\n      //return false to stop propagation\n      return false;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    ExtentInteraction.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n      var pixel = mapBrowserEvent.pixel;\n      var map = mapBrowserEvent.map;\n\n      var extent = this.getExtent();\n      var vertex = this.snapToVertex_(pixel, map);\n\n      //find the extent corner opposite the passed corner\n      var getOpposingPoint = function(point) {\n        var x_ = null;\n        var y_ = null;\n        if (point[0] == extent[0]) {\n          x_ = extent[2];\n        } else if (point[0] == extent[2]) {\n          x_ = extent[0];\n        }\n        if (point[1] == extent[1]) {\n          y_ = extent[3];\n        } else if (point[1] == extent[3]) {\n          y_ = extent[1];\n        }\n        if (x_ !== null && y_ !== null) {\n          return [x_, y_];\n        }\n        return null;\n      };\n      if (vertex && extent) {\n        var x = (vertex[0] == extent[0] || vertex[0] == extent[2]) ? vertex[0] : null;\n        var y = (vertex[1] == extent[1] || vertex[1] == extent[3]) ? vertex[1] : null;\n\n        //snap to point\n        if (x !== null && y !== null) {\n          this.pointerHandler_ = getPointHandler(getOpposingPoint(vertex));\n        //snap to edge\n        } else if (x !== null) {\n          this.pointerHandler_ = getEdgeHandler(\n            getOpposingPoint([x, extent[1]]),\n            getOpposingPoint([x, extent[3]])\n          );\n        } else if (y !== null) {\n          this.pointerHandler_ = getEdgeHandler(\n            getOpposingPoint([extent[0], y]),\n            getOpposingPoint([extent[2], y])\n          );\n        }\n      //no snap - new bbox\n      } else {\n        vertex = map.getCoordinateFromPixel(pixel);\n        this.setExtent([vertex[0], vertex[1], vertex[0], vertex[1]]);\n        this.pointerHandler_ = getPointHandler(vertex);\n      }\n      return true; //event handled; start downup sequence\n    };\n\n    /**\n     * @inheritDoc\n     */\n    ExtentInteraction.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {\n      if (this.pointerHandler_) {\n        var pixelCoordinate = mapBrowserEvent.coordinate;\n        this.setExtent(this.pointerHandler_(pixelCoordinate));\n        this.createOrUpdatePointerFeature_(pixelCoordinate);\n      }\n      return true;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    ExtentInteraction.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n      this.pointerHandler_ = null;\n      //If bbox is zero area, set to null;\n      var extent = this.getExtent();\n      if (!extent || getArea(extent) === 0) {\n        this.setExtent(null);\n      }\n      return false; //Stop handling downup sequence\n    };\n\n    /**\n     * @inheritDoc\n     */\n    ExtentInteraction.prototype.setMap = function setMap (map) {\n      this.extentOverlay_.setMap(map);\n      this.vertexOverlay_.setMap(map);\n      PointerInteraction$$1.prototype.setMap.call(this, map);\n    };\n\n    /**\n     * Returns the current drawn extent in the view projection\n     *\n     * @return {import(\"../extent.js\").Extent} Drawn extent in the view projection.\n     * @api\n     */\n    ExtentInteraction.prototype.getExtent = function getExtent () {\n      return this.extent_;\n    };\n\n    /**\n     * Manually sets the drawn extent, using the view projection.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent\n     * @api\n     */\n    ExtentInteraction.prototype.setExtent = function setExtent (extent) {\n      //Null extent means no bbox\n      this.extent_ = extent ? extent : null;\n      this.createOrUpdateExtentFeature_(extent);\n      this.dispatchEvent(new ExtentInteractionEvent(this.extent_));\n    };\n\n    return ExtentInteraction;\n  }(PointerInteraction));\n\n  /**\n   * Returns the default style for the drawn bbox\n   *\n   * @return {import(\"../style/Style.js\").StyleFunction} Default Extent style\n   */\n  function getDefaultExtentStyleFunction() {\n    var style = createEditingStyle();\n    return function(feature, resolution) {\n      return style[GeometryType.POLYGON];\n    };\n  }\n\n  /**\n   * Returns the default style for the pointer\n   *\n   * @return {import(\"../style/Style.js\").StyleFunction} Default pointer style\n   */\n  function getDefaultPointerStyleFunction() {\n    var style = createEditingStyle();\n    return function(feature, resolution) {\n      return style[GeometryType.POINT];\n    };\n  }\n\n  /**\n   * @param {import(\"../coordinate.js\").Coordinate} fixedPoint corner that will be unchanged in the new extent\n   * @returns {function (import(\"../coordinate.js\").Coordinate): import(\"../extent.js\").Extent} event handler\n   */\n  function getPointHandler(fixedPoint) {\n    return function(point) {\n      return boundingExtent([fixedPoint, point]);\n    };\n  }\n\n  /**\n   * @param {import(\"../coordinate.js\").Coordinate} fixedP1 first corner that will be unchanged in the new extent\n   * @param {import(\"../coordinate.js\").Coordinate} fixedP2 second corner that will be unchanged in the new extent\n   * @returns {function (import(\"../coordinate.js\").Coordinate): import(\"../extent.js\").Extent|null} event handler\n   */\n  function getEdgeHandler(fixedP1, fixedP2) {\n    if (fixedP1[0] == fixedP2[0]) {\n      return function(point) {\n        return boundingExtent([fixedP1, [point[0], fixedP2[1]]]);\n      };\n    } else if (fixedP1[1] == fixedP2[1]) {\n      return function(point) {\n        return boundingExtent([fixedP1, [fixedP2[0], point[1]]]);\n      };\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   * @param {import(\"../extent.js\").Extent} extent extent\n   * @returns {Array<Array<import(\"../coordinate.js\").Coordinate>>} extent line segments\n   */\n  function getSegments(extent) {\n    return [\n      [[extent[0], extent[1]], [extent[0], extent[3]]],\n      [[extent[0], extent[3]], [extent[2], extent[3]]],\n      [[extent[2], extent[3]], [extent[2], extent[1]]],\n      [[extent[2], extent[1]], [extent[0], extent[1]]]\n    ];\n  }\n\n  /**\n   * @module ol/interaction/Modify\n   */\n\n\n  /**\n   * The segment index assigned to a circle's center when\n   * breaking up a circle into ModifySegmentDataType segments.\n   * @type {number}\n   */\n  var CIRCLE_CENTER_INDEX = 0;\n\n  /**\n   * The segment index assigned to a circle's circumference when\n   * breaking up a circle into ModifySegmentDataType segments.\n   * @type {number}\n   */\n  var CIRCLE_CIRCUMFERENCE_INDEX = 1;\n\n\n  /**\n   * @enum {string}\n   */\n  var ModifyEventType = {\n    /**\n     * Triggered upon feature modification start\n     * @event ModifyEvent#modifystart\n     * @api\n     */\n    MODIFYSTART: 'modifystart',\n    /**\n     * Triggered upon feature modification end\n     * @event ModifyEvent#modifyend\n     * @api\n     */\n    MODIFYEND: 'modifyend'\n  };\n\n\n  /**\n   * @typedef {Object} SegmentData\n   * @property {Array<number>} [depth]\n   * @property {Feature} feature\n   * @property {import(\"../geom/SimpleGeometry.js\").default} geometry\n   * @property {number} [index]\n   * @property {Array<import(\"../extent.js\").Extent>} segment\n   * @property {Array<SegmentData>} [featureSegments]\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n   * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event will be considered to add or move a\n   * vertex to the sketch. Default is\n   * {@link module:ol/events/condition~primaryAction}.\n   * @property {import(\"../events/condition.js\").Condition} [deleteCondition] A function\n   * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled. By default,\n   * {@link module:ol/events/condition~singleClick} with\n   * {@link module:ol/events/condition~altKeyOnly} results in a vertex deletion.\n   * @property {import(\"../events/condition.js\").Condition} [insertVertexCondition] A\n   * function that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and\n   * returns a boolean to indicate whether a new vertex can be added to the sketch\n   * features. Default is {@link module:ol/events/condition~always}.\n   * @property {number} [pixelTolerance=10] Pixel tolerance for considering the\n   * pointer close enough to a segment or vertex for editing.\n   * @property {import(\"../style/Style.js\").StyleLike} [style]\n   * Style used for the features being modified. By default the default edit\n   * style is used (see {@link module:ol/style}).\n   * @property {VectorSource} [source] The vector source with\n   * features to modify.  If a vector source is not provided, a feature collection\n   * must be provided with the features option.\n   * @property {Collection<Feature>} [features]\n   * The features the interaction works on.  If a feature collection is not\n   * provided, a vector source must be provided with the source option.\n   * @property {boolean} [wrapX=false] Wrap the world horizontally on the sketch\n   * overlay.\n   */\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/interaction/Modify~Modify} instances are\n   * instances of this type.\n   */\n  var ModifyEvent = /*@__PURE__*/(function (Event$$1) {\n    function ModifyEvent(type, features, mapBrowserPointerEvent) {\n      Event$$1.call(this, type);\n\n      /**\n       * The features being modified.\n       * @type {Collection<Feature>}\n       * @api\n       */\n      this.features = features;\n\n      /**\n       * Associated {@link module:ol/MapBrowserEvent}.\n       * @type {import(\"../MapBrowserEvent.js\").default}\n       * @api\n       */\n      this.mapBrowserEvent = mapBrowserPointerEvent;\n\n    }\n\n    if ( Event$$1 ) ModifyEvent.__proto__ = Event$$1;\n    ModifyEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    ModifyEvent.prototype.constructor = ModifyEvent;\n\n    return ModifyEvent;\n  }(Event));\n\n\n  /**\n   * @classdesc\n   * Interaction for modifying feature geometries.  To modify features that have\n   * been added to an existing source, construct the modify interaction with the\n   * `source` option.  If you want to modify features in a collection (for example,\n   * the collection used by a select interaction), construct the interaction with\n   * the `features` option.  The interaction must be constructed with either a\n   * `source` or `features` option.\n   *\n   * By default, the interaction will allow deletion of vertices when the `alt`\n   * key is pressed.  To configure the interaction with a different condition\n   * for deletion, use the `deleteCondition` option.\n   * @fires ModifyEvent\n   * @api\n   */\n  var Modify = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function Modify(options) {\n\n      PointerInteraction$$1.call(/** @type {import(\"./Pointer.js\").Options} */ this, (options));\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.condition_ = options.condition ? options.condition : primaryAction;\n\n      /**\n       * @private\n       * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Browser event.\n       * @return {boolean} Combined condition result.\n       */\n      this.defaultDeleteCondition_ = function(mapBrowserEvent) {\n        return altKeyOnly(mapBrowserEvent) && singleClick(mapBrowserEvent);\n      };\n\n      /**\n       * @type {import(\"../events/condition.js\").Condition}\n       * @private\n       */\n      this.deleteCondition_ = options.deleteCondition ?\n        options.deleteCondition : this.defaultDeleteCondition_;\n\n      /**\n       * @type {import(\"../events/condition.js\").Condition}\n       * @private\n       */\n      this.insertVertexCondition_ = options.insertVertexCondition ?\n        options.insertVertexCondition : always;\n\n      /**\n       * Editing vertex.\n       * @type {Feature}\n       * @private\n       */\n      this.vertexFeature_ = null;\n\n      /**\n       * Segments intersecting {@link this.vertexFeature_} by segment uid.\n       * @type {Object<string, boolean>}\n       * @private\n       */\n      this.vertexSegments_ = null;\n\n      /**\n       * @type {import(\"../pixel.js\").Pixel}\n       * @private\n       */\n      this.lastPixel_ = [0, 0];\n\n      /**\n       * Tracks if the next `singleclick` event should be ignored to prevent\n       * accidental deletion right after vertex creation.\n       * @type {boolean}\n       * @private\n       */\n      this.ignoreNextSingleClick_ = false;\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this.modified_ = false;\n\n      /**\n       * Segment RTree for each layer\n       * @type {RBush<SegmentData>}\n       * @private\n       */\n      this.rBush_ = new RBush();\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.pixelTolerance_ = options.pixelTolerance !== undefined ?\n        options.pixelTolerance : 10;\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this.snappedToVertex_ = false;\n\n      /**\n       * Indicate whether the interaction is currently changing a feature's\n       * coordinates.\n       * @type {boolean}\n       * @private\n       */\n      this.changingFeature_ = false;\n\n      /**\n       * @type {Array}\n       * @private\n       */\n      this.dragSegments_ = [];\n\n      /**\n       * Draw overlay where sketch features are drawn.\n       * @type {VectorLayer}\n       * @private\n       */\n      this.overlay_ = new VectorLayer({\n        source: new VectorSource({\n          useSpatialIndex: false,\n          wrapX: !!options.wrapX\n        }),\n        style: options.style ? options.style :\n          getDefaultStyleFunction$1(),\n        updateWhileAnimating: true,\n        updateWhileInteracting: true\n      });\n\n      /**\n       * @const\n       * @private\n       * @type {!Object<string, function(Feature, import(\"../geom/Geometry.js\").default)>}\n       */\n      this.SEGMENT_WRITERS_ = {\n        'Point': this.writePointGeometry_,\n        'LineString': this.writeLineStringGeometry_,\n        'LinearRing': this.writeLineStringGeometry_,\n        'Polygon': this.writePolygonGeometry_,\n        'MultiPoint': this.writeMultiPointGeometry_,\n        'MultiLineString': this.writeMultiLineStringGeometry_,\n        'MultiPolygon': this.writeMultiPolygonGeometry_,\n        'Circle': this.writeCircleGeometry_,\n        'GeometryCollection': this.writeGeometryCollectionGeometry_\n      };\n\n\n      /**\n       * @type {VectorSource}\n       * @private\n       */\n      this.source_ = null;\n\n      var features;\n      if (options.source) {\n        this.source_ = options.source;\n        features = new Collection(this.source_.getFeatures());\n        listen(this.source_, VectorEventType.ADDFEATURE,\n          this.handleSourceAdd_, this);\n        listen(this.source_, VectorEventType.REMOVEFEATURE,\n          this.handleSourceRemove_, this);\n      } else {\n        features = options.features;\n      }\n      if (!features) {\n        throw new Error('The modify interaction requires features or a source');\n      }\n\n      /**\n       * @type {Collection<Feature>}\n       * @private\n       */\n      this.features_ = features;\n\n      this.features_.forEach(this.addFeature_.bind(this));\n      listen(this.features_, CollectionEventType.ADD,\n        this.handleFeatureAdd_, this);\n      listen(this.features_, CollectionEventType.REMOVE,\n        this.handleFeatureRemove_, this);\n\n      /**\n       * @type {import(\"../MapBrowserPointerEvent.js\").default}\n       * @private\n       */\n      this.lastPointerEvent_ = null;\n\n    }\n\n    if ( PointerInteraction$$1 ) Modify.__proto__ = PointerInteraction$$1;\n    Modify.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    Modify.prototype.constructor = Modify;\n\n    /**\n     * @param {Feature} feature Feature.\n     * @private\n     */\n    Modify.prototype.addFeature_ = function addFeature_ (feature) {\n      var geometry = feature.getGeometry();\n      if (geometry && geometry.getType() in this.SEGMENT_WRITERS_) {\n        this.SEGMENT_WRITERS_[geometry.getType()].call(this, feature, geometry);\n      }\n      var map = this.getMap();\n      if (map && map.isRendered() && this.getActive()) {\n        this.handlePointerAtPixel_(this.lastPixel_, map);\n      }\n      listen(feature, EventType.CHANGE,\n        this.handleFeatureChange_, this);\n    };\n\n    /**\n     * @param {import(\"../MapBrowserPointerEvent.js\").default} evt Map browser event\n     * @private\n     */\n    Modify.prototype.willModifyFeatures_ = function willModifyFeatures_ (evt) {\n      if (!this.modified_) {\n        this.modified_ = true;\n        this.dispatchEvent(new ModifyEvent(\n          ModifyEventType.MODIFYSTART, this.features_, evt));\n      }\n    };\n\n    /**\n     * @param {Feature} feature Feature.\n     * @private\n     */\n    Modify.prototype.removeFeature_ = function removeFeature_ (feature) {\n      this.removeFeatureSegmentData_(feature);\n      // Remove the vertex feature if the collection of canditate features\n      // is empty.\n      if (this.vertexFeature_ && this.features_.getLength() === 0) {\n        /** @type {VectorSource} */ (this.overlay_.getSource()).removeFeature(this.vertexFeature_);\n        this.vertexFeature_ = null;\n      }\n      unlisten(feature, EventType.CHANGE,\n        this.handleFeatureChange_, this);\n    };\n\n    /**\n     * @param {Feature} feature Feature.\n     * @private\n     */\n    Modify.prototype.removeFeatureSegmentData_ = function removeFeatureSegmentData_ (feature) {\n      var rBush = this.rBush_;\n      var /** @type {Array<SegmentData>} */ nodesToRemove = [];\n      rBush.forEach(\n        /**\n         * @param {SegmentData} node RTree node.\n         */\n        function(node) {\n          if (feature === node.feature) {\n            nodesToRemove.push(node);\n          }\n        });\n      for (var i = nodesToRemove.length - 1; i >= 0; --i) {\n        rBush.remove(nodesToRemove[i]);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Modify.prototype.setActive = function setActive (active) {\n      if (this.vertexFeature_ && !active) {\n        /** @type {VectorSource} */ (this.overlay_.getSource()).removeFeature(this.vertexFeature_);\n        this.vertexFeature_ = null;\n      }\n      PointerInteraction$$1.prototype.setActive.call(this, active);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Modify.prototype.setMap = function setMap (map) {\n      this.overlay_.setMap(map);\n      PointerInteraction$$1.prototype.setMap.call(this, map);\n    };\n\n    /**\n     * Get the overlay layer that this interaction renders sketch features to.\n     * @return {VectorLayer} Overlay layer.\n     * @api\n     */\n    Modify.prototype.getOverlay = function getOverlay () {\n      return this.overlay_;\n    };\n\n    /**\n     * @param {import(\"../source/Vector.js\").VectorSourceEvent} event Event.\n     * @private\n     */\n    Modify.prototype.handleSourceAdd_ = function handleSourceAdd_ (event) {\n      if (event.feature) {\n        this.features_.push(event.feature);\n      }\n    };\n\n    /**\n     * @param {import(\"../source/Vector.js\").VectorSourceEvent} event Event.\n     * @private\n     */\n    Modify.prototype.handleSourceRemove_ = function handleSourceRemove_ (event) {\n      if (event.feature) {\n        this.features_.remove(event.feature);\n      }\n    };\n\n    /**\n     * @param {import(\"../Collection.js\").CollectionEvent} evt Event.\n     * @private\n     */\n    Modify.prototype.handleFeatureAdd_ = function handleFeatureAdd_ (evt) {\n      this.addFeature_(/** @type {Feature} */ (evt.element));\n    };\n\n    /**\n     * @param {import(\"../events/Event.js\").default} evt Event.\n     * @private\n     */\n    Modify.prototype.handleFeatureChange_ = function handleFeatureChange_ (evt) {\n      if (!this.changingFeature_) {\n        var feature = /** @type {Feature} */ (evt.target);\n        this.removeFeature_(feature);\n        this.addFeature_(feature);\n      }\n    };\n\n    /**\n     * @param {import(\"../Collection.js\").CollectionEvent} evt Event.\n     * @private\n     */\n    Modify.prototype.handleFeatureRemove_ = function handleFeatureRemove_ (evt) {\n      var feature = /** @type {Feature} */ (evt.element);\n      this.removeFeature_(feature);\n    };\n\n    /**\n     * @param {Feature} feature Feature\n     * @param {Point} geometry Geometry.\n     * @private\n     */\n    Modify.prototype.writePointGeometry_ = function writePointGeometry_ (feature, geometry) {\n      var coordinates = geometry.getCoordinates();\n      var segmentData = /** @type {SegmentData} */ ({\n        feature: feature,\n        geometry: geometry,\n        segment: [coordinates, coordinates]\n      });\n      this.rBush_.insert(geometry.getExtent(), segmentData);\n    };\n\n    /**\n     * @param {Feature} feature Feature\n     * @param {import(\"../geom/MultiPoint.js\").default} geometry Geometry.\n     * @private\n     */\n    Modify.prototype.writeMultiPointGeometry_ = function writeMultiPointGeometry_ (feature, geometry) {\n      var points = geometry.getCoordinates();\n      for (var i = 0, ii = points.length; i < ii; ++i) {\n        var coordinates = points[i];\n        var segmentData = /** @type {SegmentData} */ ({\n          feature: feature,\n          geometry: geometry,\n          depth: [i],\n          index: i,\n          segment: [coordinates, coordinates]\n        });\n        this.rBush_.insert(geometry.getExtent(), segmentData);\n      }\n    };\n\n    /**\n     * @param {Feature} feature Feature\n     * @param {import(\"../geom/LineString.js\").default} geometry Geometry.\n     * @private\n     */\n    Modify.prototype.writeLineStringGeometry_ = function writeLineStringGeometry_ (feature, geometry) {\n      var coordinates = geometry.getCoordinates();\n      for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n        var segment = coordinates.slice(i, i + 2);\n        var segmentData = /** @type {SegmentData} */ ({\n          feature: feature,\n          geometry: geometry,\n          index: i,\n          segment: segment\n        });\n        this.rBush_.insert(boundingExtent(segment), segmentData);\n      }\n    };\n\n    /**\n     * @param {Feature} feature Feature\n     * @param {import(\"../geom/MultiLineString.js\").default} geometry Geometry.\n     * @private\n     */\n    Modify.prototype.writeMultiLineStringGeometry_ = function writeMultiLineStringGeometry_ (feature, geometry) {\n      var lines = geometry.getCoordinates();\n      for (var j = 0, jj = lines.length; j < jj; ++j) {\n        var coordinates = lines[j];\n        for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n          var segment = coordinates.slice(i, i + 2);\n          var segmentData = /** @type {SegmentData} */ ({\n            feature: feature,\n            geometry: geometry,\n            depth: [j],\n            index: i,\n            segment: segment\n          });\n          this.rBush_.insert(boundingExtent(segment), segmentData);\n        }\n      }\n    };\n\n    /**\n     * @param {Feature} feature Feature\n     * @param {import(\"../geom/Polygon.js\").default} geometry Geometry.\n     * @private\n     */\n    Modify.prototype.writePolygonGeometry_ = function writePolygonGeometry_ (feature, geometry) {\n      var rings = geometry.getCoordinates();\n      for (var j = 0, jj = rings.length; j < jj; ++j) {\n        var coordinates = rings[j];\n        for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n          var segment = coordinates.slice(i, i + 2);\n          var segmentData = /** @type {SegmentData} */ ({\n            feature: feature,\n            geometry: geometry,\n            depth: [j],\n            index: i,\n            segment: segment\n          });\n          this.rBush_.insert(boundingExtent(segment), segmentData);\n        }\n      }\n    };\n\n    /**\n     * @param {Feature} feature Feature\n     * @param {import(\"../geom/MultiPolygon.js\").default} geometry Geometry.\n     * @private\n     */\n    Modify.prototype.writeMultiPolygonGeometry_ = function writeMultiPolygonGeometry_ (feature, geometry) {\n      var polygons = geometry.getCoordinates();\n      for (var k = 0, kk = polygons.length; k < kk; ++k) {\n        var rings = polygons[k];\n        for (var j = 0, jj = rings.length; j < jj; ++j) {\n          var coordinates = rings[j];\n          for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n            var segment = coordinates.slice(i, i + 2);\n            var segmentData = /** @type {SegmentData} */ ({\n              feature: feature,\n              geometry: geometry,\n              depth: [j, k],\n              index: i,\n              segment: segment\n            });\n            this.rBush_.insert(boundingExtent(segment), segmentData);\n          }\n        }\n      }\n    };\n\n    /**\n     * We convert a circle into two segments.  The segment at index\n     * {@link CIRCLE_CENTER_INDEX} is the\n     * circle's center (a point).  The segment at index\n     * {@link CIRCLE_CIRCUMFERENCE_INDEX} is\n     * the circumference, and is not a line segment.\n     *\n     * @param {Feature} feature Feature.\n     * @param {import(\"../geom/Circle.js\").default} geometry Geometry.\n     * @private\n     */\n    Modify.prototype.writeCircleGeometry_ = function writeCircleGeometry_ (feature, geometry) {\n      var coordinates = geometry.getCenter();\n      var centerSegmentData = /** @type {SegmentData} */ ({\n        feature: feature,\n        geometry: geometry,\n        index: CIRCLE_CENTER_INDEX,\n        segment: [coordinates, coordinates]\n      });\n      var circumferenceSegmentData = /** @type {SegmentData} */ ({\n        feature: feature,\n        geometry: geometry,\n        index: CIRCLE_CIRCUMFERENCE_INDEX,\n        segment: [coordinates, coordinates]\n      });\n      var featureSegments = [centerSegmentData, circumferenceSegmentData];\n      centerSegmentData.featureSegments = circumferenceSegmentData.featureSegments = featureSegments;\n      this.rBush_.insert(createOrUpdateFromCoordinate(coordinates), centerSegmentData);\n      this.rBush_.insert(geometry.getExtent(), circumferenceSegmentData);\n    };\n\n    /**\n     * @param {Feature} feature Feature\n     * @param {import(\"../geom/GeometryCollection.js\").default} geometry Geometry.\n     * @private\n     */\n    Modify.prototype.writeGeometryCollectionGeometry_ = function writeGeometryCollectionGeometry_ (feature, geometry) {\n      var geometries = geometry.getGeometriesArray();\n      for (var i = 0; i < geometries.length; ++i) {\n        this.SEGMENT_WRITERS_[geometries[i].getType()].call(this, feature, geometries[i]);\n      }\n    };\n\n    /**\n     * @param {import(\"../coordinate.js\").Coordinate} coordinates Coordinates.\n     * @return {Feature} Vertex feature.\n     * @private\n     */\n    Modify.prototype.createOrUpdateVertexFeature_ = function createOrUpdateVertexFeature_ (coordinates) {\n      var vertexFeature = this.vertexFeature_;\n      if (!vertexFeature) {\n        vertexFeature = new Feature(new Point(coordinates));\n        this.vertexFeature_ = vertexFeature;\n        /** @type {VectorSource} */ (this.overlay_.getSource()).addFeature(vertexFeature);\n      } else {\n        var geometry = /** @type {Point} */ (vertexFeature.getGeometry());\n        geometry.setCoordinates(coordinates);\n      }\n      return vertexFeature;\n    };\n\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent map browser event} and may modify the geometry.\n     * @override\n     */\n    Modify.prototype.handleEvent = function handleEvent (mapBrowserEvent) {\n      if (!(/** @type {import(\"../MapBrowserPointerEvent.js\").default} */ (mapBrowserEvent).pointerEvent)) {\n        return true;\n      }\n      this.lastPointerEvent_ = mapBrowserEvent;\n\n      var handled;\n      if (!mapBrowserEvent.map.getView().getInteracting() &&\n          mapBrowserEvent.type == MapBrowserEventType.POINTERMOVE &&\n          !this.handlingDownUpSequence) {\n        this.handlePointerMove_(mapBrowserEvent);\n      }\n      if (this.vertexFeature_ && this.deleteCondition_(mapBrowserEvent)) {\n        if (mapBrowserEvent.type != MapBrowserEventType.SINGLECLICK || !this.ignoreNextSingleClick_) {\n          handled = this.removePoint();\n        } else {\n          handled = true;\n        }\n      }\n\n      if (mapBrowserEvent.type == MapBrowserEventType.SINGLECLICK) {\n        this.ignoreNextSingleClick_ = false;\n      }\n\n      return PointerInteraction$$1.prototype.handleEvent.call(this, mapBrowserEvent) && !handled;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Modify.prototype.handleDragEvent = function handleDragEvent (evt) {\n      this.ignoreNextSingleClick_ = false;\n      this.willModifyFeatures_(evt);\n\n      var vertex = evt.coordinate;\n      for (var i = 0, ii = this.dragSegments_.length; i < ii; ++i) {\n        var dragSegment = this.dragSegments_[i];\n        var segmentData = dragSegment[0];\n        var depth = segmentData.depth;\n        var geometry = segmentData.geometry;\n        var coordinates = (void 0);\n        var segment = segmentData.segment;\n        var index = dragSegment[1];\n\n        while (vertex.length < geometry.getStride()) {\n          vertex.push(segment[index][vertex.length]);\n        }\n\n        switch (geometry.getType()) {\n          case GeometryType.POINT:\n            coordinates = vertex;\n            segment[0] = segment[1] = vertex;\n            break;\n          case GeometryType.MULTI_POINT:\n            coordinates = geometry.getCoordinates();\n            coordinates[segmentData.index] = vertex;\n            segment[0] = segment[1] = vertex;\n            break;\n          case GeometryType.LINE_STRING:\n            coordinates = geometry.getCoordinates();\n            coordinates[segmentData.index + index] = vertex;\n            segment[index] = vertex;\n            break;\n          case GeometryType.MULTI_LINE_STRING:\n            coordinates = geometry.getCoordinates();\n            coordinates[depth[0]][segmentData.index + index] = vertex;\n            segment[index] = vertex;\n            break;\n          case GeometryType.POLYGON:\n            coordinates = geometry.getCoordinates();\n            coordinates[depth[0]][segmentData.index + index] = vertex;\n            segment[index] = vertex;\n            break;\n          case GeometryType.MULTI_POLYGON:\n            coordinates = geometry.getCoordinates();\n            coordinates[depth[1]][depth[0]][segmentData.index + index] = vertex;\n            segment[index] = vertex;\n            break;\n          case GeometryType.CIRCLE:\n            segment[0] = segment[1] = vertex;\n            if (segmentData.index === CIRCLE_CENTER_INDEX) {\n              this.changingFeature_ = true;\n              geometry.setCenter(vertex);\n              this.changingFeature_ = false;\n            } else { // We're dragging the circle's circumference:\n              this.changingFeature_ = true;\n              geometry.setRadius(distance(geometry.getCenter(), vertex));\n              this.changingFeature_ = false;\n            }\n            break;\n          default:\n            // pass\n        }\n\n        if (coordinates) {\n          this.setGeometryCoordinates_(geometry, coordinates);\n        }\n      }\n      this.createOrUpdateVertexFeature_(vertex);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Modify.prototype.handleDownEvent = function handleDownEvent (evt) {\n      if (!this.condition_(evt)) {\n        return false;\n      }\n      this.handlePointerAtPixel_(evt.pixel, evt.map);\n      var pixelCoordinate = evt.map.getCoordinateFromPixel(evt.pixel);\n      this.dragSegments_.length = 0;\n      this.modified_ = false;\n      var vertexFeature = this.vertexFeature_;\n      if (vertexFeature) {\n        var insertVertices = [];\n        var geometry = /** @type {Point} */ (vertexFeature.getGeometry());\n        var vertex = geometry.getCoordinates();\n        var vertexExtent = boundingExtent([vertex]);\n        var segmentDataMatches = this.rBush_.getInExtent(vertexExtent);\n        var componentSegments = {};\n        segmentDataMatches.sort(compareIndexes);\n        for (var i = 0, ii = segmentDataMatches.length; i < ii; ++i) {\n          var segmentDataMatch = segmentDataMatches[i];\n          var segment = segmentDataMatch.segment;\n          var uid = getUid(segmentDataMatch.feature);\n          var depth = segmentDataMatch.depth;\n          if (depth) {\n            uid += '-' + depth.join('-'); // separate feature components\n          }\n          if (!componentSegments[uid]) {\n            componentSegments[uid] = new Array(2);\n          }\n          if (segmentDataMatch.geometry.getType() === GeometryType.CIRCLE &&\n          segmentDataMatch.index === CIRCLE_CIRCUMFERENCE_INDEX) {\n\n            var closestVertex = closestOnSegmentData(pixelCoordinate, segmentDataMatch);\n            if (equals$1(closestVertex, vertex) && !componentSegments[uid][0]) {\n              this.dragSegments_.push([segmentDataMatch, 0]);\n              componentSegments[uid][0] = segmentDataMatch;\n            }\n          } else if (equals$1(segment[0], vertex) &&\n              !componentSegments[uid][0]) {\n            this.dragSegments_.push([segmentDataMatch, 0]);\n            componentSegments[uid][0] = segmentDataMatch;\n          } else if (equals$1(segment[1], vertex) &&\n              !componentSegments[uid][1]) {\n\n            // prevent dragging closed linestrings by the connecting node\n            if ((segmentDataMatch.geometry.getType() ===\n                GeometryType.LINE_STRING ||\n                segmentDataMatch.geometry.getType() ===\n                GeometryType.MULTI_LINE_STRING) &&\n                componentSegments[uid][0] &&\n                componentSegments[uid][0].index === 0) {\n              continue;\n            }\n\n            this.dragSegments_.push([segmentDataMatch, 1]);\n            componentSegments[uid][1] = segmentDataMatch;\n          } else if (this.insertVertexCondition_(evt) && getUid(segment) in this.vertexSegments_ &&\n              (!componentSegments[uid][0] && !componentSegments[uid][1])) {\n            insertVertices.push([segmentDataMatch, vertex]);\n          }\n        }\n        if (insertVertices.length) {\n          this.willModifyFeatures_(evt);\n        }\n        for (var j = insertVertices.length - 1; j >= 0; --j) {\n          this.insertVertex_.apply(this, insertVertices[j]);\n        }\n      }\n      return !!this.vertexFeature_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Modify.prototype.handleUpEvent = function handleUpEvent (evt) {\n      for (var i = this.dragSegments_.length - 1; i >= 0; --i) {\n        var segmentData = this.dragSegments_[i][0];\n        var geometry = segmentData.geometry;\n        if (geometry.getType() === GeometryType.CIRCLE) {\n          // Update a circle object in the R* bush:\n          var coordinates = geometry.getCenter();\n          var centerSegmentData = segmentData.featureSegments[0];\n          var circumferenceSegmentData = segmentData.featureSegments[1];\n          centerSegmentData.segment[0] = centerSegmentData.segment[1] = coordinates;\n          circumferenceSegmentData.segment[0] = circumferenceSegmentData.segment[1] = coordinates;\n          this.rBush_.update(createOrUpdateFromCoordinate(coordinates), centerSegmentData);\n          this.rBush_.update(geometry.getExtent(), circumferenceSegmentData);\n        } else {\n          this.rBush_.update(boundingExtent(segmentData.segment), segmentData);\n        }\n      }\n      if (this.modified_) {\n        this.dispatchEvent(new ModifyEvent(ModifyEventType.MODIFYEND, this.features_, evt));\n        this.modified_ = false;\n      }\n      return false;\n    };\n\n    /**\n     * @param {import(\"../MapBrowserEvent.js\").default} evt Event.\n     * @private\n     */\n    Modify.prototype.handlePointerMove_ = function handlePointerMove_ (evt) {\n      this.lastPixel_ = evt.pixel;\n      this.handlePointerAtPixel_(evt.pixel, evt.map);\n    };\n\n    /**\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     * @private\n     */\n    Modify.prototype.handlePointerAtPixel_ = function handlePointerAtPixel_ (pixel, map) {\n      var pixelCoordinate = map.getCoordinateFromPixel(pixel);\n      var sortByDistance = function(a, b) {\n        return pointDistanceToSegmentDataSquared(pixelCoordinate, a) -\n            pointDistanceToSegmentDataSquared(pixelCoordinate, b);\n      };\n\n      var box = buffer(createOrUpdateFromCoordinate(pixelCoordinate),\n        map.getView().getResolution() * this.pixelTolerance_);\n\n      var rBush = this.rBush_;\n      var nodes = rBush.getInExtent(box);\n      if (nodes.length > 0) {\n        nodes.sort(sortByDistance);\n        var node = nodes[0];\n        var closestSegment = node.segment;\n        var vertex = closestOnSegmentData(pixelCoordinate, node);\n        var vertexPixel = map.getPixelFromCoordinate(vertex);\n        var dist = distance(pixel, vertexPixel);\n        if (dist <= this.pixelTolerance_) {\n          /** @type {Object<string, boolean>} */\n          var vertexSegments = {};\n\n          if (node.geometry.getType() === GeometryType.CIRCLE &&\n          node.index === CIRCLE_CIRCUMFERENCE_INDEX) {\n\n            this.snappedToVertex_ = true;\n            this.createOrUpdateVertexFeature_(vertex);\n          } else {\n            var pixel1 = map.getPixelFromCoordinate(closestSegment[0]);\n            var pixel2 = map.getPixelFromCoordinate(closestSegment[1]);\n            var squaredDist1 = squaredDistance$1(vertexPixel, pixel1);\n            var squaredDist2 = squaredDistance$1(vertexPixel, pixel2);\n            dist = Math.sqrt(Math.min(squaredDist1, squaredDist2));\n            this.snappedToVertex_ = dist <= this.pixelTolerance_;\n            if (this.snappedToVertex_) {\n              vertex = squaredDist1 > squaredDist2 ? closestSegment[1] : closestSegment[0];\n            }\n            this.createOrUpdateVertexFeature_(vertex);\n            for (var i = 1, ii = nodes.length; i < ii; ++i) {\n              var segment = nodes[i].segment;\n              if ((equals$1(closestSegment[0], segment[0]) &&\n                  equals$1(closestSegment[1], segment[1]) ||\n                  (equals$1(closestSegment[0], segment[1]) &&\n                  equals$1(closestSegment[1], segment[0])))) {\n                vertexSegments[getUid(segment)] = true;\n              } else {\n                break;\n              }\n            }\n          }\n\n          vertexSegments[getUid(closestSegment)] = true;\n          this.vertexSegments_ = vertexSegments;\n          return;\n        }\n      }\n      if (this.vertexFeature_) {\n        /** @type {VectorSource} */ (this.overlay_.getSource()).removeFeature(this.vertexFeature_);\n        this.vertexFeature_ = null;\n      }\n    };\n\n    /**\n     * @param {SegmentData} segmentData Segment data.\n     * @param {import(\"../coordinate.js\").Coordinate} vertex Vertex.\n     * @private\n     */\n    Modify.prototype.insertVertex_ = function insertVertex_ (segmentData, vertex) {\n      var segment = segmentData.segment;\n      var feature = segmentData.feature;\n      var geometry = segmentData.geometry;\n      var depth = segmentData.depth;\n      var index = /** @type {number} */ (segmentData.index);\n      var coordinates;\n\n      while (vertex.length < geometry.getStride()) {\n        vertex.push(0);\n      }\n\n      switch (geometry.getType()) {\n        case GeometryType.MULTI_LINE_STRING:\n          coordinates = geometry.getCoordinates();\n          coordinates[depth[0]].splice(index + 1, 0, vertex);\n          break;\n        case GeometryType.POLYGON:\n          coordinates = geometry.getCoordinates();\n          coordinates[depth[0]].splice(index + 1, 0, vertex);\n          break;\n        case GeometryType.MULTI_POLYGON:\n          coordinates = geometry.getCoordinates();\n          coordinates[depth[1]][depth[0]].splice(index + 1, 0, vertex);\n          break;\n        case GeometryType.LINE_STRING:\n          coordinates = geometry.getCoordinates();\n          coordinates.splice(index + 1, 0, vertex);\n          break;\n        default:\n          return;\n      }\n\n      this.setGeometryCoordinates_(geometry, coordinates);\n      var rTree = this.rBush_;\n      rTree.remove(segmentData);\n      this.updateSegmentIndices_(geometry, index, depth, 1);\n      var newSegmentData = /** @type {SegmentData} */ ({\n        segment: [segment[0], vertex],\n        feature: feature,\n        geometry: geometry,\n        depth: depth,\n        index: index\n      });\n      rTree.insert(boundingExtent(newSegmentData.segment),\n        newSegmentData);\n      this.dragSegments_.push([newSegmentData, 1]);\n\n      var newSegmentData2 = /** @type {SegmentData} */ ({\n        segment: [vertex, segment[1]],\n        feature: feature,\n        geometry: geometry,\n        depth: depth,\n        index: index + 1\n      });\n      rTree.insert(boundingExtent(newSegmentData2.segment), newSegmentData2);\n      this.dragSegments_.push([newSegmentData2, 0]);\n      this.ignoreNextSingleClick_ = true;\n    };\n\n    /**\n     * Removes the vertex currently being pointed.\n     * @return {boolean} True when a vertex was removed.\n     * @api\n     */\n    Modify.prototype.removePoint = function removePoint () {\n      if (this.lastPointerEvent_ && this.lastPointerEvent_.type != MapBrowserEventType.POINTERDRAG) {\n        var evt = this.lastPointerEvent_;\n        this.willModifyFeatures_(evt);\n        this.removeVertex_();\n        this.dispatchEvent(new ModifyEvent(ModifyEventType.MODIFYEND, this.features_, evt));\n        this.modified_ = false;\n        return true;\n      }\n      return false;\n    };\n\n    /**\n     * Removes a vertex from all matching features.\n     * @return {boolean} True when a vertex was removed.\n     * @private\n     */\n    Modify.prototype.removeVertex_ = function removeVertex_ () {\n      var dragSegments = this.dragSegments_;\n      var segmentsByFeature = {};\n      var deleted = false;\n      var component, coordinates, dragSegment, geometry, i, index, left;\n      var newIndex, right, segmentData, uid;\n      for (i = dragSegments.length - 1; i >= 0; --i) {\n        dragSegment = dragSegments[i];\n        segmentData = dragSegment[0];\n        uid = getUid(segmentData.feature);\n        if (segmentData.depth) {\n          // separate feature components\n          uid += '-' + segmentData.depth.join('-');\n        }\n        if (!(uid in segmentsByFeature)) {\n          segmentsByFeature[uid] = {};\n        }\n        if (dragSegment[1] === 0) {\n          segmentsByFeature[uid].right = segmentData;\n          segmentsByFeature[uid].index = segmentData.index;\n        } else if (dragSegment[1] == 1) {\n          segmentsByFeature[uid].left = segmentData;\n          segmentsByFeature[uid].index = segmentData.index + 1;\n        }\n\n      }\n      for (uid in segmentsByFeature) {\n        right = segmentsByFeature[uid].right;\n        left = segmentsByFeature[uid].left;\n        index = segmentsByFeature[uid].index;\n        newIndex = index - 1;\n        if (left !== undefined) {\n          segmentData = left;\n        } else {\n          segmentData = right;\n        }\n        if (newIndex < 0) {\n          newIndex = 0;\n        }\n        geometry = segmentData.geometry;\n        coordinates = geometry.getCoordinates();\n        component = coordinates;\n        deleted = false;\n        switch (geometry.getType()) {\n          case GeometryType.MULTI_LINE_STRING:\n            if (coordinates[segmentData.depth[0]].length > 2) {\n              coordinates[segmentData.depth[0]].splice(index, 1);\n              deleted = true;\n            }\n            break;\n          case GeometryType.LINE_STRING:\n            if (coordinates.length > 2) {\n              coordinates.splice(index, 1);\n              deleted = true;\n            }\n            break;\n          case GeometryType.MULTI_POLYGON:\n            component = component[segmentData.depth[1]];\n            /* falls through */\n          case GeometryType.POLYGON:\n            component = component[segmentData.depth[0]];\n            if (component.length > 4) {\n              if (index == component.length - 1) {\n                index = 0;\n              }\n              component.splice(index, 1);\n              deleted = true;\n              if (index === 0) {\n                // close the ring again\n                component.pop();\n                component.push(component[0]);\n                newIndex = component.length - 1;\n              }\n            }\n            break;\n          default:\n            // pass\n        }\n\n        if (deleted) {\n          this.setGeometryCoordinates_(geometry, coordinates);\n          var segments = [];\n          if (left !== undefined) {\n            this.rBush_.remove(left);\n            segments.push(left.segment[0]);\n          }\n          if (right !== undefined) {\n            this.rBush_.remove(right);\n            segments.push(right.segment[1]);\n          }\n          if (left !== undefined && right !== undefined) {\n            var newSegmentData = /** @type {SegmentData} */ ({\n              depth: segmentData.depth,\n              feature: segmentData.feature,\n              geometry: segmentData.geometry,\n              index: newIndex,\n              segment: segments\n            });\n            this.rBush_.insert(boundingExtent(newSegmentData.segment),\n              newSegmentData);\n          }\n          this.updateSegmentIndices_(geometry, index, segmentData.depth, -1);\n          if (this.vertexFeature_) {\n            /** @type {VectorSource} */ (this.overlay_.getSource()).removeFeature(this.vertexFeature_);\n            this.vertexFeature_ = null;\n          }\n          dragSegments.length = 0;\n        }\n\n      }\n      return deleted;\n    };\n\n    /**\n     * @param {import(\"../geom/SimpleGeometry.js\").default} geometry Geometry.\n     * @param {Array} coordinates Coordinates.\n     * @private\n     */\n    Modify.prototype.setGeometryCoordinates_ = function setGeometryCoordinates_ (geometry, coordinates) {\n      this.changingFeature_ = true;\n      geometry.setCoordinates(coordinates);\n      this.changingFeature_ = false;\n    };\n\n    /**\n     * @param {import(\"../geom/SimpleGeometry.js\").default} geometry Geometry.\n     * @param {number} index Index.\n     * @param {Array<number>|undefined} depth Depth.\n     * @param {number} delta Delta (1 or -1).\n     * @private\n     */\n    Modify.prototype.updateSegmentIndices_ = function updateSegmentIndices_ (geometry, index, depth, delta) {\n      this.rBush_.forEachInExtent(geometry.getExtent(), function(segmentDataMatch) {\n        if (segmentDataMatch.geometry === geometry &&\n            (depth === undefined || segmentDataMatch.depth === undefined ||\n            equals(segmentDataMatch.depth, depth)) &&\n            segmentDataMatch.index > index) {\n          segmentDataMatch.index += delta;\n        }\n      });\n    };\n\n    return Modify;\n  }(PointerInteraction));\n\n\n  /**\n   * @param {SegmentData} a The first segment data.\n   * @param {SegmentData} b The second segment data.\n   * @return {number} The difference in indexes.\n   */\n  function compareIndexes(a, b) {\n    return a.index - b.index;\n  }\n\n\n  /**\n   * Returns the distance from a point to a line segment.\n   *\n   * @param {import(\"../coordinate.js\").Coordinate} pointCoordinates The coordinates of the point from\n   *        which to calculate the distance.\n   * @param {SegmentData} segmentData The object describing the line\n   *        segment we are calculating the distance to.\n   * @return {number} The square of the distance between a point and a line segment.\n   */\n  function pointDistanceToSegmentDataSquared(pointCoordinates, segmentData) {\n    var geometry = segmentData.geometry;\n\n    if (geometry.getType() === GeometryType.CIRCLE) {\n      var circleGeometry = /** @type {import(\"../geom/Circle.js\").default} */ (geometry);\n\n      if (segmentData.index === CIRCLE_CIRCUMFERENCE_INDEX) {\n        var distanceToCenterSquared =\n              squaredDistance$1(circleGeometry.getCenter(), pointCoordinates);\n        var distanceToCircumference =\n              Math.sqrt(distanceToCenterSquared) - circleGeometry.getRadius();\n        return distanceToCircumference * distanceToCircumference;\n      }\n    }\n    return squaredDistanceToSegment(pointCoordinates, segmentData.segment);\n  }\n\n  /**\n   * Returns the point closest to a given line segment.\n   *\n   * @param {import(\"../coordinate.js\").Coordinate} pointCoordinates The point to which a closest point\n   *        should be found.\n   * @param {SegmentData} segmentData The object describing the line\n   *        segment which should contain the closest point.\n   * @return {import(\"../coordinate.js\").Coordinate} The point closest to the specified line segment.\n   */\n  function closestOnSegmentData(pointCoordinates, segmentData) {\n    var geometry = segmentData.geometry;\n\n    if (geometry.getType() === GeometryType.CIRCLE &&\n    segmentData.index === CIRCLE_CIRCUMFERENCE_INDEX) {\n      return geometry.getClosestPoint(pointCoordinates);\n    }\n    return closestOnSegment(pointCoordinates, segmentData.segment);\n  }\n\n\n  /**\n   * @return {import(\"../style/Style.js\").StyleFunction} Styles.\n   */\n  function getDefaultStyleFunction$1() {\n    var style = createEditingStyle();\n    return function(feature, resolution) {\n      return style[GeometryType.POINT];\n    };\n  }\n\n  /**\n   * @module ol/interaction/Select\n   */\n\n\n  /**\n   * @enum {string}\n   */\n  var SelectEventType = {\n    /**\n     * Triggered when feature(s) has been (de)selected.\n     * @event SelectEvent#select\n     * @api\n     */\n    SELECT: 'select'\n  };\n\n\n  /**\n   * A function that takes an {@link module:ol/Feature} or\n   * {@link module:ol/render/Feature} and an\n   * {@link module:ol/layer/Layer} and returns `true` if the feature may be\n   * selected or `false` otherwise.\n   * @typedef {function(import(\"../Feature.js\").FeatureLike, import(\"../layer/Layer.js\").default):boolean} FilterFunction\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../events/condition.js\").Condition} [addCondition] A function\n   * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled.\n   * By default, this is {@link module:ol/events/condition~never}. Use this if you\n   * want to use different events for add and remove instead of `toggle`.\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n   * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled. This is the event\n   * for the selected features as a whole. By default, this is\n   * {@link module:ol/events/condition~singleClick}. Clicking on a feature selects that\n   * feature and removes any that were in the selection. Clicking outside any\n   * feature removes all from the selection.\n   * See `toggle`, `add`, `remove` options for adding/removing extra features to/\n   * from the selection.\n   * @property {Array<import(\"../layer/Layer.js\").default>|function(import(\"../layer/Layer.js\").default): boolean} [layers]\n   * A list of layers from which features should be selected. Alternatively, a\n   * filter function can be provided. The function will be called for each layer\n   * in the map and should return `true` for layers that you want to be\n   * selectable. If the option is absent, all visible layers will be considered\n   * selectable.\n   * @property {import(\"../style/Style.js\").StyleLike} [style]\n   * Style for the selected features. By default the default edit style is used\n   * (see {@link module:ol/style}).\n   * @property {import(\"../events/condition.js\").Condition} [removeCondition] A function\n   * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled.\n   * By default, this is {@link module:ol/events/condition~never}. Use this if you\n   * want to use different events for add and remove instead of `toggle`.\n   * @property {import(\"../events/condition.js\").Condition} [toggleCondition] A function\n   * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled. This is in addition\n   * to the `condition` event. By default,\n   * {@link module:ol/events/condition~shiftKeyOnly}, i.e. pressing `shift` as\n   * well as the `condition` event, adds that feature to the current selection if\n   * it is not currently selected, and removes it if it is. See `add` and `remove`\n   * if you want to use different events instead of a toggle.\n   * @property {boolean} [multi=false] A boolean that determines if the default\n   * behaviour should select only single features or all (overlapping) features at\n   * the clicked map position. The default of `false` means single select.\n   * @property {import(\"../Collection.js\").default<import(\"../Feature.js\").default>} [features]\n   * Collection where the interaction will place selected features. Optional. If\n   * not set the interaction will create a collection. In any case the collection\n   * used by the interaction is returned by\n   * {@link module:ol/interaction/Select~Select#getFeatures}.\n   * @property {FilterFunction} [filter] A function\n   * that takes an {@link module:ol/Feature} and an\n   * {@link module:ol/layer/Layer} and returns `true` if the feature may be\n   * selected or `false` otherwise.\n   * @property {boolean} [wrapX=true] Wrap the world horizontally on the selection\n   * overlay.\n   * @property {number} [hitTolerance=0] Hit-detection tolerance. Pixels inside\n   * the radius around the given position will be checked for features. This only\n   * works for the canvas renderer and not for WebGL.\n   */\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/interaction/Select~Select} instances are instances of\n   * this type.\n   */\n  var SelectEvent = /*@__PURE__*/(function (Event$$1) {\n    function SelectEvent(type, selected, deselected, mapBrowserEvent) {\n      Event$$1.call(this, type);\n\n      /**\n       * Selected features array.\n       * @type {Array<import(\"../Feature.js\").default>}\n       * @api\n       */\n      this.selected = selected;\n\n      /**\n       * Deselected features array.\n       * @type {Array<import(\"../Feature.js\").default>}\n       * @api\n       */\n      this.deselected = deselected;\n\n      /**\n       * Associated {@link module:ol/MapBrowserEvent}.\n       * @type {import(\"../MapBrowserEvent.js\").default}\n       * @api\n       */\n      this.mapBrowserEvent = mapBrowserEvent;\n\n    }\n\n    if ( Event$$1 ) SelectEvent.__proto__ = Event$$1;\n    SelectEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    SelectEvent.prototype.constructor = SelectEvent;\n\n    return SelectEvent;\n  }(Event));\n\n\n  /**\n   * @classdesc\n   * Interaction for selecting vector features. By default, selected features are\n   * styled differently, so this interaction can be used for visual highlighting,\n   * as well as selecting features for other actions, such as modification or\n   * output. There are three ways of controlling which features are selected:\n   * using the browser event as defined by the `condition` and optionally the\n   * `toggle`, `add`/`remove`, and `multi` options; a `layers` filter; and a\n   * further feature filter using the `filter` option.\n   *\n   * Selected features are added to an internal unmanaged layer.\n   *\n   * @fires SelectEvent\n   * @api\n   */\n  var Select = /*@__PURE__*/(function (Interaction$$1) {\n    function Select(opt_options) {\n\n      Interaction$$1.call(this, {\n        handleEvent: handleEvent$3\n      });\n\n      var options = opt_options ? opt_options : {};\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.condition_ = options.condition ? options.condition : singleClick;\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.addCondition_ = options.addCondition ? options.addCondition : never;\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.removeCondition_ = options.removeCondition ? options.removeCondition : never;\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.toggleCondition_ = options.toggleCondition ? options.toggleCondition : shiftKeyOnly;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.multi_ = options.multi ? options.multi : false;\n\n      /**\n       * @private\n       * @type {FilterFunction}\n       */\n      this.filter_ = options.filter ? options.filter : TRUE;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.hitTolerance_ = options.hitTolerance ? options.hitTolerance : 0;\n\n      var featureOverlay = new VectorLayer({\n        source: new VectorSource({\n          useSpatialIndex: false,\n          features: options.features,\n          wrapX: options.wrapX\n        }),\n        style: options.style ? options.style :\n          getDefaultStyleFunction$2(),\n        updateWhileAnimating: true,\n        updateWhileInteracting: true\n      });\n\n      /**\n       * @private\n       * @type {VectorLayer}\n       */\n      this.featureOverlay_ = featureOverlay;\n\n      /** @type {function(import(\"../layer/Layer.js\").default): boolean} */\n      var layerFilter;\n      if (options.layers) {\n        if (typeof options.layers === 'function') {\n          layerFilter = options.layers;\n        } else {\n          var layers = options.layers;\n          layerFilter = function(layer) {\n            return includes(layers, layer);\n          };\n        }\n      } else {\n        layerFilter = TRUE;\n      }\n\n      /**\n       * @private\n       * @type {function(import(\"../layer/Layer.js\").default): boolean}\n       */\n      this.layerFilter_ = layerFilter;\n\n      /**\n       * An association between selected feature (key)\n       * and layer (value)\n       * @private\n       * @type {Object<string, import(\"../layer/Layer.js\").default>}\n       */\n      this.featureLayerAssociation_ = {};\n\n      var features = this.getFeatures();\n      listen(features, CollectionEventType.ADD,\n        this.addFeature_, this);\n      listen(features, CollectionEventType.REMOVE,\n        this.removeFeature_, this);\n    }\n\n    if ( Interaction$$1 ) Select.__proto__ = Interaction$$1;\n    Select.prototype = Object.create( Interaction$$1 && Interaction$$1.prototype );\n    Select.prototype.constructor = Select;\n\n    /**\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     * @param {import(\"../layer/Layer.js\").default} layer Layer.\n     * @private\n     */\n    Select.prototype.addFeatureLayerAssociation_ = function addFeatureLayerAssociation_ (feature, layer) {\n      this.featureLayerAssociation_[getUid(feature)] = layer;\n    };\n\n    /**\n     * Get the selected features.\n     * @return {import(\"../Collection.js\").default<import(\"../Feature.js\").default>} Features collection.\n     * @api\n     */\n    Select.prototype.getFeatures = function getFeatures () {\n      return /** @type {VectorSource} */ (this.featureOverlay_.getSource()).getFeaturesCollection();\n    };\n\n    /**\n     * Returns the Hit-detection tolerance.\n     * @returns {number} Hit tolerance in pixels.\n     * @api\n     */\n    Select.prototype.getHitTolerance = function getHitTolerance () {\n      return this.hitTolerance_;\n    };\n\n    /**\n     * Returns the associated {@link module:ol/layer/Vector~Vector vectorlayer} of\n     * the (last) selected feature. Note that this will not work with any\n     * programmatic method like pushing features to\n     * {@link module:ol/interaction/Select~Select#getFeatures collection}.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature\n     * @return {VectorLayer} Layer.\n     * @api\n     */\n    Select.prototype.getLayer = function getLayer (feature) {\n      return (\n        /** @type {VectorLayer} */ (this.featureLayerAssociation_[getUid(feature)])\n      );\n    };\n\n    /**\n     * Get the overlay layer that this interaction renders selected features to.\n     * @return {VectorLayer} Overlay layer.\n     * @api\n     */\n    Select.prototype.getOverlay = function getOverlay () {\n      return this.featureOverlay_;\n    };\n\n    /**\n     * Hit-detection tolerance. Pixels inside the radius around the given position\n     * will be checked for features. This only works for the canvas renderer and\n     * not for WebGL.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @api\n     */\n    Select.prototype.setHitTolerance = function setHitTolerance (hitTolerance) {\n      this.hitTolerance_ = hitTolerance;\n    };\n\n    /**\n     * Remove the interaction from its current map, if any,  and attach it to a new\n     * map, if any. Pass `null` to just remove the interaction from the current map.\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     * @override\n     * @api\n     */\n    Select.prototype.setMap = function setMap (map) {\n      var currentMap = this.getMap();\n      var selectedFeatures = this.getFeatures();\n      if (currentMap) {\n        selectedFeatures.forEach(currentMap.unskipFeature.bind(currentMap));\n      }\n      Interaction$$1.prototype.setMap.call(this, map);\n      this.featureOverlay_.setMap(map);\n      if (map) {\n        selectedFeatures.forEach(map.skipFeature.bind(map));\n      }\n    };\n\n    /**\n     * @param {import(\"../Collection.js\").CollectionEvent} evt Event.\n     * @private\n     */\n    Select.prototype.addFeature_ = function addFeature_ (evt) {\n      var map = this.getMap();\n      if (map) {\n        map.skipFeature(/** @type {import(\"../Feature.js\").default} */ (evt.element));\n      }\n    };\n\n    /**\n     * @param {import(\"../Collection.js\").CollectionEvent} evt Event.\n     * @private\n     */\n    Select.prototype.removeFeature_ = function removeFeature_ (evt) {\n      var map = this.getMap();\n      if (map) {\n        map.unskipFeature(/** @type {import(\"../Feature.js\").default} */ (evt.element));\n      }\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     * @private\n     */\n    Select.prototype.removeFeatureLayerAssociation_ = function removeFeatureLayerAssociation_ (feature) {\n      delete this.featureLayerAssociation_[getUid(feature)];\n    };\n\n    return Select;\n  }(Interaction));\n\n\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent map browser event} and may change the\n   * selected state of features.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   * @this {Select}\n   */\n  function handleEvent$3(mapBrowserEvent) {\n    if (!this.condition_(mapBrowserEvent)) {\n      return true;\n    }\n    var add = this.addCondition_(mapBrowserEvent);\n    var remove$$1 = this.removeCondition_(mapBrowserEvent);\n    var toggle = this.toggleCondition_(mapBrowserEvent);\n    var set = !add && !remove$$1 && !toggle;\n    var map = mapBrowserEvent.map;\n    var features = this.getFeatures();\n    var deselected = [];\n    var selected = [];\n    if (set) {\n      // Replace the currently selected feature(s) with the feature(s) at the\n      // pixel, or clear the selected feature(s) if there is no feature at\n      // the pixel.\n      clear(this.featureLayerAssociation_);\n      map.forEachFeatureAtPixel(mapBrowserEvent.pixel,\n        (\n          /**\n           * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n           * @param {import(\"../layer/Layer.js\").default} layer Layer.\n           * @return {boolean|undefined} Continue to iterate over the features.\n           */\n          function(feature, layer) {\n            if (this.filter_(feature, layer)) {\n              selected.push(feature);\n              this.addFeatureLayerAssociation_(feature, layer);\n              return !this.multi_;\n            }\n          }).bind(this), {\n          layerFilter: this.layerFilter_,\n          hitTolerance: this.hitTolerance_\n        });\n      for (var i = features.getLength() - 1; i >= 0; --i) {\n        var feature = features.item(i);\n        var index = selected.indexOf(feature);\n        if (index > -1) {\n          // feature is already selected\n          selected.splice(index, 1);\n        } else {\n          features.remove(feature);\n          deselected.push(feature);\n        }\n      }\n      if (selected.length !== 0) {\n        features.extend(selected);\n      }\n    } else {\n      // Modify the currently selected feature(s).\n      map.forEachFeatureAtPixel(mapBrowserEvent.pixel,\n        (\n          /**\n           * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n           * @param {import(\"../layer/Layer.js\").default} layer Layer.\n           * @return {boolean|undefined} Continue to iterate over the features.\n           */\n          function(feature, layer) {\n            if (this.filter_(feature, layer)) {\n              if ((add || toggle) && !includes(features.getArray(), feature)) {\n                selected.push(feature);\n                this.addFeatureLayerAssociation_(feature, layer);\n              } else if ((remove$$1 || toggle) && includes(features.getArray(), feature)) {\n                deselected.push(feature);\n                this.removeFeatureLayerAssociation_(feature);\n              }\n              return !this.multi_;\n            }\n          }).bind(this), {\n          layerFilter: this.layerFilter_,\n          hitTolerance: this.hitTolerance_\n        });\n      for (var j = deselected.length - 1; j >= 0; --j) {\n        features.remove(deselected[j]);\n      }\n      features.extend(selected);\n    }\n    if (selected.length > 0 || deselected.length > 0) {\n      this.dispatchEvent(\n        new SelectEvent(SelectEventType.SELECT,\n          selected, deselected, mapBrowserEvent));\n    }\n    return pointerMove$1(mapBrowserEvent);\n  }\n\n\n  /**\n   * @return {import(\"../style/Style.js\").StyleFunction} Styles.\n   */\n  function getDefaultStyleFunction$2() {\n    var styles = createEditingStyle();\n    extend(styles[GeometryType.POLYGON], styles[GeometryType.LINE_STRING]);\n    extend(styles[GeometryType.GEOMETRY_COLLECTION], styles[GeometryType.LINE_STRING]);\n\n    return function(feature, resolution) {\n      if (!feature.getGeometry()) {\n        return null;\n      }\n      return styles[feature.getGeometry().getType()];\n    };\n  }\n\n  /**\n   * @module ol/interaction/Snap\n   */\n\n\n  /**\n   * @typedef {Object} Result\n   * @property {boolean} snapped\n   * @property {import(\"../coordinate.js\").Coordinate|null} vertex\n   * @property {import(\"../pixel.js\").Pixel|null} vertexPixel\n   */\n\n\n  /**\n   * @typedef {Object} SegmentData\n   * @property {import(\"../Feature.js\").default} feature\n   * @property {Array<import(\"../coordinate.js\").Coordinate>} segment\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../Collection.js\").default<import(\"../Feature.js\").default>} [features] Snap to these features. Either this option or source should be provided.\n   * @property {boolean} [edge=true] Snap to edges.\n   * @property {boolean} [vertex=true] Snap to vertices.\n   * @property {number} [pixelTolerance=10] Pixel tolerance for considering the pointer close enough to a segment or\n   * vertex for snapping.\n   * @property {import(\"../source/Vector.js\").default} [source] Snap to features from this source. Either this option or features should be provided\n   */\n\n\n  /**\n   * @param  {import(\"../source/Vector.js\").VectorSourceEvent|import(\"../Collection.js\").CollectionEvent} evt Event.\n   * @return {import(\"../Feature.js\").default} Feature.\n   */\n  function getFeatureFromEvent(evt) {\n    if (/** @type {import(\"../source/Vector.js\").VectorSourceEvent} */ (evt).feature) {\n      return /** @type {import(\"../source/Vector.js\").VectorSourceEvent} */ (evt).feature;\n    } else if (/** @type {import(\"../Collection.js\").CollectionEvent} */ (evt).element) {\n      return /** @type {import(\"../Feature.js\").default} */ (/** @type {import(\"../Collection.js\").CollectionEvent} */ (evt).element);\n    }\n\n  }\n\n  /**\n   * @classdesc\n   * Handles snapping of vector features while modifying or drawing them.  The\n   * features can come from a {@link module:ol/source/Vector} or {@link module:ol/Collection~Collection}\n   * Any interaction object that allows the user to interact\n   * with the features using the mouse can benefit from the snapping, as long\n   * as it is added before.\n   *\n   * The snap interaction modifies map browser event `coordinate` and `pixel`\n   * properties to force the snap to occur to any interaction that them.\n   *\n   * Example:\n   *\n   *     import Snap from 'ol/interaction/Snap';\n   *\n   *     var snap = new Snap({\n   *       source: source\n   *     });\n   *\n   * @api\n   */\n  var Snap = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function Snap(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      var pointerOptions = /** @type {import(\"./Pointer.js\").Options} */ (options);\n\n      if (!pointerOptions.handleDownEvent) {\n        pointerOptions.handleDownEvent = TRUE;\n      }\n\n      if (!pointerOptions.stopDown) {\n        pointerOptions.stopDown = FALSE;\n      }\n\n      PointerInteraction$$1.call(this, pointerOptions);\n\n      /**\n       * @type {import(\"../source/Vector.js\").default}\n       * @private\n       */\n      this.source_ = options.source ? options.source : null;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.vertex_ = options.vertex !== undefined ? options.vertex : true;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.edge_ = options.edge !== undefined ? options.edge : true;\n\n      /**\n       * @type {import(\"../Collection.js\").default<import(\"../Feature.js\").default>}\n       * @private\n       */\n      this.features_ = options.features ? options.features : null;\n\n      /**\n       * @type {Array<import(\"../events.js\").EventsKey>}\n       * @private\n       */\n      this.featuresListenerKeys_ = [];\n\n      /**\n       * @type {Object<string, import(\"../events.js\").EventsKey>}\n       * @private\n       */\n      this.featureChangeListenerKeys_ = {};\n\n      /**\n       * Extents are preserved so indexed segment can be quickly removed\n       * when its feature geometry changes\n       * @type {Object<string, import(\"../extent.js\").Extent>}\n       * @private\n       */\n      this.indexedFeaturesExtents_ = {};\n\n      /**\n       * If a feature geometry changes while a pointer drag|move event occurs, the\n       * feature doesn't get updated right away.  It will be at the next 'pointerup'\n       * event fired.\n       * @type {!Object<string, import(\"../Feature.js\").default>}\n       * @private\n       */\n      this.pendingFeatures_ = {};\n\n      /**\n       * Used for distance sorting in sortByDistance_\n       * @type {import(\"../coordinate.js\").Coordinate}\n       * @private\n       */\n      this.pixelCoordinate_ = null;\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.pixelTolerance_ = options.pixelTolerance !== undefined ?\n        options.pixelTolerance : 10;\n\n      /**\n       * @type {function(SegmentData, SegmentData): number}\n       * @private\n       */\n      this.sortByDistance_ = sortByDistance.bind(this);\n\n\n      /**\n      * Segment RTree for each layer\n      * @type {import(\"../structs/RBush.js\").default<SegmentData>}\n      * @private\n      */\n      this.rBush_ = new RBush();\n\n\n      /**\n      * @const\n      * @private\n      * @type {Object<string, function(import(\"../Feature.js\").default, import(\"../geom/Geometry.js\").default)>}\n      */\n      this.SEGMENT_WRITERS_ = {\n        'Point': this.writePointGeometry_,\n        'LineString': this.writeLineStringGeometry_,\n        'LinearRing': this.writeLineStringGeometry_,\n        'Polygon': this.writePolygonGeometry_,\n        'MultiPoint': this.writeMultiPointGeometry_,\n        'MultiLineString': this.writeMultiLineStringGeometry_,\n        'MultiPolygon': this.writeMultiPolygonGeometry_,\n        'GeometryCollection': this.writeGeometryCollectionGeometry_,\n        'Circle': this.writeCircleGeometry_\n      };\n    }\n\n    if ( PointerInteraction$$1 ) Snap.__proto__ = PointerInteraction$$1;\n    Snap.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    Snap.prototype.constructor = Snap;\n\n    /**\n     * Add a feature to the collection of features that we may snap to.\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @param {boolean=} opt_listen Whether to listen to the feature change or not\n     *     Defaults to `true`.\n     * @api\n     */\n    Snap.prototype.addFeature = function addFeature (feature, opt_listen) {\n      var register = opt_listen !== undefined ? opt_listen : true;\n      var feature_uid = getUid(feature);\n      var geometry = feature.getGeometry();\n      if (geometry) {\n        var segmentWriter = this.SEGMENT_WRITERS_[geometry.getType()];\n        if (segmentWriter) {\n          this.indexedFeaturesExtents_[feature_uid] = geometry.getExtent(createEmpty());\n          segmentWriter.call(this, feature, geometry);\n        }\n      }\n\n      if (register) {\n        this.featureChangeListenerKeys_[feature_uid] = listen(\n          feature,\n          EventType.CHANGE,\n          this.handleFeatureChange_, this);\n      }\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @private\n     */\n    Snap.prototype.forEachFeatureAdd_ = function forEachFeatureAdd_ (feature) {\n      this.addFeature(feature);\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @private\n     */\n    Snap.prototype.forEachFeatureRemove_ = function forEachFeatureRemove_ (feature) {\n      this.removeFeature(feature);\n    };\n\n    /**\n     * @return {import(\"../Collection.js\").default<import(\"../Feature.js\").default>|Array<import(\"../Feature.js\").default>} Features.\n     * @private\n     */\n    Snap.prototype.getFeatures_ = function getFeatures_ () {\n      var features;\n      if (this.features_) {\n        features = this.features_;\n      } else if (this.source_) {\n        features = this.source_.getFeatures();\n      }\n      return features;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Snap.prototype.handleEvent = function handleEvent (evt) {\n      var result = this.snapTo(evt.pixel, evt.coordinate, evt.map);\n      if (result.snapped) {\n        evt.coordinate = result.vertex.slice(0, 2);\n        evt.pixel = result.vertexPixel;\n      }\n      return PointerInteraction$$1.prototype.handleEvent.call(this, evt);\n    };\n\n    /**\n     * @param {import(\"../source/Vector.js\").VectorSourceEvent|import(\"../Collection.js\").CollectionEvent} evt Event.\n     * @private\n     */\n    Snap.prototype.handleFeatureAdd_ = function handleFeatureAdd_ (evt) {\n      var feature = getFeatureFromEvent(evt);\n      this.addFeature(feature);\n    };\n\n    /**\n     * @param {import(\"../source/Vector.js\").VectorSourceEvent|import(\"../Collection.js\").CollectionEvent} evt Event.\n     * @private\n     */\n    Snap.prototype.handleFeatureRemove_ = function handleFeatureRemove_ (evt) {\n      var feature = getFeatureFromEvent(evt);\n      this.removeFeature(feature);\n    };\n\n    /**\n     * @param {import(\"../events/Event.js\").default} evt Event.\n     * @private\n     */\n    Snap.prototype.handleFeatureChange_ = function handleFeatureChange_ (evt) {\n      var feature = /** @type {import(\"../Feature.js\").default} */ (evt.target);\n      if (this.handlingDownUpSequence) {\n        var uid = getUid(feature);\n        if (!(uid in this.pendingFeatures_)) {\n          this.pendingFeatures_[uid] = feature;\n        }\n      } else {\n        this.updateFeature_(feature);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Snap.prototype.handleUpEvent = function handleUpEvent (evt) {\n      var featuresToUpdate = getValues(this.pendingFeatures_);\n      if (featuresToUpdate.length) {\n        featuresToUpdate.forEach(this.updateFeature_.bind(this));\n        this.pendingFeatures_ = {};\n      }\n      return false;\n    };\n\n    /**\n     * Remove a feature from the collection of features that we may snap to.\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @param {boolean=} opt_unlisten Whether to unlisten to the feature change\n     *     or not. Defaults to `true`.\n     * @api\n     */\n    Snap.prototype.removeFeature = function removeFeature (feature, opt_unlisten) {\n      var unregister = opt_unlisten !== undefined ? opt_unlisten : true;\n      var feature_uid = getUid(feature);\n      var extent = this.indexedFeaturesExtents_[feature_uid];\n      if (extent) {\n        var rBush = this.rBush_;\n        var nodesToRemove = [];\n        rBush.forEachInExtent(extent, function(node) {\n          if (feature === node.feature) {\n            nodesToRemove.push(node);\n          }\n        });\n        for (var i = nodesToRemove.length - 1; i >= 0; --i) {\n          rBush.remove(nodesToRemove[i]);\n        }\n      }\n\n      if (unregister) {\n        unlistenByKey(this.featureChangeListenerKeys_[feature_uid]);\n        delete this.featureChangeListenerKeys_[feature_uid];\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Snap.prototype.setMap = function setMap (map) {\n      var currentMap = this.getMap();\n      var keys = this.featuresListenerKeys_;\n      var features = /** @type {Array<import(\"../Feature.js\").default>} */ (this.getFeatures_());\n\n      if (currentMap) {\n        keys.forEach(unlistenByKey);\n        keys.length = 0;\n        features.forEach(this.forEachFeatureRemove_.bind(this));\n      }\n      PointerInteraction$$1.prototype.setMap.call(this, map);\n\n      if (map) {\n        if (this.features_) {\n          keys.push(\n            listen(this.features_, CollectionEventType.ADD,\n              this.handleFeatureAdd_, this),\n            listen(this.features_, CollectionEventType.REMOVE,\n              this.handleFeatureRemove_, this)\n          );\n        } else if (this.source_) {\n          keys.push(\n            listen(this.source_, VectorEventType.ADDFEATURE,\n              this.handleFeatureAdd_, this),\n            listen(this.source_, VectorEventType.REMOVEFEATURE,\n              this.handleFeatureRemove_, this)\n          );\n        }\n        features.forEach(this.forEachFeatureAdd_.bind(this));\n      }\n    };\n\n    /**\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel\n     * @param {import(\"../coordinate.js\").Coordinate} pixelCoordinate Coordinate\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     * @return {Result} Snap result\n     */\n    Snap.prototype.snapTo = function snapTo (pixel, pixelCoordinate, map) {\n\n      var lowerLeft = map.getCoordinateFromPixel(\n        [pixel[0] - this.pixelTolerance_, pixel[1] + this.pixelTolerance_]);\n      var upperRight = map.getCoordinateFromPixel(\n        [pixel[0] + this.pixelTolerance_, pixel[1] - this.pixelTolerance_]);\n      var box = boundingExtent([lowerLeft, upperRight]);\n\n      var segments = this.rBush_.getInExtent(box);\n\n      // If snapping on vertices only, don't consider circles\n      if (this.vertex_ && !this.edge_) {\n        segments = segments.filter(function(segment) {\n          return segment.feature.getGeometry().getType() !==\n              GeometryType.CIRCLE;\n        });\n      }\n\n      var snappedToVertex = false;\n      var snapped = false;\n      var vertex = null;\n      var vertexPixel = null;\n      var dist, pixel1, pixel2, squaredDist1, squaredDist2;\n      if (segments.length > 0) {\n        this.pixelCoordinate_ = pixelCoordinate;\n        segments.sort(this.sortByDistance_);\n        var closestSegment = segments[0].segment;\n        var isCircle = segments[0].feature.getGeometry().getType() ===\n            GeometryType.CIRCLE;\n        if (this.vertex_ && !this.edge_) {\n          pixel1 = map.getPixelFromCoordinate(closestSegment[0]);\n          pixel2 = map.getPixelFromCoordinate(closestSegment[1]);\n          squaredDist1 = squaredDistance$1(pixel, pixel1);\n          squaredDist2 = squaredDistance$1(pixel, pixel2);\n          dist = Math.sqrt(Math.min(squaredDist1, squaredDist2));\n          snappedToVertex = dist <= this.pixelTolerance_;\n          if (snappedToVertex) {\n            snapped = true;\n            vertex = squaredDist1 > squaredDist2 ? closestSegment[1] : closestSegment[0];\n            vertexPixel = map.getPixelFromCoordinate(vertex);\n          }\n        } else if (this.edge_) {\n          if (isCircle) {\n            vertex = closestOnCircle(pixelCoordinate,\n              /** @type {import(\"../geom/Circle.js\").default} */ (segments[0].feature.getGeometry()));\n          } else {\n            vertex = closestOnSegment(pixelCoordinate, closestSegment);\n          }\n          vertexPixel = map.getPixelFromCoordinate(vertex);\n          if (distance(pixel, vertexPixel) <= this.pixelTolerance_) {\n            snapped = true;\n            if (this.vertex_ && !isCircle) {\n              pixel1 = map.getPixelFromCoordinate(closestSegment[0]);\n              pixel2 = map.getPixelFromCoordinate(closestSegment[1]);\n              squaredDist1 = squaredDistance$1(vertexPixel, pixel1);\n              squaredDist2 = squaredDistance$1(vertexPixel, pixel2);\n              dist = Math.sqrt(Math.min(squaredDist1, squaredDist2));\n              snappedToVertex = dist <= this.pixelTolerance_;\n              if (snappedToVertex) {\n                vertex = squaredDist1 > squaredDist2 ? closestSegment[1] : closestSegment[0];\n                vertexPixel = map.getPixelFromCoordinate(vertex);\n              }\n            }\n          }\n        }\n        if (snapped) {\n          vertexPixel = [Math.round(vertexPixel[0]), Math.round(vertexPixel[1])];\n        }\n      }\n      return (\n        /** @type {Result} */ ({\n          snapped: snapped,\n          vertex: vertex,\n          vertexPixel: vertexPixel\n        })\n      );\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @private\n     */\n    Snap.prototype.updateFeature_ = function updateFeature_ (feature) {\n      this.removeFeature(feature, false);\n      this.addFeature(feature, false);\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @param {import(\"../geom/Circle.js\").default} geometry Geometry.\n     * @private\n     */\n    Snap.prototype.writeCircleGeometry_ = function writeCircleGeometry_ (feature, geometry) {\n      var polygon = fromCircle(geometry);\n      var coordinates = polygon.getCoordinates()[0];\n      for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n        var segment = coordinates.slice(i, i + 2);\n        var segmentData = /** @type {SegmentData} */ ({\n          feature: feature,\n          segment: segment\n        });\n        this.rBush_.insert(boundingExtent(segment), segmentData);\n      }\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @param {import(\"../geom/GeometryCollection.js\").default} geometry Geometry.\n     * @private\n     */\n    Snap.prototype.writeGeometryCollectionGeometry_ = function writeGeometryCollectionGeometry_ (feature, geometry) {\n      var geometries = geometry.getGeometriesArray();\n      for (var i = 0; i < geometries.length; ++i) {\n        var segmentWriter = this.SEGMENT_WRITERS_[geometries[i].getType()];\n        if (segmentWriter) {\n          segmentWriter.call(this, feature, geometries[i]);\n        }\n      }\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @param {import(\"../geom/LineString.js\").default} geometry Geometry.\n     * @private\n     */\n    Snap.prototype.writeLineStringGeometry_ = function writeLineStringGeometry_ (feature, geometry) {\n      var coordinates = geometry.getCoordinates();\n      for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n        var segment = coordinates.slice(i, i + 2);\n        var segmentData = /** @type {SegmentData} */ ({\n          feature: feature,\n          segment: segment\n        });\n        this.rBush_.insert(boundingExtent(segment), segmentData);\n      }\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @param {import(\"../geom/MultiLineString.js\").default} geometry Geometry.\n     * @private\n     */\n    Snap.prototype.writeMultiLineStringGeometry_ = function writeMultiLineStringGeometry_ (feature, geometry) {\n      var lines = geometry.getCoordinates();\n      for (var j = 0, jj = lines.length; j < jj; ++j) {\n        var coordinates = lines[j];\n        for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n          var segment = coordinates.slice(i, i + 2);\n          var segmentData = /** @type {SegmentData} */ ({\n            feature: feature,\n            segment: segment\n          });\n          this.rBush_.insert(boundingExtent(segment), segmentData);\n        }\n      }\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @param {import(\"../geom/MultiPoint.js\").default} geometry Geometry.\n     * @private\n     */\n    Snap.prototype.writeMultiPointGeometry_ = function writeMultiPointGeometry_ (feature, geometry) {\n      var points = geometry.getCoordinates();\n      for (var i = 0, ii = points.length; i < ii; ++i) {\n        var coordinates = points[i];\n        var segmentData = /** @type {SegmentData} */ ({\n          feature: feature,\n          segment: [coordinates, coordinates]\n        });\n        this.rBush_.insert(geometry.getExtent(), segmentData);\n      }\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @param {import(\"../geom/MultiPolygon.js\").default} geometry Geometry.\n     * @private\n     */\n    Snap.prototype.writeMultiPolygonGeometry_ = function writeMultiPolygonGeometry_ (feature, geometry) {\n      var polygons = geometry.getCoordinates();\n      for (var k = 0, kk = polygons.length; k < kk; ++k) {\n        var rings = polygons[k];\n        for (var j = 0, jj = rings.length; j < jj; ++j) {\n          var coordinates = rings[j];\n          for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n            var segment = coordinates.slice(i, i + 2);\n            var segmentData = /** @type {SegmentData} */ ({\n              feature: feature,\n              segment: segment\n            });\n            this.rBush_.insert(boundingExtent(segment), segmentData);\n          }\n        }\n      }\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @param {import(\"../geom/Point.js\").default} geometry Geometry.\n     * @private\n     */\n    Snap.prototype.writePointGeometry_ = function writePointGeometry_ (feature, geometry) {\n      var coordinates = geometry.getCoordinates();\n      var segmentData = /** @type {SegmentData} */ ({\n        feature: feature,\n        segment: [coordinates, coordinates]\n      });\n      this.rBush_.insert(geometry.getExtent(), segmentData);\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @param {import(\"../geom/Polygon.js\").default} geometry Geometry.\n     * @private\n     */\n    Snap.prototype.writePolygonGeometry_ = function writePolygonGeometry_ (feature, geometry) {\n      var rings = geometry.getCoordinates();\n      for (var j = 0, jj = rings.length; j < jj; ++j) {\n        var coordinates = rings[j];\n        for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n          var segment = coordinates.slice(i, i + 2);\n          var segmentData = /** @type {SegmentData} */ ({\n            feature: feature,\n            segment: segment\n          });\n          this.rBush_.insert(boundingExtent(segment), segmentData);\n        }\n      }\n    };\n\n    return Snap;\n  }(PointerInteraction));\n\n\n  /**\n   * Sort segments by distance, helper function\n   * @param {SegmentData} a The first segment data.\n   * @param {SegmentData} b The second segment data.\n   * @return {number} The difference in distance.\n   * @this {Snap}\n   */\n  function sortByDistance(a, b) {\n    var deltaA = squaredDistanceToSegment(this.pixelCoordinate_, a.segment);\n    var deltaB = squaredDistanceToSegment(this.pixelCoordinate_, b.segment);\n    return deltaA - deltaB;\n  }\n\n  /**\n   * @module ol/interaction/Translate\n   */\n\n\n  /**\n   * @enum {string}\n   */\n  var TranslateEventType = {\n    /**\n     * Triggered upon feature translation start.\n     * @event TranslateEvent#translatestart\n     * @api\n     */\n    TRANSLATESTART: 'translatestart',\n    /**\n     * Triggered upon feature translation.\n     * @event TranslateEvent#translating\n     * @api\n     */\n    TRANSLATING: 'translating',\n    /**\n     * Triggered upon feature translation end.\n     * @event TranslateEvent#translateend\n     * @api\n     */\n    TRANSLATEEND: 'translateend'\n  };\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {Collection<import(\"../Feature.js\").default>} [features] Only features contained in this collection will be able to be translated. If\n   * not specified, all features on the map will be able to be translated.\n   * @property {Array<import(\"../layer/Layer.js\").default>|function(import(\"../layer/Layer.js\").default): boolean} [layers] A list of layers from which features should be\n   * translated. Alternatively, a filter function can be provided. The\n   * function will be called for each layer in the map and should return\n   * `true` for layers that you want to be translatable. If the option is\n   * absent, all visible layers will be considered translatable.\n   * @property {number} [hitTolerance=0] Hit-detection tolerance. Pixels inside the radius around the given position\n   * will be checked for features. This only works for the canvas renderer and\n   * not for WebGL.\n   */\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/interaction/Translate~Translate} instances\n   * are instances of this type.\n   */\n  var TranslateEvent = /*@__PURE__*/(function (Event$$1) {\n    function TranslateEvent(type, features, coordinate) {\n\n      Event$$1.call(this, type);\n\n      /**\n       * The features being translated.\n       * @type {Collection<import(\"../Feature.js\").default>}\n       * @api\n       */\n      this.features = features;\n\n      /**\n       * The coordinate of the drag event.\n       * @const\n       * @type {import(\"../coordinate.js\").Coordinate}\n       * @api\n       */\n      this.coordinate = coordinate;\n\n    }\n\n    if ( Event$$1 ) TranslateEvent.__proto__ = Event$$1;\n    TranslateEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    TranslateEvent.prototype.constructor = TranslateEvent;\n\n    return TranslateEvent;\n  }(Event));\n\n\n  /**\n   * @classdesc\n   * Interaction for translating (moving) features.\n   *\n   * @fires TranslateEvent\n   * @api\n   */\n  var Translate = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function Translate(opt_options) {\n      var options = opt_options ? opt_options : {};\n\n      PointerInteraction$$1.call(/** @type {import(\"./Pointer.js\").Options} */ this, (options));\n\n      /**\n       * The last position we translated to.\n       * @type {import(\"../coordinate.js\").Coordinate}\n       * @private\n       */\n      this.lastCoordinate_ = null;\n\n\n      /**\n       * @type {Collection<import(\"../Feature.js\").default>}\n       * @private\n       */\n      this.features_ = options.features !== undefined ? options.features : null;\n\n      /** @type {function(import(\"../layer/Layer.js\").default): boolean} */\n      var layerFilter;\n      if (options.layers) {\n        if (typeof options.layers === 'function') {\n          layerFilter = options.layers;\n        } else {\n          var layers = options.layers;\n          layerFilter = function(layer) {\n            return includes(layers, layer);\n          };\n        }\n      } else {\n        layerFilter = TRUE;\n      }\n\n      /**\n       * @private\n       * @type {function(import(\"../layer/Layer.js\").default): boolean}\n       */\n      this.layerFilter_ = layerFilter;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.hitTolerance_ = options.hitTolerance ? options.hitTolerance : 0;\n\n      /**\n       * @type {import(\"../Feature.js\").default}\n       * @private\n       */\n      this.lastFeature_ = null;\n\n      listen(this,\n        getChangeEventType(InteractionProperty.ACTIVE),\n        this.handleActiveChanged_, this);\n\n    }\n\n    if ( PointerInteraction$$1 ) Translate.__proto__ = PointerInteraction$$1;\n    Translate.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    Translate.prototype.constructor = Translate;\n\n    /**\n     * @inheritDoc\n     */\n    Translate.prototype.handleDownEvent = function handleDownEvent (event) {\n      this.lastFeature_ = this.featuresAtPixel_(event.pixel, event.map);\n      if (!this.lastCoordinate_ && this.lastFeature_) {\n        this.lastCoordinate_ = event.coordinate;\n        this.handleMoveEvent(event);\n\n        var features = this.features_ || new Collection([this.lastFeature_]);\n\n        this.dispatchEvent(\n          new TranslateEvent(\n            TranslateEventType.TRANSLATESTART, features,\n            event.coordinate));\n        return true;\n      }\n      return false;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Translate.prototype.handleUpEvent = function handleUpEvent (event) {\n      if (this.lastCoordinate_) {\n        this.lastCoordinate_ = null;\n        this.handleMoveEvent(event);\n\n        var features = this.features_ || new Collection([this.lastFeature_]);\n\n        this.dispatchEvent(\n          new TranslateEvent(\n            TranslateEventType.TRANSLATEEND, features,\n            event.coordinate));\n        return true;\n      }\n      return false;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Translate.prototype.handleDragEvent = function handleDragEvent (event) {\n      if (this.lastCoordinate_) {\n        var newCoordinate = event.coordinate;\n        var deltaX = newCoordinate[0] - this.lastCoordinate_[0];\n        var deltaY = newCoordinate[1] - this.lastCoordinate_[1];\n\n        var features = this.features_ || new Collection([this.lastFeature_]);\n\n        features.forEach(function(feature) {\n          var geom = feature.getGeometry();\n          geom.translate(deltaX, deltaY);\n          feature.setGeometry(geom);\n        });\n\n        this.lastCoordinate_ = newCoordinate;\n        this.dispatchEvent(\n          new TranslateEvent(\n            TranslateEventType.TRANSLATING, features,\n            newCoordinate));\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Translate.prototype.handleMoveEvent = function handleMoveEvent (event) {\n      var elem = event.map.getViewport();\n\n      // Change the cursor to grab/grabbing if hovering any of the features managed\n      // by the interaction\n      if (this.featuresAtPixel_(event.pixel, event.map)) {\n        elem.classList.remove(this.lastCoordinate_ ? 'ol-grab' : 'ol-grabbing');\n        elem.classList.add(this.lastCoordinate_ ? 'ol-grabbing' : 'ol-grab');\n      } else {\n        elem.classList.remove('ol-grab', 'ol-grabbing');\n      }\n    };\n\n    /**\n     * Tests to see if the given coordinates intersects any of our selected\n     * features.\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel coordinate to test for intersection.\n     * @param {import(\"../PluggableMap.js\").default} map Map to test the intersection on.\n     * @return {import(\"../Feature.js\").default} Returns the feature found at the specified pixel\n     * coordinates.\n     * @private\n     */\n    Translate.prototype.featuresAtPixel_ = function featuresAtPixel_ (pixel, map) {\n      return map.forEachFeatureAtPixel(pixel,\n        function(feature) {\n          if (!this.features_ || includes(this.features_.getArray(), feature)) {\n            return feature;\n          }\n        }.bind(this), {\n          layerFilter: this.layerFilter_,\n          hitTolerance: this.hitTolerance_\n        });\n    };\n\n    /**\n     * Returns the Hit-detection tolerance.\n     * @returns {number} Hit tolerance in pixels.\n     * @api\n     */\n    Translate.prototype.getHitTolerance = function getHitTolerance () {\n      return this.hitTolerance_;\n    };\n\n    /**\n     * Hit-detection tolerance. Pixels inside the radius around the given position\n     * will be checked for features. This only works for the canvas renderer and\n     * not for WebGL.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @api\n     */\n    Translate.prototype.setHitTolerance = function setHitTolerance (hitTolerance) {\n      this.hitTolerance_ = hitTolerance;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Translate.prototype.setMap = function setMap (map) {\n      var oldMap = this.getMap();\n      PointerInteraction$$1.prototype.setMap.call(this, map);\n      this.updateState_(oldMap);\n    };\n\n    /**\n     * @private\n     */\n    Translate.prototype.handleActiveChanged_ = function handleActiveChanged_ () {\n      this.updateState_(null);\n    };\n\n    /**\n     * @param {import(\"../PluggableMap.js\").default} oldMap Old map.\n     * @private\n     */\n    Translate.prototype.updateState_ = function updateState_ (oldMap) {\n      var map = this.getMap();\n      var active = this.getActive();\n      if (!map || !active) {\n        map = map || oldMap;\n        if (map) {\n          var elem = map.getViewport();\n          elem.classList.remove('ol-grab', 'ol-grabbing');\n        }\n      }\n    };\n\n    return Translate;\n  }(PointerInteraction));\n\n  /**\n   * @module ol/interaction\n   */\n\n\n  /**\n   * @typedef {Object} DefaultsOptions\n   * @property {boolean} [altShiftDragRotate=true] Whether Alt-Shift-drag rotate is\n   * desired.\n   * @property {boolean} [onFocusOnly=false] Interact only when the map has the\n   * focus. This affects the `MouseWheelZoom` and `DragPan` interactions and is\n   * useful when page scroll is desired for maps that do not have the browser's\n   * focus.\n   * @property {boolean} [constrainResolution=false] Zoom to the closest integer\n   * zoom level after the wheel/trackpad or pinch gesture ends.\n   * @property {boolean} [doubleClickZoom=true] Whether double click zoom is\n   * desired.\n   * @property {boolean} [keyboard=true] Whether keyboard interaction is desired.\n   * @property {boolean} [mouseWheelZoom=true] Whether mousewheel zoom is desired.\n   * @property {boolean} [shiftDragZoom=true] Whether Shift-drag zoom is desired.\n   * @property {boolean} [dragPan=true] Whether drag pan is desired.\n   * @property {boolean} [pinchRotate=true] Whether pinch rotate is desired.\n   * @property {boolean} [pinchZoom=true] Whether pinch zoom is desired.\n   * @property {number} [zoomDelta] Zoom level delta when using keyboard or\n   * mousewheel zoom.\n   * @property {number} [zoomDuration] Duration of the zoom animation in\n   * milliseconds.\n   */\n\n\n  /**\n   * Set of interactions included in maps by default. Specific interactions can be\n   * excluded by setting the appropriate option to false in the constructor\n   * options, but the order of the interactions is fixed.  If you want to specify\n   * a different order for interactions, you will need to create your own\n   * {@link module:ol/interaction/Interaction} instances and insert\n   * them into a {@link module:ol/Collection} in the order you want\n   * before creating your {@link module:ol/Map~Map} instance. The default set of\n   * interactions, in sequence, is:\n   * * {@link module:ol/interaction/DragRotate~DragRotate}\n   * * {@link module:ol/interaction/DoubleClickZoom~DoubleClickZoom}\n   * * {@link module:ol/interaction/DragPan~DragPan}\n   * * {@link module:ol/interaction/PinchRotate~PinchRotate}\n   * * {@link module:ol/interaction/PinchZoom~PinchZoom}\n   * * {@link module:ol/interaction/KeyboardPan~KeyboardPan}\n   * * {@link module:ol/interaction/KeyboardZoom~KeyboardZoom}\n   * * {@link module:ol/interaction/MouseWheelZoom~MouseWheelZoom}\n   * * {@link module:ol/interaction/DragZoom~DragZoom}\n   *\n   * @param {DefaultsOptions=} opt_options Defaults options.\n   * @return {import(\"./Collection.js\").default<import(\"./interaction/Interaction.js\").default>}\n   * A collection of interactions to be used with the {@link module:ol/Map~Map}\n   * constructor's `interactions` option.\n   * @api\n   */\n  function defaults$1(opt_options) {\n\n    var options = opt_options ? opt_options : {};\n\n    var interactions = new Collection();\n\n    var kinetic = new Kinetic(-0.005, 0.05, 100);\n\n    var altShiftDragRotate = options.altShiftDragRotate !== undefined ?\n      options.altShiftDragRotate : true;\n    if (altShiftDragRotate) {\n      interactions.push(new DragRotate());\n    }\n\n    var doubleClickZoom = options.doubleClickZoom !== undefined ?\n      options.doubleClickZoom : true;\n    if (doubleClickZoom) {\n      interactions.push(new DoubleClickZoom({\n        delta: options.zoomDelta,\n        duration: options.zoomDuration\n      }));\n    }\n\n    var dragPan = options.dragPan !== undefined ? options.dragPan : true;\n    if (dragPan) {\n      interactions.push(new DragPan({\n        condition: options.onFocusOnly ? focus : undefined,\n        kinetic: kinetic\n      }));\n    }\n\n    var pinchRotate = options.pinchRotate !== undefined ? options.pinchRotate :\n      true;\n    if (pinchRotate) {\n      interactions.push(new PinchRotate());\n    }\n\n    var pinchZoom = options.pinchZoom !== undefined ? options.pinchZoom : true;\n    if (pinchZoom) {\n      interactions.push(new PinchZoom({\n        constrainResolution: options.constrainResolution,\n        duration: options.zoomDuration\n      }));\n    }\n\n    var keyboard = options.keyboard !== undefined ? options.keyboard : true;\n    if (keyboard) {\n      interactions.push(new KeyboardPan());\n      interactions.push(new KeyboardZoom({\n        delta: options.zoomDelta,\n        duration: options.zoomDuration\n      }));\n    }\n\n    var mouseWheelZoom = options.mouseWheelZoom !== undefined ?\n      options.mouseWheelZoom : true;\n    if (mouseWheelZoom) {\n      interactions.push(new MouseWheelZoom({\n        condition: options.onFocusOnly ? focus : undefined,\n        constrainResolution: options.constrainResolution,\n        duration: options.zoomDuration\n      }));\n    }\n\n    var shiftDragZoom = options.shiftDragZoom !== undefined ?\n      options.shiftDragZoom : true;\n    if (shiftDragZoom) {\n      interactions.push(new DragZoom({\n        duration: options.zoomDuration\n      }));\n    }\n\n    return interactions;\n\n  }\n\n  /**\n   * @module ol/reproj/common\n   */\n\n  /**\n   * Default maximum allowed threshold  (in pixels) for reprojection\n   * triangulation.\n   * @type {number}\n   */\n  var ERROR_THRESHOLD = 0.5;\n\n  /**\n   * @module ol/ImageBase\n   */\n\n  /**\n   * @abstract\n   */\n  var ImageBase = /*@__PURE__*/(function (EventTarget) {\n    function ImageBase(extent, resolution, pixelRatio, state) {\n\n      EventTarget.call(this);\n\n      /**\n       * @protected\n       * @type {import(\"./extent.js\").Extent}\n       */\n      this.extent = extent;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.pixelRatio_ = pixelRatio;\n\n      /**\n       * @protected\n       * @type {number|undefined}\n       */\n      this.resolution = resolution;\n\n      /**\n       * @protected\n       * @type {import(\"./ImageState.js\").default}\n       */\n      this.state = state;\n\n    }\n\n    if ( EventTarget ) ImageBase.__proto__ = EventTarget;\n    ImageBase.prototype = Object.create( EventTarget && EventTarget.prototype );\n    ImageBase.prototype.constructor = ImageBase;\n\n    /**\n     * @protected\n     */\n    ImageBase.prototype.changed = function changed () {\n      this.dispatchEvent(EventType.CHANGE);\n    };\n\n    /**\n     * @return {import(\"./extent.js\").Extent} Extent.\n     */\n    ImageBase.prototype.getExtent = function getExtent () {\n      return this.extent;\n    };\n\n    /**\n     * @abstract\n     * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n     */\n    ImageBase.prototype.getImage = function getImage () {\n      return abstract();\n    };\n\n    /**\n     * @return {number} PixelRatio.\n     */\n    ImageBase.prototype.getPixelRatio = function getPixelRatio () {\n      return this.pixelRatio_;\n    };\n\n    /**\n     * @return {number} Resolution.\n     */\n    ImageBase.prototype.getResolution = function getResolution () {\n      return /** @type {number} */ (this.resolution);\n    };\n\n    /**\n     * @return {import(\"./ImageState.js\").default} State.\n     */\n    ImageBase.prototype.getState = function getState () {\n      return this.state;\n    };\n\n    /**\n     * Load not yet loaded URI.\n     * @abstract\n     */\n    ImageBase.prototype.load = function load () {\n      abstract();\n    };\n\n    return ImageBase;\n  }(Target));\n\n  /**\n   * @module ol/ImageCanvas\n   */\n\n\n  /**\n   * A function that is called to trigger asynchronous canvas drawing.  It is\n   * called with a \"done\" callback that should be called when drawing is done.\n   * If any error occurs during drawing, the \"done\" callback should be called with\n   * that error.\n   *\n   * @typedef {function(function(Error=))} Loader\n   */\n\n\n  var ImageCanvas = /*@__PURE__*/(function (ImageBase$$1) {\n    function ImageCanvas(extent, resolution, pixelRatio, canvas, opt_loader) {\n\n      var state = opt_loader !== undefined ? ImageState.IDLE : ImageState.LOADED;\n\n      ImageBase$$1.call(this, extent, resolution, pixelRatio, state);\n\n      /**\n       * Optional canvas loader function.\n       * @type {?Loader}\n       * @private\n       */\n      this.loader_ = opt_loader !== undefined ? opt_loader : null;\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement}\n       */\n      this.canvas_ = canvas;\n\n      /**\n       * @private\n       * @type {Error}\n       */\n      this.error_ = null;\n\n    }\n\n    if ( ImageBase$$1 ) ImageCanvas.__proto__ = ImageBase$$1;\n    ImageCanvas.prototype = Object.create( ImageBase$$1 && ImageBase$$1.prototype );\n    ImageCanvas.prototype.constructor = ImageCanvas;\n\n    /**\n     * Get any error associated with asynchronous rendering.\n     * @return {Error} Any error that occurred during rendering.\n     */\n    ImageCanvas.prototype.getError = function getError () {\n      return this.error_;\n    };\n\n    /**\n     * Handle async drawing complete.\n     * @param {Error=} err Any error during drawing.\n     * @private\n     */\n    ImageCanvas.prototype.handleLoad_ = function handleLoad_ (err) {\n      if (err) {\n        this.error_ = err;\n        this.state = ImageState.ERROR;\n      } else {\n        this.state = ImageState.LOADED;\n      }\n      this.changed();\n    };\n\n    /**\n     * @inheritDoc\n     */\n    ImageCanvas.prototype.load = function load () {\n      if (this.state == ImageState.IDLE) {\n        this.state = ImageState.LOADING;\n        this.changed();\n        this.loader_(this.handleLoad_.bind(this));\n      }\n    };\n\n    /**\n     * @return {HTMLCanvasElement} Canvas element.\n     */\n    ImageCanvas.prototype.getImage = function getImage () {\n      return this.canvas_;\n    };\n\n    return ImageCanvas;\n  }(ImageBase));\n\n  /**\n   * @module ol/render/Event\n   */\n\n  var RenderEvent = /*@__PURE__*/(function (Event$$1) {\n    function RenderEvent(type, opt_vectorContext, opt_frameState, opt_context, opt_glContext) {\n\n      Event$$1.call(this, type);\n\n      /**\n       * For canvas, this is an instance of {@link module:ol/render/canvas/Immediate}.\n       * @type {import(\"./VectorContext.js\").default|undefined}\n       * @api\n       */\n      this.vectorContext = opt_vectorContext;\n\n      /**\n       * An object representing the current render frame state.\n       * @type {import(\"../PluggableMap.js\").FrameState|undefined}\n       * @api\n       */\n      this.frameState = opt_frameState;\n\n      /**\n       * Canvas context. Only available when a Canvas renderer is used, null\n       * otherwise.\n       * @type {CanvasRenderingContext2D|null|undefined}\n       * @api\n       */\n      this.context = opt_context;\n\n      /**\n       * WebGL context. Only available when a WebGL renderer is used, null\n       * otherwise.\n       * @type {import(\"../webgl/Context.js\").default|null|undefined}\n       * @api\n       */\n      this.glContext = opt_glContext;\n\n    }\n\n    if ( Event$$1 ) RenderEvent.__proto__ = Event$$1;\n    RenderEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    RenderEvent.prototype.constructor = RenderEvent;\n\n    return RenderEvent;\n  }(Event));\n\n  /**\n   * @module ol/render/VectorContext\n   */\n\n  /**\n   * @classdesc\n   * Context for drawing geometries.  A vector context is available on render\n   * events and does not need to be constructed directly.\n   * @api\n   */\n  var VectorContext = function VectorContext () {};\n\n  VectorContext.prototype.drawCustom = function drawCustom (geometry, feature, renderer) {};\n\n  /**\n   * Render a geometry.\n   *\n   * @param {import(\"../geom/Geometry.js\").default} geometry The geometry to render.\n   */\n  VectorContext.prototype.drawGeometry = function drawGeometry (geometry) {};\n\n  /**\n   * Set the rendering style.\n   *\n   * @param {import(\"../style/Style.js\").default} style The rendering style.\n   */\n  VectorContext.prototype.setStyle = function setStyle (style) {};\n\n  /**\n   * @param {import(\"../geom/Circle.js\").default} circleGeometry Circle geometry.\n   * @param {import(\"../Feature.js\").default} feature Feature.\n   */\n  VectorContext.prototype.drawCircle = function drawCircle (circleGeometry, feature) {};\n\n  /**\n   * @param {import(\"../Feature.js\").default} feature Feature.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   */\n  VectorContext.prototype.drawFeature = function drawFeature (feature, style) {};\n\n  /**\n   * @param {import(\"../geom/GeometryCollection.js\").default} geometryCollectionGeometry Geometry collection.\n   * @param {import(\"../Feature.js\").default} feature Feature.\n   */\n  VectorContext.prototype.drawGeometryCollection = function drawGeometryCollection (geometryCollectionGeometry, feature) {};\n\n  /**\n   * @param {import(\"../geom/LineString.js\").default|import(\"./Feature.js\").default} lineStringGeometry Line string geometry.\n   * @param {import(\"../Feature.js\").default|import(\"./Feature.js\").default} feature Feature.\n   */\n  VectorContext.prototype.drawLineString = function drawLineString (lineStringGeometry, feature) {};\n\n  /**\n   * @param {import(\"../geom/MultiLineString.js\").default|import(\"./Feature.js\").default} multiLineStringGeometry MultiLineString geometry.\n   * @param {import(\"../Feature.js\").default|import(\"./Feature.js\").default} feature Feature.\n   */\n  VectorContext.prototype.drawMultiLineString = function drawMultiLineString (multiLineStringGeometry, feature) {};\n\n  /**\n   * @param {import(\"../geom/MultiPoint.js\").default|import(\"./Feature.js\").default} multiPointGeometry MultiPoint geometry.\n   * @param {import(\"../Feature.js\").default|import(\"./Feature.js\").default} feature Feature.\n   */\n  VectorContext.prototype.drawMultiPoint = function drawMultiPoint (multiPointGeometry, feature) {};\n\n  /**\n   * @param {import(\"../geom/MultiPolygon.js\").default} multiPolygonGeometry MultiPolygon geometry.\n   * @param {import(\"../Feature.js\").default|import(\"./Feature.js\").default} feature Feature.\n   */\n  VectorContext.prototype.drawMultiPolygon = function drawMultiPolygon (multiPolygonGeometry, feature) {};\n\n  /**\n   * @param {import(\"../geom/Point.js\").default|import(\"./Feature.js\").default} pointGeometry Point geometry.\n   * @param {import(\"../Feature.js\").default|import(\"./Feature.js\").default} feature Feature.\n   */\n  VectorContext.prototype.drawPoint = function drawPoint (pointGeometry, feature) {};\n\n  /**\n   * @param {import(\"../geom/Polygon.js\").default|import(\"./Feature.js\").default} polygonGeometry Polygon geometry.\n   * @param {import(\"../Feature.js\").default|import(\"./Feature.js\").default} feature Feature.\n   */\n  VectorContext.prototype.drawPolygon = function drawPolygon (polygonGeometry, feature) {};\n\n  /**\n   * @param {import(\"../geom/Geometry.js\").default|import(\"./Feature.js\").default} geometry Geometry.\n   * @param {import(\"../Feature.js\").default|import(\"./Feature.js\").default} feature Feature.\n   */\n  VectorContext.prototype.drawText = function drawText (geometry, feature) {};\n\n  /**\n   * @param {import(\"../style/Fill.js\").default} fillStyle Fill style.\n   * @param {import(\"../style/Stroke.js\").default} strokeStyle Stroke style.\n   */\n  VectorContext.prototype.setFillStrokeStyle = function setFillStrokeStyle (fillStyle, strokeStyle) {};\n\n  /**\n   * @param {import(\"../style/Image.js\").default} imageStyle Image style.\n   * @param {import(\"./canvas.js\").DeclutterGroup=} opt_declutterGroup Declutter.\n   */\n  VectorContext.prototype.setImageStyle = function setImageStyle (imageStyle, opt_declutterGroup) {};\n\n  /**\n   * @param {import(\"../style/Text.js\").default} textStyle Text style.\n   * @param {import(\"./canvas.js\").DeclutterGroup=} opt_declutterGroup Declutter.\n   */\n  VectorContext.prototype.setTextStyle = function setTextStyle (textStyle, opt_declutterGroup) {};\n\n  /**\n   * @module ol/render/canvas/Immediate\n   */\n\n  /**\n   * @classdesc\n   * A concrete subclass of {@link module:ol/render/VectorContext} that implements\n   * direct rendering of features and geometries to an HTML5 Canvas context.\n   * Instances of this class are created internally by the library and\n   * provided to application code as vectorContext member of the\n   * {@link module:ol/render/Event~RenderEvent} object associated with postcompose, precompose and\n   * render events emitted by layers and maps.\n   */\n  var CanvasImmediateRenderer = /*@__PURE__*/(function (VectorContext$$1) {\n    function CanvasImmediateRenderer(context, pixelRatio, extent, transform, viewRotation) {\n      VectorContext$$1.call(this);\n\n      /**\n       * @private\n       * @type {CanvasRenderingContext2D}\n       */\n      this.context_ = context;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.pixelRatio_ = pixelRatio;\n\n      /**\n       * @private\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      this.extent_ = extent;\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.transform_ = transform;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.viewRotation_ = viewRotation;\n\n      /**\n       * @private\n       * @type {?import(\"../canvas.js\").FillState}\n       */\n      this.contextFillState_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"../canvas.js\").StrokeState}\n       */\n      this.contextStrokeState_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"../canvas.js\").TextState}\n       */\n      this.contextTextState_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"../canvas.js\").FillState}\n       */\n      this.fillState_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"../canvas.js\").StrokeState}\n       */\n      this.strokeState_ = null;\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement}\n       */\n      this.image_ = null;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.imageAnchorX_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.imageAnchorY_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.imageHeight_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.imageOpacity_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.imageOriginX_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.imageOriginY_ = 0;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.imageRotateWithView_ = false;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.imageRotation_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.imageScale_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.imageWidth_ = 0;\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.text_ = '';\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.textOffsetX_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.textOffsetY_ = 0;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.textRotateWithView_ = false;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.textRotation_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.textScale_ = 0;\n\n      /**\n       * @private\n       * @type {?import(\"../canvas.js\").FillState}\n       */\n      this.textFillState_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"../canvas.js\").StrokeState}\n       */\n      this.textStrokeState_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"../canvas.js\").TextState}\n       */\n      this.textState_ = null;\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.pixelCoordinates_ = [];\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.tmpLocalTransform_ = create();\n\n    }\n\n    if ( VectorContext$$1 ) CanvasImmediateRenderer.__proto__ = VectorContext$$1;\n    CanvasImmediateRenderer.prototype = Object.create( VectorContext$$1 && VectorContext$$1.prototype );\n    CanvasImmediateRenderer.prototype.constructor = CanvasImmediateRenderer;\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.drawImages_ = function drawImages_ (flatCoordinates, offset, end, stride) {\n      if (!this.image_) {\n        return;\n      }\n      var pixelCoordinates = transform2D(\n        flatCoordinates, offset, end, 2, this.transform_,\n        this.pixelCoordinates_);\n      var context = this.context_;\n      var localTransform = this.tmpLocalTransform_;\n      var alpha = context.globalAlpha;\n      if (this.imageOpacity_ != 1) {\n        context.globalAlpha = alpha * this.imageOpacity_;\n      }\n      var rotation = this.imageRotation_;\n      if (this.imageRotateWithView_) {\n        rotation += this.viewRotation_;\n      }\n      for (var i = 0, ii = pixelCoordinates.length; i < ii; i += 2) {\n        var x = pixelCoordinates[i] - this.imageAnchorX_;\n        var y = pixelCoordinates[i + 1] - this.imageAnchorY_;\n        if (rotation !== 0 || this.imageScale_ != 1) {\n          var centerX = x + this.imageAnchorX_;\n          var centerY = y + this.imageAnchorY_;\n          compose(localTransform,\n            centerX, centerY,\n            this.imageScale_, this.imageScale_,\n            rotation,\n            -centerX, -centerY);\n          context.setTransform.apply(context, localTransform);\n        }\n        context.drawImage(this.image_, this.imageOriginX_, this.imageOriginY_,\n          this.imageWidth_, this.imageHeight_, x, y,\n          this.imageWidth_, this.imageHeight_);\n      }\n      if (rotation !== 0 || this.imageScale_ != 1) {\n        context.setTransform(1, 0, 0, 1, 0, 0);\n      }\n      if (this.imageOpacity_ != 1) {\n        context.globalAlpha = alpha;\n      }\n    };\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.drawText_ = function drawText_ (flatCoordinates, offset, end, stride) {\n      if (!this.textState_ || this.text_ === '') {\n        return;\n      }\n      if (this.textFillState_) {\n        this.setContextFillState_(this.textFillState_);\n      }\n      if (this.textStrokeState_) {\n        this.setContextStrokeState_(this.textStrokeState_);\n      }\n      this.setContextTextState_(this.textState_);\n      var pixelCoordinates = transform2D(\n        flatCoordinates, offset, end, stride, this.transform_,\n        this.pixelCoordinates_);\n      var context = this.context_;\n      var rotation = this.textRotation_;\n      if (this.textRotateWithView_) {\n        rotation += this.viewRotation_;\n      }\n      for (; offset < end; offset += stride) {\n        var x = pixelCoordinates[offset] + this.textOffsetX_;\n        var y = pixelCoordinates[offset + 1] + this.textOffsetY_;\n        if (rotation !== 0 || this.textScale_ != 1) {\n          var localTransform = compose(this.tmpLocalTransform_,\n            x, y,\n            this.textScale_, this.textScale_,\n            rotation,\n            -x, -y);\n          context.setTransform.apply(context, localTransform);\n        }\n        if (this.textStrokeState_) {\n          context.strokeText(this.text_, x, y);\n        }\n        if (this.textFillState_) {\n          context.fillText(this.text_, x, y);\n        }\n      }\n      if (rotation !== 0 || this.textScale_ != 1) {\n        context.setTransform(1, 0, 0, 1, 0, 0);\n      }\n    };\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @param {boolean} close Close.\n     * @private\n     * @return {number} end End.\n     */\n    CanvasImmediateRenderer.prototype.moveToLineTo_ = function moveToLineTo_ (flatCoordinates, offset, end, stride, close) {\n      var context = this.context_;\n      var pixelCoordinates = transform2D(\n        flatCoordinates, offset, end, stride, this.transform_,\n        this.pixelCoordinates_);\n      context.moveTo(pixelCoordinates[0], pixelCoordinates[1]);\n      var length = pixelCoordinates.length;\n      if (close) {\n        length -= 2;\n      }\n      for (var i = 2; i < length; i += 2) {\n        context.lineTo(pixelCoordinates[i], pixelCoordinates[i + 1]);\n      }\n      if (close) {\n        context.closePath();\n      }\n      return end;\n    };\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {Array<number>} ends Ends.\n     * @param {number} stride Stride.\n     * @private\n     * @return {number} End.\n     */\n    CanvasImmediateRenderer.prototype.drawRings_ = function drawRings_ (flatCoordinates, offset, ends, stride) {\n      for (var i = 0, ii = ends.length; i < ii; ++i) {\n        offset = this.moveToLineTo_(flatCoordinates, offset, ends[i], stride, true);\n      }\n      return offset;\n    };\n\n    /**\n     * Render a circle geometry into the canvas.  Rendering is immediate and uses\n     * the current fill and stroke styles.\n     *\n     * @param {import(\"../../geom/Circle.js\").default} geometry Circle geometry.\n     * @override\n     * @api\n     */\n    CanvasImmediateRenderer.prototype.drawCircle = function drawCircle (geometry) {\n      if (!intersects(this.extent_, geometry.getExtent())) {\n        return;\n      }\n      if (this.fillState_ || this.strokeState_) {\n        if (this.fillState_) {\n          this.setContextFillState_(this.fillState_);\n        }\n        if (this.strokeState_) {\n          this.setContextStrokeState_(this.strokeState_);\n        }\n        var pixelCoordinates = transformGeom2D(\n          geometry, this.transform_, this.pixelCoordinates_);\n        var dx = pixelCoordinates[2] - pixelCoordinates[0];\n        var dy = pixelCoordinates[3] - pixelCoordinates[1];\n        var radius = Math.sqrt(dx * dx + dy * dy);\n        var context = this.context_;\n        context.beginPath();\n        context.arc(\n          pixelCoordinates[0], pixelCoordinates[1], radius, 0, 2 * Math.PI);\n        if (this.fillState_) {\n          context.fill();\n        }\n        if (this.strokeState_) {\n          context.stroke();\n        }\n      }\n      if (this.text_ !== '') {\n        this.drawText_(geometry.getCenter(), 0, 2, 2);\n      }\n    };\n\n    /**\n     * Set the rendering style.  Note that since this is an immediate rendering API,\n     * any `zIndex` on the provided style will be ignored.\n     *\n     * @param {import(\"../../style/Style.js\").default} style The rendering style.\n     * @override\n     * @api\n     */\n    CanvasImmediateRenderer.prototype.setStyle = function setStyle (style) {\n      this.setFillStrokeStyle(style.getFill(), style.getStroke());\n      this.setImageStyle(style.getImage());\n      this.setTextStyle(style.getText());\n    };\n\n    /**\n     * Render a geometry into the canvas.  Call\n     * {@link module:ol/render/canvas/Immediate#setStyle} first to set the rendering style.\n     *\n     * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry The geometry to render.\n     * @override\n     * @api\n     */\n    CanvasImmediateRenderer.prototype.drawGeometry = function drawGeometry (geometry) {\n      var type = geometry.getType();\n      switch (type) {\n        case GeometryType.POINT:\n          this.drawPoint(/** @type {import(\"../../geom/Point.js\").default} */ (geometry));\n          break;\n        case GeometryType.LINE_STRING:\n          this.drawLineString(/** @type {import(\"../../geom/LineString.js\").default} */ (geometry));\n          break;\n        case GeometryType.POLYGON:\n          this.drawPolygon(/** @type {import(\"../../geom/Polygon.js\").default} */ (geometry));\n          break;\n        case GeometryType.MULTI_POINT:\n          this.drawMultiPoint(/** @type {import(\"../../geom/MultiPoint.js\").default} */ (geometry));\n          break;\n        case GeometryType.MULTI_LINE_STRING:\n          this.drawMultiLineString(/** @type {import(\"../../geom/MultiLineString.js\").default} */ (geometry));\n          break;\n        case GeometryType.MULTI_POLYGON:\n          this.drawMultiPolygon(/** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry));\n          break;\n        case GeometryType.GEOMETRY_COLLECTION:\n          this.drawGeometryCollection(/** @type {import(\"../../geom/GeometryCollection.js\").default} */ (geometry));\n          break;\n        case GeometryType.CIRCLE:\n          this.drawCircle(/** @type {import(\"../../geom/Circle.js\").default} */ (geometry));\n          break;\n        default:\n      }\n    };\n\n    /**\n     * Render a feature into the canvas.  Note that any `zIndex` on the provided\n     * style will be ignored - features are rendered immediately in the order that\n     * this method is called.  If you need `zIndex` support, you should be using an\n     * {@link module:ol/layer/Vector~VectorLayer} instead.\n     *\n     * @param {import(\"../../Feature.js\").default} feature Feature.\n     * @param {import(\"../../style/Style.js\").default} style Style.\n     * @override\n     * @api\n     */\n    CanvasImmediateRenderer.prototype.drawFeature = function drawFeature (feature, style) {\n      var geometry = style.getGeometryFunction()(feature);\n      if (!geometry || !intersects(this.extent_, geometry.getExtent())) {\n        return;\n      }\n      this.setStyle(style);\n      this.drawGeometry(geometry);\n    };\n\n    /**\n     * Render a GeometryCollection to the canvas.  Rendering is immediate and\n     * uses the current styles appropriate for each geometry in the collection.\n     *\n     * @param {import(\"../../geom/GeometryCollection.js\").default} geometry Geometry collection.\n     * @override\n     */\n    CanvasImmediateRenderer.prototype.drawGeometryCollection = function drawGeometryCollection (geometry) {\n      var geometries = geometry.getGeometriesArray();\n      for (var i = 0, ii = geometries.length; i < ii; ++i) {\n        this.drawGeometry(geometries[i]);\n      }\n    };\n\n    /**\n     * Render a Point geometry into the canvas.  Rendering is immediate and uses\n     * the current style.\n     *\n     * @param {import(\"../../geom/Point.js\").default|import(\"../Feature.js\").default} geometry Point geometry.\n     * @override\n     */\n    CanvasImmediateRenderer.prototype.drawPoint = function drawPoint (geometry) {\n      var flatCoordinates = geometry.getFlatCoordinates();\n      var stride = geometry.getStride();\n      if (this.image_) {\n        this.drawImages_(flatCoordinates, 0, flatCoordinates.length, stride);\n      }\n      if (this.text_ !== '') {\n        this.drawText_(flatCoordinates, 0, flatCoordinates.length, stride);\n      }\n    };\n\n    /**\n     * Render a MultiPoint geometry  into the canvas.  Rendering is immediate and\n     * uses the current style.\n     *\n     * @param {import(\"../../geom/MultiPoint.js\").default|import(\"../Feature.js\").default} geometry MultiPoint geometry.\n     * @override\n     */\n    CanvasImmediateRenderer.prototype.drawMultiPoint = function drawMultiPoint (geometry) {\n      var flatCoordinates = geometry.getFlatCoordinates();\n      var stride = geometry.getStride();\n      if (this.image_) {\n        this.drawImages_(flatCoordinates, 0, flatCoordinates.length, stride);\n      }\n      if (this.text_ !== '') {\n        this.drawText_(flatCoordinates, 0, flatCoordinates.length, stride);\n      }\n    };\n\n    /**\n     * Render a LineString into the canvas.  Rendering is immediate and uses\n     * the current style.\n     *\n     * @param {import(\"../../geom/LineString.js\").default|import(\"../Feature.js\").default} geometry LineString geometry.\n     * @override\n     */\n    CanvasImmediateRenderer.prototype.drawLineString = function drawLineString (geometry) {\n      if (!intersects(this.extent_, geometry.getExtent())) {\n        return;\n      }\n      if (this.strokeState_) {\n        this.setContextStrokeState_(this.strokeState_);\n        var context = this.context_;\n        var flatCoordinates = geometry.getFlatCoordinates();\n        context.beginPath();\n        this.moveToLineTo_(flatCoordinates, 0, flatCoordinates.length,\n          geometry.getStride(), false);\n        context.stroke();\n      }\n      if (this.text_ !== '') {\n        var flatMidpoint = geometry.getFlatMidpoint();\n        this.drawText_(flatMidpoint, 0, 2, 2);\n      }\n    };\n\n    /**\n     * Render a MultiLineString geometry into the canvas.  Rendering is immediate\n     * and uses the current style.\n     *\n     * @param {import(\"../../geom/MultiLineString.js\").default|import(\"../Feature.js\").default} geometry MultiLineString geometry.\n     * @override\n     */\n    CanvasImmediateRenderer.prototype.drawMultiLineString = function drawMultiLineString (geometry) {\n      var geometryExtent = geometry.getExtent();\n      if (!intersects(this.extent_, geometryExtent)) {\n        return;\n      }\n      if (this.strokeState_) {\n        this.setContextStrokeState_(this.strokeState_);\n        var context = this.context_;\n        var flatCoordinates = geometry.getFlatCoordinates();\n        var offset = 0;\n        var ends = /** @type {Array<number>} */ (geometry.getEnds());\n        var stride = geometry.getStride();\n        context.beginPath();\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n          offset = this.moveToLineTo_(flatCoordinates, offset, ends[i], stride, false);\n        }\n        context.stroke();\n      }\n      if (this.text_ !== '') {\n        var flatMidpoints = geometry.getFlatMidpoints();\n        this.drawText_(flatMidpoints, 0, flatMidpoints.length, 2);\n      }\n    };\n\n    /**\n     * Render a Polygon geometry into the canvas.  Rendering is immediate and uses\n     * the current style.\n     *\n     * @param {import(\"../../geom/Polygon.js\").default|import(\"../Feature.js\").default} geometry Polygon geometry.\n     * @override\n     */\n    CanvasImmediateRenderer.prototype.drawPolygon = function drawPolygon (geometry) {\n      if (!intersects(this.extent_, geometry.getExtent())) {\n        return;\n      }\n      if (this.strokeState_ || this.fillState_) {\n        if (this.fillState_) {\n          this.setContextFillState_(this.fillState_);\n        }\n        if (this.strokeState_) {\n          this.setContextStrokeState_(this.strokeState_);\n        }\n        var context = this.context_;\n        context.beginPath();\n        this.drawRings_(geometry.getOrientedFlatCoordinates(),\n          0, /** @type {Array<number>} */ (geometry.getEnds()), geometry.getStride());\n        if (this.fillState_) {\n          context.fill();\n        }\n        if (this.strokeState_) {\n          context.stroke();\n        }\n      }\n      if (this.text_ !== '') {\n        var flatInteriorPoint = geometry.getFlatInteriorPoint();\n        this.drawText_(flatInteriorPoint, 0, 2, 2);\n      }\n    };\n\n    /**\n     * Render MultiPolygon geometry into the canvas.  Rendering is immediate and\n     * uses the current style.\n     * @param {import(\"../../geom/MultiPolygon.js\").default} geometry MultiPolygon geometry.\n     * @override\n     */\n    CanvasImmediateRenderer.prototype.drawMultiPolygon = function drawMultiPolygon (geometry) {\n      if (!intersects(this.extent_, geometry.getExtent())) {\n        return;\n      }\n      if (this.strokeState_ || this.fillState_) {\n        if (this.fillState_) {\n          this.setContextFillState_(this.fillState_);\n        }\n        if (this.strokeState_) {\n          this.setContextStrokeState_(this.strokeState_);\n        }\n        var context = this.context_;\n        var flatCoordinates = geometry.getOrientedFlatCoordinates();\n        var offset = 0;\n        var endss = geometry.getEndss();\n        var stride = geometry.getStride();\n        context.beginPath();\n        for (var i = 0, ii = endss.length; i < ii; ++i) {\n          var ends = endss[i];\n          offset = this.drawRings_(flatCoordinates, offset, ends, stride);\n        }\n        if (this.fillState_) {\n          context.fill();\n        }\n        if (this.strokeState_) {\n          context.stroke();\n        }\n      }\n      if (this.text_ !== '') {\n        var flatInteriorPoints = geometry.getFlatInteriorPoints();\n        this.drawText_(flatInteriorPoints, 0, flatInteriorPoints.length, 2);\n      }\n    };\n\n    /**\n     * @param {import(\"../canvas.js\").FillState} fillState Fill state.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.setContextFillState_ = function setContextFillState_ (fillState) {\n      var context = this.context_;\n      var contextFillState = this.contextFillState_;\n      if (!contextFillState) {\n        context.fillStyle = fillState.fillStyle;\n        this.contextFillState_ = {\n          fillStyle: fillState.fillStyle\n        };\n      } else {\n        if (contextFillState.fillStyle != fillState.fillStyle) {\n          contextFillState.fillStyle = context.fillStyle = fillState.fillStyle;\n        }\n      }\n    };\n\n    /**\n     * @param {import(\"../canvas.js\").StrokeState} strokeState Stroke state.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.setContextStrokeState_ = function setContextStrokeState_ (strokeState) {\n      var context = this.context_;\n      var contextStrokeState = this.contextStrokeState_;\n      if (!contextStrokeState) {\n        context.lineCap = /** @type {CanvasLineCap} */ (strokeState.lineCap);\n        if (CANVAS_LINE_DASH) {\n          context.setLineDash(strokeState.lineDash);\n          context.lineDashOffset = strokeState.lineDashOffset;\n        }\n        context.lineJoin = /** @type {CanvasLineJoin} */ (strokeState.lineJoin);\n        context.lineWidth = strokeState.lineWidth;\n        context.miterLimit = strokeState.miterLimit;\n        context.strokeStyle = strokeState.strokeStyle;\n        this.contextStrokeState_ = {\n          lineCap: strokeState.lineCap,\n          lineDash: strokeState.lineDash,\n          lineDashOffset: strokeState.lineDashOffset,\n          lineJoin: strokeState.lineJoin,\n          lineWidth: strokeState.lineWidth,\n          miterLimit: strokeState.miterLimit,\n          strokeStyle: strokeState.strokeStyle\n        };\n      } else {\n        if (contextStrokeState.lineCap != strokeState.lineCap) {\n          contextStrokeState.lineCap = context.lineCap = /** @type {CanvasLineCap} */ (strokeState.lineCap);\n        }\n        if (CANVAS_LINE_DASH) {\n          if (!equals(contextStrokeState.lineDash, strokeState.lineDash)) {\n            context.setLineDash(contextStrokeState.lineDash = strokeState.lineDash);\n          }\n          if (contextStrokeState.lineDashOffset != strokeState.lineDashOffset) {\n            contextStrokeState.lineDashOffset = context.lineDashOffset =\n                strokeState.lineDashOffset;\n          }\n        }\n        if (contextStrokeState.lineJoin != strokeState.lineJoin) {\n          contextStrokeState.lineJoin = context.lineJoin = /** @type {CanvasLineJoin} */ (strokeState.lineJoin);\n        }\n        if (contextStrokeState.lineWidth != strokeState.lineWidth) {\n          contextStrokeState.lineWidth = context.lineWidth = strokeState.lineWidth;\n        }\n        if (contextStrokeState.miterLimit != strokeState.miterLimit) {\n          contextStrokeState.miterLimit = context.miterLimit =\n              strokeState.miterLimit;\n        }\n        if (contextStrokeState.strokeStyle != strokeState.strokeStyle) {\n          contextStrokeState.strokeStyle = context.strokeStyle =\n              strokeState.strokeStyle;\n        }\n      }\n    };\n\n    /**\n     * @param {import(\"../canvas.js\").TextState} textState Text state.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.setContextTextState_ = function setContextTextState_ (textState) {\n      var context = this.context_;\n      var contextTextState = this.contextTextState_;\n      var textAlign = textState.textAlign ?\n        textState.textAlign : defaultTextAlign;\n      if (!contextTextState) {\n        context.font = textState.font;\n        context.textAlign = /** @type {CanvasTextAlign} */ (textAlign);\n        context.textBaseline = /** @type {CanvasTextBaseline} */ (textState.textBaseline);\n        this.contextTextState_ = {\n          font: textState.font,\n          textAlign: textAlign,\n          textBaseline: textState.textBaseline\n        };\n      } else {\n        if (contextTextState.font != textState.font) {\n          contextTextState.font = context.font = textState.font;\n        }\n        if (contextTextState.textAlign != textAlign) {\n          contextTextState.textAlign = context.textAlign = /** @type {CanvasTextAlign} */ (textAlign);\n        }\n        if (contextTextState.textBaseline != textState.textBaseline) {\n          contextTextState.textBaseline = context.textBaseline =\n            /** @type {CanvasTextBaseline} */ (textState.textBaseline);\n        }\n      }\n    };\n\n    /**\n     * Set the fill and stroke style for subsequent draw operations.  To clear\n     * either fill or stroke styles, pass null for the appropriate parameter.\n     *\n     * @param {import(\"../../style/Fill.js\").default} fillStyle Fill style.\n     * @param {import(\"../../style/Stroke.js\").default} strokeStyle Stroke style.\n     * @override\n     */\n    CanvasImmediateRenderer.prototype.setFillStrokeStyle = function setFillStrokeStyle (fillStyle, strokeStyle) {\n      if (!fillStyle) {\n        this.fillState_ = null;\n      } else {\n        var fillStyleColor = fillStyle.getColor();\n        this.fillState_ = {\n          fillStyle: asColorLike(fillStyleColor ?\n            fillStyleColor : defaultFillStyle)\n        };\n      }\n      if (!strokeStyle) {\n        this.strokeState_ = null;\n      } else {\n        var strokeStyleColor = strokeStyle.getColor();\n        var strokeStyleLineCap = strokeStyle.getLineCap();\n        var strokeStyleLineDash = strokeStyle.getLineDash();\n        var strokeStyleLineDashOffset = strokeStyle.getLineDashOffset();\n        var strokeStyleLineJoin = strokeStyle.getLineJoin();\n        var strokeStyleWidth = strokeStyle.getWidth();\n        var strokeStyleMiterLimit = strokeStyle.getMiterLimit();\n        this.strokeState_ = {\n          lineCap: strokeStyleLineCap !== undefined ?\n            strokeStyleLineCap : defaultLineCap,\n          lineDash: strokeStyleLineDash ?\n            strokeStyleLineDash : defaultLineDash,\n          lineDashOffset: strokeStyleLineDashOffset ?\n            strokeStyleLineDashOffset : defaultLineDashOffset,\n          lineJoin: strokeStyleLineJoin !== undefined ?\n            strokeStyleLineJoin : defaultLineJoin,\n          lineWidth: this.pixelRatio_ * (strokeStyleWidth !== undefined ?\n            strokeStyleWidth : defaultLineWidth),\n          miterLimit: strokeStyleMiterLimit !== undefined ?\n            strokeStyleMiterLimit : defaultMiterLimit,\n          strokeStyle: asColorLike(strokeStyleColor ?\n            strokeStyleColor : defaultStrokeStyle)\n        };\n      }\n    };\n\n    /**\n     * Set the image style for subsequent draw operations.  Pass null to remove\n     * the image style.\n     *\n     * @param {import(\"../../style/Image.js\").default} imageStyle Image style.\n     * @override\n     */\n    CanvasImmediateRenderer.prototype.setImageStyle = function setImageStyle (imageStyle) {\n      if (!imageStyle) {\n        this.image_ = null;\n      } else {\n        var imageAnchor = imageStyle.getAnchor();\n        // FIXME pixel ratio\n        var imageImage = imageStyle.getImage(1);\n        var imageOrigin = imageStyle.getOrigin();\n        var imageSize = imageStyle.getSize();\n        this.imageAnchorX_ = imageAnchor[0];\n        this.imageAnchorY_ = imageAnchor[1];\n        this.imageHeight_ = imageSize[1];\n        this.image_ = imageImage;\n        this.imageOpacity_ = imageStyle.getOpacity();\n        this.imageOriginX_ = imageOrigin[0];\n        this.imageOriginY_ = imageOrigin[1];\n        this.imageRotateWithView_ = imageStyle.getRotateWithView();\n        this.imageRotation_ = imageStyle.getRotation();\n        this.imageScale_ = imageStyle.getScale() * this.pixelRatio_;\n        this.imageWidth_ = imageSize[0];\n      }\n    };\n\n    /**\n     * Set the text style for subsequent draw operations.  Pass null to\n     * remove the text style.\n     *\n     * @param {import(\"../../style/Text.js\").default} textStyle Text style.\n     * @override\n     */\n    CanvasImmediateRenderer.prototype.setTextStyle = function setTextStyle (textStyle) {\n      if (!textStyle) {\n        this.text_ = '';\n      } else {\n        var textFillStyle = textStyle.getFill();\n        if (!textFillStyle) {\n          this.textFillState_ = null;\n        } else {\n          var textFillStyleColor = textFillStyle.getColor();\n          this.textFillState_ = {\n            fillStyle: asColorLike(textFillStyleColor ?\n              textFillStyleColor : defaultFillStyle)\n          };\n        }\n        var textStrokeStyle = textStyle.getStroke();\n        if (!textStrokeStyle) {\n          this.textStrokeState_ = null;\n        } else {\n          var textStrokeStyleColor = textStrokeStyle.getColor();\n          var textStrokeStyleLineCap = textStrokeStyle.getLineCap();\n          var textStrokeStyleLineDash = textStrokeStyle.getLineDash();\n          var textStrokeStyleLineDashOffset = textStrokeStyle.getLineDashOffset();\n          var textStrokeStyleLineJoin = textStrokeStyle.getLineJoin();\n          var textStrokeStyleWidth = textStrokeStyle.getWidth();\n          var textStrokeStyleMiterLimit = textStrokeStyle.getMiterLimit();\n          this.textStrokeState_ = {\n            lineCap: textStrokeStyleLineCap !== undefined ?\n              textStrokeStyleLineCap : defaultLineCap,\n            lineDash: textStrokeStyleLineDash ?\n              textStrokeStyleLineDash : defaultLineDash,\n            lineDashOffset: textStrokeStyleLineDashOffset ?\n              textStrokeStyleLineDashOffset : defaultLineDashOffset,\n            lineJoin: textStrokeStyleLineJoin !== undefined ?\n              textStrokeStyleLineJoin : defaultLineJoin,\n            lineWidth: textStrokeStyleWidth !== undefined ?\n              textStrokeStyleWidth : defaultLineWidth,\n            miterLimit: textStrokeStyleMiterLimit !== undefined ?\n              textStrokeStyleMiterLimit : defaultMiterLimit,\n            strokeStyle: asColorLike(textStrokeStyleColor ?\n              textStrokeStyleColor : defaultStrokeStyle)\n          };\n        }\n        var textFont = textStyle.getFont();\n        var textOffsetX = textStyle.getOffsetX();\n        var textOffsetY = textStyle.getOffsetY();\n        var textRotateWithView = textStyle.getRotateWithView();\n        var textRotation = textStyle.getRotation();\n        var textScale = textStyle.getScale();\n        var textText = textStyle.getText();\n        var textTextAlign = textStyle.getTextAlign();\n        var textTextBaseline = textStyle.getTextBaseline();\n        this.textState_ = {\n          font: textFont !== undefined ?\n            textFont : defaultFont,\n          textAlign: textTextAlign !== undefined ?\n            textTextAlign : defaultTextAlign,\n          textBaseline: textTextBaseline !== undefined ?\n            textTextBaseline : defaultTextBaseline\n        };\n        this.text_ = textText !== undefined ? textText : '';\n        this.textOffsetX_ =\n            textOffsetX !== undefined ? (this.pixelRatio_ * textOffsetX) : 0;\n        this.textOffsetY_ =\n            textOffsetY !== undefined ? (this.pixelRatio_ * textOffsetY) : 0;\n        this.textRotateWithView_ = textRotateWithView !== undefined ? textRotateWithView : false;\n        this.textRotation_ = textRotation !== undefined ? textRotation : 0;\n        this.textScale_ = this.pixelRatio_ * (textScale !== undefined ?\n          textScale : 1);\n      }\n    };\n\n    return CanvasImmediateRenderer;\n  }(VectorContext));\n\n  /**\n   * @module ol/style/IconImageCache\n   */\n\n  /**\n   * @classdesc\n   * Singleton class. Available through {@link module:ol/style/IconImageCache~shared}.\n   */\n  var IconImageCache = function IconImageCache() {\n\n    /**\n    * @type {!Object<string, import(\"./IconImage.js\").default>}\n    * @private\n    */\n    this.cache_ = {};\n\n    /**\n    * @type {number}\n    * @private\n    */\n    this.cacheSize_ = 0;\n\n    /**\n    * @type {number}\n    * @private\n    */\n    this.maxCacheSize_ = 32;\n  };\n\n  /**\n  * FIXME empty description for jsdoc\n  */\n  IconImageCache.prototype.clear = function clear () {\n    this.cache_ = {};\n    this.cacheSize_ = 0;\n  };\n\n  /**\n  * FIXME empty description for jsdoc\n  */\n  IconImageCache.prototype.expire = function expire () {\n    if (this.cacheSize_ > this.maxCacheSize_) {\n      var i = 0;\n      for (var key in this.cache_) {\n        var iconImage = this.cache_[key];\n        if ((i++ & 3) === 0 && !iconImage.hasListener()) {\n          delete this.cache_[key];\n          --this.cacheSize_;\n        }\n      }\n    }\n  };\n\n  /**\n  * @param {string} src Src.\n  * @param {?string} crossOrigin Cross origin.\n  * @param {import(\"../color.js\").Color} color Color.\n  * @return {import(\"./IconImage.js\").default} Icon image.\n  */\n  IconImageCache.prototype.get = function get (src, crossOrigin, color) {\n    var key = getKey(src, crossOrigin, color);\n    return key in this.cache_ ? this.cache_[key] : null;\n  };\n\n  /**\n  * @param {string} src Src.\n  * @param {?string} crossOrigin Cross origin.\n  * @param {import(\"../color.js\").Color} color Color.\n  * @param {import(\"./IconImage.js\").default} iconImage Icon image.\n  */\n  IconImageCache.prototype.set = function set (src, crossOrigin, color, iconImage) {\n    var key = getKey(src, crossOrigin, color);\n    this.cache_[key] = iconImage;\n    ++this.cacheSize_;\n  };\n\n  /**\n  * Set the cache size of the icon cache. Default is `32`. Change this value when\n  * your map uses more than 32 different icon images and you are not caching icon\n  * styles on the application level.\n  * @param {number} maxCacheSize Cache max size.\n  * @api\n  */\n  IconImageCache.prototype.setSize = function setSize (maxCacheSize) {\n    this.maxCacheSize_ = maxCacheSize;\n    this.expire();\n  };\n\n\n  /**\n   * @param {string} src Src.\n   * @param {?string} crossOrigin Cross origin.\n   * @param {import(\"../color.js\").Color} color Color.\n   * @return {string} Cache key.\n   */\n  function getKey(src, crossOrigin, color) {\n    var colorString = color ? asString(color) : 'null';\n    return crossOrigin + ':' + src + ':' + colorString;\n  }\n\n\n  /**\n   * The {@link module:ol/style/IconImageCache~IconImageCache} for\n   * {@link module:ol/style/Icon~Icon} images.\n   * @api\n   */\n  var shared = new IconImageCache();\n\n  /**\n   * @module ol/renderer/Map\n   */\n\n  /**\n   * @abstract\n   */\n  var MapRenderer = /*@__PURE__*/(function (Disposable$$1) {\n    function MapRenderer(map) {\n      Disposable$$1.call(this);\n\n      /**\n       * @private\n       * @type {import(\"../PluggableMap.js\").default}\n       */\n      this.map_ = map;\n\n      /**\n       * @private\n       * @type {!Object<string, import(\"./Layer.js\").default>}\n       */\n      this.layerRenderers_ = {};\n\n      /**\n       * @private\n       * @type {Object<string, import(\"../events.js\").EventsKey>}\n       */\n      this.layerRendererListeners_ = {};\n\n      /**\n       * @private\n       * @type {Array<typeof import(\"./Layer.js\").default>}\n       */\n      this.layerRendererConstructors_ = [];\n\n    }\n\n    if ( Disposable$$1 ) MapRenderer.__proto__ = Disposable$$1;\n    MapRenderer.prototype = Object.create( Disposable$$1 && Disposable$$1.prototype );\n    MapRenderer.prototype.constructor = MapRenderer;\n\n    /**\n     * @abstract\n     * @param {import(\"../render/EventType.js\").default} type Event type.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    MapRenderer.prototype.dispatchRenderEvent = function dispatchRenderEvent (type, frameState) {\n      abstract();\n    };\n\n    /**\n     * Register layer renderer constructors.\n     * @param {Array<typeof import(\"./Layer.js\").default>} constructors Layer renderers.\n     */\n    MapRenderer.prototype.registerLayerRenderers = function registerLayerRenderers (constructors) {\n      this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_, constructors);\n    };\n\n    /**\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState FrameState.\n     * @protected\n     */\n    MapRenderer.prototype.calculateMatrices2D = function calculateMatrices2D (frameState) {\n      var viewState = frameState.viewState;\n      var coordinateToPixelTransform = frameState.coordinateToPixelTransform;\n      var pixelToCoordinateTransform = frameState.pixelToCoordinateTransform;\n\n      compose(coordinateToPixelTransform,\n        frameState.size[0] / 2, frameState.size[1] / 2,\n        1 / viewState.resolution, -1 / viewState.resolution,\n        -viewState.rotation,\n        -viewState.center[0], -viewState.center[1]);\n\n      invert(\n        setFromArray(pixelToCoordinateTransform, coordinateToPixelTransform));\n    };\n\n    /**\n     * Removes all layer renderers.\n     */\n    MapRenderer.prototype.removeLayerRenderers = function removeLayerRenderers () {\n      for (var key in this.layerRenderers_) {\n        this.removeLayerRendererByKey_(key).dispose();\n      }\n    };\n\n    /**\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {function(this: S, import(\"../Feature.js\").FeatureLike,\n     *     import(\"../layer/Layer.js\").default): T} callback Feature callback.\n     * @param {S} thisArg Value to use as `this` when executing `callback`.\n     * @param {function(this: U, import(\"../layer/Layer.js\").default): boolean} layerFilter Layer filter\n     *     function, only layers which are visible and for which this function\n     *     returns `true` will be tested for features.  By default, all visible\n     *     layers will be tested.\n     * @param {U} thisArg2 Value to use as `this` when executing `layerFilter`.\n     * @return {T|undefined} Callback result.\n     * @template S,T,U\n     */\n    MapRenderer.prototype.forEachFeatureAtCoordinate = function forEachFeatureAtCoordinate (\n      coordinate,\n      frameState,\n      hitTolerance,\n      callback,\n      thisArg,\n      layerFilter,\n      thisArg2\n    ) {\n      var result;\n      var viewState = frameState.viewState;\n      var viewResolution = viewState.resolution;\n\n      /**\n       * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n       * @param {import(\"../layer/Layer.js\").default} layer Layer.\n       * @return {?} Callback result.\n       */\n      function forEachFeatureAtCoordinate(feature, layer) {\n        var managed = frameState.layerStates[getUid(layer)].managed;\n        if (!(getUid(feature) in frameState.skippedFeatureUids && !managed)) {\n          return callback.call(thisArg, feature, managed ? layer : null);\n        }\n      }\n\n      var projection = viewState.projection;\n\n      var translatedCoordinate = coordinate;\n      if (projection.canWrapX()) {\n        var projectionExtent = projection.getExtent();\n        var worldWidth = getWidth(projectionExtent);\n        var x = coordinate[0];\n        if (x < projectionExtent[0] || x > projectionExtent[2]) {\n          var worldsAway = Math.ceil((projectionExtent[0] - x) / worldWidth);\n          translatedCoordinate = [x + worldWidth * worldsAway, coordinate[1]];\n        }\n      }\n\n      var layerStates = frameState.layerStatesArray;\n      var numLayers = layerStates.length;\n      var i;\n      for (i = numLayers - 1; i >= 0; --i) {\n        var layerState = layerStates[i];\n        var layer = layerState.layer;\n        if (visibleAtResolution(layerState, viewResolution) && layerFilter.call(thisArg2, layer)) {\n          var layerRenderer = this.getLayerRenderer(layer);\n          var source = /** @type {import(\"../layer/Layer.js\").default} */ (layer).getSource();\n          if (source) {\n            result = layerRenderer.forEachFeatureAtCoordinate(\n              source.getWrapX() ? translatedCoordinate : coordinate,\n              frameState, hitTolerance, forEachFeatureAtCoordinate);\n          }\n          if (result) {\n            return result;\n          }\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * @abstract\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {function(this: S, import(\"../layer/Layer.js\").default, (Uint8ClampedArray|Uint8Array)): T} callback Layer\n     *     callback.\n     * @param {S} thisArg Value to use as `this` when executing `callback`.\n     * @param {function(this: U, import(\"../layer/Layer.js\").default): boolean} layerFilter Layer filter\n     *     function, only layers which are visible and for which this function\n     *     returns `true` will be tested for features.  By default, all visible\n     *     layers will be tested.\n     * @param {U} thisArg2 Value to use as `this` when executing `layerFilter`.\n     * @return {T|undefined} Callback result.\n     * @template S,T,U\n     */\n    MapRenderer.prototype.forEachLayerAtPixel = function forEachLayerAtPixel (pixel, frameState, hitTolerance, callback, thisArg, layerFilter, thisArg2) {\n      return abstract();\n    };\n\n    /**\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {function(this: U, import(\"../layer/Layer.js\").default): boolean} layerFilter Layer filter\n     *     function, only layers which are visible and for which this function\n     *     returns `true` will be tested for features.  By default, all visible\n     *     layers will be tested.\n     * @param {U} thisArg Value to use as `this` when executing `layerFilter`.\n     * @return {boolean} Is there a feature at the given coordinate?\n     * @template U\n     */\n    MapRenderer.prototype.hasFeatureAtCoordinate = function hasFeatureAtCoordinate (coordinate, frameState, hitTolerance, layerFilter, thisArg) {\n      var hasFeature = this.forEachFeatureAtCoordinate(\n        coordinate, frameState, hitTolerance, TRUE, this, layerFilter, thisArg);\n\n      return hasFeature !== undefined;\n    };\n\n    /**\n     * @param {import(\"../layer/Base.js\").default} layer Layer.\n     * @protected\n     * @return {import(\"./Layer.js\").default} Layer renderer.\n     */\n    MapRenderer.prototype.getLayerRenderer = function getLayerRenderer (layer) {\n      var layerKey = getUid(layer);\n      if (layerKey in this.layerRenderers_) {\n        return this.layerRenderers_[layerKey];\n      } else {\n        var renderer;\n        for (var i = 0, ii = this.layerRendererConstructors_.length; i < ii; ++i) {\n          var candidate = this.layerRendererConstructors_[i];\n          if (candidate['handles'](layer)) {\n            renderer = candidate['create'](this, layer);\n            break;\n          }\n        }\n        if (renderer) {\n          this.layerRenderers_[layerKey] = renderer;\n          this.layerRendererListeners_[layerKey] = listen(renderer,\n            EventType.CHANGE, this.handleLayerRendererChange_, this);\n        } else {\n          throw new Error('Unable to create renderer for layer: ' + layer.getType());\n        }\n        return renderer;\n      }\n    };\n\n    /**\n     * @param {string} layerKey Layer key.\n     * @protected\n     * @return {import(\"./Layer.js\").default} Layer renderer.\n     */\n    MapRenderer.prototype.getLayerRendererByKey = function getLayerRendererByKey (layerKey) {\n      return this.layerRenderers_[layerKey];\n    };\n\n    /**\n     * @protected\n     * @return {Object<string, import(\"./Layer.js\").default>} Layer renderers.\n     */\n    MapRenderer.prototype.getLayerRenderers = function getLayerRenderers () {\n      return this.layerRenderers_;\n    };\n\n    /**\n     * @return {import(\"../PluggableMap.js\").default} Map.\n     */\n    MapRenderer.prototype.getMap = function getMap () {\n      return this.map_;\n    };\n\n    /**\n     * Handle changes in a layer renderer.\n     * @private\n     */\n    MapRenderer.prototype.handleLayerRendererChange_ = function handleLayerRendererChange_ () {\n      this.map_.render();\n    };\n\n    /**\n     * @param {string} layerKey Layer key.\n     * @return {import(\"./Layer.js\").default} Layer renderer.\n     * @private\n     */\n    MapRenderer.prototype.removeLayerRendererByKey_ = function removeLayerRendererByKey_ (layerKey) {\n      var layerRenderer = this.layerRenderers_[layerKey];\n      delete this.layerRenderers_[layerKey];\n\n      unlistenByKey(this.layerRendererListeners_[layerKey]);\n      delete this.layerRendererListeners_[layerKey];\n\n      return layerRenderer;\n    };\n\n    /**\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @private\n     */\n    MapRenderer.prototype.removeUnusedLayerRenderers_ = function removeUnusedLayerRenderers_ (map, frameState) {\n      for (var layerKey in this.layerRenderers_) {\n        if (!frameState || !(layerKey in frameState.layerStates)) {\n          this.removeLayerRendererByKey_(layerKey).dispose();\n        }\n      }\n    };\n\n    /**\n     * Render.\n     * @abstract\n     * @param {?import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    MapRenderer.prototype.renderFrame = function renderFrame (frameState) {\n      abstract();\n    };\n\n    /**\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @protected\n     */\n    MapRenderer.prototype.scheduleExpireIconCache = function scheduleExpireIconCache (frameState) {\n      frameState.postRenderFunctions.push(/** @type {import(\"../PluggableMap.js\").PostRenderFunction} */ (expireIconCache));\n    };\n\n    /**\n     * @param {!import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @protected\n     */\n    MapRenderer.prototype.scheduleRemoveUnusedLayerRenderers = function scheduleRemoveUnusedLayerRenderers (frameState) {\n      for (var layerKey in this.layerRenderers_) {\n        if (!(layerKey in frameState.layerStates)) {\n          frameState.postRenderFunctions.push(\n            /** @type {import(\"../PluggableMap.js\").PostRenderFunction} */ (this.removeUnusedLayerRenderers_.bind(this))\n          );\n          return;\n        }\n      }\n    };\n\n    return MapRenderer;\n  }(Disposable));\n\n\n  /**\n   * @param {import(\"../PluggableMap.js\").default} map Map.\n   * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n   */\n  function expireIconCache(map, frameState) {\n    shared.expire();\n  }\n\n\n  /**\n   * @param {import(\"../layer/Layer.js\").State} state1 First layer state.\n   * @param {import(\"../layer/Layer.js\").State} state2 Second layer state.\n   * @return {number} The zIndex difference.\n   */\n  function sortByZIndex(state1, state2) {\n    return state1.zIndex - state2.zIndex;\n  }\n\n  /**\n   * @module ol/renderer/canvas/Map\n   */\n\n\n  /**\n   * @type {Array<typeof import(\"../Layer.js\").default>}\n   */\n  var layerRendererConstructors = [];\n\n  /**\n   * @classdesc\n   * Canvas map renderer.\n   * @api\n   */\n  var CanvasMapRenderer = /*@__PURE__*/(function (MapRenderer$$1) {\n    function CanvasMapRenderer(map) {\n      MapRenderer$$1.call(this, map);\n\n      var container = map.getViewport();\n\n      /**\n       * @private\n       * @type {CanvasRenderingContext2D}\n       */\n      this.context_ = createCanvasContext2D();\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement}\n       */\n      this.canvas_ = this.context_.canvas;\n\n      this.canvas_.style.width = '100%';\n      this.canvas_.style.height = '100%';\n      this.canvas_.style.display = 'block';\n      this.canvas_.className = CLASS_UNSELECTABLE;\n      container.insertBefore(this.canvas_, container.childNodes[0] || null);\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.renderedVisible_ = true;\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.transform_ = create();\n\n    }\n\n    if ( MapRenderer$$1 ) CanvasMapRenderer.__proto__ = MapRenderer$$1;\n    CanvasMapRenderer.prototype = Object.create( MapRenderer$$1 && MapRenderer$$1.prototype );\n    CanvasMapRenderer.prototype.constructor = CanvasMapRenderer;\n\n    /**\n     * @param {import(\"../../render/EventType.js\").default} type Event type.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    CanvasMapRenderer.prototype.dispatchRenderEvent = function dispatchRenderEvent (type, frameState) {\n      var map = this.getMap();\n      var context = this.context_;\n      if (map.hasListener(type)) {\n        var extent = frameState.extent;\n        var pixelRatio = frameState.pixelRatio;\n        var viewState = frameState.viewState;\n        var rotation = viewState.rotation;\n\n        var transform = this.getTransform(frameState);\n\n        var vectorContext = new CanvasImmediateRenderer(context, pixelRatio,\n          extent, transform, rotation);\n        var composeEvent = new RenderEvent(type, vectorContext,\n          frameState, context, null);\n        map.dispatchEvent(composeEvent);\n      }\n    };\n\n    /**\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @protected\n     * @return {!import(\"../../transform.js\").Transform} Transform.\n     */\n    CanvasMapRenderer.prototype.getTransform = function getTransform (frameState) {\n      var viewState = frameState.viewState;\n      var dx1 = this.canvas_.width / 2;\n      var dy1 = this.canvas_.height / 2;\n      var sx = frameState.pixelRatio / viewState.resolution;\n      var sy = -sx;\n      var angle = -viewState.rotation;\n      var dx2 = -viewState.center[0];\n      var dy2 = -viewState.center[1];\n      return compose(this.transform_, dx1, dy1, sx, sy, angle, dx2, dy2);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasMapRenderer.prototype.renderFrame = function renderFrame (frameState) {\n\n      if (!frameState) {\n        if (this.renderedVisible_) {\n          this.canvas_.style.display = 'none';\n          this.renderedVisible_ = false;\n        }\n        return;\n      }\n\n      var context = this.context_;\n      var pixelRatio = frameState.pixelRatio;\n      var width = Math.round(frameState.size[0] * pixelRatio);\n      var height = Math.round(frameState.size[1] * pixelRatio);\n      if (this.canvas_.width != width || this.canvas_.height != height) {\n        this.canvas_.width = width;\n        this.canvas_.height = height;\n      } else {\n        context.clearRect(0, 0, width, height);\n      }\n\n      var rotation = frameState.viewState.rotation;\n\n      this.calculateMatrices2D(frameState);\n\n      this.dispatchRenderEvent(RenderEventType.PRECOMPOSE, frameState);\n\n      var layerStatesArray = frameState.layerStatesArray;\n      stableSort(layerStatesArray, sortByZIndex);\n\n      if (rotation) {\n        context.save();\n        rotateAtOffset(context, rotation, width / 2, height / 2);\n      }\n\n      var viewResolution = frameState.viewState.resolution;\n      var i, ii;\n      for (i = 0, ii = layerStatesArray.length; i < ii; ++i) {\n        var layerState = layerStatesArray[i];\n        var layer = layerState.layer;\n        var layerRenderer = /** @type {import(\"./Layer.js\").default} */ (this.getLayerRenderer(layer));\n        if (!visibleAtResolution(layerState, viewResolution) ||\n            layerState.sourceState != SourceState.READY) {\n          continue;\n        }\n        if (layerRenderer.prepareFrame(frameState, layerState)) {\n          layerRenderer.composeFrame(frameState, layerState, context);\n        }\n      }\n\n      if (rotation) {\n        context.restore();\n      }\n\n      this.dispatchRenderEvent(RenderEventType.POSTCOMPOSE, frameState);\n\n      if (!this.renderedVisible_) {\n        this.canvas_.style.display = '';\n        this.renderedVisible_ = true;\n      }\n\n      this.scheduleRemoveUnusedLayerRenderers(frameState);\n      this.scheduleExpireIconCache(frameState);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasMapRenderer.prototype.forEachLayerAtPixel = function forEachLayerAtPixel (pixel, frameState, hitTolerance, callback, thisArg, layerFilter, thisArg2) {\n      var result;\n      var viewState = frameState.viewState;\n      var viewResolution = viewState.resolution;\n\n      var layerStates = frameState.layerStatesArray;\n      var numLayers = layerStates.length;\n\n      var coordinate = apply(\n        frameState.pixelToCoordinateTransform, pixel.slice());\n\n      var i;\n      for (i = numLayers - 1; i >= 0; --i) {\n        var layerState = layerStates[i];\n        var layer = layerState.layer;\n        if (visibleAtResolution(layerState, viewResolution) && layerFilter.call(thisArg2, layer)) {\n          var layerRenderer = /** @type {import(\"./Layer.js\").default} */ (this.getLayerRenderer(layer));\n          result = layerRenderer.forEachLayerAtCoordinate(\n            coordinate, frameState, hitTolerance, callback, thisArg);\n          if (result) {\n            return result;\n          }\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasMapRenderer.prototype.registerLayerRenderers = function registerLayerRenderers (constructors) {\n      MapRenderer$$1.prototype.registerLayerRenderers.call(this, constructors);\n      for (var i = 0, ii = constructors.length; i < ii; ++i) {\n        var ctor = constructors[i];\n        if (!includes(layerRendererConstructors, ctor)) {\n          layerRendererConstructors.push(ctor);\n        }\n      }\n    };\n\n    return CanvasMapRenderer;\n  }(MapRenderer));\n\n  /**\n   * @module ol/renderer/Layer\n   */\n\n  var LayerRenderer = /*@__PURE__*/(function (Observable$$1) {\n    function LayerRenderer(layer) {\n\n      Observable$$1.call(this);\n\n      /**\n       * @private\n       * @type {import(\"../layer/Layer.js\").default}\n       */\n      this.layer_ = layer;\n\n    }\n\n    if ( Observable$$1 ) LayerRenderer.__proto__ = Observable$$1;\n    LayerRenderer.prototype = Object.create( Observable$$1 && Observable$$1.prototype );\n    LayerRenderer.prototype.constructor = LayerRenderer;\n\n    /**\n     * Create a function that adds loaded tiles to the tile lookup.\n     * @param {import(\"../source/Tile.js\").default} source Tile source.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection of the tiles.\n     * @param {Object<number, Object<string, import(\"../Tile.js\").default>>} tiles Lookup of loaded tiles by zoom level.\n     * @return {function(number, import(\"../TileRange.js\").default):boolean} A function that can be\n     *     called with a zoom level and a tile range to add loaded tiles to the lookup.\n     * @protected\n     */\n    LayerRenderer.prototype.createLoadedTileFinder = function createLoadedTileFinder (source, projection, tiles) {\n      return (\n        /**\n         * @param {number} zoom Zoom level.\n         * @param {import(\"../TileRange.js\").default} tileRange Tile range.\n         * @return {boolean} The tile range is fully loaded.\n         */\n        function(zoom, tileRange) {\n          /**\n           * @param {import(\"../Tile.js\").default} tile Tile.\n           */\n          function callback(tile) {\n            if (!tiles[zoom]) {\n              tiles[zoom] = {};\n            }\n            tiles[zoom][tile.tileCoord.toString()] = tile;\n          }\n          return source.forEachLoadedTile(projection, zoom, tileRange, callback);\n        }\n      );\n    };\n\n    /**\n     * @abstract\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {function(import(\"../Feature.js\").FeatureLike, import(\"../layer/Layer.js\").default): T} callback Feature callback.\n     * @return {T|void} Callback result.\n     * @template T\n     */\n    LayerRenderer.prototype.forEachFeatureAtCoordinate = function forEachFeatureAtCoordinate (coordinate, frameState, hitTolerance, callback) {};\n\n    /**\n     * @return {import(\"../layer/Layer.js\").default} Layer.\n     */\n    LayerRenderer.prototype.getLayer = function getLayer () {\n      return this.layer_;\n    };\n\n    /**\n     * Handle changes in image state.\n     * @param {import(\"../events/Event.js\").default} event Image change event.\n     * @private\n     */\n    LayerRenderer.prototype.handleImageChange_ = function handleImageChange_ (event) {\n      var image = /** @type {import(\"../Image.js\").default} */ (event.target);\n      if (image.getState() === ImageState.LOADED) {\n        this.renderIfReadyAndVisible();\n      }\n    };\n\n    /**\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {boolean} Is there a feature at the given coordinate?\n     */\n    LayerRenderer.prototype.hasFeatureAtCoordinate = function hasFeatureAtCoordinate (coordinate, frameState) {\n      return false;\n    };\n\n    /**\n     * Load the image if not already loaded, and register the image change\n     * listener if needed.\n     * @param {import(\"../ImageBase.js\").default} image Image.\n     * @return {boolean} `true` if the image is already loaded, `false` otherwise.\n     * @protected\n     */\n    LayerRenderer.prototype.loadImage = function loadImage (image) {\n      var imageState = image.getState();\n      if (imageState != ImageState.LOADED && imageState != ImageState.ERROR) {\n        listen(image, EventType.CHANGE, this.handleImageChange_, this);\n      }\n      if (imageState == ImageState.IDLE) {\n        image.load();\n        imageState = image.getState();\n      }\n      return imageState == ImageState.LOADED;\n    };\n\n    /**\n     * @protected\n     */\n    LayerRenderer.prototype.renderIfReadyAndVisible = function renderIfReadyAndVisible () {\n      var layer = this.getLayer();\n      if (layer.getVisible() && layer.getSourceState() == SourceState.READY) {\n        this.changed();\n      }\n    };\n\n    /**\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../source/Tile.js\").default} tileSource Tile source.\n     * @protected\n     */\n    LayerRenderer.prototype.scheduleExpireCache = function scheduleExpireCache (frameState, tileSource) {\n      if (tileSource.canExpireCache()) {\n        /**\n         * @param {import(\"../source/Tile.js\").default} tileSource Tile source.\n         * @param {import(\"../PluggableMap.js\").default} map Map.\n         * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n         */\n        var postRenderFunction = function(tileSource, map, frameState) {\n          var tileSourceKey = getUid(tileSource);\n          if (tileSourceKey in frameState.usedTiles) {\n            tileSource.expireCache(frameState.viewState.projection,\n              frameState.usedTiles[tileSourceKey]);\n          }\n        }.bind(null, tileSource);\n\n        frameState.postRenderFunctions.push(\n          /** @type {import(\"../PluggableMap.js\").PostRenderFunction} */ (postRenderFunction)\n        );\n      }\n    };\n\n    /**\n     * @param {!Object<string, !Object<string, import(\"../TileRange.js\").default>>} usedTiles Used tiles.\n     * @param {import(\"../source/Tile.js\").default} tileSource Tile source.\n     * @param {number} z Z.\n     * @param {import(\"../TileRange.js\").default} tileRange Tile range.\n     * @protected\n     */\n    LayerRenderer.prototype.updateUsedTiles = function updateUsedTiles (usedTiles, tileSource, z, tileRange) {\n      // FIXME should we use tilesToDrawByZ instead?\n      var tileSourceKey = getUid(tileSource);\n      var zKey = z.toString();\n      if (tileSourceKey in usedTiles) {\n        if (zKey in usedTiles[tileSourceKey]) {\n          usedTiles[tileSourceKey][zKey].extend(tileRange);\n        } else {\n          usedTiles[tileSourceKey][zKey] = tileRange;\n        }\n      } else {\n        usedTiles[tileSourceKey] = {};\n        usedTiles[tileSourceKey][zKey] = tileRange;\n      }\n    };\n\n    /**\n     * Manage tile pyramid.\n     * This function performs a number of functions related to the tiles at the\n     * current zoom and lower zoom levels:\n     * - registers idle tiles in frameState.wantedTiles so that they are not\n     *   discarded by the tile queue\n     * - enqueues missing tiles\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../source/Tile.js\").default} tileSource Tile source.\n     * @param {import(\"../tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} currentZ Current Z.\n     * @param {number} preload Load low resolution tiles up to 'preload' levels.\n     * @param {function(this: T, import(\"../Tile.js\").default)=} opt_tileCallback Tile callback.\n     * @param {T=} opt_this Object to use as `this` in `opt_tileCallback`.\n     * @protected\n     * @template T\n     */\n    LayerRenderer.prototype.manageTilePyramid = function manageTilePyramid (\n      frameState,\n      tileSource,\n      tileGrid,\n      pixelRatio,\n      projection,\n      extent,\n      currentZ,\n      preload,\n      opt_tileCallback,\n      opt_this\n    ) {\n      var tileSourceKey = getUid(tileSource);\n      if (!(tileSourceKey in frameState.wantedTiles)) {\n        frameState.wantedTiles[tileSourceKey] = {};\n      }\n      var wantedTiles = frameState.wantedTiles[tileSourceKey];\n      var tileQueue = frameState.tileQueue;\n      var minZoom = tileGrid.getMinZoom();\n      var tile, tileRange, tileResolution, x, y, z;\n      for (z = minZoom; z <= currentZ; ++z) {\n        tileRange = tileGrid.getTileRangeForExtentAndZ(extent, z, tileRange);\n        tileResolution = tileGrid.getResolution(z);\n        for (x = tileRange.minX; x <= tileRange.maxX; ++x) {\n          for (y = tileRange.minY; y <= tileRange.maxY; ++y) {\n            if (currentZ - z <= preload) {\n              tile = tileSource.getTile(z, x, y, pixelRatio, projection);\n              if (tile.getState() == TileState.IDLE) {\n                wantedTiles[tile.getKey()] = true;\n                if (!tileQueue.isKeyQueued(tile.getKey())) {\n                  tileQueue.enqueue([tile, tileSourceKey,\n                    tileGrid.getTileCoordCenter(tile.tileCoord), tileResolution]);\n                }\n              }\n              if (opt_tileCallback !== undefined) {\n                opt_tileCallback.call(opt_this, tile);\n              }\n            } else {\n              tileSource.useTile(z, x, y, projection);\n            }\n          }\n        }\n      }\n    };\n\n    return LayerRenderer;\n  }(Observable));\n\n  /**\n   * @module ol/renderer/canvas/Layer\n   */\n\n  /**\n   * @abstract\n   */\n  var CanvasLayerRenderer = /*@__PURE__*/(function (LayerRenderer$$1) {\n    function CanvasLayerRenderer(layer) {\n\n      LayerRenderer$$1.call(this, layer);\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.renderedResolution;\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.transform_ = create();\n\n    }\n\n    if ( LayerRenderer$$1 ) CanvasLayerRenderer.__proto__ = LayerRenderer$$1;\n    CanvasLayerRenderer.prototype = Object.create( LayerRenderer$$1 && LayerRenderer$$1.prototype );\n    CanvasLayerRenderer.prototype.constructor = CanvasLayerRenderer;\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../extent.js\").Extent} extent Clip extent.\n     * @protected\n     */\n    CanvasLayerRenderer.prototype.clip = function clip (context, frameState, extent) {\n      var pixelRatio = frameState.pixelRatio;\n      var width = frameState.size[0] * pixelRatio;\n      var height = frameState.size[1] * pixelRatio;\n      var rotation = frameState.viewState.rotation;\n      var topLeft = getTopLeft(extent);\n      var topRight = getTopRight(extent);\n      var bottomRight = getBottomRight(extent);\n      var bottomLeft = getBottomLeft(extent);\n\n      apply(frameState.coordinateToPixelTransform, topLeft);\n      apply(frameState.coordinateToPixelTransform, topRight);\n      apply(frameState.coordinateToPixelTransform, bottomRight);\n      apply(frameState.coordinateToPixelTransform, bottomLeft);\n\n      context.save();\n      rotateAtOffset(context, -rotation, width / 2, height / 2);\n      context.beginPath();\n      context.moveTo(topLeft[0] * pixelRatio, topLeft[1] * pixelRatio);\n      context.lineTo(topRight[0] * pixelRatio, topRight[1] * pixelRatio);\n      context.lineTo(bottomRight[0] * pixelRatio, bottomRight[1] * pixelRatio);\n      context.lineTo(bottomLeft[0] * pixelRatio, bottomLeft[1] * pixelRatio);\n      context.clip();\n      rotateAtOffset(context, rotation, width / 2, height / 2);\n    };\n\n    /**\n     * @param {import(\"../../render/EventType.js\").default} type Event type.\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../transform.js\").Transform=} opt_transform Transform.\n     * @private\n     */\n    CanvasLayerRenderer.prototype.dispatchComposeEvent_ = function dispatchComposeEvent_ (type, context, frameState, opt_transform) {\n      var layer = this.getLayer();\n      if (layer.hasListener(type)) {\n        var width = frameState.size[0] * frameState.pixelRatio;\n        var height = frameState.size[1] * frameState.pixelRatio;\n        var rotation = frameState.viewState.rotation;\n        rotateAtOffset(context, -rotation, width / 2, height / 2);\n        var transform = opt_transform !== undefined ?\n          opt_transform : this.getTransform(frameState, 0);\n        var render = new CanvasImmediateRenderer(\n          context, frameState.pixelRatio, frameState.extent, transform,\n          frameState.viewState.rotation);\n        var composeEvent = new RenderEvent(type, render, frameState,\n          context, null);\n        layer.dispatchEvent(composeEvent);\n        rotateAtOffset(context, rotation, width / 2, height / 2);\n      }\n    };\n\n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {function(this: S, import(\"../../layer/Layer.js\").default, (Uint8ClampedArray|Uint8Array)): T} callback Layer\n     *     callback.\n     * @param {S} thisArg Value to use as `this` when executing `callback`.\n     * @return {T|undefined} Callback result.\n     * @template S,T,U\n     */\n    CanvasLayerRenderer.prototype.forEachLayerAtCoordinate = function forEachLayerAtCoordinate (coordinate, frameState, hitTolerance, callback, thisArg) {\n      var hasFeature = this.forEachFeatureAtCoordinate(coordinate, frameState, hitTolerance, TRUE);\n\n      if (hasFeature) {\n        return callback.call(thisArg, this.getLayer(), null);\n      } else {\n        return undefined;\n      }\n    };\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../layer/Layer.js\").State} layerState Layer state.\n     * @param {import(\"../../transform.js\").Transform=} opt_transform Transform.\n     * @protected\n     */\n    CanvasLayerRenderer.prototype.postCompose = function postCompose (context, frameState, layerState, opt_transform) {\n      this.dispatchComposeEvent_(RenderEventType.POSTCOMPOSE, context, frameState, opt_transform);\n    };\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../transform.js\").Transform=} opt_transform Transform.\n     * @protected\n     */\n    CanvasLayerRenderer.prototype.preCompose = function preCompose (context, frameState, opt_transform) {\n      this.dispatchComposeEvent_(RenderEventType.PRECOMPOSE, context, frameState, opt_transform);\n    };\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../transform.js\").Transform=} opt_transform Transform.\n     * @protected\n     */\n    CanvasLayerRenderer.prototype.dispatchRenderEvent = function dispatchRenderEvent (context, frameState, opt_transform) {\n      this.dispatchComposeEvent_(RenderEventType.RENDER, context, frameState, opt_transform);\n    };\n\n    /**\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {number} offsetX Offset on the x-axis in view coordinates.\n     * @protected\n     * @return {!import(\"../../transform.js\").Transform} Transform.\n     */\n    CanvasLayerRenderer.prototype.getTransform = function getTransform (frameState, offsetX) {\n      var viewState = frameState.viewState;\n      var pixelRatio = frameState.pixelRatio;\n      var dx1 = pixelRatio * frameState.size[0] / 2;\n      var dy1 = pixelRatio * frameState.size[1] / 2;\n      var sx = pixelRatio / viewState.resolution;\n      var sy = -sx;\n      var angle = -viewState.rotation;\n      var dx2 = -viewState.center[0] + offsetX;\n      var dy2 = -viewState.center[1];\n      return compose(this.transform_, dx1, dy1, sx, sy, angle, dx2, dy2);\n    };\n\n    /**\n     * @abstract\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../layer/Layer.js\").State} layerState Layer state.\n     * @param {CanvasRenderingContext2D} context Context.\n     */\n    CanvasLayerRenderer.prototype.composeFrame = function composeFrame (frameState, layerState, context) {\n      abstract();\n    };\n\n    /**\n     * @abstract\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../layer/Layer.js\").State} layerState Layer state.\n     * @return {boolean} whether composeFrame should be called.\n     */\n    CanvasLayerRenderer.prototype.prepareFrame = function prepareFrame (frameState, layerState) {\n      return abstract();\n    };\n\n    return CanvasLayerRenderer;\n  }(LayerRenderer));\n\n  /**\n   * @module ol/renderer/canvas/IntermediateCanvas\n   */\n\n  /**\n   * @abstract\n   */\n  var IntermediateCanvasRenderer = /*@__PURE__*/(function (CanvasLayerRenderer$$1) {\n    function IntermediateCanvasRenderer(layer) {\n\n      CanvasLayerRenderer$$1.call(this, layer);\n\n      /**\n       * @protected\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.coordinateToCanvasPixelTransform = create();\n\n      /**\n       * @private\n       * @type {CanvasRenderingContext2D}\n       */\n      this.hitCanvasContext_ = null;\n\n    }\n\n    if ( CanvasLayerRenderer$$1 ) IntermediateCanvasRenderer.__proto__ = CanvasLayerRenderer$$1;\n    IntermediateCanvasRenderer.prototype = Object.create( CanvasLayerRenderer$$1 && CanvasLayerRenderer$$1.prototype );\n    IntermediateCanvasRenderer.prototype.constructor = IntermediateCanvasRenderer;\n\n    /**\n     * @inheritDoc\n     */\n    IntermediateCanvasRenderer.prototype.composeFrame = function composeFrame (frameState, layerState, context) {\n\n      this.preCompose(context, frameState);\n\n      var image = this.getImage();\n      if (image) {\n\n        // clipped rendering if layer extent is set\n        var extent = layerState.extent;\n        var clipped = extent !== undefined &&\n            !containsExtent(extent, frameState.extent) &&\n            intersects(extent, frameState.extent);\n        if (clipped) {\n          this.clip(context, frameState, /** @type {import(\"../../extent.js\").Extent} */ (extent));\n        }\n\n        var imageTransform = this.getImageTransform();\n        // for performance reasons, context.save / context.restore is not used\n        // to save and restore the transformation matrix and the opacity.\n        // see http://jsperf.com/context-save-restore-versus-variable\n        var alpha = context.globalAlpha;\n        context.globalAlpha = layerState.opacity;\n\n        // for performance reasons, context.setTransform is only used\n        // when the view is rotated. see http://jsperf.com/canvas-transform\n        var dx = imageTransform[4];\n        var dy = imageTransform[5];\n        var dw = image.width * imageTransform[0];\n        var dh = image.height * imageTransform[3];\n        if (dw >= 0.5 && dh >= 0.5) {\n          context.drawImage(image, 0, 0, +image.width, +image.height,\n            Math.round(dx), Math.round(dy), Math.round(dw), Math.round(dh));\n        }\n        context.globalAlpha = alpha;\n\n        if (clipped) {\n          context.restore();\n        }\n      }\n\n      this.postCompose(context, frameState, layerState);\n    };\n\n    /**\n     * @abstract\n     * @return {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} Canvas.\n     */\n    IntermediateCanvasRenderer.prototype.getImage = function getImage () {\n      return abstract();\n    };\n\n    /**\n     * @abstract\n     * @return {!import(\"../../transform.js\").Transform} Image transform.\n     */\n    IntermediateCanvasRenderer.prototype.getImageTransform = function getImageTransform () {\n      return abstract();\n    };\n\n    /**\n     * @inheritDoc\n     */\n    IntermediateCanvasRenderer.prototype.forEachLayerAtCoordinate = function forEachLayerAtCoordinate (coordinate, frameState, hitTolerance, callback, thisArg) {\n      if (!this.getImage()) {\n        return undefined;\n      }\n\n      var pixel = apply(this.coordinateToCanvasPixelTransform, coordinate.slice());\n      scale(pixel, frameState.viewState.resolution / this.renderedResolution);\n\n      if (!this.hitCanvasContext_) {\n        this.hitCanvasContext_ = createCanvasContext2D(1, 1);\n      }\n\n      this.hitCanvasContext_.clearRect(0, 0, 1, 1);\n      this.hitCanvasContext_.drawImage(this.getImage(), pixel[0], pixel[1], 1, 1, 0, 0, 1, 1);\n\n      var imageData = this.hitCanvasContext_.getImageData(0, 0, 1, 1).data;\n      if (imageData[3] > 0) {\n        return callback.call(thisArg, this.getLayer(), imageData);\n      } else {\n        return undefined;\n      }\n    };\n\n    return IntermediateCanvasRenderer;\n  }(CanvasLayerRenderer));\n\n  /**\n   * @module ol/renderer/canvas/ImageLayer\n   */\n\n  /**\n   * @classdesc\n   * Canvas renderer for image layers.\n   * @api\n   */\n  var CanvasImageLayerRenderer = /*@__PURE__*/(function (IntermediateCanvasRenderer$$1) {\n    function CanvasImageLayerRenderer(imageLayer) {\n\n      IntermediateCanvasRenderer$$1.call(this, imageLayer);\n\n      /**\n       * @private\n       * @type {?import(\"../../ImageBase.js\").default}\n       */\n      this.image_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.imageTransform_ = create();\n\n      /**\n       * @type {!Array<string>}\n       */\n      this.skippedFeatures_ = [];\n\n      /**\n       * @private\n       * @type {import(\"./VectorLayer.js\").default}\n       */\n      this.vectorRenderer_ = null;\n\n      if (imageLayer.getType() === LayerType.VECTOR) {\n        for (var i = 0, ii = layerRendererConstructors.length; i < ii; ++i) {\n          var ctor = layerRendererConstructors[i];\n          if (ctor !== CanvasImageLayerRenderer && ctor['handles'](imageLayer)) {\n            this.vectorRenderer_ = /** @type {import(\"./VectorLayer.js\").default} */ (new ctor(imageLayer));\n            break;\n          }\n        }\n      }\n\n    }\n\n    if ( IntermediateCanvasRenderer$$1 ) CanvasImageLayerRenderer.__proto__ = IntermediateCanvasRenderer$$1;\n    CanvasImageLayerRenderer.prototype = Object.create( IntermediateCanvasRenderer$$1 && IntermediateCanvasRenderer$$1.prototype );\n    CanvasImageLayerRenderer.prototype.constructor = CanvasImageLayerRenderer;\n\n    /**\n     * @inheritDoc\n     */\n    CanvasImageLayerRenderer.prototype.disposeInternal = function disposeInternal () {\n      if (this.vectorRenderer_) {\n        this.vectorRenderer_.dispose();\n      }\n      IntermediateCanvasRenderer$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasImageLayerRenderer.prototype.getImage = function getImage () {\n      return !this.image_ ? null : this.image_.getImage();\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasImageLayerRenderer.prototype.getImageTransform = function getImageTransform () {\n      return this.imageTransform_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasImageLayerRenderer.prototype.prepareFrame = function prepareFrame (frameState, layerState) {\n\n      var pixelRatio = frameState.pixelRatio;\n      var size = frameState.size;\n      var viewState = frameState.viewState;\n      var viewCenter = viewState.center;\n      var viewResolution = viewState.resolution;\n\n      var image;\n      var imageLayer = /** @type {import(\"../../layer/Image.js\").default} */ (this.getLayer());\n      var imageSource = /** @type {import(\"../../source/Image.js\").default} */ (imageLayer.getSource());\n\n      var hints = frameState.viewHints;\n\n      var vectorRenderer = this.vectorRenderer_;\n      var renderedExtent = frameState.extent;\n      if (!vectorRenderer && layerState.extent !== undefined) {\n        renderedExtent = getIntersection(renderedExtent, layerState.extent);\n      }\n\n      if (!hints[ViewHint.ANIMATING] && !hints[ViewHint.INTERACTING] &&\n          !isEmpty$1(renderedExtent)) {\n        var projection = viewState.projection;\n        var skippedFeatures = this.skippedFeatures_;\n        if (vectorRenderer) {\n          var context = vectorRenderer.context;\n          var imageFrameState = /** @type {import(\"../../PluggableMap.js\").FrameState} */ (assign({}, frameState, {\n            size: [\n              getWidth(renderedExtent) / viewResolution,\n              getHeight(renderedExtent) / viewResolution\n            ],\n            viewState: /** @type {import(\"../../View.js\").State} */ (assign({}, frameState.viewState, {\n              rotation: 0\n            }))\n          }));\n          var newSkippedFeatures = Object.keys(imageFrameState.skippedFeatureUids).sort();\n          image = new ImageCanvas(renderedExtent, viewResolution, pixelRatio, context.canvas, function(callback) {\n            if (vectorRenderer.prepareFrame(imageFrameState, layerState) &&\n                (vectorRenderer.replayGroupChanged ||\n                !equals(skippedFeatures, newSkippedFeatures))) {\n              context.canvas.width = imageFrameState.size[0] * pixelRatio;\n              context.canvas.height = imageFrameState.size[1] * pixelRatio;\n              vectorRenderer.compose(context, imageFrameState, layerState);\n              skippedFeatures = newSkippedFeatures;\n              callback();\n            }\n          });\n        } else {\n          image = imageSource.getImage(\n            renderedExtent, viewResolution, pixelRatio, projection);\n        }\n        if (image && this.loadImage(image)) {\n          this.image_ = image;\n          this.skippedFeatures_ = skippedFeatures;\n        }\n      }\n\n      if (this.image_) {\n        image = this.image_;\n        var imageExtent = image.getExtent();\n        var imageResolution = image.getResolution();\n        var imagePixelRatio = image.getPixelRatio();\n        var scale = pixelRatio * imageResolution /\n            (viewResolution * imagePixelRatio);\n        var transform = compose(this.imageTransform_,\n          pixelRatio * size[0] / 2, pixelRatio * size[1] / 2,\n          scale, scale,\n          0,\n          imagePixelRatio * (imageExtent[0] - viewCenter[0]) / imageResolution,\n          imagePixelRatio * (viewCenter[1] - imageExtent[3]) / imageResolution);\n        compose(this.coordinateToCanvasPixelTransform,\n          pixelRatio * size[0] / 2 - transform[4], pixelRatio * size[1] / 2 - transform[5],\n          pixelRatio / viewResolution, -pixelRatio / viewResolution,\n          0,\n          -viewCenter[0], -viewCenter[1]);\n\n        this.renderedResolution = imageResolution * pixelRatio / imagePixelRatio;\n      }\n\n      return !!this.image_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasImageLayerRenderer.prototype.forEachFeatureAtCoordinate = function forEachFeatureAtCoordinate (coordinate, frameState, hitTolerance, callback) {\n      if (this.vectorRenderer_) {\n        return this.vectorRenderer_.forEachFeatureAtCoordinate(coordinate, frameState, hitTolerance, callback);\n      } else {\n        return IntermediateCanvasRenderer$$1.prototype.forEachFeatureAtCoordinate.call(this, coordinate, frameState, hitTolerance, callback);\n      }\n    };\n\n    return CanvasImageLayerRenderer;\n  }(IntermediateCanvasRenderer));\n\n\n  /**\n   * Determine if this renderer handles the provided layer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The candidate layer.\n   * @return {boolean} The renderer can render the layer.\n   */\n  CanvasImageLayerRenderer['handles'] = function(layer) {\n    return layer.getType() === LayerType.IMAGE ||\n      layer.getType() === LayerType.VECTOR &&\n      /** @type {import(\"../../layer/Vector.js\").default} */ (layer).getRenderMode() === VectorRenderType.IMAGE;\n  };\n\n\n  /**\n   * Create a layer renderer.\n   * @param {import(\"../Map.js\").default} mapRenderer The map renderer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The layer to be rendererd.\n   * @return {CanvasImageLayerRenderer} The layer renderer.\n   */\n  CanvasImageLayerRenderer['create'] = function(mapRenderer, layer) {\n    return new CanvasImageLayerRenderer(/** @type {import(\"../../layer/Image.js\").default} */ (layer));\n  };\n\n  /**\n   * @module ol/TileRange\n   */\n\n  /**\n   * A representation of a contiguous block of tiles.  A tile range is specified\n   * by its min/max tile coordinates and is inclusive of coordinates.\n   */\n  var TileRange = function TileRange(minX, maxX, minY, maxY) {\n\n    /**\n     * @type {number}\n     */\n    this.minX = minX;\n\n    /**\n     * @type {number}\n     */\n    this.maxX = maxX;\n\n    /**\n     * @type {number}\n     */\n    this.minY = minY;\n\n    /**\n     * @type {number}\n     */\n    this.maxY = maxY;\n\n  };\n\n  /**\n   * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n   * @return {boolean} Contains tile coordinate.\n   */\n  TileRange.prototype.contains = function contains (tileCoord) {\n    return this.containsXY(tileCoord[1], tileCoord[2]);\n  };\n\n  /**\n   * @param {TileRange} tileRange Tile range.\n   * @return {boolean} Contains.\n   */\n  TileRange.prototype.containsTileRange = function containsTileRange (tileRange) {\n    return this.minX <= tileRange.minX && tileRange.maxX <= this.maxX &&\n       this.minY <= tileRange.minY && tileRange.maxY <= this.maxY;\n  };\n\n  /**\n   * @param {number} x Tile coordinate x.\n   * @param {number} y Tile coordinate y.\n   * @return {boolean} Contains coordinate.\n   */\n  TileRange.prototype.containsXY = function containsXY (x, y) {\n    return this.minX <= x && x <= this.maxX && this.minY <= y && y <= this.maxY;\n  };\n\n  /**\n   * @param {TileRange} tileRange Tile range.\n   * @return {boolean} Equals.\n   */\n  TileRange.prototype.equals = function equals (tileRange) {\n    return this.minX == tileRange.minX && this.minY == tileRange.minY &&\n       this.maxX == tileRange.maxX && this.maxY == tileRange.maxY;\n  };\n\n  /**\n   * @param {TileRange} tileRange Tile range.\n   */\n  TileRange.prototype.extend = function extend (tileRange) {\n    if (tileRange.minX < this.minX) {\n      this.minX = tileRange.minX;\n    }\n    if (tileRange.maxX > this.maxX) {\n      this.maxX = tileRange.maxX;\n    }\n    if (tileRange.minY < this.minY) {\n      this.minY = tileRange.minY;\n    }\n    if (tileRange.maxY > this.maxY) {\n      this.maxY = tileRange.maxY;\n    }\n  };\n\n  /**\n   * @return {number} Height.\n   */\n  TileRange.prototype.getHeight = function getHeight () {\n    return this.maxY - this.minY + 1;\n  };\n\n  /**\n   * @return {import(\"./size.js\").Size} Size.\n   */\n  TileRange.prototype.getSize = function getSize () {\n    return [this.getWidth(), this.getHeight()];\n  };\n\n  /**\n   * @return {number} Width.\n   */\n  TileRange.prototype.getWidth = function getWidth () {\n    return this.maxX - this.minX + 1;\n  };\n\n  /**\n   * @param {TileRange} tileRange Tile range.\n   * @return {boolean} Intersects.\n   */\n  TileRange.prototype.intersects = function intersects (tileRange) {\n    return this.minX <= tileRange.maxX &&\n       this.maxX >= tileRange.minX &&\n       this.minY <= tileRange.maxY &&\n       this.maxY >= tileRange.minY;\n  };\n\n\n  /**\n   * @param {number} minX Minimum X.\n   * @param {number} maxX Maximum X.\n   * @param {number} minY Minimum Y.\n   * @param {number} maxY Maximum Y.\n   * @param {TileRange=} tileRange TileRange.\n   * @return {TileRange} Tile range.\n   */\n  function createOrUpdate$1(minX, maxX, minY, maxY, tileRange) {\n    if (tileRange !== undefined) {\n      tileRange.minX = minX;\n      tileRange.maxX = maxX;\n      tileRange.minY = minY;\n      tileRange.maxY = maxY;\n      return tileRange;\n    } else {\n      return new TileRange(minX, maxX, minY, maxY);\n    }\n  }\n\n  /**\n   * @module ol/renderer/canvas/TileLayer\n   */\n\n  /**\n   * @classdesc\n   * Canvas renderer for tile layers.\n   * @api\n   */\n  var CanvasTileLayerRenderer = /*@__PURE__*/(function (IntermediateCanvasRenderer$$1) {\n    function CanvasTileLayerRenderer(tileLayer, opt_noContext) {\n\n      IntermediateCanvasRenderer$$1.call(this, tileLayer);\n\n      /**\n       * @protected\n       * @type {CanvasRenderingContext2D}\n       */\n      this.context = opt_noContext ? null : createCanvasContext2D();\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.oversampling_;\n\n      /**\n       * @private\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      this.renderedExtent_ = null;\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.renderedRevision;\n\n      /**\n       * @protected\n       * @type {!Array<import(\"../../Tile.js\").default>}\n       */\n      this.renderedTiles = [];\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.newTiles_ = false;\n\n      /**\n       * @protected\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      this.tmpExtent = createEmpty();\n\n      /**\n       * @private\n       * @type {import(\"../../TileRange.js\").default}\n       */\n      this.tmpTileRange_ = new TileRange(0, 0, 0, 0);\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.imageTransform_ = create();\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.zDirection = 0;\n\n    }\n\n    if ( IntermediateCanvasRenderer$$1 ) CanvasTileLayerRenderer.__proto__ = IntermediateCanvasRenderer$$1;\n    CanvasTileLayerRenderer.prototype = Object.create( IntermediateCanvasRenderer$$1 && IntermediateCanvasRenderer$$1.prototype );\n    CanvasTileLayerRenderer.prototype.constructor = CanvasTileLayerRenderer;\n\n    /**\n     * @private\n     * @param {import(\"../../Tile.js\").default} tile Tile.\n     * @return {boolean} Tile is drawable.\n     */\n    CanvasTileLayerRenderer.prototype.isDrawableTile_ = function isDrawableTile_ (tile) {\n      var tileLayer = /** @type {import(\"../../layer/Tile.js\").default} */ (this.getLayer());\n      var tileState = tile.getState();\n      var useInterimTilesOnError = tileLayer.getUseInterimTilesOnError();\n      return tileState == TileState.LOADED ||\n          tileState == TileState.EMPTY ||\n          tileState == TileState.ERROR && !useInterimTilesOnError;\n    };\n\n    /**\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../../proj/Projection.js\").default} projection Projection.\n     * @return {!import(\"../../Tile.js\").default} Tile.\n     */\n    CanvasTileLayerRenderer.prototype.getTile = function getTile (z, x, y, pixelRatio, projection) {\n      var tileLayer = /** @type {import(\"../../layer/Tile.js\").default} */ (this.getLayer());\n      var tileSource = /** @type {import(\"../../source/Tile.js\").default} */ (tileLayer.getSource());\n      var tile = tileSource.getTile(z, x, y, pixelRatio, projection);\n      if (tile.getState() == TileState.ERROR) {\n        if (!tileLayer.getUseInterimTilesOnError()) {\n          // When useInterimTilesOnError is false, we consider the error tile as loaded.\n          tile.setState(TileState.LOADED);\n        } else if (tileLayer.getPreload() > 0) {\n          // Preloaded tiles for lower resolutions might have finished loading.\n          this.newTiles_ = true;\n        }\n      }\n      if (!this.isDrawableTile_(tile)) {\n        tile = tile.getInterimTile();\n      }\n      return tile;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasTileLayerRenderer.prototype.prepareFrame = function prepareFrame (frameState, layerState) {\n\n      var pixelRatio = frameState.pixelRatio;\n      var size = frameState.size;\n      var viewState = frameState.viewState;\n      var projection = viewState.projection;\n      var viewResolution = viewState.resolution;\n      var viewCenter = viewState.center;\n\n      var tileLayer = /** @type {import(\"../../layer/Tile.js\").default} */ (this.getLayer());\n      var tileSource = /** @type {import(\"../../source/Tile.js\").default} */ (tileLayer.getSource());\n      var sourceRevision = tileSource.getRevision();\n      var tileGrid = tileSource.getTileGridForProjection(projection);\n      var z = tileGrid.getZForResolution(viewResolution, this.zDirection);\n      var tileResolution = tileGrid.getResolution(z);\n      var oversampling = Math.round(viewResolution / tileResolution) || 1;\n      var extent = frameState.extent;\n\n      if (layerState.extent !== undefined) {\n        extent = getIntersection(extent, layerState.extent);\n      }\n      if (isEmpty$1(extent)) {\n        // Return false to prevent the rendering of the layer.\n        return false;\n      }\n\n      var tileRange = tileGrid.getTileRangeForExtentAndZ(extent, z);\n      var imageExtent = tileGrid.getTileRangeExtent(z, tileRange);\n\n      var tilePixelRatio = tileSource.getTilePixelRatio(pixelRatio);\n\n      /**\n       * @type {Object<number, Object<string, import(\"../../Tile.js\").default>>}\n       */\n      var tilesToDrawByZ = {};\n      tilesToDrawByZ[z] = {};\n\n      var findLoadedTiles = this.createLoadedTileFinder(\n        tileSource, projection, tilesToDrawByZ);\n\n      var hints = frameState.viewHints;\n      var animatingOrInteracting = hints[ViewHint.ANIMATING] || hints[ViewHint.INTERACTING];\n\n      var tmpExtent = this.tmpExtent;\n      var tmpTileRange = this.tmpTileRange_;\n      this.newTiles_ = false;\n      var tile, x, y;\n      for (x = tileRange.minX; x <= tileRange.maxX; ++x) {\n        for (y = tileRange.minY; y <= tileRange.maxY; ++y) {\n          if (Date.now() - frameState.time > 16 && animatingOrInteracting) {\n            continue;\n          }\n          tile = this.getTile(z, x, y, pixelRatio, projection);\n          if (this.isDrawableTile_(tile)) {\n            var uid = getUid(this);\n            if (tile.getState() == TileState.LOADED) {\n              tilesToDrawByZ[z][tile.tileCoord.toString()] = tile;\n              var inTransition = tile.inTransition(uid);\n              if (!this.newTiles_ && (inTransition || this.renderedTiles.indexOf(tile) === -1)) {\n                this.newTiles_ = true;\n              }\n            }\n            if (tile.getAlpha(uid, frameState.time) === 1) {\n              // don't look for alt tiles if alpha is 1\n              continue;\n            }\n          }\n\n          var childTileRange = tileGrid.getTileCoordChildTileRange(\n            tile.tileCoord, tmpTileRange, tmpExtent);\n          var covered = false;\n          if (childTileRange) {\n            covered = findLoadedTiles(z + 1, childTileRange);\n          }\n          if (!covered) {\n            tileGrid.forEachTileCoordParentTileRange(\n              tile.tileCoord, findLoadedTiles, null, tmpTileRange, tmpExtent);\n          }\n\n        }\n      }\n\n      var renderedResolution = tileResolution * pixelRatio / tilePixelRatio * oversampling;\n      if (!(this.renderedResolution && Date.now() - frameState.time > 16 && animatingOrInteracting) && (\n        this.newTiles_ ||\n            !(this.renderedExtent_ && containsExtent(this.renderedExtent_, extent)) ||\n            this.renderedRevision != sourceRevision ||\n            oversampling != this.oversampling_ ||\n            !animatingOrInteracting && renderedResolution != this.renderedResolution\n      )) {\n\n        var context = this.context;\n        if (context) {\n          var tilePixelSize = tileSource.getTilePixelSize(z, pixelRatio, projection);\n          var width = Math.round(tileRange.getWidth() * tilePixelSize[0] / oversampling);\n          var height = Math.round(tileRange.getHeight() * tilePixelSize[1] / oversampling);\n          var canvas = context.canvas;\n          if (canvas.width != width || canvas.height != height) {\n            this.oversampling_ = oversampling;\n            canvas.width = width;\n            canvas.height = height;\n          } else {\n            if (this.renderedExtent_ && !equals$2(imageExtent, this.renderedExtent_)) {\n              context.clearRect(0, 0, width, height);\n            }\n            oversampling = this.oversampling_;\n          }\n        }\n\n        this.renderedTiles.length = 0;\n        /** @type {Array<number>} */\n        var zs = Object.keys(tilesToDrawByZ).map(Number);\n        zs.sort(function(a, b) {\n          if (a === z) {\n            return 1;\n          } else if (b === z) {\n            return -1;\n          } else {\n            return a > b ? 1 : a < b ? -1 : 0;\n          }\n        });\n        var currentResolution, currentScale, currentTilePixelSize, currentZ, i, ii;\n        var tileExtent, tileGutter, tilesToDraw, w, h;\n        for (i = 0, ii = zs.length; i < ii; ++i) {\n          currentZ = zs[i];\n          currentTilePixelSize = tileSource.getTilePixelSize(currentZ, pixelRatio, projection);\n          currentResolution = tileGrid.getResolution(currentZ);\n          currentScale = currentResolution / tileResolution;\n          tileGutter = tilePixelRatio * tileSource.getGutterForProjection(projection);\n          tilesToDraw = tilesToDrawByZ[currentZ];\n          for (var tileCoordKey in tilesToDraw) {\n            tile = tilesToDraw[tileCoordKey];\n            tileExtent = tileGrid.getTileCoordExtent(tile.getTileCoord(), tmpExtent);\n            x = (tileExtent[0] - imageExtent[0]) / tileResolution * tilePixelRatio / oversampling;\n            y = (imageExtent[3] - tileExtent[3]) / tileResolution * tilePixelRatio / oversampling;\n            w = currentTilePixelSize[0] * currentScale / oversampling;\n            h = currentTilePixelSize[1] * currentScale / oversampling;\n            this.drawTileImage(tile, frameState, layerState, x, y, w, h, tileGutter, z === currentZ);\n            this.renderedTiles.push(tile);\n          }\n        }\n\n        this.renderedRevision = sourceRevision;\n        this.renderedResolution = tileResolution * pixelRatio / tilePixelRatio * oversampling;\n        this.renderedExtent_ = imageExtent;\n      }\n\n      var scale = this.renderedResolution / viewResolution;\n      var transform = compose(this.imageTransform_,\n        pixelRatio * size[0] / 2, pixelRatio * size[1] / 2,\n        scale, scale,\n        0,\n        (this.renderedExtent_[0] - viewCenter[0]) / this.renderedResolution * pixelRatio,\n        (viewCenter[1] - this.renderedExtent_[3]) / this.renderedResolution * pixelRatio);\n      compose(this.coordinateToCanvasPixelTransform,\n        pixelRatio * size[0] / 2 - transform[4], pixelRatio * size[1] / 2 - transform[5],\n        pixelRatio / viewResolution, -pixelRatio / viewResolution,\n        0,\n        -viewCenter[0], -viewCenter[1]);\n\n\n      this.updateUsedTiles(frameState.usedTiles, tileSource, z, tileRange);\n      this.manageTilePyramid(frameState, tileSource, tileGrid, pixelRatio,\n        projection, extent, z, tileLayer.getPreload());\n      this.scheduleExpireCache(frameState, tileSource);\n\n      return this.renderedTiles.length > 0;\n    };\n\n    /**\n     * @param {import(\"../../Tile.js\").default} tile Tile.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../layer/Layer.js\").State} layerState Layer state.\n     * @param {number} x Left of the tile.\n     * @param {number} y Top of the tile.\n     * @param {number} w Width of the tile.\n     * @param {number} h Height of the tile.\n     * @param {number} gutter Tile gutter.\n     * @param {boolean} transition Apply an alpha transition.\n     */\n    CanvasTileLayerRenderer.prototype.drawTileImage = function drawTileImage (tile, frameState, layerState, x, y, w, h, gutter, transition) {\n      var image = this.getTileImage(tile);\n      if (!image) {\n        return;\n      }\n      var uid = getUid(this);\n      var alpha = transition ? tile.getAlpha(uid, frameState.time) : 1;\n      var tileLayer = /** @type {import(\"../../layer/Tile.js\").default} */ (this.getLayer());\n      var tileSource = /** @type {import(\"../../source/Tile.js\").default} */ (tileLayer.getSource());\n      if (alpha === 1 && !tileSource.getOpaque(frameState.viewState.projection)) {\n        this.context.clearRect(x, y, w, h);\n      }\n      var alphaChanged = alpha !== this.context.globalAlpha;\n      if (alphaChanged) {\n        this.context.save();\n        this.context.globalAlpha = alpha;\n      }\n      this.context.drawImage(image, gutter, gutter,\n        image.width - 2 * gutter, image.height - 2 * gutter, x, y, w, h);\n\n      if (alphaChanged) {\n        this.context.restore();\n      }\n      if (alpha !== 1) {\n        frameState.animate = true;\n      } else if (transition) {\n        tile.endTransition(uid);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasTileLayerRenderer.prototype.getImage = function getImage () {\n      var context = this.context;\n      return context ? context.canvas : null;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasTileLayerRenderer.prototype.getImageTransform = function getImageTransform () {\n      return this.imageTransform_;\n    };\n\n    /**\n     * Get the image from a tile.\n     * @param {import(\"../../Tile.js\").default} tile Tile.\n     * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n     * @protected\n     */\n    CanvasTileLayerRenderer.prototype.getTileImage = function getTileImage (tile) {\n      return /** @type {import(\"../../ImageTile.js\").default} */ (tile).getImage();\n    };\n\n    return CanvasTileLayerRenderer;\n  }(IntermediateCanvasRenderer));\n\n\n  /**\n   * Determine if this renderer handles the provided layer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The candidate layer.\n   * @return {boolean} The renderer can render the layer.\n   */\n  CanvasTileLayerRenderer['handles'] = function(layer) {\n    return layer.getType() === LayerType.TILE;\n  };\n\n\n  /**\n   * Create a layer renderer.\n   * @param {import(\"../Map.js\").default} mapRenderer The map renderer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The layer to be rendererd.\n   * @return {CanvasTileLayerRenderer} The layer renderer.\n   */\n  CanvasTileLayerRenderer['create'] = function(mapRenderer, layer) {\n    return new CanvasTileLayerRenderer(/** @type {import(\"../../layer/Tile.js\").default} */ (layer));\n  };\n\n\n  /**\n   * @function\n   * @return {import(\"../../layer/Tile.js\").default|import(\"../../layer/VectorTile.js\").default}\n   */\n  CanvasTileLayerRenderer.prototype.getLayer;\n\n  /**\n   * @module ol/render/ReplayGroup\n   */\n\n  /**\n   * Base class for replay groups.\n   */\n  var ReplayGroup = function ReplayGroup () {};\n\n  ReplayGroup.prototype.getReplay = function getReplay (zIndex, replayType) {\n    return abstract();\n  };\n\n  /**\n   * @abstract\n   * @return {boolean} Is empty.\n   */\n  ReplayGroup.prototype.isEmpty = function isEmpty () {\n    return abstract();\n  };\n\n  /**\n   * @abstract\n   * @param {boolean} group Group with previous replay\n   * @return {Array<*>} The resulting instruction group\n   */\n  ReplayGroup.prototype.addDeclutter = function addDeclutter (group) {\n    return abstract();\n  };\n\n  /**\n   * @module ol/render/ReplayType\n   */\n\n  /**\n   * @enum {string}\n   */\n  var ReplayType = {\n    CIRCLE: 'Circle',\n    DEFAULT: 'Default',\n    IMAGE: 'Image',\n    LINE_STRING: 'LineString',\n    POLYGON: 'Polygon',\n    TEXT: 'Text'\n  };\n\n  /**\n   * @module ol/geom/flat/textpath\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Path to put text on.\n   * @param {number} offset Start offset of the `flatCoordinates`.\n   * @param {number} end End offset of the `flatCoordinates`.\n   * @param {number} stride Stride.\n   * @param {string} text Text to place on the path.\n   * @param {function(string):number} measure Measure function returning the\n   * width of the character passed as 1st argument.\n   * @param {number} startM m along the path where the text starts.\n   * @param {number} maxAngle Max angle between adjacent chars in radians.\n   * @return {Array<Array<*>>} The result array of null if `maxAngle` was\n   * exceeded. Entries of the array are x, y, anchorX, angle, chunk.\n   */\n  function drawTextOnPath(\n    flatCoordinates, offset, end, stride, text, measure, startM, maxAngle) {\n    var result = [];\n\n    // Keep text upright\n    var reverse = flatCoordinates[offset] > flatCoordinates[end - stride];\n\n    var numChars = text.length;\n\n    var x1 = flatCoordinates[offset];\n    var y1 = flatCoordinates[offset + 1];\n    offset += stride;\n    var x2 = flatCoordinates[offset];\n    var y2 = flatCoordinates[offset + 1];\n    var segmentM = 0;\n    var segmentLength = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n\n    var chunk = '';\n    var chunkLength = 0;\n    var data, index, previousAngle;\n    for (var i = 0; i < numChars; ++i) {\n      index = reverse ? numChars - i - 1 : i;\n      var char = text.charAt(index);\n      chunk = reverse ? char + chunk : chunk + char;\n      var charLength = measure(chunk) - chunkLength;\n      chunkLength += charLength;\n      var charM = startM + charLength / 2;\n      while (offset < end - stride && segmentM + segmentLength < charM) {\n        x1 = x2;\n        y1 = y2;\n        offset += stride;\n        x2 = flatCoordinates[offset];\n        y2 = flatCoordinates[offset + 1];\n        segmentM += segmentLength;\n        segmentLength = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n      }\n      var segmentPos = charM - segmentM;\n      var angle = Math.atan2(y2 - y1, x2 - x1);\n      if (reverse) {\n        angle += angle > 0 ? -Math.PI : Math.PI;\n      }\n      if (previousAngle !== undefined) {\n        var delta = angle - previousAngle;\n        delta += (delta > Math.PI) ? -2 * Math.PI : (delta < -Math.PI) ? 2 * Math.PI : 0;\n        if (Math.abs(delta) > maxAngle) {\n          return null;\n        }\n      }\n      var interpolate = segmentPos / segmentLength;\n      var x = lerp(x1, x2, interpolate);\n      var y = lerp(y1, y2, interpolate);\n      if (previousAngle == angle) {\n        if (reverse) {\n          data[0] = x;\n          data[1] = y;\n          data[2] = charLength / 2;\n        }\n        data[4] = chunk;\n      } else {\n        chunk = char;\n        chunkLength = charLength;\n        data = [x, y, charLength / 2, angle, chunk];\n        if (reverse) {\n          result.unshift(data);\n        } else {\n          result.push(data);\n        }\n        previousAngle = angle;\n      }\n      startM += charLength;\n    }\n    return result;\n  }\n\n  /**\n   * @module ol/render/canvas/Instruction\n   */\n\n  /**\n   * @enum {number}\n   */\n  var Instruction = {\n    BEGIN_GEOMETRY: 0,\n    BEGIN_PATH: 1,\n    CIRCLE: 2,\n    CLOSE_PATH: 3,\n    CUSTOM: 4,\n    DRAW_CHARS: 5,\n    DRAW_IMAGE: 6,\n    END_GEOMETRY: 7,\n    FILL: 8,\n    MOVE_TO_LINE_TO: 9,\n    SET_FILL_STYLE: 10,\n    SET_STROKE_STYLE: 11,\n    STROKE: 12\n  };\n\n\n  /**\n   * @type {Array<Instruction>}\n   */\n  var fillInstruction = [Instruction.FILL];\n\n\n  /**\n   * @type {Array<Instruction>}\n   */\n  var strokeInstruction = [Instruction.STROKE];\n\n\n  /**\n   * @type {Array<Instruction>}\n   */\n  var beginPathInstruction = [Instruction.BEGIN_PATH];\n\n\n  /**\n   * @type {Array<Instruction>}\n   */\n  var closePathInstruction = [Instruction.CLOSE_PATH];\n\n  /**\n   * @module ol/render/replay\n   */\n\n\n  /**\n   * @const\n   * @type {Array<ReplayType>}\n   */\n  var ORDER = [\n    ReplayType.POLYGON,\n    ReplayType.CIRCLE,\n    ReplayType.LINE_STRING,\n    ReplayType.IMAGE,\n    ReplayType.TEXT,\n    ReplayType.DEFAULT\n  ];\n\n  /**\n   * @const\n   * @enum {number}\n   */\n  var TEXT_ALIGN = {};\n  TEXT_ALIGN['left'] = 0;\n  TEXT_ALIGN['end'] = 0;\n  TEXT_ALIGN['center'] = 0.5;\n  TEXT_ALIGN['right'] = 1;\n  TEXT_ALIGN['start'] = 1;\n  TEXT_ALIGN['top'] = 0;\n  TEXT_ALIGN['middle'] = 0.5;\n  TEXT_ALIGN['hanging'] = 0.2;\n  TEXT_ALIGN['alphabetic'] = 0.8;\n  TEXT_ALIGN['ideographic'] = 0.8;\n  TEXT_ALIGN['bottom'] = 1;\n\n  /**\n   * @module ol/render/canvas/Replay\n   */\n\n\n  /**\n   * @type {import(\"../../extent.js\").Extent}\n   */\n  var tmpExtent = createEmpty();\n\n\n  /**\n   * @type {!import(\"../../transform.js\").Transform}\n   */\n  var tmpTransform$1 = create();\n\n\n  var CanvasReplay = /*@__PURE__*/(function (VectorContext$$1) {\n    function CanvasReplay(tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree) {\n      VectorContext$$1.call(this);\n\n      /**\n       * @type {?}\n       */\n      this.declutterTree = declutterTree;\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.tolerance = tolerance;\n\n      /**\n       * @protected\n       * @const\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      this.maxExtent = maxExtent;\n\n      /**\n       * @protected\n       * @type {boolean}\n       */\n      this.overlaps = overlaps;\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.pixelRatio = pixelRatio;\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.maxLineWidth = 0;\n\n      /**\n       * @protected\n       * @const\n       * @type {number}\n       */\n      this.resolution = resolution;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.alignFill_;\n\n      /**\n       * @private\n       * @type {Array<*>}\n       */\n      this.beginGeometryInstruction1_ = null;\n\n      /**\n       * @private\n       * @type {Array<*>}\n       */\n      this.beginGeometryInstruction2_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      this.bufferedMaxExtent_ = null;\n\n      /**\n       * @protected\n       * @type {Array<*>}\n       */\n      this.instructions = [];\n\n      /**\n       * @protected\n       * @type {Array<number>}\n       */\n      this.coordinates = [];\n\n      /**\n       * @private\n       * @type {!Object<number,import(\"../../coordinate.js\").Coordinate|Array<import(\"../../coordinate.js\").Coordinate>|Array<Array<import(\"../../coordinate.js\").Coordinate>>>}\n       */\n      this.coordinateCache_ = {};\n\n      /**\n       * @private\n       * @type {!import(\"../../transform.js\").Transform}\n       */\n      this.renderedTransform_ = create();\n\n      /**\n       * @protected\n       * @type {Array<*>}\n       */\n      this.hitDetectionInstructions = [];\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.pixelCoordinates_ = null;\n\n      /**\n       * @protected\n       * @type {import(\"../canvas.js\").FillStrokeState}\n       */\n      this.state = /** @type {import(\"../canvas.js\").FillStrokeState} */ ({});\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.viewRotation_ = 0;\n\n    }\n\n    if ( VectorContext$$1 ) CanvasReplay.__proto__ = VectorContext$$1;\n    CanvasReplay.prototype = Object.create( VectorContext$$1 && VectorContext$$1.prototype );\n    CanvasReplay.prototype.constructor = CanvasReplay;\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../coordinate.js\").Coordinate} p1 1st point of the background box.\n     * @param {import(\"../../coordinate.js\").Coordinate} p2 2nd point of the background box.\n     * @param {import(\"../../coordinate.js\").Coordinate} p3 3rd point of the background box.\n     * @param {import(\"../../coordinate.js\").Coordinate} p4 4th point of the background box.\n     * @param {Array<*>} fillInstruction Fill instruction.\n     * @param {Array<*>} strokeInstruction Stroke instruction.\n     */\n    CanvasReplay.prototype.replayTextBackground_ = function replayTextBackground_ (context, p1, p2, p3, p4, fillInstruction$$1, strokeInstruction$$1) {\n      context.beginPath();\n      context.moveTo.apply(context, p1);\n      context.lineTo.apply(context, p2);\n      context.lineTo.apply(context, p3);\n      context.lineTo.apply(context, p4);\n      context.lineTo.apply(context, p1);\n      if (fillInstruction$$1) {\n        this.alignFill_ = /** @type {boolean} */ (fillInstruction$$1[2]);\n        this.fill_(context);\n      }\n      if (strokeInstruction$$1) {\n        this.setStrokeStyle_(context, /** @type {Array<*>} */ (strokeInstruction$$1));\n        context.stroke();\n      }\n    };\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {HTMLImageElement|HTMLCanvasElement|HTMLVideoElement} image Image.\n     * @param {number} anchorX Anchor X.\n     * @param {number} anchorY Anchor Y.\n     * @param {import(\"../canvas.js\").DeclutterGroup} declutterGroup Declutter group.\n     * @param {number} height Height.\n     * @param {number} opacity Opacity.\n     * @param {number} originX Origin X.\n     * @param {number} originY Origin Y.\n     * @param {number} rotation Rotation.\n     * @param {number} scale Scale.\n     * @param {boolean} snapToPixel Snap to pixel.\n     * @param {number} width Width.\n     * @param {Array<number>} padding Padding.\n     * @param {Array<*>} fillInstruction Fill instruction.\n     * @param {Array<*>} strokeInstruction Stroke instruction.\n     */\n    CanvasReplay.prototype.replayImage_ = function replayImage_ (\n      context,\n      x,\n      y,\n      image,\n      anchorX,\n      anchorY,\n      declutterGroup,\n      height,\n      opacity,\n      originX,\n      originY,\n      rotation,\n      scale,\n      snapToPixel,\n      width,\n      padding,\n      fillInstruction$$1,\n      strokeInstruction$$1\n    ) {\n      var fillStroke = fillInstruction$$1 || strokeInstruction$$1;\n      anchorX *= scale;\n      anchorY *= scale;\n      x -= anchorX;\n      y -= anchorY;\n\n      var w = (width + originX > image.width) ? image.width - originX : width;\n      var h = (height + originY > image.height) ? image.height - originY : height;\n      var boxW = padding[3] + w * scale + padding[1];\n      var boxH = padding[0] + h * scale + padding[2];\n      var boxX = x - padding[3];\n      var boxY = y - padding[0];\n\n      /** @type {import(\"../../coordinate.js\").Coordinate} */\n      var p1;\n      /** @type {import(\"../../coordinate.js\").Coordinate} */\n      var p2;\n      /** @type {import(\"../../coordinate.js\").Coordinate} */\n      var p3;\n      /** @type {import(\"../../coordinate.js\").Coordinate} */\n      var p4;\n      if (fillStroke || rotation !== 0) {\n        p1 = [boxX, boxY];\n        p2 = [boxX + boxW, boxY];\n        p3 = [boxX + boxW, boxY + boxH];\n        p4 = [boxX, boxY + boxH];\n      }\n\n      var transform = null;\n      if (rotation !== 0) {\n        var centerX = x + anchorX;\n        var centerY = y + anchorY;\n        transform = compose(tmpTransform$1, centerX, centerY, 1, 1, rotation, -centerX, -centerY);\n\n        createOrUpdateEmpty(tmpExtent);\n        extendCoordinate(tmpExtent, apply(tmpTransform$1, p1));\n        extendCoordinate(tmpExtent, apply(tmpTransform$1, p2));\n        extendCoordinate(tmpExtent, apply(tmpTransform$1, p3));\n        extendCoordinate(tmpExtent, apply(tmpTransform$1, p4));\n      } else {\n        createOrUpdate(boxX, boxY, boxX + boxW, boxY + boxH, tmpExtent);\n      }\n      var canvas = context.canvas;\n      var strokePadding = strokeInstruction$$1 ? (strokeInstruction$$1[2] * scale / 2) : 0;\n      var intersects$$1 =\n          tmpExtent[0] - strokePadding <= canvas.width && tmpExtent[2] + strokePadding >= 0 &&\n          tmpExtent[1] - strokePadding <= canvas.height && tmpExtent[3] + strokePadding >= 0;\n\n      if (snapToPixel) {\n        x = Math.round(x);\n        y = Math.round(y);\n      }\n\n      if (declutterGroup) {\n        if (!intersects$$1 && declutterGroup[4] == 1) {\n          return;\n        }\n        extend$1(declutterGroup, tmpExtent);\n        var declutterArgs = intersects$$1 ?\n          [context, transform ? transform.slice(0) : null, opacity, image, originX, originY, w, h, x, y, scale] :\n          null;\n        if (declutterArgs && fillStroke) {\n          declutterArgs.push(fillInstruction$$1, strokeInstruction$$1, p1, p2, p3, p4);\n        }\n        declutterGroup.push(declutterArgs);\n      } else if (intersects$$1) {\n        if (fillStroke) {\n          this.replayTextBackground_(context, p1, p2, p3, p4,\n            /** @type {Array<*>} */ (fillInstruction$$1),\n            /** @type {Array<*>} */ (strokeInstruction$$1));\n        }\n        drawImage(context, transform, opacity, image, originX, originY, w, h, x, y, scale);\n      }\n    };\n\n    /**\n     * @protected\n     * @param {Array<number>} dashArray Dash array.\n     * @return {Array<number>} Dash array with pixel ratio applied\n     */\n    CanvasReplay.prototype.applyPixelRatio = function applyPixelRatio (dashArray) {\n      var pixelRatio = this.pixelRatio;\n      return pixelRatio == 1 ? dashArray : dashArray.map(function(dash) {\n        return dash * pixelRatio;\n      });\n    };\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @param {boolean} closed Last input coordinate equals first.\n     * @param {boolean} skipFirst Skip first coordinate.\n     * @protected\n     * @return {number} My end.\n     */\n    CanvasReplay.prototype.appendFlatCoordinates = function appendFlatCoordinates (flatCoordinates, offset, end, stride, closed, skipFirst) {\n\n      var myEnd = this.coordinates.length;\n      var extent = this.getBufferedMaxExtent();\n      if (skipFirst) {\n        offset += stride;\n      }\n      var lastCoord = [flatCoordinates[offset], flatCoordinates[offset + 1]];\n      var nextCoord = [NaN, NaN];\n      var skipped = true;\n\n      var i, lastRel, nextRel;\n      for (i = offset + stride; i < end; i += stride) {\n        nextCoord[0] = flatCoordinates[i];\n        nextCoord[1] = flatCoordinates[i + 1];\n        nextRel = coordinateRelationship(extent, nextCoord);\n        if (nextRel !== lastRel) {\n          if (skipped) {\n            this.coordinates[myEnd++] = lastCoord[0];\n            this.coordinates[myEnd++] = lastCoord[1];\n          }\n          this.coordinates[myEnd++] = nextCoord[0];\n          this.coordinates[myEnd++] = nextCoord[1];\n          skipped = false;\n        } else if (nextRel === Relationship.INTERSECTING) {\n          this.coordinates[myEnd++] = nextCoord[0];\n          this.coordinates[myEnd++] = nextCoord[1];\n          skipped = false;\n        } else {\n          skipped = true;\n        }\n        lastCoord[0] = nextCoord[0];\n        lastCoord[1] = nextCoord[1];\n        lastRel = nextRel;\n      }\n\n      // Last coordinate equals first or only one point to append:\n      if ((closed && skipped) || i === offset + stride) {\n        this.coordinates[myEnd++] = lastCoord[0];\n        this.coordinates[myEnd++] = lastCoord[1];\n      }\n      return myEnd;\n    };\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {Array<number>} ends Ends.\n     * @param {number} stride Stride.\n     * @param {Array<number>} replayEnds Replay ends.\n     * @return {number} Offset.\n     */\n    CanvasReplay.prototype.drawCustomCoordinates_ = function drawCustomCoordinates_ (flatCoordinates, offset, ends, stride, replayEnds) {\n      for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        var replayEnd = this.appendFlatCoordinates(flatCoordinates, offset, end, stride, false, false);\n        replayEnds.push(replayEnd);\n        offset = end;\n      }\n      return offset;\n    };\n\n    /**\n     * @inheritDoc.\n     */\n    CanvasReplay.prototype.drawCustom = function drawCustom (geometry, feature, renderer) {\n      this.beginGeometry(geometry, feature);\n      var type = geometry.getType();\n      var stride = geometry.getStride();\n      var replayBegin = this.coordinates.length;\n      var flatCoordinates, replayEnd, replayEnds, replayEndss;\n      var offset;\n      if (type == GeometryType.MULTI_POLYGON) {\n        geometry = /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry);\n        flatCoordinates = geometry.getOrientedFlatCoordinates();\n        replayEndss = [];\n        var endss = geometry.getEndss();\n        offset = 0;\n        for (var i = 0, ii = endss.length; i < ii; ++i) {\n          var myEnds = [];\n          offset = this.drawCustomCoordinates_(flatCoordinates, offset, endss[i], stride, myEnds);\n          replayEndss.push(myEnds);\n        }\n        this.instructions.push([Instruction.CUSTOM,\n          replayBegin, replayEndss, geometry, renderer, inflateMultiCoordinatesArray]);\n      } else if (type == GeometryType.POLYGON || type == GeometryType.MULTI_LINE_STRING) {\n        replayEnds = [];\n        flatCoordinates = (type == GeometryType.POLYGON) ?\n          /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry).getOrientedFlatCoordinates() :\n          geometry.getFlatCoordinates();\n        offset = this.drawCustomCoordinates_(flatCoordinates, 0,\n          /** @type {import(\"../../geom/Polygon.js\").default|import(\"../../geom/MultiLineString.js\").default} */ (geometry).getEnds(),\n          stride, replayEnds);\n        this.instructions.push([Instruction.CUSTOM,\n          replayBegin, replayEnds, geometry, renderer, inflateCoordinatesArray]);\n      } else if (type == GeometryType.LINE_STRING || type == GeometryType.MULTI_POINT) {\n        flatCoordinates = geometry.getFlatCoordinates();\n        replayEnd = this.appendFlatCoordinates(\n          flatCoordinates, 0, flatCoordinates.length, stride, false, false);\n        this.instructions.push([Instruction.CUSTOM,\n          replayBegin, replayEnd, geometry, renderer, inflateCoordinates]);\n      } else if (type == GeometryType.POINT) {\n        flatCoordinates = geometry.getFlatCoordinates();\n        this.coordinates.push(flatCoordinates[0], flatCoordinates[1]);\n        replayEnd = this.coordinates.length;\n        this.instructions.push([Instruction.CUSTOM,\n          replayBegin, replayEnd, geometry, renderer]);\n      }\n      this.endGeometry(geometry, feature);\n    };\n\n    /**\n     * @protected\n     * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry Geometry.\n     * @param {import(\"../../Feature.js\").default|import(\"../Feature.js\").default} feature Feature.\n     */\n    CanvasReplay.prototype.beginGeometry = function beginGeometry (geometry, feature) {\n      this.beginGeometryInstruction1_ = [Instruction.BEGIN_GEOMETRY, feature, 0];\n      this.instructions.push(this.beginGeometryInstruction1_);\n      this.beginGeometryInstruction2_ = [Instruction.BEGIN_GEOMETRY, feature, 0];\n      this.hitDetectionInstructions.push(this.beginGeometryInstruction2_);\n    };\n\n    /**\n     * FIXME empty description for jsdoc\n     */\n    CanvasReplay.prototype.finish = function finish () {};\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context Context.\n     */\n    CanvasReplay.prototype.fill_ = function fill_ (context) {\n      if (this.alignFill_) {\n        var origin = apply(this.renderedTransform_, [0, 0]);\n        var repeatSize = 512 * this.pixelRatio;\n        context.translate(origin[0] % repeatSize, origin[1] % repeatSize);\n        context.rotate(this.viewRotation_);\n      }\n      context.fill();\n      if (this.alignFill_) {\n        context.setTransform.apply(context, resetTransform);\n      }\n    };\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {Array<*>} instruction Instruction.\n     */\n    CanvasReplay.prototype.setStrokeStyle_ = function setStrokeStyle_ (context, instruction) {\n      context.strokeStyle = /** @type {import(\"../../colorlike.js\").ColorLike} */ (instruction[1]);\n      context.lineWidth = /** @type {number} */ (instruction[2]);\n      context.lineCap = /** @type {CanvasLineCap} */ (instruction[3]);\n      context.lineJoin = /** @type {CanvasLineJoin} */ (instruction[4]);\n      context.miterLimit = /** @type {number} */ (instruction[5]);\n      if (CANVAS_LINE_DASH) {\n        context.lineDashOffset = /** @type {number} */ (instruction[7]);\n        context.setLineDash(/** @type {Array<number>} */ (instruction[6]));\n      }\n    };\n\n    /**\n     * @param {import(\"../canvas.js\").DeclutterGroup} declutterGroup Declutter group.\n     * @param {import(\"../../Feature.js\").default|import(\"../Feature.js\").default} feature Feature.\n     */\n    CanvasReplay.prototype.renderDeclutter_ = function renderDeclutter_ (declutterGroup, feature) {\n      if (declutterGroup && declutterGroup.length > 5) {\n        var groupCount = declutterGroup[4];\n        if (groupCount == 1 || groupCount == declutterGroup.length - 5) {\n          /** @type {import(\"../../structs/RBush.js\").Entry} */\n          var box = {\n            minX: /** @type {number} */ (declutterGroup[0]),\n            minY: /** @type {number} */ (declutterGroup[1]),\n            maxX: /** @type {number} */ (declutterGroup[2]),\n            maxY: /** @type {number} */ (declutterGroup[3]),\n            value: feature\n          };\n          if (!this.declutterTree.collides(box)) {\n            this.declutterTree.insert(box);\n            for (var j = 5, jj = declutterGroup.length; j < jj; ++j) {\n              var declutterData = /** @type {Array} */ (declutterGroup[j]);\n              if (declutterData) {\n                if (declutterData.length > 11) {\n                  this.replayTextBackground_(declutterData[0],\n                    declutterData[13], declutterData[14], declutterData[15], declutterData[16],\n                    declutterData[11], declutterData[12]);\n                }\n                drawImage.apply(undefined, declutterData);\n              }\n            }\n          }\n          declutterGroup.length = 5;\n          createOrUpdateEmpty(declutterGroup);\n        }\n      }\n    };\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features\n     *     to skip.\n     * @param {Array<*>} instructions Instructions array.\n     * @param {boolean} snapToPixel Snap point symbols and text to integer pixels.\n     * @param {function((import(\"../../Feature.js\").default|import(\"../Feature.js\").default)): T|undefined} featureCallback Feature callback.\n     * @param {import(\"../../extent.js\").Extent=} opt_hitExtent Only check features that intersect this\n     *     extent.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    CanvasReplay.prototype.replay_ = function replay_ (\n      context,\n      transform,\n      skippedFeaturesHash,\n      instructions,\n      snapToPixel,\n      featureCallback,\n      opt_hitExtent\n    ) {\n      /** @type {Array<number>} */\n      var pixelCoordinates;\n      if (this.pixelCoordinates_ && equals(transform, this.renderedTransform_)) {\n        pixelCoordinates = this.pixelCoordinates_;\n      } else {\n        if (!this.pixelCoordinates_) {\n          this.pixelCoordinates_ = [];\n        }\n        pixelCoordinates = transform2D(\n          this.coordinates, 0, this.coordinates.length, 2,\n          transform, this.pixelCoordinates_);\n        setFromArray(this.renderedTransform_, transform);\n      }\n      var skipFeatures = !isEmpty(skippedFeaturesHash);\n      var i = 0; // instruction index\n      var ii = instructions.length; // end of instructions\n      var d = 0; // data index\n      var dd; // end of per-instruction data\n      var anchorX, anchorY, prevX, prevY, roundX, roundY, declutterGroup, image;\n      var pendingFill = 0;\n      var pendingStroke = 0;\n      var lastFillInstruction = null;\n      var lastStrokeInstruction = null;\n      var coordinateCache = this.coordinateCache_;\n      var viewRotation = this.viewRotation_;\n\n      var state = /** @type {import(\"../../render.js\").State} */ ({\n        context: context,\n        pixelRatio: this.pixelRatio,\n        resolution: this.resolution,\n        rotation: viewRotation\n      });\n\n      // When the batch size gets too big, performance decreases. 200 is a good\n      // balance between batch size and number of fill/stroke instructions.\n      var batchSize = this.instructions != instructions || this.overlaps ? 0 : 200;\n      var /** @type {import(\"../../Feature.js\").default|import(\"../Feature.js\").default} */ feature;\n      var x, y;\n      while (i < ii) {\n        var instruction = instructions[i];\n        var type = /** @type {CanvasInstruction} */ (instruction[0]);\n        switch (type) {\n          case Instruction.BEGIN_GEOMETRY:\n            feature = /** @type {import(\"../../Feature.js\").default|import(\"../Feature.js\").default} */ (instruction[1]);\n            if ((skipFeatures && skippedFeaturesHash[getUid(feature)]) || !feature.getGeometry()) {\n              i = /** @type {number} */ (instruction[2]);\n            } else if (opt_hitExtent !== undefined && !intersects(\n              opt_hitExtent, feature.getGeometry().getExtent())) {\n              i = /** @type {number} */ (instruction[2]) + 1;\n            } else {\n              ++i;\n            }\n            break;\n          case Instruction.BEGIN_PATH:\n            if (pendingFill > batchSize) {\n              this.fill_(context);\n              pendingFill = 0;\n            }\n            if (pendingStroke > batchSize) {\n              context.stroke();\n              pendingStroke = 0;\n            }\n            if (!pendingFill && !pendingStroke) {\n              context.beginPath();\n              prevX = prevY = NaN;\n            }\n            ++i;\n            break;\n          case Instruction.CIRCLE:\n            d = /** @type {number} */ (instruction[1]);\n            var x1 = pixelCoordinates[d];\n            var y1 = pixelCoordinates[d + 1];\n            var x2 = pixelCoordinates[d + 2];\n            var y2 = pixelCoordinates[d + 3];\n            var dx = x2 - x1;\n            var dy = y2 - y1;\n            var r = Math.sqrt(dx * dx + dy * dy);\n            context.moveTo(x1 + r, y1);\n            context.arc(x1, y1, r, 0, 2 * Math.PI, true);\n            ++i;\n            break;\n          case Instruction.CLOSE_PATH:\n            context.closePath();\n            ++i;\n            break;\n          case Instruction.CUSTOM:\n            d = /** @type {number} */ (instruction[1]);\n            dd = instruction[2];\n            var geometry = /** @type {import(\"../../geom/SimpleGeometry.js\").default} */ (instruction[3]);\n            var renderer = instruction[4];\n            var fn = instruction.length == 6 ? instruction[5] : undefined;\n            state.geometry = geometry;\n            state.feature = feature;\n            if (!(i in coordinateCache)) {\n              coordinateCache[i] = [];\n            }\n            var coords = coordinateCache[i];\n            if (fn) {\n              fn(pixelCoordinates, d, dd, 2, coords);\n            } else {\n              coords[0] = pixelCoordinates[d];\n              coords[1] = pixelCoordinates[d + 1];\n              coords.length = 2;\n            }\n            renderer(coords, state);\n            ++i;\n            break;\n          case Instruction.DRAW_IMAGE:\n            d = /** @type {number} */ (instruction[1]);\n            dd = /** @type {number} */ (instruction[2]);\n            image = /** @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} */\n                (instruction[3]);\n            // Remaining arguments in DRAW_IMAGE are in alphabetical order\n            anchorX = /** @type {number} */ (instruction[4]);\n            anchorY = /** @type {number} */ (instruction[5]);\n            declutterGroup = featureCallback ? null : /** @type {import(\"../canvas.js\").DeclutterGroup} */ (instruction[6]);\n            var height = /** @type {number} */ (instruction[7]);\n            var opacity = /** @type {number} */ (instruction[8]);\n            var originX = /** @type {number} */ (instruction[9]);\n            var originY = /** @type {number} */ (instruction[10]);\n            var rotateWithView = /** @type {boolean} */ (instruction[11]);\n            var rotation = /** @type {number} */ (instruction[12]);\n            var scale = /** @type {number} */ (instruction[13]);\n            var width = /** @type {number} */ (instruction[14]);\n\n            var padding = (void 0), backgroundFill = (void 0), backgroundStroke = (void 0);\n            if (instruction.length > 16) {\n              padding = /** @type {Array<number>} */ (instruction[15]);\n              backgroundFill = /** @type {boolean} */ (instruction[16]);\n              backgroundStroke = /** @type {boolean} */ (instruction[17]);\n            } else {\n              padding = defaultPadding;\n              backgroundFill = backgroundStroke = false;\n            }\n\n            if (rotateWithView) {\n              rotation += viewRotation;\n            }\n            for (; d < dd; d += 2) {\n              this.replayImage_(context,\n                pixelCoordinates[d], pixelCoordinates[d + 1], image, anchorX, anchorY,\n                declutterGroup, height, opacity, originX, originY, rotation, scale,\n                snapToPixel, width, padding,\n                backgroundFill ? /** @type {Array<*>} */ (lastFillInstruction) : null,\n                backgroundStroke ? /** @type {Array<*>} */ (lastStrokeInstruction) : null);\n            }\n            this.renderDeclutter_(declutterGroup, feature);\n            ++i;\n            break;\n          case Instruction.DRAW_CHARS:\n            var begin = /** @type {number} */ (instruction[1]);\n            var end = /** @type {number} */ (instruction[2]);\n            var baseline = /** @type {number} */ (instruction[3]);\n            declutterGroup = featureCallback ? null : /** @type {import(\"../canvas.js\").DeclutterGroup} */ (instruction[4]);\n            var overflow = /** @type {number} */ (instruction[5]);\n            var fillKey = /** @type {string} */ (instruction[6]);\n            var maxAngle = /** @type {number} */ (instruction[7]);\n            var measure = /** @type {function(string):number} */ (instruction[8]);\n            var offsetY = /** @type {number} */ (instruction[9]);\n            var strokeKey = /** @type {string} */ (instruction[10]);\n            var strokeWidth = /** @type {number} */ (instruction[11]);\n            var text = /** @type {string} */ (instruction[12]);\n            var textKey = /** @type {string} */ (instruction[13]);\n            var textScale = /** @type {number} */ (instruction[14]);\n\n            var pathLength = lineStringLength(pixelCoordinates, begin, end, 2);\n            var textLength = measure(text);\n            if (overflow || textLength <= pathLength) {\n              /** @type {import(\"./TextReplay.js\").default} */\n              var textReplay = /** @type {?} */ (this);\n              var textAlign = textReplay.textStates[textKey].textAlign;\n              var startM = (pathLength - textLength) * TEXT_ALIGN[textAlign];\n              var parts = drawTextOnPath(\n                pixelCoordinates, begin, end, 2, text, measure, startM, maxAngle);\n              if (parts) {\n                var c = (void 0), cc = (void 0), chars = (void 0), label = (void 0), part = (void 0);\n                if (strokeKey) {\n                  for (c = 0, cc = parts.length; c < cc; ++c) {\n                    part = parts[c]; // x, y, anchorX, rotation, chunk\n                    chars = /** @type {string} */ (part[4]);\n                    label = textReplay.getImage(chars, textKey, '', strokeKey);\n                    anchorX = /** @type {number} */ (part[2]) + strokeWidth;\n                    anchorY = baseline * label.height + (0.5 - baseline) * 2 * strokeWidth - offsetY;\n                    this.replayImage_(context,\n                      /** @type {number} */ (part[0]), /** @type {number} */ (part[1]), label,\n                      anchorX, anchorY, declutterGroup, label.height, 1, 0, 0,\n                      /** @type {number} */ (part[3]), textScale, false, label.width,\n                      defaultPadding, null, null);\n                  }\n                }\n                if (fillKey) {\n                  for (c = 0, cc = parts.length; c < cc; ++c) {\n                    part = parts[c]; // x, y, anchorX, rotation, chunk\n                    chars = /** @type {string} */ (part[4]);\n                    label = textReplay.getImage(chars, textKey, fillKey, '');\n                    anchorX = /** @type {number} */ (part[2]);\n                    anchorY = baseline * label.height - offsetY;\n                    this.replayImage_(context,\n                      /** @type {number} */ (part[0]), /** @type {number} */ (part[1]), label,\n                      anchorX, anchorY, declutterGroup, label.height, 1, 0, 0,\n                      /** @type {number} */ (part[3]), textScale, false, label.width,\n                      defaultPadding, null, null);\n                  }\n                }\n              }\n            }\n            this.renderDeclutter_(declutterGroup, feature);\n            ++i;\n            break;\n          case Instruction.END_GEOMETRY:\n            if (featureCallback !== undefined) {\n              feature = /** @type {import(\"../../Feature.js\").default|import(\"../Feature.js\").default} */ (instruction[1]);\n              var result = featureCallback(feature);\n              if (result) {\n                return result;\n              }\n            }\n            ++i;\n            break;\n          case Instruction.FILL:\n            if (batchSize) {\n              pendingFill++;\n            } else {\n              this.fill_(context);\n            }\n            ++i;\n            break;\n          case Instruction.MOVE_TO_LINE_TO:\n            d = /** @type {number} */ (instruction[1]);\n            dd = /** @type {number} */ (instruction[2]);\n            x = pixelCoordinates[d];\n            y = pixelCoordinates[d + 1];\n            roundX = (x + 0.5) | 0;\n            roundY = (y + 0.5) | 0;\n            if (roundX !== prevX || roundY !== prevY) {\n              context.moveTo(x, y);\n              prevX = roundX;\n              prevY = roundY;\n            }\n            for (d += 2; d < dd; d += 2) {\n              x = pixelCoordinates[d];\n              y = pixelCoordinates[d + 1];\n              roundX = (x + 0.5) | 0;\n              roundY = (y + 0.5) | 0;\n              if (d == dd - 2 || roundX !== prevX || roundY !== prevY) {\n                context.lineTo(x, y);\n                prevX = roundX;\n                prevY = roundY;\n              }\n            }\n            ++i;\n            break;\n          case Instruction.SET_FILL_STYLE:\n            lastFillInstruction = instruction;\n            this.alignFill_ = instruction[2];\n\n            if (pendingFill) {\n              this.fill_(context);\n              pendingFill = 0;\n              if (pendingStroke) {\n                context.stroke();\n                pendingStroke = 0;\n              }\n            }\n\n            context.fillStyle = /** @type {import(\"../../colorlike.js\").ColorLike} */ (instruction[1]);\n            ++i;\n            break;\n          case Instruction.SET_STROKE_STYLE:\n            lastStrokeInstruction = instruction;\n            if (pendingStroke) {\n              context.stroke();\n              pendingStroke = 0;\n            }\n            this.setStrokeStyle_(context, /** @type {Array<*>} */ (instruction));\n            ++i;\n            break;\n          case Instruction.STROKE:\n            if (batchSize) {\n              pendingStroke++;\n            } else {\n              context.stroke();\n            }\n            ++i;\n            break;\n          default:\n            ++i; // consume the instruction anyway, to avoid an infinite loop\n            break;\n        }\n      }\n      if (pendingFill) {\n        this.fill_(context);\n      }\n      if (pendingStroke) {\n        context.stroke();\n      }\n      return undefined;\n    };\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {number} viewRotation View rotation.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features\n     *     to skip.\n     * @param {boolean} snapToPixel Snap point symbols and text to integer pixels.\n     */\n    CanvasReplay.prototype.replay = function replay (context, transform, viewRotation, skippedFeaturesHash, snapToPixel) {\n      this.viewRotation_ = viewRotation;\n      this.replay_(context, transform,\n        skippedFeaturesHash, this.instructions, snapToPixel, undefined, undefined);\n    };\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {number} viewRotation View rotation.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features\n     *     to skip.\n     * @param {function((import(\"../../Feature.js\").default|import(\"../Feature.js\").default)): T=} opt_featureCallback\n     *     Feature callback.\n     * @param {import(\"../../extent.js\").Extent=} opt_hitExtent Only check features that intersect this\n     *     extent.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    CanvasReplay.prototype.replayHitDetection = function replayHitDetection (\n      context,\n      transform,\n      viewRotation,\n      skippedFeaturesHash,\n      opt_featureCallback,\n      opt_hitExtent\n    ) {\n      this.viewRotation_ = viewRotation;\n      return this.replay_(context, transform, skippedFeaturesHash,\n        this.hitDetectionInstructions, true, opt_featureCallback, opt_hitExtent);\n    };\n\n    /**\n     * Reverse the hit detection instructions.\n     */\n    CanvasReplay.prototype.reverseHitDetectionInstructions = function reverseHitDetectionInstructions () {\n      var hitDetectionInstructions = this.hitDetectionInstructions;\n      // step 1 - reverse array\n      hitDetectionInstructions.reverse();\n      // step 2 - reverse instructions within geometry blocks\n      var i;\n      var n = hitDetectionInstructions.length;\n      var instruction;\n      var type;\n      var begin = -1;\n      for (i = 0; i < n; ++i) {\n        instruction = hitDetectionInstructions[i];\n        type = /** @type {CanvasInstruction} */ (instruction[0]);\n        if (type == Instruction.END_GEOMETRY) {\n          begin = i;\n        } else if (type == Instruction.BEGIN_GEOMETRY) {\n          instruction[2] = i;\n          reverseSubArray(this.hitDetectionInstructions, begin, i);\n          begin = -1;\n        }\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasReplay.prototype.setFillStrokeStyle = function setFillStrokeStyle (fillStyle, strokeStyle) {\n      var state = this.state;\n      if (fillStyle) {\n        var fillStyleColor = fillStyle.getColor();\n        state.fillStyle = asColorLike(fillStyleColor ?\n          fillStyleColor : defaultFillStyle);\n      } else {\n        state.fillStyle = undefined;\n      }\n      if (strokeStyle) {\n        var strokeStyleColor = strokeStyle.getColor();\n        state.strokeStyle = asColorLike(strokeStyleColor ?\n          strokeStyleColor : defaultStrokeStyle);\n        var strokeStyleLineCap = strokeStyle.getLineCap();\n        state.lineCap = strokeStyleLineCap !== undefined ?\n          strokeStyleLineCap : defaultLineCap;\n        var strokeStyleLineDash = strokeStyle.getLineDash();\n        state.lineDash = strokeStyleLineDash ?\n          strokeStyleLineDash.slice() : defaultLineDash;\n        var strokeStyleLineDashOffset = strokeStyle.getLineDashOffset();\n        state.lineDashOffset = strokeStyleLineDashOffset ?\n          strokeStyleLineDashOffset : defaultLineDashOffset;\n        var strokeStyleLineJoin = strokeStyle.getLineJoin();\n        state.lineJoin = strokeStyleLineJoin !== undefined ?\n          strokeStyleLineJoin : defaultLineJoin;\n        var strokeStyleWidth = strokeStyle.getWidth();\n        state.lineWidth = strokeStyleWidth !== undefined ?\n          strokeStyleWidth : defaultLineWidth;\n        var strokeStyleMiterLimit = strokeStyle.getMiterLimit();\n        state.miterLimit = strokeStyleMiterLimit !== undefined ?\n          strokeStyleMiterLimit : defaultMiterLimit;\n\n        if (state.lineWidth > this.maxLineWidth) {\n          this.maxLineWidth = state.lineWidth;\n          // invalidate the buffered max extent cache\n          this.bufferedMaxExtent_ = null;\n        }\n      } else {\n        state.strokeStyle = undefined;\n        state.lineCap = undefined;\n        state.lineDash = null;\n        state.lineDashOffset = undefined;\n        state.lineJoin = undefined;\n        state.lineWidth = undefined;\n        state.miterLimit = undefined;\n      }\n    };\n\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry Geometry.\n     * @return {Array<*>} Fill instruction.\n     */\n    CanvasReplay.prototype.createFill = function createFill (state, geometry) {\n      var fillStyle = state.fillStyle;\n      /** @type {Array<*>} */\n      var fillInstruction$$1 = [Instruction.SET_FILL_STYLE, fillStyle];\n      if (typeof fillStyle !== 'string') {\n        // Fill is a pattern or gradient - align it!\n        fillInstruction$$1.push(true);\n      }\n      return fillInstruction$$1;\n    };\n\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     */\n    CanvasReplay.prototype.applyStroke = function applyStroke (state) {\n      this.instructions.push(this.createStroke(state));\n    };\n\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     * @return {Array<*>} Stroke instruction.\n     */\n    CanvasReplay.prototype.createStroke = function createStroke (state) {\n      return [\n        Instruction.SET_STROKE_STYLE,\n        state.strokeStyle, state.lineWidth * this.pixelRatio, state.lineCap,\n        state.lineJoin, state.miterLimit,\n        this.applyPixelRatio(state.lineDash), state.lineDashOffset * this.pixelRatio\n      ];\n    };\n\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     * @param {function(this:CanvasReplay, import(\"../canvas.js\").FillStrokeState, (import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default)):Array<*>} createFill Create fill.\n     * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry Geometry.\n     */\n    CanvasReplay.prototype.updateFillStyle = function updateFillStyle (state, createFill, geometry) {\n      var fillStyle = state.fillStyle;\n      if (typeof fillStyle !== 'string' || state.currentFillStyle != fillStyle) {\n        if (fillStyle !== undefined) {\n          this.instructions.push(createFill.call(this, state, geometry));\n        }\n        state.currentFillStyle = fillStyle;\n      }\n    };\n\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     * @param {function(this:CanvasReplay, import(\"../canvas.js\").FillStrokeState)} applyStroke Apply stroke.\n     */\n    CanvasReplay.prototype.updateStrokeStyle = function updateStrokeStyle (state, applyStroke) {\n      var strokeStyle = state.strokeStyle;\n      var lineCap = state.lineCap;\n      var lineDash = state.lineDash;\n      var lineDashOffset = state.lineDashOffset;\n      var lineJoin = state.lineJoin;\n      var lineWidth = state.lineWidth;\n      var miterLimit = state.miterLimit;\n      if (state.currentStrokeStyle != strokeStyle ||\n          state.currentLineCap != lineCap ||\n          (lineDash != state.currentLineDash && !equals(state.currentLineDash, lineDash)) ||\n          state.currentLineDashOffset != lineDashOffset ||\n          state.currentLineJoin != lineJoin ||\n          state.currentLineWidth != lineWidth ||\n          state.currentMiterLimit != miterLimit) {\n        if (strokeStyle !== undefined) {\n          applyStroke.call(this, state);\n        }\n        state.currentStrokeStyle = strokeStyle;\n        state.currentLineCap = lineCap;\n        state.currentLineDash = lineDash;\n        state.currentLineDashOffset = lineDashOffset;\n        state.currentLineJoin = lineJoin;\n        state.currentLineWidth = lineWidth;\n        state.currentMiterLimit = miterLimit;\n      }\n    };\n\n    /**\n     * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry Geometry.\n     * @param {import(\"../../Feature.js\").default|import(\"../Feature.js\").default} feature Feature.\n     */\n    CanvasReplay.prototype.endGeometry = function endGeometry (geometry, feature) {\n      this.beginGeometryInstruction1_[2] = this.instructions.length;\n      this.beginGeometryInstruction1_ = null;\n      this.beginGeometryInstruction2_[2] = this.hitDetectionInstructions.length;\n      this.beginGeometryInstruction2_ = null;\n      var endGeometryInstruction = [Instruction.END_GEOMETRY, feature];\n      this.instructions.push(endGeometryInstruction);\n      this.hitDetectionInstructions.push(endGeometryInstruction);\n    };\n\n    /**\n     * Get the buffered rendering extent.  Rendering will be clipped to the extent\n     * provided to the constructor.  To account for symbolizers that may intersect\n     * this extent, we calculate a buffered extent (e.g. based on stroke width).\n     * @return {import(\"../../extent.js\").Extent} The buffered rendering extent.\n     * @protected\n     */\n    CanvasReplay.prototype.getBufferedMaxExtent = function getBufferedMaxExtent () {\n      if (!this.bufferedMaxExtent_) {\n        this.bufferedMaxExtent_ = clone(this.maxExtent);\n        if (this.maxLineWidth > 0) {\n          var width = this.resolution * (this.maxLineWidth + 1) / 2;\n          buffer(this.bufferedMaxExtent_, width, this.bufferedMaxExtent_);\n        }\n      }\n      return this.bufferedMaxExtent_;\n    };\n\n    return CanvasReplay;\n  }(VectorContext));\n\n  /**\n   * @module ol/render/canvas/ImageReplay\n   */\n\n  var CanvasImageReplay = /*@__PURE__*/(function (CanvasReplay$$1) {\n    function CanvasImageReplay(tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree) {\n      CanvasReplay$$1.call(this, tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree);\n\n      /**\n       * @private\n       * @type {import(\"../canvas.js\").DeclutterGroup}\n       */\n      this.declutterGroup_ = null;\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement}\n       */\n      this.hitDetectionImage_ = null;\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement}\n       */\n      this.image_ = null;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.anchorX_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.anchorY_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.height_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.opacity_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.originX_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.originY_ = undefined;\n\n      /**\n       * @private\n       * @type {boolean|undefined}\n       */\n      this.rotateWithView_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.rotation_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.scale_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.width_ = undefined;\n\n    }\n\n    if ( CanvasReplay$$1 ) CanvasImageReplay.__proto__ = CanvasReplay$$1;\n    CanvasImageReplay.prototype = Object.create( CanvasReplay$$1 && CanvasReplay$$1.prototype );\n    CanvasImageReplay.prototype.constructor = CanvasImageReplay;\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @private\n     * @return {number} My end.\n     */\n    CanvasImageReplay.prototype.drawCoordinates_ = function drawCoordinates_ (flatCoordinates, offset, end, stride) {\n      return this.appendFlatCoordinates(flatCoordinates, offset, end, stride, false, false);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasImageReplay.prototype.drawPoint = function drawPoint (pointGeometry, feature) {\n      if (!this.image_) {\n        return;\n      }\n      this.beginGeometry(pointGeometry, feature);\n      var flatCoordinates = pointGeometry.getFlatCoordinates();\n      var stride = pointGeometry.getStride();\n      var myBegin = this.coordinates.length;\n      var myEnd = this.drawCoordinates_(flatCoordinates, 0, flatCoordinates.length, stride);\n      this.instructions.push([\n        Instruction.DRAW_IMAGE, myBegin, myEnd, this.image_,\n        // Remaining arguments to DRAW_IMAGE are in alphabetical order\n        this.anchorX_, this.anchorY_, this.declutterGroup_, this.height_, this.opacity_,\n        this.originX_, this.originY_, this.rotateWithView_, this.rotation_,\n        this.scale_ * this.pixelRatio, this.width_\n      ]);\n      this.hitDetectionInstructions.push([\n        Instruction.DRAW_IMAGE, myBegin, myEnd, this.hitDetectionImage_,\n        // Remaining arguments to DRAW_IMAGE are in alphabetical order\n        this.anchorX_, this.anchorY_, this.declutterGroup_, this.height_, this.opacity_,\n        this.originX_, this.originY_, this.rotateWithView_, this.rotation_,\n        this.scale_, this.width_\n      ]);\n      this.endGeometry(pointGeometry, feature);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasImageReplay.prototype.drawMultiPoint = function drawMultiPoint (multiPointGeometry, feature) {\n      if (!this.image_) {\n        return;\n      }\n      this.beginGeometry(multiPointGeometry, feature);\n      var flatCoordinates = multiPointGeometry.getFlatCoordinates();\n      var stride = multiPointGeometry.getStride();\n      var myBegin = this.coordinates.length;\n      var myEnd = this.drawCoordinates_(\n        flatCoordinates, 0, flatCoordinates.length, stride);\n      this.instructions.push([\n        Instruction.DRAW_IMAGE, myBegin, myEnd, this.image_,\n        // Remaining arguments to DRAW_IMAGE are in alphabetical order\n        this.anchorX_, this.anchorY_, this.declutterGroup_, this.height_, this.opacity_,\n        this.originX_, this.originY_, this.rotateWithView_, this.rotation_,\n        this.scale_ * this.pixelRatio, this.width_\n      ]);\n      this.hitDetectionInstructions.push([\n        Instruction.DRAW_IMAGE, myBegin, myEnd, this.hitDetectionImage_,\n        // Remaining arguments to DRAW_IMAGE are in alphabetical order\n        this.anchorX_, this.anchorY_, this.declutterGroup_, this.height_, this.opacity_,\n        this.originX_, this.originY_, this.rotateWithView_, this.rotation_,\n        this.scale_, this.width_\n      ]);\n      this.endGeometry(multiPointGeometry, feature);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasImageReplay.prototype.finish = function finish () {\n      this.reverseHitDetectionInstructions();\n      // FIXME this doesn't really protect us against further calls to draw*Geometry\n      this.anchorX_ = undefined;\n      this.anchorY_ = undefined;\n      this.hitDetectionImage_ = null;\n      this.image_ = null;\n      this.height_ = undefined;\n      this.scale_ = undefined;\n      this.opacity_ = undefined;\n      this.originX_ = undefined;\n      this.originY_ = undefined;\n      this.rotateWithView_ = undefined;\n      this.rotation_ = undefined;\n      this.width_ = undefined;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasImageReplay.prototype.setImageStyle = function setImageStyle (imageStyle, declutterGroup) {\n      var anchor = imageStyle.getAnchor();\n      var size = imageStyle.getSize();\n      var hitDetectionImage = imageStyle.getHitDetectionImage(1);\n      var image = imageStyle.getImage(1);\n      var origin = imageStyle.getOrigin();\n      this.anchorX_ = anchor[0];\n      this.anchorY_ = anchor[1];\n      this.declutterGroup_ = /** @type {import(\"../canvas.js\").DeclutterGroup} */ (declutterGroup);\n      this.hitDetectionImage_ = hitDetectionImage;\n      this.image_ = image;\n      this.height_ = size[1];\n      this.opacity_ = imageStyle.getOpacity();\n      this.originX_ = origin[0];\n      this.originY_ = origin[1];\n      this.rotateWithView_ = imageStyle.getRotateWithView();\n      this.rotation_ = imageStyle.getRotation();\n      this.scale_ = imageStyle.getScale();\n      this.width_ = size[0];\n    };\n\n    return CanvasImageReplay;\n  }(CanvasReplay));\n\n  /**\n   * @module ol/render/canvas/LineStringReplay\n   */\n\n  var CanvasLineStringReplay = /*@__PURE__*/(function (CanvasReplay$$1) {\n    function CanvasLineStringReplay(tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree) {\n      CanvasReplay$$1.call(this, tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree);\n    }\n\n    if ( CanvasReplay$$1 ) CanvasLineStringReplay.__proto__ = CanvasReplay$$1;\n    CanvasLineStringReplay.prototype = Object.create( CanvasReplay$$1 && CanvasReplay$$1.prototype );\n    CanvasLineStringReplay.prototype.constructor = CanvasLineStringReplay;\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @private\n     * @return {number} end.\n     */\n    CanvasLineStringReplay.prototype.drawFlatCoordinates_ = function drawFlatCoordinates_ (flatCoordinates, offset, end, stride) {\n      var myBegin = this.coordinates.length;\n      var myEnd = this.appendFlatCoordinates(\n        flatCoordinates, offset, end, stride, false, false);\n      var moveToLineToInstruction = [Instruction.MOVE_TO_LINE_TO, myBegin, myEnd];\n      this.instructions.push(moveToLineToInstruction);\n      this.hitDetectionInstructions.push(moveToLineToInstruction);\n      return end;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasLineStringReplay.prototype.drawLineString = function drawLineString (lineStringGeometry, feature) {\n      var state = this.state;\n      var strokeStyle = state.strokeStyle;\n      var lineWidth = state.lineWidth;\n      if (strokeStyle === undefined || lineWidth === undefined) {\n        return;\n      }\n      this.updateStrokeStyle(state, this.applyStroke);\n      this.beginGeometry(lineStringGeometry, feature);\n      this.hitDetectionInstructions.push([\n        Instruction.SET_STROKE_STYLE,\n        state.strokeStyle, state.lineWidth, state.lineCap, state.lineJoin,\n        state.miterLimit, state.lineDash, state.lineDashOffset\n      ], beginPathInstruction);\n      var flatCoordinates = lineStringGeometry.getFlatCoordinates();\n      var stride = lineStringGeometry.getStride();\n      this.drawFlatCoordinates_(flatCoordinates, 0, flatCoordinates.length, stride);\n      this.hitDetectionInstructions.push(strokeInstruction);\n      this.endGeometry(lineStringGeometry, feature);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasLineStringReplay.prototype.drawMultiLineString = function drawMultiLineString (multiLineStringGeometry, feature) {\n      var state = this.state;\n      var strokeStyle = state.strokeStyle;\n      var lineWidth = state.lineWidth;\n      if (strokeStyle === undefined || lineWidth === undefined) {\n        return;\n      }\n      this.updateStrokeStyle(state, this.applyStroke);\n      this.beginGeometry(multiLineStringGeometry, feature);\n      this.hitDetectionInstructions.push([\n        Instruction.SET_STROKE_STYLE,\n        state.strokeStyle, state.lineWidth, state.lineCap, state.lineJoin,\n        state.miterLimit, state.lineDash, state.lineDashOffset\n      ], beginPathInstruction);\n      var ends = multiLineStringGeometry.getEnds();\n      var flatCoordinates = multiLineStringGeometry.getFlatCoordinates();\n      var stride = multiLineStringGeometry.getStride();\n      var offset = 0;\n      for (var i = 0, ii = ends.length; i < ii; ++i) {\n        offset = this.drawFlatCoordinates_(flatCoordinates, offset, ends[i], stride);\n      }\n      this.hitDetectionInstructions.push(strokeInstruction);\n      this.endGeometry(multiLineStringGeometry, feature);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasLineStringReplay.prototype.finish = function finish () {\n      var state = this.state;\n      if (state.lastStroke != undefined && state.lastStroke != this.coordinates.length) {\n        this.instructions.push(strokeInstruction);\n      }\n      this.reverseHitDetectionInstructions();\n      this.state = null;\n    };\n\n    /**\n     * @inheritDoc.\n     */\n    CanvasLineStringReplay.prototype.applyStroke = function applyStroke (state) {\n      if (state.lastStroke != undefined && state.lastStroke != this.coordinates.length) {\n        this.instructions.push(strokeInstruction);\n        state.lastStroke = this.coordinates.length;\n      }\n      state.lastStroke = 0;\n      CanvasReplay$$1.prototype.applyStroke.call(this, state);\n      this.instructions.push(beginPathInstruction);\n    };\n\n    return CanvasLineStringReplay;\n  }(CanvasReplay));\n\n  /**\n   * @module ol/render/canvas/PolygonReplay\n   */\n\n\n  var CanvasPolygonReplay = /*@__PURE__*/(function (CanvasReplay$$1) {\n    function CanvasPolygonReplay(tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree) {\n      CanvasReplay$$1.call(this, tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree);\n    }\n\n    if ( CanvasReplay$$1 ) CanvasPolygonReplay.__proto__ = CanvasReplay$$1;\n    CanvasPolygonReplay.prototype = Object.create( CanvasReplay$$1 && CanvasReplay$$1.prototype );\n    CanvasPolygonReplay.prototype.constructor = CanvasPolygonReplay;\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {Array<number>} ends Ends.\n     * @param {number} stride Stride.\n     * @private\n     * @return {number} End.\n     */\n    CanvasPolygonReplay.prototype.drawFlatCoordinatess_ = function drawFlatCoordinatess_ (flatCoordinates, offset, ends, stride) {\n      var state = this.state;\n      var fill = state.fillStyle !== undefined;\n      var stroke = state.strokeStyle != undefined;\n      var numEnds = ends.length;\n      this.instructions.push(beginPathInstruction);\n      this.hitDetectionInstructions.push(beginPathInstruction);\n      for (var i = 0; i < numEnds; ++i) {\n        var end = ends[i];\n        var myBegin = this.coordinates.length;\n        var myEnd = this.appendFlatCoordinates(flatCoordinates, offset, end, stride, true, !stroke);\n        var moveToLineToInstruction = [Instruction.MOVE_TO_LINE_TO, myBegin, myEnd];\n        this.instructions.push(moveToLineToInstruction);\n        this.hitDetectionInstructions.push(moveToLineToInstruction);\n        if (stroke) {\n          // Performance optimization: only call closePath() when we have a stroke.\n          // Otherwise the ring is closed already (see appendFlatCoordinates above).\n          this.instructions.push(closePathInstruction);\n          this.hitDetectionInstructions.push(closePathInstruction);\n        }\n        offset = end;\n      }\n      if (fill) {\n        this.instructions.push(fillInstruction);\n        this.hitDetectionInstructions.push(fillInstruction);\n      }\n      if (stroke) {\n        this.instructions.push(strokeInstruction);\n        this.hitDetectionInstructions.push(strokeInstruction);\n      }\n      return offset;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasPolygonReplay.prototype.drawCircle = function drawCircle (circleGeometry, feature) {\n      var state = this.state;\n      var fillStyle = state.fillStyle;\n      var strokeStyle = state.strokeStyle;\n      if (fillStyle === undefined && strokeStyle === undefined) {\n        return;\n      }\n      this.setFillStrokeStyles_(circleGeometry);\n      this.beginGeometry(circleGeometry, feature);\n      if (state.fillStyle !== undefined) {\n        this.hitDetectionInstructions.push([\n          Instruction.SET_FILL_STYLE,\n          asString(defaultFillStyle)\n        ]);\n      }\n      if (state.strokeStyle !== undefined) {\n        this.hitDetectionInstructions.push([\n          Instruction.SET_STROKE_STYLE,\n          state.strokeStyle, state.lineWidth, state.lineCap, state.lineJoin,\n          state.miterLimit, state.lineDash, state.lineDashOffset\n        ]);\n      }\n      var flatCoordinates = circleGeometry.getFlatCoordinates();\n      var stride = circleGeometry.getStride();\n      var myBegin = this.coordinates.length;\n      this.appendFlatCoordinates(\n        flatCoordinates, 0, flatCoordinates.length, stride, false, false);\n      var circleInstruction = [Instruction.CIRCLE, myBegin];\n      this.instructions.push(beginPathInstruction, circleInstruction);\n      this.hitDetectionInstructions.push(beginPathInstruction, circleInstruction);\n      this.hitDetectionInstructions.push(fillInstruction);\n      if (state.fillStyle !== undefined) {\n        this.instructions.push(fillInstruction);\n      }\n      if (state.strokeStyle !== undefined) {\n        this.instructions.push(strokeInstruction);\n        this.hitDetectionInstructions.push(strokeInstruction);\n      }\n      this.endGeometry(circleGeometry, feature);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasPolygonReplay.prototype.drawPolygon = function drawPolygon (polygonGeometry, feature) {\n      var state = this.state;\n      var fillStyle = state.fillStyle;\n      var strokeStyle = state.strokeStyle;\n      if (fillStyle === undefined && strokeStyle === undefined) {\n        return;\n      }\n      this.setFillStrokeStyles_(polygonGeometry);\n      this.beginGeometry(polygonGeometry, feature);\n      if (state.fillStyle !== undefined) {\n        this.hitDetectionInstructions.push([\n          Instruction.SET_FILL_STYLE,\n          asString(defaultFillStyle)\n        ]);\n      }\n      if (state.strokeStyle !== undefined) {\n        this.hitDetectionInstructions.push([\n          Instruction.SET_STROKE_STYLE,\n          state.strokeStyle, state.lineWidth, state.lineCap, state.lineJoin,\n          state.miterLimit, state.lineDash, state.lineDashOffset\n        ]);\n      }\n      var ends = polygonGeometry.getEnds();\n      var flatCoordinates = polygonGeometry.getOrientedFlatCoordinates();\n      var stride = polygonGeometry.getStride();\n      this.drawFlatCoordinatess_(flatCoordinates, 0, ends, stride);\n      this.endGeometry(polygonGeometry, feature);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasPolygonReplay.prototype.drawMultiPolygon = function drawMultiPolygon (multiPolygonGeometry, feature) {\n      var state = this.state;\n      var fillStyle = state.fillStyle;\n      var strokeStyle = state.strokeStyle;\n      if (fillStyle === undefined && strokeStyle === undefined) {\n        return;\n      }\n      this.setFillStrokeStyles_(multiPolygonGeometry);\n      this.beginGeometry(multiPolygonGeometry, feature);\n      if (state.fillStyle !== undefined) {\n        this.hitDetectionInstructions.push([\n          Instruction.SET_FILL_STYLE,\n          asString(defaultFillStyle)\n        ]);\n      }\n      if (state.strokeStyle !== undefined) {\n        this.hitDetectionInstructions.push([\n          Instruction.SET_STROKE_STYLE,\n          state.strokeStyle, state.lineWidth, state.lineCap, state.lineJoin,\n          state.miterLimit, state.lineDash, state.lineDashOffset\n        ]);\n      }\n      var endss = multiPolygonGeometry.getEndss();\n      var flatCoordinates = multiPolygonGeometry.getOrientedFlatCoordinates();\n      var stride = multiPolygonGeometry.getStride();\n      var offset = 0;\n      for (var i = 0, ii = endss.length; i < ii; ++i) {\n        offset = this.drawFlatCoordinatess_(flatCoordinates, offset, endss[i], stride);\n      }\n      this.endGeometry(multiPolygonGeometry, feature);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasPolygonReplay.prototype.finish = function finish () {\n      this.reverseHitDetectionInstructions();\n      this.state = null;\n      // We want to preserve topology when drawing polygons.  Polygons are\n      // simplified using quantization and point elimination. However, we might\n      // have received a mix of quantized and non-quantized geometries, so ensure\n      // that all are quantized by quantizing all coordinates in the batch.\n      var tolerance = this.tolerance;\n      if (tolerance !== 0) {\n        var coordinates = this.coordinates;\n        for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n          coordinates[i] = snap(coordinates[i], tolerance);\n        }\n      }\n    };\n\n    /**\n     * @private\n     * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry Geometry.\n     */\n    CanvasPolygonReplay.prototype.setFillStrokeStyles_ = function setFillStrokeStyles_ (geometry) {\n      var state = this.state;\n      var fillStyle = state.fillStyle;\n      if (fillStyle !== undefined) {\n        this.updateFillStyle(state, this.createFill, geometry);\n      }\n      if (state.strokeStyle !== undefined) {\n        this.updateStrokeStyle(state, this.applyStroke);\n      }\n    };\n\n    return CanvasPolygonReplay;\n  }(CanvasReplay));\n\n  /**\n   * @module ol/geom/flat/straightchunk\n   */\n\n\n  /**\n   * @param {number} maxAngle Maximum acceptable angle delta between segments.\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @return {Array<number>} Start and end of the first suitable chunk of the\n   * given `flatCoordinates`.\n   */\n  function matchingChunk(maxAngle, flatCoordinates, offset, end, stride) {\n    var chunkStart = offset;\n    var chunkEnd = offset;\n    var chunkM = 0;\n    var m = 0;\n    var start = offset;\n    var acos, i, m12, m23, x1, y1, x12, y12, x23, y23;\n    for (i = offset; i < end; i += stride) {\n      var x2 = flatCoordinates[i];\n      var y2 = flatCoordinates[i + 1];\n      if (x1 !== undefined) {\n        x23 = x2 - x1;\n        y23 = y2 - y1;\n        m23 = Math.sqrt(x23 * x23 + y23 * y23);\n        if (x12 !== undefined) {\n          m += m12;\n          acos = Math.acos((x12 * x23 + y12 * y23) / (m12 * m23));\n          if (acos > maxAngle) {\n            if (m > chunkM) {\n              chunkM = m;\n              chunkStart = start;\n              chunkEnd = i;\n            }\n            m = 0;\n            start = i - stride;\n          }\n        }\n        m12 = m23;\n        x12 = x23;\n        y12 = y23;\n      }\n      x1 = x2;\n      y1 = y2;\n    }\n    m += m23;\n    return m > chunkM ? [start, i] : [chunkStart, chunkEnd];\n  }\n\n  /**\n   * @module ol/style/TextPlacement\n   */\n\n  /**\n   * Text placement. One of `'point'`, `'line'`. Default is `'point'`. Note that\n   * `'line'` requires the underlying geometry to be a {@link module:ol/geom/LineString~LineString},\n   * {@link module:ol/geom/Polygon~Polygon}, {@link module:ol/geom/MultiLineString~MultiLineString} or\n   * {@link module:ol/geom/MultiPolygon~MultiPolygon}.\n   * @enum {string}\n   */\n  var TextPlacement = {\n    POINT: 'point',\n    LINE: 'line'\n  };\n\n  /**\n   * @module ol/render/canvas/TextReplay\n   */\n\n  var CanvasTextReplay = /*@__PURE__*/(function (CanvasReplay$$1) {\n    function CanvasTextReplay(tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree) {\n      CanvasReplay$$1.call(this, tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree);\n\n      /**\n       * @private\n       * @type {import(\"../canvas.js\").DeclutterGroup}\n       */\n      this.declutterGroup_;\n\n      /**\n       * @private\n       * @type {Array<HTMLCanvasElement>}\n       */\n      this.labels_ = null;\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.text_ = '';\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.textOffsetX_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.textOffsetY_ = 0;\n\n      /**\n       * @private\n       * @type {boolean|undefined}\n       */\n      this.textRotateWithView_ = undefined;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.textRotation_ = 0;\n\n      /**\n       * @private\n       * @type {?import(\"../canvas.js\").FillState}\n       */\n      this.textFillState_ = null;\n\n      /**\n       * @type {!Object<string, import(\"../canvas.js\").FillState>}\n       */\n      this.fillStates = {};\n\n      /**\n       * @private\n       * @type {?import(\"../canvas.js\").StrokeState}\n       */\n      this.textStrokeState_ = null;\n\n      /**\n       * @type {!Object<string, import(\"../canvas.js\").StrokeState>}\n       */\n      this.strokeStates = {};\n\n      /**\n       * @private\n       * @type {import(\"../canvas.js\").TextState}\n       */\n      this.textState_ = /** @type {import(\"../canvas.js\").TextState} */ ({});\n\n      /**\n       * @type {!Object<string, import(\"../canvas.js\").TextState>}\n       */\n      this.textStates = {};\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.textKey_ = '';\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.fillKey_ = '';\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.strokeKey_ = '';\n\n      /**\n       * @private\n       * @type {Object<string, Object<string, number>>}\n       */\n      this.widths_ = {};\n\n      labelCache.prune();\n\n    }\n\n    if ( CanvasReplay$$1 ) CanvasTextReplay.__proto__ = CanvasReplay$$1;\n    CanvasTextReplay.prototype = Object.create( CanvasReplay$$1 && CanvasReplay$$1.prototype );\n    CanvasTextReplay.prototype.constructor = CanvasTextReplay;\n\n    /**\n     * @inheritDoc\n     */\n    CanvasTextReplay.prototype.drawText = function drawText (geometry, feature) {\n      var fillState = this.textFillState_;\n      var strokeState = this.textStrokeState_;\n      var textState = this.textState_;\n      if (this.text_ === '' || !textState || (!fillState && !strokeState)) {\n        return;\n      }\n\n      var begin = this.coordinates.length;\n\n      var geometryType = geometry.getType();\n      var flatCoordinates = null;\n      var end = 2;\n      var stride = 2;\n      var i, ii;\n\n      if (textState.placement === TextPlacement.LINE) {\n        if (!intersects(this.getBufferedMaxExtent(), geometry.getExtent())) {\n          return;\n        }\n        var ends;\n        flatCoordinates = geometry.getFlatCoordinates();\n        stride = geometry.getStride();\n        if (geometryType == GeometryType.LINE_STRING) {\n          ends = [flatCoordinates.length];\n        } else if (geometryType == GeometryType.MULTI_LINE_STRING) {\n          ends = geometry.getEnds();\n        } else if (geometryType == GeometryType.POLYGON) {\n          ends = geometry.getEnds().slice(0, 1);\n        } else if (geometryType == GeometryType.MULTI_POLYGON) {\n          var endss = geometry.getEndss();\n          ends = [];\n          for (i = 0, ii = endss.length; i < ii; ++i) {\n            ends.push(endss[i][0]);\n          }\n        }\n        this.beginGeometry(geometry, feature);\n        var textAlign = textState.textAlign;\n        var flatOffset = 0;\n        var flatEnd;\n        for (var o = 0, oo = ends.length; o < oo; ++o) {\n          if (textAlign == undefined) {\n            var range = matchingChunk(textState.maxAngle, flatCoordinates, flatOffset, ends[o], stride);\n            flatOffset = range[0];\n            flatEnd = range[1];\n          } else {\n            flatEnd = ends[o];\n          }\n          for (i = flatOffset; i < flatEnd; i += stride) {\n            this.coordinates.push(flatCoordinates[i], flatCoordinates[i + 1]);\n          }\n          end = this.coordinates.length;\n          flatOffset = ends[o];\n          this.drawChars_(begin, end, this.declutterGroup_);\n          begin = end;\n        }\n        this.endGeometry(geometry, feature);\n\n      } else {\n        var label = this.getImage(this.text_, this.textKey_, this.fillKey_, this.strokeKey_);\n        var width = label.width / this.pixelRatio;\n        switch (geometryType) {\n          case GeometryType.POINT:\n          case GeometryType.MULTI_POINT:\n            flatCoordinates = geometry.getFlatCoordinates();\n            end = flatCoordinates.length;\n            break;\n          case GeometryType.LINE_STRING:\n            flatCoordinates = /** @type {import(\"../../geom/LineString.js\").default} */ (geometry).getFlatMidpoint();\n            break;\n          case GeometryType.CIRCLE:\n            flatCoordinates = /** @type {import(\"../../geom/Circle.js\").default} */ (geometry).getCenter();\n            break;\n          case GeometryType.MULTI_LINE_STRING:\n            flatCoordinates = /** @type {import(\"../../geom/MultiLineString.js\").default} */ (geometry).getFlatMidpoints();\n            end = flatCoordinates.length;\n            break;\n          case GeometryType.POLYGON:\n            flatCoordinates = /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry).getFlatInteriorPoint();\n            if (!textState.overflow && flatCoordinates[2] / this.resolution < width) {\n              return;\n            }\n            stride = 3;\n            break;\n          case GeometryType.MULTI_POLYGON:\n            var interiorPoints = /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry).getFlatInteriorPoints();\n            flatCoordinates = [];\n            for (i = 0, ii = interiorPoints.length; i < ii; i += 3) {\n              if (textState.overflow || interiorPoints[i + 2] / this.resolution >= width) {\n                flatCoordinates.push(interiorPoints[i], interiorPoints[i + 1]);\n              }\n            }\n            end = flatCoordinates.length;\n            if (end == 0) {\n              return;\n            }\n            break;\n          default:\n        }\n        end = this.appendFlatCoordinates(flatCoordinates, 0, end, stride, false, false);\n        if (textState.backgroundFill || textState.backgroundStroke) {\n          this.setFillStrokeStyle(textState.backgroundFill, textState.backgroundStroke);\n          if (textState.backgroundFill) {\n            this.updateFillStyle(this.state, this.createFill, geometry);\n            this.hitDetectionInstructions.push(this.createFill(this.state, geometry));\n          }\n          if (textState.backgroundStroke) {\n            this.updateStrokeStyle(this.state, this.applyStroke);\n            this.hitDetectionInstructions.push(this.createStroke(this.state));\n          }\n        }\n        this.beginGeometry(geometry, feature);\n        this.drawTextImage_(label, begin, end);\n        this.endGeometry(geometry, feature);\n      }\n    };\n\n    /**\n     * @param {string} text Text.\n     * @param {string} textKey Text style key.\n     * @param {string} fillKey Fill style key.\n     * @param {string} strokeKey Stroke style key.\n     * @return {HTMLCanvasElement} Image.\n     */\n    CanvasTextReplay.prototype.getImage = function getImage (text, textKey, fillKey, strokeKey) {\n      var label;\n      var key = strokeKey + textKey + text + fillKey + this.pixelRatio;\n\n      if (!labelCache.containsKey(key)) {\n        var strokeState = strokeKey ? this.strokeStates[strokeKey] || this.textStrokeState_ : null;\n        var fillState = fillKey ? this.fillStates[fillKey] || this.textFillState_ : null;\n        var textState = this.textStates[textKey] || this.textState_;\n        var pixelRatio = this.pixelRatio;\n        var scale = textState.scale * pixelRatio;\n        var align = TEXT_ALIGN[textState.textAlign || defaultTextAlign];\n        var strokeWidth = strokeKey && strokeState.lineWidth ? strokeState.lineWidth : 0;\n\n        var lines = text.split('\\n');\n        var numLines = lines.length;\n        var widths = [];\n        var width = measureTextWidths(textState.font, lines, widths);\n        var lineHeight = measureTextHeight(textState.font);\n        var height = lineHeight * numLines;\n        var renderWidth = (width + strokeWidth);\n        var context = createCanvasContext2D(\n          Math.ceil(renderWidth * scale),\n          Math.ceil((height + strokeWidth) * scale));\n        label = context.canvas;\n        labelCache.set(key, label);\n        if (scale != 1) {\n          context.scale(scale, scale);\n        }\n        context.font = textState.font;\n        if (strokeKey) {\n          context.strokeStyle = strokeState.strokeStyle;\n          context.lineWidth = strokeWidth;\n          context.lineCap = /** @type {CanvasLineCap} */ (strokeState.lineCap);\n          context.lineJoin = /** @type {CanvasLineJoin} */ (strokeState.lineJoin);\n          context.miterLimit = strokeState.miterLimit;\n          if (CANVAS_LINE_DASH && strokeState.lineDash.length) {\n            context.setLineDash(strokeState.lineDash);\n            context.lineDashOffset = strokeState.lineDashOffset;\n          }\n        }\n        if (fillKey) {\n          context.fillStyle = fillState.fillStyle;\n        }\n        context.textBaseline = 'middle';\n        context.textAlign = 'center';\n        var leftRight = (0.5 - align);\n        var x = align * label.width / scale + leftRight * strokeWidth;\n        var i;\n        if (strokeKey) {\n          for (i = 0; i < numLines; ++i) {\n            context.strokeText(lines[i], x + leftRight * widths[i], 0.5 * (strokeWidth + lineHeight) + i * lineHeight);\n          }\n        }\n        if (fillKey) {\n          for (i = 0; i < numLines; ++i) {\n            context.fillText(lines[i], x + leftRight * widths[i], 0.5 * (strokeWidth + lineHeight) + i * lineHeight);\n          }\n        }\n      }\n      return labelCache.get(key);\n    };\n\n    /**\n     * @private\n     * @param {HTMLCanvasElement} label Label.\n     * @param {number} begin Begin.\n     * @param {number} end End.\n     */\n    CanvasTextReplay.prototype.drawTextImage_ = function drawTextImage_ (label, begin, end) {\n      var textState = this.textState_;\n      var strokeState = this.textStrokeState_;\n      var pixelRatio = this.pixelRatio;\n      var align = TEXT_ALIGN[textState.textAlign || defaultTextAlign];\n      var baseline = TEXT_ALIGN[textState.textBaseline];\n      var strokeWidth = strokeState && strokeState.lineWidth ? strokeState.lineWidth : 0;\n\n      var anchorX = align * label.width / pixelRatio + 2 * (0.5 - align) * strokeWidth;\n      var anchorY = baseline * label.height / pixelRatio + 2 * (0.5 - baseline) * strokeWidth;\n      this.instructions.push([Instruction.DRAW_IMAGE, begin, end,\n        label, (anchorX - this.textOffsetX_) * pixelRatio, (anchorY - this.textOffsetY_) * pixelRatio,\n        this.declutterGroup_, label.height, 1, 0, 0, this.textRotateWithView_, this.textRotation_,\n        1, label.width,\n        textState.padding == defaultPadding ?\n          defaultPadding : textState.padding.map(function(p) {\n            return p * pixelRatio;\n          }),\n        !!textState.backgroundFill, !!textState.backgroundStroke\n      ]);\n      this.hitDetectionInstructions.push([Instruction.DRAW_IMAGE, begin, end,\n        label, (anchorX - this.textOffsetX_) * pixelRatio, (anchorY - this.textOffsetY_) * pixelRatio,\n        this.declutterGroup_, label.height, 1, 0, 0, this.textRotateWithView_, this.textRotation_,\n        1 / pixelRatio, label.width, textState.padding,\n        !!textState.backgroundFill, !!textState.backgroundStroke\n      ]);\n    };\n\n    /**\n     * @private\n     * @param {number} begin Begin.\n     * @param {number} end End.\n     * @param {import(\"../canvas.js\").DeclutterGroup} declutterGroup Declutter group.\n     */\n    CanvasTextReplay.prototype.drawChars_ = function drawChars_ (begin, end, declutterGroup) {\n      var strokeState = this.textStrokeState_;\n      var textState = this.textState_;\n      var fillState = this.textFillState_;\n\n      var strokeKey = this.strokeKey_;\n      if (strokeState) {\n        if (!(strokeKey in this.strokeStates)) {\n          this.strokeStates[strokeKey] = /** @type {import(\"../canvas.js\").StrokeState} */ ({\n            strokeStyle: strokeState.strokeStyle,\n            lineCap: strokeState.lineCap,\n            lineDashOffset: strokeState.lineDashOffset,\n            lineWidth: strokeState.lineWidth,\n            lineJoin: strokeState.lineJoin,\n            miterLimit: strokeState.miterLimit,\n            lineDash: strokeState.lineDash\n          });\n        }\n      }\n      var textKey = this.textKey_;\n      if (!(this.textKey_ in this.textStates)) {\n        this.textStates[this.textKey_] = /** @type {import(\"../canvas.js\").TextState} */ ({\n          font: textState.font,\n          textAlign: textState.textAlign || defaultTextAlign,\n          scale: textState.scale\n        });\n      }\n      var fillKey = this.fillKey_;\n      if (fillState) {\n        if (!(fillKey in this.fillStates)) {\n          this.fillStates[fillKey] = /** @type {import(\"../canvas.js\").FillState} */ ({\n            fillStyle: fillState.fillStyle\n          });\n        }\n      }\n\n      var pixelRatio = this.pixelRatio;\n      var baseline = TEXT_ALIGN[textState.textBaseline];\n\n      var offsetY = this.textOffsetY_ * pixelRatio;\n      var text = this.text_;\n      var font = textState.font;\n      var textScale = textState.scale;\n      var strokeWidth = strokeState ? strokeState.lineWidth * textScale / 2 : 0;\n      var widths = this.widths_[font];\n      if (!widths) {\n        this.widths_[font] = widths = {};\n      }\n      this.instructions.push([Instruction.DRAW_CHARS,\n        begin, end, baseline, declutterGroup,\n        textState.overflow, fillKey, textState.maxAngle,\n        function(text) {\n          var width = widths[text];\n          if (!width) {\n            width = widths[text] = measureTextWidth(font, text);\n          }\n          return width * textScale * pixelRatio;\n        },\n        offsetY, strokeKey, strokeWidth * pixelRatio, text, textKey, 1\n      ]);\n      this.hitDetectionInstructions.push([Instruction.DRAW_CHARS,\n        begin, end, baseline, declutterGroup,\n        textState.overflow, fillKey, textState.maxAngle,\n        function(text) {\n          var width = widths[text];\n          if (!width) {\n            width = widths[text] = measureTextWidth(font, text);\n          }\n          return width * textScale;\n        },\n        offsetY, strokeKey, strokeWidth, text, textKey, 1 / pixelRatio\n      ]);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasTextReplay.prototype.setTextStyle = function setTextStyle (textStyle, declutterGroup) {\n      var textState, fillState, strokeState;\n      if (!textStyle) {\n        this.text_ = '';\n      } else {\n        this.declutterGroup_ = /** @type {import(\"../canvas.js\").DeclutterGroup} */ (declutterGroup);\n\n        var textFillStyle = textStyle.getFill();\n        if (!textFillStyle) {\n          fillState = this.textFillState_ = null;\n        } else {\n          fillState = this.textFillState_;\n          if (!fillState) {\n            fillState = this.textFillState_ = /** @type {import(\"../canvas.js\").FillState} */ ({});\n          }\n          fillState.fillStyle = asColorLike(\n            textFillStyle.getColor() || defaultFillStyle);\n        }\n\n        var textStrokeStyle = textStyle.getStroke();\n        if (!textStrokeStyle) {\n          strokeState = this.textStrokeState_ = null;\n        } else {\n          strokeState = this.textStrokeState_;\n          if (!strokeState) {\n            strokeState = this.textStrokeState_ = /** @type {import(\"../canvas.js\").StrokeState} */ ({});\n          }\n          var lineDash = textStrokeStyle.getLineDash();\n          var lineDashOffset = textStrokeStyle.getLineDashOffset();\n          var lineWidth = textStrokeStyle.getWidth();\n          var miterLimit = textStrokeStyle.getMiterLimit();\n          strokeState.lineCap = textStrokeStyle.getLineCap() || defaultLineCap;\n          strokeState.lineDash = lineDash ? lineDash.slice() : defaultLineDash;\n          strokeState.lineDashOffset =\n              lineDashOffset === undefined ? defaultLineDashOffset : lineDashOffset;\n          strokeState.lineJoin = textStrokeStyle.getLineJoin() || defaultLineJoin;\n          strokeState.lineWidth =\n              lineWidth === undefined ? defaultLineWidth : lineWidth;\n          strokeState.miterLimit =\n              miterLimit === undefined ? defaultMiterLimit : miterLimit;\n          strokeState.strokeStyle = asColorLike(\n            textStrokeStyle.getColor() || defaultStrokeStyle);\n        }\n\n        textState = this.textState_;\n        var font = textStyle.getFont() || defaultFont;\n        checkFont(font);\n        var textScale = textStyle.getScale();\n        textState.overflow = textStyle.getOverflow();\n        textState.font = font;\n        textState.maxAngle = textStyle.getMaxAngle();\n        textState.placement = textStyle.getPlacement();\n        textState.textAlign = textStyle.getTextAlign();\n        textState.textBaseline = textStyle.getTextBaseline() || defaultTextBaseline;\n        textState.backgroundFill = textStyle.getBackgroundFill();\n        textState.backgroundStroke = textStyle.getBackgroundStroke();\n        textState.padding = textStyle.getPadding() || defaultPadding;\n        textState.scale = textScale === undefined ? 1 : textScale;\n\n        var textOffsetX = textStyle.getOffsetX();\n        var textOffsetY = textStyle.getOffsetY();\n        var textRotateWithView = textStyle.getRotateWithView();\n        var textRotation = textStyle.getRotation();\n        this.text_ = textStyle.getText() || '';\n        this.textOffsetX_ = textOffsetX === undefined ? 0 : textOffsetX;\n        this.textOffsetY_ = textOffsetY === undefined ? 0 : textOffsetY;\n        this.textRotateWithView_ = textRotateWithView === undefined ? false : textRotateWithView;\n        this.textRotation_ = textRotation === undefined ? 0 : textRotation;\n\n        this.strokeKey_ = strokeState ?\n          (typeof strokeState.strokeStyle == 'string' ? strokeState.strokeStyle : getUid(strokeState.strokeStyle)) +\n          strokeState.lineCap + strokeState.lineDashOffset + '|' + strokeState.lineWidth +\n          strokeState.lineJoin + strokeState.miterLimit + '[' + strokeState.lineDash.join() + ']' :\n          '';\n        this.textKey_ = textState.font + textState.scale + (textState.textAlign || '?');\n        this.fillKey_ = fillState ?\n          (typeof fillState.fillStyle == 'string' ? fillState.fillStyle : ('|' + getUid(fillState.fillStyle))) :\n          '';\n      }\n    };\n\n    return CanvasTextReplay;\n  }(CanvasReplay));\n\n\n  /**\n   * @param {string} font Font to use for measuring.\n   * @param {Array<string>} lines Lines to measure.\n   * @param {Array<number>} widths Array will be populated with the widths of\n   * each line.\n   * @return {number} Width of the whole text.\n   */\n  function measureTextWidths(font, lines, widths) {\n    var numLines = lines.length;\n    var width = 0;\n    for (var i = 0; i < numLines; ++i) {\n      var currentWidth = measureTextWidth(font, lines[i]);\n      width = Math.max(width, currentWidth);\n      widths.push(currentWidth);\n    }\n    return width;\n  }\n\n  /**\n   * @module ol/render/canvas/ReplayGroup\n   */\n\n\n  /**\n   * @type {Object<ReplayType, typeof CanvasReplay>}\n   */\n  var BATCH_CONSTRUCTORS = {\n    'Circle': CanvasPolygonReplay,\n    'Default': CanvasReplay,\n    'Image': CanvasImageReplay,\n    'LineString': CanvasLineStringReplay,\n    'Polygon': CanvasPolygonReplay,\n    'Text': CanvasTextReplay\n  };\n\n\n  var CanvasReplayGroup = /*@__PURE__*/(function (ReplayGroup$$1) {\n    function CanvasReplayGroup(\n      tolerance,\n      maxExtent,\n      resolution,\n      pixelRatio,\n      overlaps,\n      declutterTree,\n      opt_renderBuffer\n    ) {\n      ReplayGroup$$1.call(this);\n\n      /**\n       * Declutter tree.\n       * @private\n       */\n      this.declutterTree_ = declutterTree;\n\n      /**\n       * @type {import(\"../canvas.js\").DeclutterGroup}\n       * @private\n       */\n      this.declutterGroup_ = null;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.tolerance_ = tolerance;\n\n      /**\n       * @private\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      this.maxExtent_ = maxExtent;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.overlaps_ = overlaps;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.pixelRatio_ = pixelRatio;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.resolution_ = resolution;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.renderBuffer_ = opt_renderBuffer;\n\n      /**\n       * @private\n       * @type {!Object<string, !Object<ReplayType, CanvasReplay>>}\n       */\n      this.replaysByZIndex_ = {};\n\n      /**\n       * @private\n       * @type {CanvasRenderingContext2D}\n       */\n      this.hitDetectionContext_ = createCanvasContext2D(1, 1);\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.hitDetectionTransform_ = create();\n    }\n\n    if ( ReplayGroup$$1 ) CanvasReplayGroup.__proto__ = ReplayGroup$$1;\n    CanvasReplayGroup.prototype = Object.create( ReplayGroup$$1 && ReplayGroup$$1.prototype );\n    CanvasReplayGroup.prototype.constructor = CanvasReplayGroup;\n\n    /**\n     * @inheritDoc\n     */\n    CanvasReplayGroup.prototype.addDeclutter = function addDeclutter (group) {\n      var declutter = null;\n      if (this.declutterTree_) {\n        if (group) {\n          declutter = this.declutterGroup_;\n          /** @type {number} */ (declutter[4])++;\n        } else {\n          declutter = this.declutterGroup_ = createEmpty();\n          declutter.push(1);\n        }\n      }\n      return declutter;\n    };\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     */\n    CanvasReplayGroup.prototype.clip = function clip (context, transform) {\n      var flatClipCoords = this.getClipCoords(transform);\n      context.beginPath();\n      context.moveTo(flatClipCoords[0], flatClipCoords[1]);\n      context.lineTo(flatClipCoords[2], flatClipCoords[3]);\n      context.lineTo(flatClipCoords[4], flatClipCoords[5]);\n      context.lineTo(flatClipCoords[6], flatClipCoords[7]);\n      context.clip();\n    };\n\n    /**\n     * @param {Array<ReplayType>} replays Replays.\n     * @return {boolean} Has replays of the provided types.\n     */\n    CanvasReplayGroup.prototype.hasReplays = function hasReplays (replays) {\n      for (var zIndex in this.replaysByZIndex_) {\n        var candidates = this.replaysByZIndex_[zIndex];\n        for (var i = 0, ii = replays.length; i < ii; ++i) {\n          if (replays[i] in candidates) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n\n    /**\n     * FIXME empty description for jsdoc\n     */\n    CanvasReplayGroup.prototype.finish = function finish () {\n      for (var zKey in this.replaysByZIndex_) {\n        var replays = this.replaysByZIndex_[zKey];\n        for (var replayKey in replays) {\n          replays[replayKey].finish();\n        }\n      }\n    };\n\n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {number} resolution Resolution.\n     * @param {number} rotation Rotation.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     * @param {function((import(\"../../Feature.js\").default|import(\"../Feature.js\").default)): T} callback Feature callback.\n     * @param {Object<string, import(\"../canvas.js\").DeclutterGroup>} declutterReplays Declutter replays.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    CanvasReplayGroup.prototype.forEachFeatureAtCoordinate = function forEachFeatureAtCoordinate (\n      coordinate,\n      resolution,\n      rotation,\n      hitTolerance,\n      skippedFeaturesHash,\n      callback,\n      declutterReplays\n    ) {\n\n      hitTolerance = Math.round(hitTolerance);\n      var contextSize = hitTolerance * 2 + 1;\n      var transform = compose(this.hitDetectionTransform_,\n        hitTolerance + 0.5, hitTolerance + 0.5,\n        1 / resolution, -1 / resolution,\n        -rotation,\n        -coordinate[0], -coordinate[1]);\n      var context = this.hitDetectionContext_;\n\n      if (context.canvas.width !== contextSize || context.canvas.height !== contextSize) {\n        context.canvas.width = contextSize;\n        context.canvas.height = contextSize;\n      } else {\n        context.clearRect(0, 0, contextSize, contextSize);\n      }\n\n      /**\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      var hitExtent;\n      if (this.renderBuffer_ !== undefined) {\n        hitExtent = createEmpty();\n        extendCoordinate(hitExtent, coordinate);\n        buffer(hitExtent, resolution * (this.renderBuffer_ + hitTolerance), hitExtent);\n      }\n\n      var mask = getCircleArray(hitTolerance);\n      var declutteredFeatures;\n      if (this.declutterTree_) {\n        declutteredFeatures = this.declutterTree_.all().map(function(entry) {\n          return entry.value;\n        });\n      }\n\n      var replayType;\n\n      /**\n       * @param {import(\"../../Feature.js\").default|import(\"../Feature.js\").default} feature Feature.\n       * @return {?} Callback result.\n       */\n      function featureCallback(feature) {\n        var imageData = context.getImageData(0, 0, contextSize, contextSize).data;\n        for (var i = 0; i < contextSize; i++) {\n          for (var j = 0; j < contextSize; j++) {\n            if (mask[i][j]) {\n              if (imageData[(j * contextSize + i) * 4 + 3] > 0) {\n                var result = (void 0);\n                if (!(declutteredFeatures && (replayType == ReplayType.IMAGE || replayType == ReplayType.TEXT)) ||\n                    declutteredFeatures.indexOf(feature) !== -1) {\n                  result = callback(feature);\n                }\n                if (result) {\n                  return result;\n                } else {\n                  context.clearRect(0, 0, contextSize, contextSize);\n                  return undefined;\n                }\n              }\n            }\n          }\n        }\n      }\n\n      /** @type {Array<number>} */\n      var zs = Object.keys(this.replaysByZIndex_).map(Number);\n      zs.sort(numberSafeCompareFunction);\n\n      var i, j, replays, replay, result;\n      for (i = zs.length - 1; i >= 0; --i) {\n        var zIndexKey = zs[i].toString();\n        replays = this.replaysByZIndex_[zIndexKey];\n        for (j = ORDER.length - 1; j >= 0; --j) {\n          replayType = ORDER[j];\n          replay = replays[replayType];\n          if (replay !== undefined) {\n            if (declutterReplays &&\n                (replayType == ReplayType.IMAGE || replayType == ReplayType.TEXT)) {\n              var declutter = declutterReplays[zIndexKey];\n              if (!declutter) {\n                declutterReplays[zIndexKey] = [replay, transform.slice(0)];\n              } else {\n                declutter.push(replay, transform.slice(0));\n              }\n            } else {\n              result = replay.replayHitDetection(context, transform, rotation,\n                skippedFeaturesHash, featureCallback, hitExtent);\n              if (result) {\n                return result;\n              }\n            }\n          }\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @return {Array<number>} Clip coordinates.\n     */\n    CanvasReplayGroup.prototype.getClipCoords = function getClipCoords (transform) {\n      var maxExtent = this.maxExtent_;\n      var minX = maxExtent[0];\n      var minY = maxExtent[1];\n      var maxX = maxExtent[2];\n      var maxY = maxExtent[3];\n      var flatClipCoords = [minX, minY, minX, maxY, maxX, maxY, maxX, minY];\n      transform2D(\n        flatClipCoords, 0, 8, 2, transform, flatClipCoords);\n      return flatClipCoords;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasReplayGroup.prototype.getReplay = function getReplay (zIndex, replayType) {\n      var zIndexKey = zIndex !== undefined ? zIndex.toString() : '0';\n      var replays = this.replaysByZIndex_[zIndexKey];\n      if (replays === undefined) {\n        replays = {};\n        this.replaysByZIndex_[zIndexKey] = replays;\n      }\n      var replay = replays[replayType];\n      if (replay === undefined) {\n        var Constructor = BATCH_CONSTRUCTORS[replayType];\n        replay = new Constructor(this.tolerance_, this.maxExtent_,\n          this.resolution_, this.pixelRatio_, this.overlaps_, this.declutterTree_);\n        replays[replayType] = replay;\n      }\n      return replay;\n    };\n\n    /**\n     * @return {Object<string, Object<ReplayType, CanvasReplay>>} Replays.\n     */\n    CanvasReplayGroup.prototype.getReplays = function getReplays () {\n      return this.replaysByZIndex_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasReplayGroup.prototype.isEmpty = function isEmpty$1$$1 () {\n      return isEmpty(this.replaysByZIndex_);\n    };\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {number} viewRotation View rotation.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     * @param {boolean} snapToPixel Snap point symbols and test to integer pixel.\n     * @param {Array<ReplayType>=} opt_replayTypes Ordered replay types to replay.\n     *     Default is {@link module:ol/render/replay~ORDER}\n     * @param {Object<string, import(\"../canvas.js\").DeclutterGroup>=} opt_declutterReplays Declutter replays.\n     */\n    CanvasReplayGroup.prototype.replay = function replay (\n      context,\n      transform,\n      viewRotation,\n      skippedFeaturesHash,\n      snapToPixel,\n      opt_replayTypes,\n      opt_declutterReplays\n    ) {\n\n      /** @type {Array<number>} */\n      var zs = Object.keys(this.replaysByZIndex_).map(Number);\n      zs.sort(numberSafeCompareFunction);\n\n      // setup clipping so that the parts of over-simplified geometries are not\n      // visible outside the current extent when panning\n      context.save();\n      this.clip(context, transform);\n\n      var replayTypes = opt_replayTypes ? opt_replayTypes : ORDER;\n      var i, ii, j, jj, replays, replay;\n      for (i = 0, ii = zs.length; i < ii; ++i) {\n        var zIndexKey = zs[i].toString();\n        replays = this.replaysByZIndex_[zIndexKey];\n        for (j = 0, jj = replayTypes.length; j < jj; ++j) {\n          var replayType = replayTypes[j];\n          replay = replays[replayType];\n          if (replay !== undefined) {\n            if (opt_declutterReplays &&\n                (replayType == ReplayType.IMAGE || replayType == ReplayType.TEXT)) {\n              var declutter = opt_declutterReplays[zIndexKey];\n              if (!declutter) {\n                opt_declutterReplays[zIndexKey] = [replay, transform.slice(0)];\n              } else {\n                declutter.push(replay, transform.slice(0));\n              }\n            } else {\n              replay.replay(context, transform, viewRotation, skippedFeaturesHash, snapToPixel);\n            }\n          }\n        }\n      }\n\n      context.restore();\n    };\n\n    return CanvasReplayGroup;\n  }(ReplayGroup));\n\n\n  /**\n   * This cache is used for storing calculated pixel circles for increasing performance.\n   * It is a static property to allow each Replaygroup to access it.\n   * @type {Object<number, Array<Array<(boolean|undefined)>>>}\n   */\n  var circleArrayCache = {\n    0: [[true]]\n  };\n\n\n  /**\n   * This method fills a row in the array from the given coordinate to the\n   * middle with `true`.\n   * @param {Array<Array<(boolean|undefined)>>} array The array that will be altered.\n   * @param {number} x X coordinate.\n   * @param {number} y Y coordinate.\n   */\n  function fillCircleArrayRowToMiddle(array, x, y) {\n    var i;\n    var radius = Math.floor(array.length / 2);\n    if (x >= radius) {\n      for (i = radius; i < x; i++) {\n        array[i][y] = true;\n      }\n    } else if (x < radius) {\n      for (i = x + 1; i < radius; i++) {\n        array[i][y] = true;\n      }\n    }\n  }\n\n\n  /**\n   * This methods creates a circle inside a fitting array. Points inside the\n   * circle are marked by true, points on the outside are undefined.\n   * It uses the midpoint circle algorithm.\n   * A cache is used to increase performance.\n   * @param {number} radius Radius.\n   * @returns {Array<Array<(boolean|undefined)>>} An array with marked circle points.\n   */\n  function getCircleArray(radius) {\n    if (circleArrayCache[radius] !== undefined) {\n      return circleArrayCache[radius];\n    }\n\n    var arraySize = radius * 2 + 1;\n    var arr = new Array(arraySize);\n    for (var i = 0; i < arraySize; i++) {\n      arr[i] = new Array(arraySize);\n    }\n\n    var x = radius;\n    var y = 0;\n    var error = 0;\n\n    while (x >= y) {\n      fillCircleArrayRowToMiddle(arr, radius + x, radius + y);\n      fillCircleArrayRowToMiddle(arr, radius + y, radius + x);\n      fillCircleArrayRowToMiddle(arr, radius - y, radius + x);\n      fillCircleArrayRowToMiddle(arr, radius - x, radius + y);\n      fillCircleArrayRowToMiddle(arr, radius - x, radius - y);\n      fillCircleArrayRowToMiddle(arr, radius - y, radius - x);\n      fillCircleArrayRowToMiddle(arr, radius + y, radius - x);\n      fillCircleArrayRowToMiddle(arr, radius + x, radius - y);\n\n      y++;\n      error += 1 + 2 * y;\n      if (2 * (error - x) + 1 > 0) {\n        x -= 1;\n        error += 1 - 2 * x;\n      }\n    }\n\n    circleArrayCache[radius] = arr;\n    return arr;\n  }\n\n\n  /**\n   * @param {!Object<string, Array<*>>} declutterReplays Declutter replays.\n   * @param {CanvasRenderingContext2D} context Context.\n   * @param {number} rotation Rotation.\n   * @param {boolean} snapToPixel Snap point symbols and text to integer pixels.\n   */\n  function replayDeclutter(declutterReplays, context, rotation, snapToPixel) {\n    var zs = Object.keys(declutterReplays).map(Number).sort(numberSafeCompareFunction);\n    var skippedFeatureUids = {};\n    for (var z = 0, zz = zs.length; z < zz; ++z) {\n      var replayData = declutterReplays[zs[z].toString()];\n      for (var i = 0, ii = replayData.length; i < ii;) {\n        var replay = replayData[i++];\n        var transform = replayData[i++];\n        replay.replay(context, transform, rotation, skippedFeatureUids, snapToPixel);\n      }\n    }\n  }\n\n  /**\n   * @module ol/renderer/vector\n   */\n\n\n  /**\n   * Tolerance for geometry simplification in device pixels.\n   * @type {number}\n   */\n  var SIMPLIFY_TOLERANCE = 0.5;\n\n\n  /**\n   * @const\n   * @type {Object<import(\"../geom/GeometryType.js\").default,\n   *                function(import(\"../render/ReplayGroup.js\").default, import(\"../geom/Geometry.js\").default,\n   *                         import(\"../style/Style.js\").default, Object)>}\n   */\n  var GEOMETRY_RENDERERS = {\n    'Point': renderPointGeometry,\n    'LineString': renderLineStringGeometry,\n    'Polygon': renderPolygonGeometry,\n    'MultiPoint': renderMultiPointGeometry,\n    'MultiLineString': renderMultiLineStringGeometry,\n    'MultiPolygon': renderMultiPolygonGeometry,\n    'GeometryCollection': renderGeometryCollectionGeometry,\n    'Circle': renderCircleGeometry\n  };\n\n\n  /**\n   * @param {import(\"../Feature.js\").FeatureLike} feature1 Feature 1.\n   * @param {import(\"../Feature.js\").FeatureLike} feature2 Feature 2.\n   * @return {number} Order.\n   */\n  function defaultOrder(feature1, feature2) {\n    return parseInt(getUid(feature1), 10) - parseInt(getUid(feature2), 10);\n  }\n\n\n  /**\n   * @param {number} resolution Resolution.\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {number} Squared pixel tolerance.\n   */\n  function getSquaredTolerance(resolution, pixelRatio) {\n    var tolerance = getTolerance(resolution, pixelRatio);\n    return tolerance * tolerance;\n  }\n\n\n  /**\n   * @param {number} resolution Resolution.\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {number} Pixel tolerance.\n   */\n  function getTolerance(resolution, pixelRatio) {\n    return SIMPLIFY_TOLERANCE * resolution / pixelRatio;\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../geom/Circle.js\").default} geometry Geometry.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {import(\"../Feature.js\").default} feature Feature.\n   */\n  function renderCircleGeometry(replayGroup, geometry, style, feature) {\n    var fillStyle = style.getFill();\n    var strokeStyle = style.getStroke();\n    if (fillStyle || strokeStyle) {\n      var circleReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.CIRCLE);\n      circleReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n      circleReplay.drawCircle(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle) {\n      var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n      textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(false));\n      textReplay.drawText(geometry, feature);\n    }\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {number} squaredTolerance Squared tolerance.\n   * @param {function(this: T, import(\"../events/Event.js\").default)} listener Listener function.\n   * @param {T} thisArg Value to use as `this` when executing `listener`.\n   * @return {boolean} `true` if style is loading.\n   * @template T\n   */\n  function renderFeature(replayGroup, feature, style, squaredTolerance, listener, thisArg) {\n    var loading = false;\n    var imageStyle = style.getImage();\n    if (imageStyle) {\n      var imageState = imageStyle.getImageState();\n      if (imageState == ImageState.LOADED || imageState == ImageState.ERROR) {\n        imageStyle.unlistenImageChange(listener, thisArg);\n      } else {\n        if (imageState == ImageState.IDLE) {\n          imageStyle.load();\n        }\n        imageState = imageStyle.getImageState();\n        imageStyle.listenImageChange(listener, thisArg);\n        loading = true;\n      }\n    }\n    renderFeatureInternal(replayGroup, feature, style, squaredTolerance);\n\n    return loading;\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {number} squaredTolerance Squared tolerance.\n   */\n  function renderFeatureInternal(replayGroup, feature, style, squaredTolerance) {\n    var geometry = style.getGeometryFunction()(feature);\n    if (!geometry) {\n      return;\n    }\n    var simplifiedGeometry = geometry.getSimplifiedGeometry(squaredTolerance);\n    var renderer = style.getRenderer();\n    if (renderer) {\n      renderGeometry(replayGroup, simplifiedGeometry, style, feature);\n    } else {\n      var geometryRenderer = GEOMETRY_RENDERERS[simplifiedGeometry.getType()];\n      geometryRenderer(replayGroup, simplifiedGeometry, style, feature);\n    }\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../geom/Geometry.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   */\n  function renderGeometry(replayGroup, geometry, style, feature) {\n    if (geometry.getType() == GeometryType.GEOMETRY_COLLECTION) {\n      var geometries = /** @type {import(\"../geom/GeometryCollection.js\").default} */ (geometry).getGeometries();\n      for (var i = 0, ii = geometries.length; i < ii; ++i) {\n        renderGeometry(replayGroup, geometries[i], style, feature);\n      }\n      return;\n    }\n    var replay = replayGroup.getReplay(style.getZIndex(), ReplayType.DEFAULT);\n    replay.drawCustom(/** @type {import(\"../geom/SimpleGeometry.js\").default} */ (geometry), feature, style.getRenderer());\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../geom/GeometryCollection.js\").default} geometry Geometry.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {import(\"../Feature.js\").default} feature Feature.\n   */\n  function renderGeometryCollectionGeometry(replayGroup, geometry, style, feature) {\n    var geometries = geometry.getGeometriesArray();\n    var i, ii;\n    for (i = 0, ii = geometries.length; i < ii; ++i) {\n      var geometryRenderer =\n          GEOMETRY_RENDERERS[geometries[i].getType()];\n      geometryRenderer(replayGroup, geometries[i], style, feature);\n    }\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../geom/LineString.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   */\n  function renderLineStringGeometry(replayGroup, geometry, style, feature) {\n    var strokeStyle = style.getStroke();\n    if (strokeStyle) {\n      var lineStringReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.LINE_STRING);\n      lineStringReplay.setFillStrokeStyle(null, strokeStyle);\n      lineStringReplay.drawLineString(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle) {\n      var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n      textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(false));\n      textReplay.drawText(geometry, feature);\n    }\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../geom/MultiLineString.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   */\n  function renderMultiLineStringGeometry(replayGroup, geometry, style, feature) {\n    var strokeStyle = style.getStroke();\n    if (strokeStyle) {\n      var lineStringReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.LINE_STRING);\n      lineStringReplay.setFillStrokeStyle(null, strokeStyle);\n      lineStringReplay.drawMultiLineString(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle) {\n      var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n      textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(false));\n      textReplay.drawText(geometry, feature);\n    }\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../geom/MultiPolygon.js\").default} geometry Geometry.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {import(\"../Feature.js\").default} feature Feature.\n   */\n  function renderMultiPolygonGeometry(replayGroup, geometry, style, feature) {\n    var fillStyle = style.getFill();\n    var strokeStyle = style.getStroke();\n    if (strokeStyle || fillStyle) {\n      var polygonReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.POLYGON);\n      polygonReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n      polygonReplay.drawMultiPolygon(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle) {\n      var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n      textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(false));\n      textReplay.drawText(geometry, feature);\n    }\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../geom/Point.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   */\n  function renderPointGeometry(replayGroup, geometry, style, feature) {\n    var imageStyle = style.getImage();\n    if (imageStyle) {\n      if (imageStyle.getImageState() != ImageState.LOADED) {\n        return;\n      }\n      var imageReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.IMAGE);\n      imageReplay.setImageStyle(imageStyle, replayGroup.addDeclutter(false));\n      imageReplay.drawPoint(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle) {\n      var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n      textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(!!imageStyle));\n      textReplay.drawText(geometry, feature);\n    }\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../geom/MultiPoint.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   */\n  function renderMultiPointGeometry(replayGroup, geometry, style, feature) {\n    var imageStyle = style.getImage();\n    if (imageStyle) {\n      if (imageStyle.getImageState() != ImageState.LOADED) {\n        return;\n      }\n      var imageReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.IMAGE);\n      imageReplay.setImageStyle(imageStyle, replayGroup.addDeclutter(false));\n      imageReplay.drawMultiPoint(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle) {\n      var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n      textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(!!imageStyle));\n      textReplay.drawText(geometry, feature);\n    }\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../geom/Polygon.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   */\n  function renderPolygonGeometry(replayGroup, geometry, style, feature) {\n    var fillStyle = style.getFill();\n    var strokeStyle = style.getStroke();\n    if (fillStyle || strokeStyle) {\n      var polygonReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.POLYGON);\n      polygonReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n      polygonReplay.drawPolygon(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle) {\n      var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n      textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(false));\n      textReplay.drawText(geometry, feature);\n    }\n  }\n\n  /**\n   * @module ol/renderer/canvas/VectorLayer\n   */\n\n  /**\n   * @classdesc\n   * Canvas renderer for vector layers.\n   * @api\n   */\n  var CanvasVectorLayerRenderer = /*@__PURE__*/(function (CanvasLayerRenderer$$1) {\n    function CanvasVectorLayerRenderer(vectorLayer) {\n\n      CanvasLayerRenderer$$1.call(this, vectorLayer);\n\n      /**\n       * Declutter tree.\n       * @private\n       */\n      this.declutterTree_ = vectorLayer.getDeclutter() ? rbush_1(9, undefined) : null;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.dirty_ = false;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.renderedRevision_ = -1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.renderedResolution_ = NaN;\n\n      /**\n       * @private\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      this.renderedExtent_ = createEmpty();\n\n      /**\n       * @private\n       * @type {function(import(\"../../Feature.js\").default, import(\"../../Feature.js\").default): number|null}\n       */\n      this.renderedRenderOrder_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../../render/canvas/ReplayGroup.js\").default}\n       */\n      this.replayGroup_ = null;\n\n      /**\n       * A new replay group had to be created by `prepareFrame()`\n       * @type {boolean}\n       */\n      this.replayGroupChanged = true;\n\n      /**\n       * @type {CanvasRenderingContext2D}\n       */\n      this.context = createCanvasContext2D();\n\n      listen(labelCache, EventType.CLEAR, this.handleFontsChanged_, this);\n\n    }\n\n    if ( CanvasLayerRenderer$$1 ) CanvasVectorLayerRenderer.__proto__ = CanvasLayerRenderer$$1;\n    CanvasVectorLayerRenderer.prototype = Object.create( CanvasLayerRenderer$$1 && CanvasLayerRenderer$$1.prototype );\n    CanvasVectorLayerRenderer.prototype.constructor = CanvasVectorLayerRenderer;\n\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorLayerRenderer.prototype.disposeInternal = function disposeInternal () {\n      unlisten(labelCache, EventType.CLEAR, this.handleFontsChanged_, this);\n      CanvasLayerRenderer$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../layer/Layer.js\").State} layerState Layer state.\n     */\n    CanvasVectorLayerRenderer.prototype.compose = function compose (context, frameState, layerState) {\n      var extent = frameState.extent;\n      var pixelRatio = frameState.pixelRatio;\n      var skippedFeatureUids = layerState.managed ?\n        frameState.skippedFeatureUids : {};\n      var viewState = frameState.viewState;\n      var projection = viewState.projection;\n      var rotation = viewState.rotation;\n      var projectionExtent = projection.getExtent();\n      var vectorSource = /** @type {import(\"../../source/Vector.js\").default} */ (this.getLayer().getSource());\n\n      var transform = this.getTransform(frameState, 0);\n\n      // clipped rendering if layer extent is set\n      var clipExtent = layerState.extent;\n      var clipped = clipExtent !== undefined;\n      if (clipped) {\n        this.clip(context, frameState, /** @type {import(\"../../extent.js\").Extent} */ (clipExtent));\n      }\n      var replayGroup = this.replayGroup_;\n      if (replayGroup && !replayGroup.isEmpty()) {\n        if (this.declutterTree_) {\n          this.declutterTree_.clear();\n        }\n        var layer = /** @type {import(\"../../layer/Vector.js\").default} */ (this.getLayer());\n        var drawOffsetX = 0;\n        var drawOffsetY = 0;\n        var replayContext;\n        var transparentLayer = layerState.opacity !== 1;\n        var hasRenderListeners = layer.hasListener(RenderEventType.RENDER);\n        if (transparentLayer || hasRenderListeners) {\n          var drawWidth = context.canvas.width;\n          var drawHeight = context.canvas.height;\n          if (rotation) {\n            var drawSize = Math.round(Math.sqrt(drawWidth * drawWidth + drawHeight * drawHeight));\n            drawOffsetX = (drawSize - drawWidth) / 2;\n            drawOffsetY = (drawSize - drawHeight) / 2;\n            drawWidth = drawHeight = drawSize;\n          }\n          // resize and clear\n          this.context.canvas.width = drawWidth;\n          this.context.canvas.height = drawHeight;\n          replayContext = this.context;\n        } else {\n          replayContext = context;\n        }\n\n        var alpha = replayContext.globalAlpha;\n        if (!transparentLayer) {\n          // for performance reasons, context.save / context.restore is not used\n          // to save and restore the transformation matrix and the opacity.\n          // see http://jsperf.com/context-save-restore-versus-variable\n          replayContext.globalAlpha = layerState.opacity;\n        }\n\n        if (replayContext != context) {\n          replayContext.translate(drawOffsetX, drawOffsetY);\n        }\n\n        var viewHints = frameState.viewHints;\n        var snapToPixel = !(viewHints[ViewHint.ANIMATING] || viewHints[ViewHint.INTERACTING]);\n        var width = frameState.size[0] * pixelRatio;\n        var height = frameState.size[1] * pixelRatio;\n        rotateAtOffset(replayContext, -rotation,\n          width / 2, height / 2);\n        replayGroup.replay(replayContext, transform, rotation, skippedFeatureUids, snapToPixel);\n        if (vectorSource.getWrapX() && projection.canWrapX() &&\n            !containsExtent(projectionExtent, extent)) {\n          var startX = extent[0];\n          var worldWidth = getWidth(projectionExtent);\n          var world = 0;\n          var offsetX;\n          while (startX < projectionExtent[0]) {\n            --world;\n            offsetX = worldWidth * world;\n            transform = this.getTransform(frameState, offsetX);\n            replayGroup.replay(replayContext, transform, rotation, skippedFeatureUids, snapToPixel);\n            startX += worldWidth;\n          }\n          world = 0;\n          startX = extent[2];\n          while (startX > projectionExtent[2]) {\n            ++world;\n            offsetX = worldWidth * world;\n            transform = this.getTransform(frameState, offsetX);\n            replayGroup.replay(replayContext, transform, rotation, skippedFeatureUids, snapToPixel);\n            startX -= worldWidth;\n          }\n        }\n        rotateAtOffset(replayContext, rotation,\n          width / 2, height / 2);\n\n        if (hasRenderListeners) {\n          this.dispatchRenderEvent(replayContext, frameState, transform);\n        }\n        if (replayContext != context) {\n          if (transparentLayer) {\n            var mainContextAlpha = context.globalAlpha;\n            context.globalAlpha = layerState.opacity;\n            context.drawImage(replayContext.canvas, -drawOffsetX, -drawOffsetY);\n            context.globalAlpha = mainContextAlpha;\n          } else {\n            context.drawImage(replayContext.canvas, -drawOffsetX, -drawOffsetY);\n          }\n          replayContext.translate(-drawOffsetX, -drawOffsetY);\n        }\n\n        if (!transparentLayer) {\n          replayContext.globalAlpha = alpha;\n        }\n      }\n\n      if (clipped) {\n        context.restore();\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorLayerRenderer.prototype.composeFrame = function composeFrame (frameState, layerState, context) {\n      var transform = this.getTransform(frameState, 0);\n      this.preCompose(context, frameState, transform);\n      this.compose(context, frameState, layerState);\n      this.postCompose(context, frameState, layerState, transform);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorLayerRenderer.prototype.forEachFeatureAtCoordinate = function forEachFeatureAtCoordinate (coordinate, frameState, hitTolerance, callback, thisArg) {\n      if (!this.replayGroup_) {\n        return undefined;\n      } else {\n        var resolution = frameState.viewState.resolution;\n        var rotation = frameState.viewState.rotation;\n        var layer = /** @type {import(\"../../layer/Vector.js\").default} */ (this.getLayer());\n        /** @type {!Object<string, boolean>} */\n        var features = {};\n        var result = this.replayGroup_.forEachFeatureAtCoordinate(coordinate, resolution, rotation, hitTolerance, {},\n          /**\n           * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n           * @return {?} Callback result.\n           */\n          function(feature) {\n            var key = getUid(feature);\n            if (!(key in features)) {\n              features[key] = true;\n              return callback.call(thisArg, feature, layer);\n            }\n          }, null);\n        return result;\n      }\n    };\n\n    /**\n     * @param {import(\"../../events/Event.js\").default} event Event.\n     */\n    CanvasVectorLayerRenderer.prototype.handleFontsChanged_ = function handleFontsChanged_ (event) {\n      var layer = this.getLayer();\n      if (layer.getVisible() && this.replayGroup_) {\n        layer.changed();\n      }\n    };\n\n    /**\n     * Handle changes in image style state.\n     * @param {import(\"../../events/Event.js\").default} event Image style change event.\n     * @private\n     */\n    CanvasVectorLayerRenderer.prototype.handleStyleImageChange_ = function handleStyleImageChange_ (event) {\n      this.renderIfReadyAndVisible();\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorLayerRenderer.prototype.prepareFrame = function prepareFrame (frameState, layerState) {\n      var vectorLayer = /** @type {import(\"../../layer/Vector.js\").default} */ (this.getLayer());\n      var vectorSource = /** @type {import(\"../../source/Vector.js\").default} */ (vectorLayer.getSource());\n\n      var animating = frameState.viewHints[ViewHint.ANIMATING];\n      var interacting = frameState.viewHints[ViewHint.INTERACTING];\n      var updateWhileAnimating = vectorLayer.getUpdateWhileAnimating();\n      var updateWhileInteracting = vectorLayer.getUpdateWhileInteracting();\n\n      if (!this.dirty_ && (!updateWhileAnimating && animating) ||\n          (!updateWhileInteracting && interacting)) {\n        return true;\n      }\n\n      var frameStateExtent = frameState.extent;\n      var viewState = frameState.viewState;\n      var projection = viewState.projection;\n      var resolution = viewState.resolution;\n      var pixelRatio = frameState.pixelRatio;\n      var vectorLayerRevision = vectorLayer.getRevision();\n      var vectorLayerRenderBuffer = vectorLayer.getRenderBuffer();\n      var vectorLayerRenderOrder = vectorLayer.getRenderOrder();\n\n      if (vectorLayerRenderOrder === undefined) {\n        vectorLayerRenderOrder = defaultOrder;\n      }\n\n      var extent = buffer(frameStateExtent,\n        vectorLayerRenderBuffer * resolution);\n      var projectionExtent = viewState.projection.getExtent();\n\n      if (vectorSource.getWrapX() && viewState.projection.canWrapX() &&\n          !containsExtent(projectionExtent, frameState.extent)) {\n        // For the replay group, we need an extent that intersects the real world\n        // (-180° to +180°). To support geometries in a coordinate range from -540°\n        // to +540°, we add at least 1 world width on each side of the projection\n        // extent. If the viewport is wider than the world, we need to add half of\n        // the viewport width to make sure we cover the whole viewport.\n        var worldWidth = getWidth(projectionExtent);\n        var gutter = Math.max(getWidth(extent) / 2, worldWidth);\n        extent[0] = projectionExtent[0] - gutter;\n        extent[2] = projectionExtent[2] + gutter;\n      }\n\n      if (!this.dirty_ &&\n          this.renderedResolution_ == resolution &&\n          this.renderedRevision_ == vectorLayerRevision &&\n          this.renderedRenderOrder_ == vectorLayerRenderOrder &&\n          containsExtent(this.renderedExtent_, extent)) {\n        this.replayGroupChanged = false;\n        return true;\n      }\n\n      this.replayGroup_ = null;\n\n      this.dirty_ = false;\n\n      var replayGroup = new CanvasReplayGroup(\n        getTolerance(resolution, pixelRatio), extent, resolution,\n        pixelRatio, vectorSource.getOverlaps(), this.declutterTree_, vectorLayer.getRenderBuffer());\n      vectorSource.loadFeatures(extent, resolution, projection);\n      /**\n       * @param {import(\"../../Feature.js\").default} feature Feature.\n       * @this {CanvasVectorLayerRenderer}\n       */\n      var render = function(feature) {\n        var styles;\n        var styleFunction = feature.getStyleFunction() || vectorLayer.getStyleFunction();\n        if (styleFunction) {\n          styles = styleFunction(feature, resolution);\n        }\n        if (styles) {\n          var dirty = this.renderFeature(\n            feature, resolution, pixelRatio, styles, replayGroup);\n          this.dirty_ = this.dirty_ || dirty;\n        }\n      }.bind(this);\n      if (vectorLayerRenderOrder) {\n        /** @type {Array<import(\"../../Feature.js\").default>} */\n        var features = [];\n        vectorSource.forEachFeatureInExtent(extent,\n          /**\n           * @param {import(\"../../Feature.js\").default} feature Feature.\n           */\n          function(feature) {\n            features.push(feature);\n          });\n        features.sort(vectorLayerRenderOrder);\n        for (var i = 0, ii = features.length; i < ii; ++i) {\n          render(features[i]);\n        }\n      } else {\n        vectorSource.forEachFeatureInExtent(extent, render);\n      }\n      replayGroup.finish();\n\n      this.renderedResolution_ = resolution;\n      this.renderedRevision_ = vectorLayerRevision;\n      this.renderedRenderOrder_ = vectorLayerRenderOrder;\n      this.renderedExtent_ = extent;\n      this.replayGroup_ = replayGroup;\n\n      this.replayGroupChanged = true;\n      return true;\n    };\n\n    /**\n     * @param {import(\"../../Feature.js\").default} feature Feature.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../../style/Style.js\").default|Array<import(\"../../style/Style.js\").default>} styles The style or array of styles.\n     * @param {import(\"../../render/canvas/ReplayGroup.js\").default} replayGroup Replay group.\n     * @return {boolean} `true` if an image is loading.\n     */\n    CanvasVectorLayerRenderer.prototype.renderFeature = function renderFeature$1 (feature, resolution, pixelRatio, styles, replayGroup) {\n      if (!styles) {\n        return false;\n      }\n      var loading = false;\n      if (Array.isArray(styles)) {\n        for (var i = 0, ii = styles.length; i < ii; ++i) {\n          loading = renderFeature(\n            replayGroup, feature, styles[i],\n            getSquaredTolerance(resolution, pixelRatio),\n            this.handleStyleImageChange_, this) || loading;\n        }\n      } else {\n        loading = renderFeature(\n          replayGroup, feature, styles,\n          getSquaredTolerance(resolution, pixelRatio),\n          this.handleStyleImageChange_, this);\n      }\n      return loading;\n    };\n\n    return CanvasVectorLayerRenderer;\n  }(CanvasLayerRenderer));\n\n\n  /**\n   * Determine if this renderer handles the provided layer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The candidate layer.\n   * @return {boolean} The renderer can render the layer.\n   */\n  CanvasVectorLayerRenderer['handles'] = function(layer) {\n    return layer.getType() === LayerType.VECTOR;\n  };\n\n\n  /**\n   * Create a layer renderer.\n   * @param {import(\"../Map.js\").default} mapRenderer The map renderer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The layer to be rendererd.\n   * @return {CanvasVectorLayerRenderer} The layer renderer.\n   */\n  CanvasVectorLayerRenderer['create'] = function(mapRenderer, layer) {\n    return new CanvasVectorLayerRenderer(/** @type {import(\"../../layer/Vector.js\").default} */ (layer));\n  };\n\n  /**\n   * @module ol/layer/VectorTileRenderType\n   */\n\n  /**\n   * @enum {string}\n   * Render mode for vector tiles:\n   *  * `'image'`: Vector tiles are rendered as images. Great performance, but\n   *    point symbols and texts are always rotated with the view and pixels are\n   *    scaled during zoom animations.\n   *  * `'hybrid'`: Polygon and line elements are rendered as images, so pixels\n   *    are scaled during zoom animations. Point symbols and texts are accurately\n   *    rendered as vectors and can stay upright on rotated views.\n   *  * `'vector'`: Vector tiles are rendered as vectors. Most accurate rendering\n   *    even during animations, but slower performance than the other options.\n   * @api\n   */\n  var VectorTileRenderType = {\n    IMAGE: 'image',\n    HYBRID: 'hybrid',\n    VECTOR: 'vector'\n  };\n\n  /**\n   * @module ol/renderer/canvas/VectorTileLayer\n   */\n\n\n  /**\n   * @type {!Object<string, Array<import(\"../../render/ReplayType.js\").default>>}\n   */\n  var IMAGE_REPLAYS = {\n    'image': [ReplayType.POLYGON, ReplayType.CIRCLE,\n      ReplayType.LINE_STRING, ReplayType.IMAGE, ReplayType.TEXT],\n    'hybrid': [ReplayType.POLYGON, ReplayType.LINE_STRING]\n  };\n\n\n  /**\n   * @type {!Object<string, Array<import(\"../../render/ReplayType.js\").default>>}\n   */\n  var VECTOR_REPLAYS = {\n    'image': [ReplayType.DEFAULT],\n    'hybrid': [ReplayType.IMAGE, ReplayType.TEXT, ReplayType.DEFAULT],\n    'vector': ORDER\n  };\n\n\n  /**\n   * @classdesc\n   * Canvas renderer for vector tile layers.\n   * @api\n   */\n  var CanvasVectorTileLayerRenderer = /*@__PURE__*/(function (CanvasTileLayerRenderer$$1) {\n    function CanvasVectorTileLayerRenderer(layer) {\n\n      CanvasTileLayerRenderer$$1.call(this, layer, true);\n\n      /**\n       * Declutter tree.\n       * @private\n       */\n      this.declutterTree_ = layer.getDeclutter() ? rbush_1(9, undefined) : null;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.dirty_ = false;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.renderedLayerRevision_;\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.tmpTransform_ = create();\n\n      var renderMode = layer.getRenderMode();\n\n      // Use lower resolution for pure vector rendering. Closest resolution otherwise.\n      this.zDirection = renderMode === VectorTileRenderType.VECTOR ? 1 : 0;\n\n      if (renderMode !== VectorTileRenderType.VECTOR) {\n        this.context = createCanvasContext2D();\n      }\n\n\n      listen(labelCache, EventType.CLEAR, this.handleFontsChanged_, this);\n\n    }\n\n    if ( CanvasTileLayerRenderer$$1 ) CanvasVectorTileLayerRenderer.__proto__ = CanvasTileLayerRenderer$$1;\n    CanvasVectorTileLayerRenderer.prototype = Object.create( CanvasTileLayerRenderer$$1 && CanvasTileLayerRenderer$$1.prototype );\n    CanvasVectorTileLayerRenderer.prototype.constructor = CanvasVectorTileLayerRenderer;\n\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorTileLayerRenderer.prototype.disposeInternal = function disposeInternal () {\n      unlisten(labelCache, EventType.CLEAR, this.handleFontsChanged_, this);\n      CanvasTileLayerRenderer$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorTileLayerRenderer.prototype.getTile = function getTile (z, x, y, pixelRatio, projection) {\n      var tile = CanvasTileLayerRenderer$$1.prototype.getTile.call(this, z, x, y, pixelRatio, projection);\n      if (tile.getState() === TileState.LOADED) {\n        this.createReplayGroup_(/** @type {import(\"../../VectorImageTile.js\").default} */ (tile), pixelRatio, projection);\n        if (this.context) {\n          this.renderTileImage_(/** @type {import(\"../../VectorImageTile.js\").default} */ (tile), pixelRatio, projection);\n        }\n      }\n      return tile;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorTileLayerRenderer.prototype.getTileImage = function getTileImage (tile) {\n      var tileLayer = /** @type {import(\"../../layer/Tile.js\").default} */ (this.getLayer());\n      return /** @type {import(\"../../VectorImageTile.js\").default} */ (tile).getImage(tileLayer);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorTileLayerRenderer.prototype.prepareFrame = function prepareFrame (frameState, layerState) {\n      var layer = /** @type {import(\"../../layer/Vector.js\").default} */ (this.getLayer());\n      var layerRevision = layer.getRevision();\n      if (this.renderedLayerRevision_ != layerRevision) {\n        this.renderedTiles.length = 0;\n      }\n      this.renderedLayerRevision_ = layerRevision;\n      return CanvasTileLayerRenderer$$1.prototype.prepareFrame.call(this, frameState, layerState);\n    };\n\n    /**\n     * @param {import(\"../../VectorImageTile.js\").default} tile Tile.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../../proj/Projection.js\").default} projection Projection.\n     * @private\n     */\n    CanvasVectorTileLayerRenderer.prototype.createReplayGroup_ = function createReplayGroup_ (tile, pixelRatio, projection) {\n      var this$1 = this;\n\n      var layer = /** @type {import(\"../../layer/Vector.js\").default} */ (this.getLayer());\n      var revision = layer.getRevision();\n      var renderOrder = /** @type {import(\"../../render.js\").OrderFunction} */ (layer.getRenderOrder()) || null;\n\n      var replayState = tile.getReplayState(layer);\n      if (!replayState.dirty && replayState.renderedRevision == revision &&\n          replayState.renderedRenderOrder == renderOrder) {\n        return;\n      }\n\n      var source = /** @type {import(\"../../source/VectorTile.js\").default} */ (layer.getSource());\n      var sourceTileGrid = source.getTileGrid();\n      var tileGrid = source.getTileGridForProjection(projection);\n      var resolution = tileGrid.getResolution(tile.tileCoord[0]);\n      var tileExtent = tile.extent;\n\n      var loop = function ( t, tt ) {\n        var sourceTile = tile.getTile(tile.tileKeys[t]);\n        if (sourceTile.getState() != TileState.LOADED) {\n          return;\n        }\n\n        var sourceTileCoord = sourceTile.tileCoord;\n        var sourceTileExtent = sourceTileGrid.getTileCoordExtent(sourceTileCoord);\n        var sharedExtent = getIntersection(tileExtent, sourceTileExtent);\n        var bufferedExtent = equals$2(sourceTileExtent, sharedExtent) ? null :\n          buffer(sharedExtent, layer.getRenderBuffer() * resolution, this$1.tmpExtent);\n        var tileProjection = sourceTile.getProjection();\n        var reproject = false;\n        if (!equivalent(projection, tileProjection)) {\n          reproject = true;\n          sourceTile.setProjection(projection);\n        }\n        replayState.dirty = false;\n        var replayGroup = new CanvasReplayGroup(0, sharedExtent, resolution,\n          pixelRatio, source.getOverlaps(), this$1.declutterTree_, layer.getRenderBuffer());\n        var squaredTolerance = getSquaredTolerance(resolution, pixelRatio);\n\n        /**\n         * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n         * @this {CanvasVectorTileLayerRenderer}\n         */\n        var render = function(feature) {\n          var styles;\n          var styleFunction = feature.getStyleFunction() || layer.getStyleFunction();\n          if (styleFunction) {\n            styles = styleFunction(feature, resolution);\n          }\n          if (styles) {\n            var dirty = this.renderFeature(feature, squaredTolerance, styles, replayGroup);\n            this.dirty_ = this.dirty_ || dirty;\n            replayState.dirty = replayState.dirty || dirty;\n          }\n        };\n\n        var features = sourceTile.getFeatures();\n        if (renderOrder && renderOrder !== replayState.renderedRenderOrder) {\n          features.sort(renderOrder);\n        }\n        for (var i = 0, ii = features.length; i < ii; ++i) {\n          var feature = features[i];\n          if (reproject) {\n            if (tileProjection.getUnits() == Units.TILE_PIXELS) {\n              // projected tile extent\n              tileProjection.setWorldExtent(sourceTileExtent);\n              // tile extent in tile pixel space\n              tileProjection.setExtent(sourceTile.getExtent());\n            }\n            feature.getGeometry().transform(tileProjection, projection);\n          }\n          if (!bufferedExtent || intersects(bufferedExtent, feature.getGeometry().getExtent())) {\n            render.call(this$1, feature);\n          }\n        }\n        replayGroup.finish();\n        sourceTile.setReplayGroup(layer, tile.tileCoord.toString(), replayGroup);\n      };\n\n      for (var t = 0, tt = tile.tileKeys.length; t < tt; ++t) loop( t, tt );\n      replayState.renderedRevision = revision;\n      replayState.renderedRenderOrder = renderOrder;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorTileLayerRenderer.prototype.forEachFeatureAtCoordinate = function forEachFeatureAtCoordinate (coordinate, frameState, hitTolerance, callback, thisArg) {\n      var resolution = frameState.viewState.resolution;\n      var rotation = frameState.viewState.rotation;\n      hitTolerance = hitTolerance == undefined ? 0 : hitTolerance;\n      var layer = this.getLayer();\n      /** @type {!Object<string, boolean>} */\n      var features = {};\n\n      var renderedTiles = /** @type {Array<import(\"../../VectorImageTile.js\").default>} */ (this.renderedTiles);\n\n      var bufferedExtent, found;\n      var i, ii;\n      for (i = 0, ii = renderedTiles.length; i < ii; ++i) {\n        var tile = renderedTiles[i];\n        bufferedExtent = buffer(tile.extent, hitTolerance * resolution, bufferedExtent);\n        if (!containsCoordinate(bufferedExtent, coordinate)) {\n          continue;\n        }\n        for (var t = 0, tt = tile.tileKeys.length; t < tt; ++t) {\n          var sourceTile = tile.getTile(tile.tileKeys[t]);\n          if (sourceTile.getState() != TileState.LOADED) {\n            continue;\n          }\n          var replayGroup = /** @type {CanvasReplayGroup} */ (sourceTile.getReplayGroup(layer,\n            tile.tileCoord.toString()));\n          found = found || replayGroup.forEachFeatureAtCoordinate(coordinate, resolution, rotation, hitTolerance, {},\n            /**\n             * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n             * @return {?} Callback result.\n             */\n            function(feature) {\n              var key = getUid(feature);\n              if (!(key in features)) {\n                features[key] = true;\n                return callback.call(thisArg, feature, layer);\n              }\n            }, null);\n        }\n      }\n      return found;\n    };\n\n    /**\n     * @param {import(\"../../VectorTile.js\").default} tile Tile.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {import(\"../../transform.js\").Transform} transform Transform.\n     * @private\n     */\n    CanvasVectorTileLayerRenderer.prototype.getReplayTransform_ = function getReplayTransform_ (tile, frameState) {\n      var layer = this.getLayer();\n      var source = /** @type {import(\"../../source/VectorTile.js\").default} */ (layer.getSource());\n      var tileGrid = source.getTileGrid();\n      var tileCoord = tile.tileCoord;\n      var tileResolution = tileGrid.getResolution(tileCoord[0]);\n      var viewState = frameState.viewState;\n      var pixelRatio = frameState.pixelRatio;\n      var renderResolution = viewState.resolution / pixelRatio;\n      var tileExtent = tileGrid.getTileCoordExtent(tileCoord, this.tmpExtent);\n      var center = viewState.center;\n      var origin = getTopLeft(tileExtent);\n      var size = frameState.size;\n      var offsetX = Math.round(pixelRatio * size[0] / 2);\n      var offsetY = Math.round(pixelRatio * size[1] / 2);\n      return compose(this.tmpTransform_,\n        offsetX, offsetY,\n        tileResolution / renderResolution, tileResolution / renderResolution,\n        viewState.rotation,\n        (origin[0] - center[0]) / tileResolution,\n        (center[1] - origin[1]) / tileResolution);\n    };\n\n    /**\n     * @param {import(\"../../events/Event.js\").default} event Event.\n     */\n    CanvasVectorTileLayerRenderer.prototype.handleFontsChanged_ = function handleFontsChanged_ (event) {\n      var layer = this.getLayer();\n      if (layer.getVisible() && this.renderedLayerRevision_ !== undefined) {\n        layer.changed();\n      }\n    };\n\n    /**\n     * Handle changes in image style state.\n     * @param {import(\"../../events/Event.js\").default} event Image style change event.\n     * @private\n     */\n    CanvasVectorTileLayerRenderer.prototype.handleStyleImageChange_ = function handleStyleImageChange_ (event) {\n      this.renderIfReadyAndVisible();\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorTileLayerRenderer.prototype.postCompose = function postCompose (context, frameState, layerState) {\n      var layer = /** @type {import(\"../../layer/Vector.js\").default} */ (this.getLayer());\n      var renderMode = layer.getRenderMode();\n      if (renderMode != VectorTileRenderType.IMAGE) {\n        var declutterReplays = layer.getDeclutter() ? {} : null;\n        var source = /** @type {import(\"../../source/VectorTile.js\").default} */ (layer.getSource());\n        var replayTypes = VECTOR_REPLAYS[renderMode];\n        var pixelRatio = frameState.pixelRatio;\n        var rotation = frameState.viewState.rotation;\n        var size = frameState.size;\n        var offsetX, offsetY;\n        if (rotation) {\n          offsetX = Math.round(pixelRatio * size[0] / 2);\n          offsetY = Math.round(pixelRatio * size[1] / 2);\n          rotateAtOffset(context, -rotation, offsetX, offsetY);\n        }\n        if (declutterReplays) {\n          this.declutterTree_.clear();\n        }\n        var viewHints = frameState.viewHints;\n        var snapToPixel = !(viewHints[ViewHint.ANIMATING] || viewHints[ViewHint.INTERACTING]);\n        var tiles = this.renderedTiles;\n        var tileGrid = source.getTileGridForProjection(frameState.viewState.projection);\n        var clips = [];\n        var zs = [];\n        for (var i = tiles.length - 1; i >= 0; --i) {\n          var tile = /** @type {import(\"../../VectorImageTile.js\").default} */ (tiles[i]);\n          if (tile.getState() == TileState.ABORT) {\n            continue;\n          }\n          var tileCoord = tile.tileCoord;\n          var worldOffset = tileGrid.getTileCoordExtent(tileCoord, this.tmpExtent)[0] - tile.extent[0];\n          var transform$$1 = undefined;\n          for (var t = 0, tt = tile.tileKeys.length; t < tt; ++t) {\n            var sourceTile = tile.getTile(tile.tileKeys[t]);\n            if (sourceTile.getState() != TileState.LOADED) {\n              continue;\n            }\n            var replayGroup = /** @type {CanvasReplayGroup} */ (sourceTile.getReplayGroup(layer, tileCoord.toString()));\n            if (!replayGroup || !replayGroup.hasReplays(replayTypes)) {\n              // sourceTile was not yet loaded when this.createReplayGroup_() was\n              // called, or it has no replays of the types we want to render\n              continue;\n            }\n            if (!transform$$1) {\n              transform$$1 = this.getTransform(frameState, worldOffset);\n            }\n            var currentZ = sourceTile.tileCoord[0];\n            var currentClip = replayGroup.getClipCoords(transform$$1);\n            context.save();\n            context.globalAlpha = layerState.opacity;\n            // Create a clip mask for regions in this low resolution tile that are\n            // already filled by a higher resolution tile\n            for (var j = 0, jj = clips.length; j < jj; ++j) {\n              var clip = clips[j];\n              if (currentZ < zs[j]) {\n                context.beginPath();\n                // counter-clockwise (outer ring) for current tile\n                context.moveTo(currentClip[0], currentClip[1]);\n                context.lineTo(currentClip[2], currentClip[3]);\n                context.lineTo(currentClip[4], currentClip[5]);\n                context.lineTo(currentClip[6], currentClip[7]);\n                // clockwise (inner ring) for higher resolution tile\n                context.moveTo(clip[6], clip[7]);\n                context.lineTo(clip[4], clip[5]);\n                context.lineTo(clip[2], clip[3]);\n                context.lineTo(clip[0], clip[1]);\n                context.clip();\n              }\n            }\n            replayGroup.replay(context, transform$$1, rotation, {}, snapToPixel, replayTypes, declutterReplays);\n            context.restore();\n            clips.push(currentClip);\n            zs.push(currentZ);\n          }\n        }\n        if (declutterReplays) {\n          replayDeclutter(declutterReplays, context, rotation, snapToPixel);\n        }\n        if (rotation) {\n          rotateAtOffset(context, rotation,\n            /** @type {number} */ (offsetX), /** @type {number} */ (offsetY));\n        }\n      }\n      CanvasTileLayerRenderer$$1.prototype.postCompose.call(this, context, frameState, layerState);\n    };\n\n    /**\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     * @param {number} squaredTolerance Squared tolerance.\n     * @param {import(\"../../style/Style.js\").default|Array<import(\"../../style/Style.js\").default>} styles The style or array of styles.\n     * @param {import(\"../../render/canvas/ReplayGroup.js\").default} replayGroup Replay group.\n     * @return {boolean} `true` if an image is loading.\n     */\n    CanvasVectorTileLayerRenderer.prototype.renderFeature = function renderFeature$1 (feature, squaredTolerance, styles, replayGroup) {\n      if (!styles) {\n        return false;\n      }\n      var loading = false;\n      if (Array.isArray(styles)) {\n        for (var i = 0, ii = styles.length; i < ii; ++i) {\n          loading = renderFeature(\n            replayGroup, feature, styles[i], squaredTolerance,\n            this.handleStyleImageChange_, this) || loading;\n        }\n      } else {\n        loading = renderFeature(\n          replayGroup, feature, styles, squaredTolerance,\n          this.handleStyleImageChange_, this);\n      }\n      return loading;\n    };\n\n    /**\n     * @param {import(\"../../VectorImageTile.js\").default} tile Tile.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../../proj/Projection.js\").default} projection Projection.\n     * @private\n     */\n    CanvasVectorTileLayerRenderer.prototype.renderTileImage_ = function renderTileImage_ (tile, pixelRatio, projection) {\n      var layer = /** @type {import(\"../../layer/Vector.js\").default} */ (this.getLayer());\n      var replayState = tile.getReplayState(layer);\n      var revision = layer.getRevision();\n      var replays = IMAGE_REPLAYS[layer.getRenderMode()];\n      if (replays && replayState.renderedTileRevision !== revision) {\n        replayState.renderedTileRevision = revision;\n        var tileCoord = tile.wrappedTileCoord;\n        var z = tileCoord[0];\n        var source = /** @type {import(\"../../source/VectorTile.js\").default} */ (layer.getSource());\n        var tileGrid = source.getTileGridForProjection(projection);\n        var resolution = tileGrid.getResolution(z);\n        var context = tile.getContext(layer);\n        var size = source.getTilePixelSize(z, pixelRatio, projection);\n        context.canvas.width = size[0];\n        context.canvas.height = size[1];\n        var tileExtent = tileGrid.getTileCoordExtent(tileCoord, this.tmpExtent);\n        for (var i = 0, ii = tile.tileKeys.length; i < ii; ++i) {\n          var sourceTile = tile.getTile(tile.tileKeys[i]);\n          if (sourceTile.getState() != TileState.LOADED) {\n            continue;\n          }\n          var pixelScale = pixelRatio / resolution;\n          var transform$$1 = reset(this.tmpTransform_);\n          scale$2(transform$$1, pixelScale, -pixelScale);\n          translate$1(transform$$1, -tileExtent[0], -tileExtent[3]);\n          var replayGroup = /** @type {CanvasReplayGroup} */ (sourceTile.getReplayGroup(layer,\n            tile.tileCoord.toString()));\n          replayGroup.replay(context, transform$$1, 0, {}, true, replays);\n        }\n      }\n    };\n\n    return CanvasVectorTileLayerRenderer;\n  }(CanvasTileLayerRenderer));\n\n\n  /**\n   * Determine if this renderer handles the provided layer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The candidate layer.\n   * @return {boolean} The renderer can render the layer.\n   */\n  CanvasVectorTileLayerRenderer['handles'] = function(layer) {\n    return layer.getType() === LayerType.VECTOR_TILE;\n  };\n\n\n  /**\n   * Create a layer renderer.\n   * @param {import(\"../Map.js\").default} mapRenderer The map renderer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The layer to be rendererd.\n   * @return {CanvasVectorTileLayerRenderer} The layer renderer.\n   */\n  CanvasVectorTileLayerRenderer['create'] = function(mapRenderer, layer) {\n    return new CanvasVectorTileLayerRenderer(/** @type {import(\"../../layer/VectorTile.js\").default} */ (layer));\n  };\n\n  /**\n   * @module ol/Map\n   */\n\n  /**\n   * @classdesc\n   * The map is the core component of OpenLayers. For a map to render, a view,\n   * one or more layers, and a target container are needed:\n   *\n   *     import Map from 'ol/Map';\n   *     import View from 'ol/View';\n   *     import TileLayer from 'ol/layer/Tile';\n   *     import OSM from 'ol/source/OSM';\n   *\n   *     var map = new Map({\n   *       view: new View({\n   *         center: [0, 0],\n   *         zoom: 1\n   *       }),\n   *       layers: [\n   *         new TileLayer({\n   *           source: new OSM()\n   *         })\n   *       ],\n   *       target: 'map'\n   *     });\n   *\n   * The above snippet creates a map using a {@link module:ol/layer/Tile} to\n   * display {@link module:ol/source/OSM~OSM} OSM data and render it to a DOM\n   * element with the id `map`.\n   *\n   * The constructor places a viewport container (with CSS class name\n   * `ol-viewport`) in the target element (see `getViewport()`), and then two\n   * further elements within the viewport: one with CSS class name\n   * `ol-overlaycontainer-stopevent` for controls and some overlays, and one with\n   * CSS class name `ol-overlaycontainer` for other overlays (see the `stopEvent`\n   * option of {@link module:ol/Overlay~Overlay} for the difference). The map\n   * itself is placed in a further element within the viewport.\n   *\n   * Layers are stored as a {@link module:ol/Collection~Collection} in\n   * layerGroups. A top-level group is provided by the library. This is what is\n   * accessed by `getLayerGroup` and `setLayerGroup`. Layers entered in the\n   * options are added to this group, and `addLayer` and `removeLayer` change the\n   * layer collection in the group. `getLayers` is a convenience function for\n   * `getLayerGroup().getLayers()`. Note that {@link module:ol/layer/Group~Group}\n   * is a subclass of {@link module:ol/layer/Base}, so layers entered in the\n   * options or added with `addLayer` can be groups, which can contain further\n   * groups, and so on.\n   *\n   * @fires import(\"./MapBrowserEvent.js\").MapBrowserEvent\n   * @fires import(\"./MapEvent.js\").MapEvent\n   * @fires module:ol/render/Event~RenderEvent#postcompose\n   * @fires module:ol/render/Event~RenderEvent#precompose\n   * @api\n   */\n  var Map = /*@__PURE__*/(function (PluggableMap$$1) {\n    function Map(options) {\n      options = assign({}, options);\n      if (!options.controls) {\n        options.controls = defaults();\n      }\n      if (!options.interactions) {\n        options.interactions = defaults$1();\n      }\n\n      PluggableMap$$1.call(this, options);\n    }\n\n    if ( PluggableMap$$1 ) Map.__proto__ = PluggableMap$$1;\n    Map.prototype = Object.create( PluggableMap$$1 && PluggableMap$$1.prototype );\n    Map.prototype.constructor = Map;\n\n    Map.prototype.createRenderer = function createRenderer () {\n      var renderer = new CanvasMapRenderer(this);\n      renderer.registerLayerRenderers([\n        CanvasImageLayerRenderer,\n        CanvasTileLayerRenderer,\n        CanvasVectorLayerRenderer,\n        CanvasVectorTileLayerRenderer\n      ]);\n      return renderer;\n    };\n\n    return Map;\n  }(PluggableMap));\n\n  /**\n   * @module ol/OverlayPositioning\n   */\n\n  /**\n   * Overlay position: `'bottom-left'`, `'bottom-center'`,  `'bottom-right'`,\n   * `'center-left'`, `'center-center'`, `'center-right'`, `'top-left'`,\n   * `'top-center'`, `'top-right'`\n   * @enum {string}\n   */\n  var OverlayPositioning = {\n    BOTTOM_LEFT: 'bottom-left',\n    BOTTOM_CENTER: 'bottom-center',\n    BOTTOM_RIGHT: 'bottom-right',\n    CENTER_LEFT: 'center-left',\n    CENTER_CENTER: 'center-center',\n    CENTER_RIGHT: 'center-right',\n    TOP_LEFT: 'top-left',\n    TOP_CENTER: 'top-center',\n    TOP_RIGHT: 'top-right'\n  };\n\n  /**\n   * @module ol/Overlay\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number|string} [id] Set the overlay id. The overlay id can be used\n   * with the {@link module:ol/Map~Map#getOverlayById} method.\n   * @property {HTMLElement} [element] The overlay element.\n   * @property {Array<number>} [offset=[0, 0]] Offsets in pixels used when positioning\n   * the overlay. The first element in the\n   * array is the horizontal offset. A positive value shifts the overlay right.\n   * The second element in the array is the vertical offset. A positive value\n   * shifts the overlay down.\n   * @property {import(\"./coordinate.js\").Coordinate} [position] The overlay position\n   * in map projection.\n   * @property {OverlayPositioning} [positioning='top-left'] Defines how\n   * the overlay is actually positioned with respect to its `position` property.\n   * Possible values are `'bottom-left'`, `'bottom-center'`, `'bottom-right'`,\n   * `'center-left'`, `'center-center'`, `'center-right'`, `'top-left'`,\n   * `'top-center'`, and `'top-right'`.\n   * @property {boolean} [stopEvent=true] Whether event propagation to the map\n   * viewport should be stopped. If `true` the overlay is placed in the same\n   * container as that of the controls (CSS class name\n   * `ol-overlaycontainer-stopevent`); if `false` it is placed in the container\n   * with CSS class name specified by the `className` property.\n   * @property {boolean} [insertFirst=true] Whether the overlay is inserted first\n   * in the overlay container, or appended. If the overlay is placed in the same\n   * container as that of the controls (see the `stopEvent` option) you will\n   * probably set `insertFirst` to `true` so the overlay is displayed below the\n   * controls.\n   * @property {boolean} [autoPan=false] If set to `true` the map is panned when\n   * calling `setPosition`, so that the overlay is entirely visible in the current\n   * viewport.\n   * @property {PanOptions} [autoPanAnimation] The\n   * animation options used to pan the overlay into view. This animation is only\n   * used when `autoPan` is enabled. A `duration` and `easing` may be provided to\n   * customize the animation.\n   * @property {number} [autoPanMargin=20] The margin (in pixels) between the\n   * overlay and the borders of the map when autopanning.\n   * @property {string} [className='ol-overlay-container ol-selectable'] CSS class\n   * name.\n   */\n\n\n  /**\n   * @typedef {Object} PanOptions\n   * @property {number} [duration=1000] The duration of the animation in\n   * milliseconds.\n   * @property {function(number):number} [easing] The easing function to use. Can\n   * be one from {@link module:ol/easing} or a custom function.\n   * Default is {@link module:ol/easing~inAndOut}.\n   */\n\n\n  /**\n   * @enum {string}\n   * @protected\n   */\n  var Property$3 = {\n    ELEMENT: 'element',\n    MAP: 'map',\n    OFFSET: 'offset',\n    POSITION: 'position',\n    POSITIONING: 'positioning'\n  };\n\n\n  /**\n   * @classdesc\n   * An element to be displayed over the map and attached to a single map\n   * location.  Like {@link module:ol/control/Control~Control}, Overlays are\n   * visible widgets. Unlike Controls, they are not in a fixed position on the\n   * screen, but are tied to a geographical coordinate, so panning the map will\n   * move an Overlay but not a Control.\n   *\n   * Example:\n   *\n   *     import Overlay from 'ol/Overlay';\n   *\n   *     var popup = new Overlay({\n   *       element: document.getElementById('popup')\n   *     });\n   *     popup.setPosition(coordinate);\n   *     map.addOverlay(popup);\n   *\n   * @api\n   */\n  var Overlay = /*@__PURE__*/(function (BaseObject$$1) {\n    function Overlay(options) {\n\n      BaseObject$$1.call(this);\n\n      /**\n       * @protected\n       * @type {Options}\n       */\n      this.options = options;\n\n      /**\n       * @protected\n       * @type {number|string|undefined}\n       */\n      this.id = options.id;\n\n      /**\n       * @protected\n       * @type {boolean}\n       */\n      this.insertFirst = options.insertFirst !== undefined ?\n        options.insertFirst : true;\n\n      /**\n       * @protected\n       * @type {boolean}\n       */\n      this.stopEvent = options.stopEvent !== undefined ? options.stopEvent : true;\n\n      /**\n       * @protected\n       * @type {HTMLElement}\n       */\n      this.element = document.createElement('div');\n      this.element.className = options.className !== undefined ?\n        options.className : 'ol-overlay-container ' + CLASS_SELECTABLE;\n      this.element.style.position = 'absolute';\n\n      /**\n       * @protected\n       * @type {boolean}\n       */\n      this.autoPan = options.autoPan !== undefined ? options.autoPan : false;\n\n      /**\n       * @protected\n       * @type {PanOptions}\n       */\n      this.autoPanAnimation = options.autoPanAnimation || /** @type {PanOptions} */ ({});\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.autoPanMargin = options.autoPanMargin !== undefined ?\n        options.autoPanMargin : 20;\n\n      /**\n       * @protected\n       * @type {{bottom_: string,\n       *         left_: string,\n       *         right_: string,\n       *         top_: string,\n       *         visible: boolean}}\n       */\n      this.rendered = {\n        bottom_: '',\n        left_: '',\n        right_: '',\n        top_: '',\n        visible: true\n      };\n\n      /**\n       * @protected\n       * @type {?import(\"./events.js\").EventsKey}\n       */\n      this.mapPostrenderListenerKey = null;\n\n      listen(\n        this, getChangeEventType(Property$3.ELEMENT),\n        this.handleElementChanged, this);\n\n      listen(\n        this, getChangeEventType(Property$3.MAP),\n        this.handleMapChanged, this);\n\n      listen(\n        this, getChangeEventType(Property$3.OFFSET),\n        this.handleOffsetChanged, this);\n\n      listen(\n        this, getChangeEventType(Property$3.POSITION),\n        this.handlePositionChanged, this);\n\n      listen(\n        this, getChangeEventType(Property$3.POSITIONING),\n        this.handlePositioningChanged, this);\n\n      if (options.element !== undefined) {\n        this.setElement(options.element);\n      }\n\n      this.setOffset(options.offset !== undefined ? options.offset : [0, 0]);\n\n      this.setPositioning(options.positioning !== undefined ?\n        /** @type {OverlayPositioning} */ (options.positioning) :\n        OverlayPositioning.TOP_LEFT);\n\n      if (options.position !== undefined) {\n        this.setPosition(options.position);\n      }\n\n    }\n\n    if ( BaseObject$$1 ) Overlay.__proto__ = BaseObject$$1;\n    Overlay.prototype = Object.create( BaseObject$$1 && BaseObject$$1.prototype );\n    Overlay.prototype.constructor = Overlay;\n\n    /**\n     * Get the DOM element of this overlay.\n     * @return {HTMLElement|undefined} The Element containing the overlay.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.getElement = function getElement () {\n      return /** @type {HTMLElement|undefined} */ (this.get(Property$3.ELEMENT));\n    };\n\n    /**\n     * Get the overlay identifier which is set on constructor.\n     * @return {number|string|undefined} Id.\n     * @api\n     */\n    Overlay.prototype.getId = function getId () {\n      return this.id;\n    };\n\n    /**\n     * Get the map associated with this overlay.\n     * @return {import(\"./PluggableMap.js\").default|undefined} The map that the\n     * overlay is part of.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.getMap = function getMap () {\n      return (\n        /** @type {import(\"./PluggableMap.js\").default|undefined} */ (this.get(Property$3.MAP))\n      );\n    };\n\n    /**\n     * Get the offset of this overlay.\n     * @return {Array<number>} The offset.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.getOffset = function getOffset () {\n      return /** @type {Array<number>} */ (this.get(Property$3.OFFSET));\n    };\n\n    /**\n     * Get the current position of this overlay.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} The spatial point that the overlay is\n     *     anchored at.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.getPosition = function getPosition () {\n      return (\n        /** @type {import(\"./coordinate.js\").Coordinate|undefined} */ (this.get(Property$3.POSITION))\n      );\n    };\n\n    /**\n     * Get the current positioning of this overlay.\n     * @return {OverlayPositioning} How the overlay is positioned\n     *     relative to its point on the map.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.getPositioning = function getPositioning () {\n      return (\n        /** @type {OverlayPositioning} */ (this.get(Property$3.POSITIONING))\n      );\n    };\n\n    /**\n     * @protected\n     */\n    Overlay.prototype.handleElementChanged = function handleElementChanged () {\n      removeChildren(this.element);\n      var element = this.getElement();\n      if (element) {\n        this.element.appendChild(element);\n      }\n    };\n\n    /**\n     * @protected\n     */\n    Overlay.prototype.handleMapChanged = function handleMapChanged () {\n      if (this.mapPostrenderListenerKey) {\n        removeNode(this.element);\n        unlistenByKey(this.mapPostrenderListenerKey);\n        this.mapPostrenderListenerKey = null;\n      }\n      var map = this.getMap();\n      if (map) {\n        this.mapPostrenderListenerKey = listen(map,\n          MapEventType.POSTRENDER, this.render, this);\n        this.updatePixelPosition();\n        var container = this.stopEvent ?\n          map.getOverlayContainerStopEvent() : map.getOverlayContainer();\n        if (this.insertFirst) {\n          container.insertBefore(this.element, container.childNodes[0] || null);\n        } else {\n          container.appendChild(this.element);\n        }\n      }\n    };\n\n    /**\n     * @protected\n     */\n    Overlay.prototype.render = function render () {\n      this.updatePixelPosition();\n    };\n\n    /**\n     * @protected\n     */\n    Overlay.prototype.handleOffsetChanged = function handleOffsetChanged () {\n      this.updatePixelPosition();\n    };\n\n    /**\n     * @protected\n     */\n    Overlay.prototype.handlePositionChanged = function handlePositionChanged () {\n      this.updatePixelPosition();\n      if (this.get(Property$3.POSITION) && this.autoPan) {\n        this.panIntoView();\n      }\n    };\n\n    /**\n     * @protected\n     */\n    Overlay.prototype.handlePositioningChanged = function handlePositioningChanged () {\n      this.updatePixelPosition();\n    };\n\n    /**\n     * Set the DOM element to be associated with this overlay.\n     * @param {HTMLElement|undefined} element The Element containing the overlay.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.setElement = function setElement (element) {\n      this.set(Property$3.ELEMENT, element);\n    };\n\n    /**\n     * Set the map to be associated with this overlay.\n     * @param {import(\"./PluggableMap.js\").default|undefined} map The map that the\n     * overlay is part of.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.setMap = function setMap (map) {\n      this.set(Property$3.MAP, map);\n    };\n\n    /**\n     * Set the offset for this overlay.\n     * @param {Array<number>} offset Offset.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.setOffset = function setOffset (offset) {\n      this.set(Property$3.OFFSET, offset);\n    };\n\n    /**\n     * Set the position for this overlay. If the position is `undefined` the\n     * overlay is hidden.\n     * @param {import(\"./coordinate.js\").Coordinate|undefined} position The spatial point that the overlay\n     *     is anchored at.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.setPosition = function setPosition (position) {\n      this.set(Property$3.POSITION, position);\n    };\n\n    /**\n     * Pan the map so that the overlay is entirely visible in the current viewport\n     * (if necessary).\n     * @protected\n     */\n    Overlay.prototype.panIntoView = function panIntoView () {\n      var map = this.getMap();\n\n      if (!map || !map.getTargetElement()) {\n        return;\n      }\n\n      var mapRect = this.getRect(map.getTargetElement(), map.getSize());\n      var element = this.getElement();\n      var overlayRect = this.getRect(element, [outerWidth(element), outerHeight(element)]);\n\n      var margin = this.autoPanMargin;\n      if (!containsExtent(mapRect, overlayRect)) {\n        // the overlay is not completely inside the viewport, so pan the map\n        var offsetLeft = overlayRect[0] - mapRect[0];\n        var offsetRight = mapRect[2] - overlayRect[2];\n        var offsetTop = overlayRect[1] - mapRect[1];\n        var offsetBottom = mapRect[3] - overlayRect[3];\n\n        var delta = [0, 0];\n        if (offsetLeft < 0) {\n          // move map to the left\n          delta[0] = offsetLeft - margin;\n        } else if (offsetRight < 0) {\n          // move map to the right\n          delta[0] = Math.abs(offsetRight) + margin;\n        }\n        if (offsetTop < 0) {\n          // move map up\n          delta[1] = offsetTop - margin;\n        } else if (offsetBottom < 0) {\n          // move map down\n          delta[1] = Math.abs(offsetBottom) + margin;\n        }\n\n        if (delta[0] !== 0 || delta[1] !== 0) {\n          var center = /** @type {import(\"./coordinate.js\").Coordinate} */ (map.getView().getCenter());\n          var centerPx = map.getPixelFromCoordinate(center);\n          var newCenterPx = [\n            centerPx[0] + delta[0],\n            centerPx[1] + delta[1]\n          ];\n\n          map.getView().animate({\n            center: map.getCoordinateFromPixel(newCenterPx),\n            duration: this.autoPanAnimation.duration,\n            easing: this.autoPanAnimation.easing\n          });\n        }\n      }\n    };\n\n    /**\n     * Get the extent of an element relative to the document\n     * @param {HTMLElement|undefined} element The element.\n     * @param {import(\"./size.js\").Size|undefined} size The size of the element.\n     * @return {import(\"./extent.js\").Extent} The extent.\n     * @protected\n     */\n    Overlay.prototype.getRect = function getRect (element, size) {\n      var box = element.getBoundingClientRect();\n      var offsetX = box.left + window.pageXOffset;\n      var offsetY = box.top + window.pageYOffset;\n      return [\n        offsetX,\n        offsetY,\n        offsetX + size[0],\n        offsetY + size[1]\n      ];\n    };\n\n    /**\n     * Set the positioning for this overlay.\n     * @param {OverlayPositioning} positioning how the overlay is\n     *     positioned relative to its point on the map.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.setPositioning = function setPositioning (positioning) {\n      this.set(Property$3.POSITIONING, positioning);\n    };\n\n    /**\n     * Modify the visibility of the element.\n     * @param {boolean} visible Element visibility.\n     * @protected\n     */\n    Overlay.prototype.setVisible = function setVisible (visible) {\n      if (this.rendered.visible !== visible) {\n        this.element.style.display = visible ? '' : 'none';\n        this.rendered.visible = visible;\n      }\n    };\n\n    /**\n     * Update pixel position.\n     * @protected\n     */\n    Overlay.prototype.updatePixelPosition = function updatePixelPosition () {\n      var map = this.getMap();\n      var position = this.getPosition();\n      if (!map || !map.isRendered() || !position) {\n        this.setVisible(false);\n        return;\n      }\n\n      var pixel = map.getPixelFromCoordinate(position);\n      var mapSize = map.getSize();\n      this.updateRenderedPosition(pixel, mapSize);\n    };\n\n    /**\n     * @param {import(\"./pixel.js\").Pixel} pixel The pixel location.\n     * @param {import(\"./size.js\").Size|undefined} mapSize The map size.\n     * @protected\n     */\n    Overlay.prototype.updateRenderedPosition = function updateRenderedPosition (pixel, mapSize) {\n      var style = this.element.style;\n      var offset = this.getOffset();\n\n      var positioning = this.getPositioning();\n\n      this.setVisible(true);\n\n      var offsetX = offset[0];\n      var offsetY = offset[1];\n      if (positioning == OverlayPositioning.BOTTOM_RIGHT ||\n          positioning == OverlayPositioning.CENTER_RIGHT ||\n          positioning == OverlayPositioning.TOP_RIGHT) {\n        if (this.rendered.left_ !== '') {\n          this.rendered.left_ = style.left = '';\n        }\n        var right = Math.round(mapSize[0] - pixel[0] - offsetX) + 'px';\n        if (this.rendered.right_ != right) {\n          this.rendered.right_ = style.right = right;\n        }\n      } else {\n        if (this.rendered.right_ !== '') {\n          this.rendered.right_ = style.right = '';\n        }\n        if (positioning == OverlayPositioning.BOTTOM_CENTER ||\n            positioning == OverlayPositioning.CENTER_CENTER ||\n            positioning == OverlayPositioning.TOP_CENTER) {\n          offsetX -= this.element.offsetWidth / 2;\n        }\n        var left = Math.round(pixel[0] + offsetX) + 'px';\n        if (this.rendered.left_ != left) {\n          this.rendered.left_ = style.left = left;\n        }\n      }\n      if (positioning == OverlayPositioning.BOTTOM_LEFT ||\n          positioning == OverlayPositioning.BOTTOM_CENTER ||\n          positioning == OverlayPositioning.BOTTOM_RIGHT) {\n        if (this.rendered.top_ !== '') {\n          this.rendered.top_ = style.top = '';\n        }\n        var bottom = Math.round(mapSize[1] - pixel[1] - offsetY) + 'px';\n        if (this.rendered.bottom_ != bottom) {\n          this.rendered.bottom_ = style.bottom = bottom;\n        }\n      } else {\n        if (this.rendered.bottom_ !== '') {\n          this.rendered.bottom_ = style.bottom = '';\n        }\n        if (positioning == OverlayPositioning.CENTER_LEFT ||\n            positioning == OverlayPositioning.CENTER_CENTER ||\n            positioning == OverlayPositioning.CENTER_RIGHT) {\n          offsetY -= this.element.offsetHeight / 2;\n        }\n        var top = Math.round(pixel[1] + offsetY) + 'px';\n        if (this.rendered.top_ != top) {\n          this.rendered.top_ = style.top = top;\n        }\n      }\n    };\n\n    /**\n     * returns the options this Overlay has been created with\n     * @return {Options} overlay options\n     */\n    Overlay.prototype.getOptions = function getOptions () {\n      return this.options;\n    };\n\n    return Overlay;\n  }(BaseObject));\n\n  /**\n   * @module ol/control/OverviewMap\n   */\n\n\n  /**\n   * Maximum width and/or height extent ratio that determines when the overview\n   * map should be zoomed out.\n   * @type {number}\n   */\n  var MAX_RATIO = 0.75;\n\n\n  /**\n   * Minimum width and/or height extent ratio that determines when the overview\n   * map should be zoomed in.\n   * @type {number}\n   */\n  var MIN_RATIO = 0.1;\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} [className='ol-overviewmap'] CSS class name.\n   * @property {boolean} [collapsed=true] Whether the control should start collapsed or not (expanded).\n   * @property {string|HTMLElement} [collapseLabel='«'] Text label to use for the\n   * expanded overviewmap button. Instead of text, also an element (e.g. a `span` element) can be used.\n   * @property {boolean} [collapsible=true] Whether the control can be collapsed or not.\n   * @property {string|HTMLElement} [label='»'] Text label to use for the collapsed\n   * overviewmap button. Instead of text, also an element (e.g. a `span` element) can be used.\n   * @property {Array<import(\"../layer/Layer.js\").default>|import(\"../Collection.js\").default<import(\"../layer/Layer.js\").default>} [layers]\n   * Layers for the overview map. If not set, then all main map layers are used\n   * instead.\n   * @property {function(import(\"../MapEvent.js\").default)} [render] Function called when the control\n   * should be re-rendered. This is called in a `requestAnimationFrame` callback.\n   * @property {HTMLElement|string} [target] Specify a target if you want the control\n   * to be rendered outside of the map's viewport.\n   * @property {string} [tipLabel='Overview map'] Text label to use for the button tip.\n   * @property {import(\"../View.js\").default} [view] Custom view for the overview map. If not provided,\n   * a default view with an EPSG:3857 projection will be used.\n   */\n\n\n  /**\n   * Create a new control with a map acting as an overview map for an other\n   * defined map.\n   *\n   * @api\n   */\n  var OverviewMap = /*@__PURE__*/(function (Control$$1) {\n    function OverviewMap(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      Control$$1.call(this, {\n        element: document.createElement('div'),\n        render: options.render || render$3,\n        target: options.target\n      });\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this.collapsed_ = options.collapsed !== undefined ? options.collapsed : true;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.collapsible_ = options.collapsible !== undefined ?\n        options.collapsible : true;\n\n      if (!this.collapsible_) {\n        this.collapsed_ = false;\n      }\n\n      var className = options.className !== undefined ? options.className : 'ol-overviewmap';\n\n      var tipLabel = options.tipLabel !== undefined ? options.tipLabel : 'Overview map';\n\n      var collapseLabel = options.collapseLabel !== undefined ? options.collapseLabel : '\\u00AB';\n\n      if (typeof collapseLabel === 'string') {\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        this.collapseLabel_ = document.createElement('span');\n        this.collapseLabel_.textContent = collapseLabel;\n      } else {\n        this.collapseLabel_ = collapseLabel;\n      }\n\n      var label = options.label !== undefined ? options.label : '\\u00BB';\n\n\n      if (typeof label === 'string') {\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        this.label_ = document.createElement('span');\n        this.label_.textContent = label;\n      } else {\n        this.label_ = label;\n      }\n\n      var activeLabel = (this.collapsible_ && !this.collapsed_) ?\n        this.collapseLabel_ : this.label_;\n      var button = document.createElement('button');\n      button.setAttribute('type', 'button');\n      button.title = tipLabel;\n      button.appendChild(activeLabel);\n\n      listen(button, EventType.CLICK,\n        this.handleClick_, this);\n\n      /**\n       * @type {HTMLElement}\n       * @private\n       */\n      this.ovmapDiv_ = document.createElement('div');\n      this.ovmapDiv_.className = 'ol-overviewmap-map';\n\n      /**\n       * @type {import(\"../Map.js\").default}\n       * @private\n       */\n      this.ovmap_ = new Map({\n        controls: new Collection(),\n        interactions: new Collection(),\n        view: options.view\n      });\n      var ovmap = this.ovmap_;\n\n      if (options.layers) {\n        /** @type {Array<import(\"../layer/Layer.js\").default>} */ (options.layers).forEach(\n          /**\n           * @param {import(\"../layer/Layer.js\").default} layer Layer.\n           */\n          (function(layer) {\n            ovmap.addLayer(layer);\n          }).bind(this));\n      }\n\n      var box = document.createElement('div');\n      box.className = 'ol-overviewmap-box';\n      box.style.boxSizing = 'border-box';\n\n      /**\n       * @type {import(\"../Overlay.js\").default}\n       * @private\n       */\n      this.boxOverlay_ = new Overlay({\n        position: [0, 0],\n        positioning: OverlayPositioning.BOTTOM_LEFT,\n        element: box\n      });\n      this.ovmap_.addOverlay(this.boxOverlay_);\n\n      var cssClasses = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL +\n          (this.collapsed_ && this.collapsible_ ? ' ' + CLASS_COLLAPSED : '') +\n          (this.collapsible_ ? '' : ' ol-uncollapsible');\n      var element = this.element;\n      element.className = cssClasses;\n      element.appendChild(this.ovmapDiv_);\n      element.appendChild(button);\n\n      /* Interactive map */\n\n      var scope = this;\n\n      var overlay = this.boxOverlay_;\n      var overlayBox = this.boxOverlay_.getElement();\n\n      /* Functions definition */\n\n      var computeDesiredMousePosition = function(mousePosition) {\n        return {\n          clientX: mousePosition.clientX - (overlayBox.offsetWidth / 2),\n          clientY: mousePosition.clientY + (overlayBox.offsetHeight / 2)\n        };\n      };\n\n      var move = function(event) {\n        var position = /** @type {?} */ (computeDesiredMousePosition(event));\n        var coordinates = ovmap.getEventCoordinate(/** @type {Event} */ (position));\n\n        overlay.setPosition(coordinates);\n      };\n\n      var endMoving = function(event) {\n        var coordinates = ovmap.getEventCoordinate(event);\n\n        scope.getMap().getView().setCenter(coordinates);\n\n        window.removeEventListener('mousemove', move);\n        window.removeEventListener('mouseup', endMoving);\n      };\n\n      /* Binding */\n\n      overlayBox.addEventListener('mousedown', function() {\n        window.addEventListener('mousemove', move);\n        window.addEventListener('mouseup', endMoving);\n      });\n    }\n\n    if ( Control$$1 ) OverviewMap.__proto__ = Control$$1;\n    OverviewMap.prototype = Object.create( Control$$1 && Control$$1.prototype );\n    OverviewMap.prototype.constructor = OverviewMap;\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    OverviewMap.prototype.setMap = function setMap (map) {\n      var oldMap = this.getMap();\n      if (map === oldMap) {\n        return;\n      }\n      if (oldMap) {\n        var oldView = oldMap.getView();\n        if (oldView) {\n          this.unbindView_(oldView);\n        }\n        this.ovmap_.setTarget(null);\n      }\n      Control$$1.prototype.setMap.call(this, map);\n\n      if (map) {\n        this.ovmap_.setTarget(this.ovmapDiv_);\n        this.listenerKeys.push(listen(\n          map, ObjectEventType.PROPERTYCHANGE,\n          this.handleMapPropertyChange_, this));\n\n        // TODO: to really support map switching, this would need to be reworked\n        if (this.ovmap_.getLayers().getLength() === 0) {\n          this.ovmap_.setLayerGroup(map.getLayerGroup());\n        }\n\n        var view = map.getView();\n        if (view) {\n          this.bindView_(view);\n          if (view.isDef()) {\n            this.ovmap_.updateSize();\n            this.resetExtent_();\n          }\n        }\n      }\n    };\n\n    /**\n     * Handle map property changes.  This only deals with changes to the map's view.\n     * @param {import(\"../Object.js\").ObjectEvent} event The propertychange event.\n     * @private\n     */\n    OverviewMap.prototype.handleMapPropertyChange_ = function handleMapPropertyChange_ (event) {\n      if (event.key === MapProperty.VIEW) {\n        var oldView = /** @type {import(\"../View.js\").default} */ (event.oldValue);\n        if (oldView) {\n          this.unbindView_(oldView);\n        }\n        var newView = this.getMap().getView();\n        this.bindView_(newView);\n      }\n    };\n\n    /**\n     * Register listeners for view property changes.\n     * @param {import(\"../View.js\").default} view The view.\n     * @private\n     */\n    OverviewMap.prototype.bindView_ = function bindView_ (view) {\n      listen(view,\n        getChangeEventType(ViewProperty.ROTATION),\n        this.handleRotationChanged_, this);\n    };\n\n    /**\n     * Unregister listeners for view property changes.\n     * @param {import(\"../View.js\").default} view The view.\n     * @private\n     */\n    OverviewMap.prototype.unbindView_ = function unbindView_ (view) {\n      unlisten(view,\n        getChangeEventType(ViewProperty.ROTATION),\n        this.handleRotationChanged_, this);\n    };\n\n    /**\n     * Handle rotation changes to the main map.\n     * TODO: This should rotate the extent rectrangle instead of the\n     * overview map's view.\n     * @private\n     */\n    OverviewMap.prototype.handleRotationChanged_ = function handleRotationChanged_ () {\n      this.ovmap_.getView().setRotation(this.getMap().getView().getRotation());\n    };\n\n    /**\n     * Reset the overview map extent if the box size (width or\n     * height) is less than the size of the overview map size times minRatio\n     * or is greater than the size of the overview size times maxRatio.\n     *\n     * If the map extent was not reset, the box size can fits in the defined\n     * ratio sizes. This method then checks if is contained inside the overview\n     * map current extent. If not, recenter the overview map to the current\n     * main map center location.\n     * @private\n     */\n    OverviewMap.prototype.validateExtent_ = function validateExtent_ () {\n      var map = this.getMap();\n      var ovmap = this.ovmap_;\n\n      if (!map.isRendered() || !ovmap.isRendered()) {\n        return;\n      }\n\n      var mapSize = /** @type {import(\"../size.js\").Size} */ (map.getSize());\n\n      var view = map.getView();\n      var extent = view.calculateExtent(mapSize);\n\n      var ovmapSize = /** @type {import(\"../size.js\").Size} */ (ovmap.getSize());\n\n      var ovview = ovmap.getView();\n      var ovextent = ovview.calculateExtent(ovmapSize);\n\n      var topLeftPixel =\n          ovmap.getPixelFromCoordinate(getTopLeft(extent));\n      var bottomRightPixel =\n          ovmap.getPixelFromCoordinate(getBottomRight(extent));\n\n      var boxWidth = Math.abs(topLeftPixel[0] - bottomRightPixel[0]);\n      var boxHeight = Math.abs(topLeftPixel[1] - bottomRightPixel[1]);\n\n      var ovmapWidth = ovmapSize[0];\n      var ovmapHeight = ovmapSize[1];\n\n      if (boxWidth < ovmapWidth * MIN_RATIO ||\n          boxHeight < ovmapHeight * MIN_RATIO ||\n          boxWidth > ovmapWidth * MAX_RATIO ||\n          boxHeight > ovmapHeight * MAX_RATIO) {\n        this.resetExtent_();\n      } else if (!containsExtent(ovextent, extent)) {\n        this.recenter_();\n      }\n    };\n\n    /**\n     * Reset the overview map extent to half calculated min and max ratio times\n     * the extent of the main map.\n     * @private\n     */\n    OverviewMap.prototype.resetExtent_ = function resetExtent_ () {\n\n      var map = this.getMap();\n      var ovmap = this.ovmap_;\n\n      var mapSize = /** @type {import(\"../size.js\").Size} */ (map.getSize());\n\n      var view = map.getView();\n      var extent = view.calculateExtent(mapSize);\n\n      var ovview = ovmap.getView();\n\n      // get how many times the current map overview could hold different\n      // box sizes using the min and max ratio, pick the step in the middle used\n      // to calculate the extent from the main map to set it to the overview map,\n      var steps = Math.log(\n        MAX_RATIO / MIN_RATIO) / Math.LN2;\n      var ratio = 1 / (Math.pow(2, steps / 2) * MIN_RATIO);\n      scaleFromCenter(extent, ratio);\n      ovview.fit(extent);\n    };\n\n    /**\n     * Set the center of the overview map to the map center without changing its\n     * resolution.\n     * @private\n     */\n    OverviewMap.prototype.recenter_ = function recenter_ () {\n      var map = this.getMap();\n      var ovmap = this.ovmap_;\n\n      var view = map.getView();\n\n      var ovview = ovmap.getView();\n\n      ovview.setCenter(view.getCenter());\n    };\n\n    /**\n     * Update the box using the main map extent\n     * @private\n     */\n    OverviewMap.prototype.updateBox_ = function updateBox_ () {\n      var map = this.getMap();\n      var ovmap = this.ovmap_;\n\n      if (!map.isRendered() || !ovmap.isRendered()) {\n        return;\n      }\n\n      var mapSize = /** @type {import(\"../size.js\").Size} */ (map.getSize());\n\n      var view = map.getView();\n\n      var ovview = ovmap.getView();\n\n      var rotation = view.getRotation();\n\n      var overlay = this.boxOverlay_;\n      var box = this.boxOverlay_.getElement();\n      var extent = view.calculateExtent(mapSize);\n      var ovresolution = ovview.getResolution();\n      var bottomLeft = getBottomLeft(extent);\n      var topRight = getTopRight(extent);\n\n      // set position using bottom left coordinates\n      var rotateBottomLeft = this.calculateCoordinateRotate_(rotation, bottomLeft);\n      overlay.setPosition(rotateBottomLeft);\n\n      // set box size calculated from map extent size and overview map resolution\n      if (box) {\n        box.style.width = Math.abs((bottomLeft[0] - topRight[0]) / ovresolution) + 'px';\n        box.style.height = Math.abs((topRight[1] - bottomLeft[1]) / ovresolution) + 'px';\n      }\n    };\n\n    /**\n     * @param {number} rotation Target rotation.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @return {import(\"../coordinate.js\").Coordinate|undefined} Coordinate for rotation and center anchor.\n     * @private\n     */\n    OverviewMap.prototype.calculateCoordinateRotate_ = function calculateCoordinateRotate_ (rotation, coordinate) {\n      var coordinateRotate;\n\n      var map = this.getMap();\n      var view = map.getView();\n\n      var currentCenter = view.getCenter();\n\n      if (currentCenter) {\n        coordinateRotate = [\n          coordinate[0] - currentCenter[0],\n          coordinate[1] - currentCenter[1]\n        ];\n        rotate(coordinateRotate, rotation);\n        add(coordinateRotate, currentCenter);\n      }\n      return coordinateRotate;\n    };\n\n    /**\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    OverviewMap.prototype.handleClick_ = function handleClick_ (event) {\n      event.preventDefault();\n      this.handleToggle_();\n    };\n\n    /**\n     * @private\n     */\n    OverviewMap.prototype.handleToggle_ = function handleToggle_ () {\n      this.element.classList.toggle(CLASS_COLLAPSED);\n      if (this.collapsed_) {\n        replaceNode(this.collapseLabel_, this.label_);\n      } else {\n        replaceNode(this.label_, this.collapseLabel_);\n      }\n      this.collapsed_ = !this.collapsed_;\n\n      // manage overview map if it had not been rendered before and control\n      // is expanded\n      var ovmap = this.ovmap_;\n      if (!this.collapsed_ && !ovmap.isRendered()) {\n        ovmap.updateSize();\n        this.resetExtent_();\n        listenOnce(ovmap, MapEventType.POSTRENDER,\n          function(event) {\n            this.updateBox_();\n          },\n          this);\n      }\n    };\n\n    /**\n     * Return `true` if the overview map is collapsible, `false` otherwise.\n     * @return {boolean} True if the widget is collapsible.\n     * @api\n     */\n    OverviewMap.prototype.getCollapsible = function getCollapsible () {\n      return this.collapsible_;\n    };\n\n    /**\n     * Set whether the overview map should be collapsible.\n     * @param {boolean} collapsible True if the widget is collapsible.\n     * @api\n     */\n    OverviewMap.prototype.setCollapsible = function setCollapsible (collapsible) {\n      if (this.collapsible_ === collapsible) {\n        return;\n      }\n      this.collapsible_ = collapsible;\n      this.element.classList.toggle('ol-uncollapsible');\n      if (!collapsible && this.collapsed_) {\n        this.handleToggle_();\n      }\n    };\n\n    /**\n     * Collapse or expand the overview map according to the passed parameter. Will\n     * not do anything if the overview map isn't collapsible or if the current\n     * collapsed state is already the one requested.\n     * @param {boolean} collapsed True if the widget is collapsed.\n     * @api\n     */\n    OverviewMap.prototype.setCollapsed = function setCollapsed (collapsed) {\n      if (!this.collapsible_ || this.collapsed_ === collapsed) {\n        return;\n      }\n      this.handleToggle_();\n    };\n\n    /**\n     * Determine if the overview map is collapsed.\n     * @return {boolean} The overview map is collapsed.\n     * @api\n     */\n    OverviewMap.prototype.getCollapsed = function getCollapsed () {\n      return this.collapsed_;\n    };\n\n    /**\n     * Return the overview map.\n     * @return {import(\"../PluggableMap.js\").default} Overview map.\n     * @api\n     */\n    OverviewMap.prototype.getOverviewMap = function getOverviewMap () {\n      return this.ovmap_;\n    };\n\n    return OverviewMap;\n  }(Control));\n\n\n  /**\n   * Update the overview map element.\n   * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n   * @this {OverviewMap}\n   * @api\n   */\n  function render$3(mapEvent) {\n    this.validateExtent_();\n    this.updateBox_();\n  }\n\n  /**\n   * @module ol/control/ScaleLine\n   */\n\n\n  /**\n   * @type {string}\n   */\n  var UNITS_PROP = 'units';\n\n  /**\n   * Units for the scale line. Supported values are `'degrees'`, `'imperial'`,\n   * `'nautical'`, `'metric'`, `'us'`.\n   * @enum {string}\n   */\n  var Units$1 = {\n    DEGREES: 'degrees',\n    IMPERIAL: 'imperial',\n    NAUTICAL: 'nautical',\n    METRIC: 'metric',\n    US: 'us'\n  };\n\n\n  /**\n   * @const\n   * @type {Array<number>}\n   */\n  var LEADING_DIGITS = [1, 2, 5];\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} [className='ol-scale-line'] CSS Class name.\n   * @property {number} [minWidth=64] Minimum width in pixels.\n   * @property {function(import(\"../MapEvent.js\").default)} [render] Function called when the control\n   * should be re-rendered. This is called in a `requestAnimationFrame` callback.\n   * @property {HTMLElement|string} [target] Specify a target if you want the control\n   * to be rendered outside of the map's viewport.\n   * @property {Units|string} [units='metric'] Units.\n   */\n\n\n  /**\n   * @classdesc\n   * A control displaying rough y-axis distances, calculated for the center of the\n   * viewport. For conformal projections (e.g. EPSG:3857, the default view\n   * projection in OpenLayers), the scale is valid for all directions.\n   * No scale line will be shown when the y-axis distance of a pixel at the\n   * viewport center cannot be calculated in the view projection.\n   * By default the scale line will show in the bottom left portion of the map,\n   * but this can be changed by using the css selector `.ol-scale-line`.\n   *\n   * @api\n   */\n  var ScaleLine = /*@__PURE__*/(function (Control$$1) {\n    function ScaleLine(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      var className = options.className !== undefined ? options.className : 'ol-scale-line';\n\n      Control$$1.call(this, {\n        element: document.createElement('div'),\n        render: options.render || render$4,\n        target: options.target\n      });\n\n      /**\n       * @private\n       * @type {HTMLElement}\n       */\n      this.innerElement_ = document.createElement('div');\n      this.innerElement_.className = className + '-inner';\n\n      this.element.className = className + ' ' + CLASS_UNSELECTABLE;\n      this.element.appendChild(this.innerElement_);\n\n      /**\n       * @private\n       * @type {?import(\"../View.js\").State}\n       */\n      this.viewState_ = null;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.minWidth_ = options.minWidth !== undefined ? options.minWidth : 64;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.renderedVisible_ = false;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.renderedWidth_ = undefined;\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.renderedHTML_ = '';\n\n      listen(\n        this, getChangeEventType(UNITS_PROP),\n        this.handleUnitsChanged_, this);\n\n      this.setUnits(/** @type {Units} */ (options.units) || Units$1.METRIC);\n\n    }\n\n    if ( Control$$1 ) ScaleLine.__proto__ = Control$$1;\n    ScaleLine.prototype = Object.create( Control$$1 && Control$$1.prototype );\n    ScaleLine.prototype.constructor = ScaleLine;\n\n    /**\n     * Return the units to use in the scale line.\n     * @return {Units} The units\n     * to use in the scale line.\n     * @observable\n     * @api\n     */\n    ScaleLine.prototype.getUnits = function getUnits () {\n      return this.get(UNITS_PROP);\n    };\n\n    /**\n     * @private\n     */\n    ScaleLine.prototype.handleUnitsChanged_ = function handleUnitsChanged_ () {\n      this.updateElement_();\n    };\n\n    /**\n     * Set the units to use in the scale line.\n     * @param {Units} units The units to use in the scale line.\n     * @observable\n     * @api\n     */\n    ScaleLine.prototype.setUnits = function setUnits (units) {\n      this.set(UNITS_PROP, units);\n    };\n\n    /**\n     * @private\n     */\n    ScaleLine.prototype.updateElement_ = function updateElement_ () {\n      var viewState = this.viewState_;\n\n      if (!viewState) {\n        if (this.renderedVisible_) {\n          this.element.style.display = 'none';\n          this.renderedVisible_ = false;\n        }\n        return;\n      }\n\n      var center = viewState.center;\n      var projection = viewState.projection;\n      var units = this.getUnits();\n      var pointResolutionUnits = units == Units$1.DEGREES ?\n        Units.DEGREES :\n        Units.METERS;\n      var pointResolution =\n          getPointResolution(projection, viewState.resolution, center, pointResolutionUnits);\n      if (projection.getUnits() != Units.DEGREES && projection.getMetersPerUnit()\n        && pointResolutionUnits == Units.METERS) {\n        pointResolution *= projection.getMetersPerUnit();\n      }\n\n      var nominalCount = this.minWidth_ * pointResolution;\n      var suffix = '';\n      if (units == Units$1.DEGREES) {\n        var metersPerDegree = METERS_PER_UNIT[Units.DEGREES];\n        if (projection.getUnits() == Units.DEGREES) {\n          nominalCount *= metersPerDegree;\n        } else {\n          pointResolution /= metersPerDegree;\n        }\n        if (nominalCount < metersPerDegree / 60) {\n          suffix = '\\u2033'; // seconds\n          pointResolution *= 3600;\n        } else if (nominalCount < metersPerDegree) {\n          suffix = '\\u2032'; // minutes\n          pointResolution *= 60;\n        } else {\n          suffix = '\\u00b0'; // degrees\n        }\n      } else if (units == Units$1.IMPERIAL) {\n        if (nominalCount < 0.9144) {\n          suffix = 'in';\n          pointResolution /= 0.0254;\n        } else if (nominalCount < 1609.344) {\n          suffix = 'ft';\n          pointResolution /= 0.3048;\n        } else {\n          suffix = 'mi';\n          pointResolution /= 1609.344;\n        }\n      } else if (units == Units$1.NAUTICAL) {\n        pointResolution /= 1852;\n        suffix = 'nm';\n      } else if (units == Units$1.METRIC) {\n        if (nominalCount < 0.001) {\n          suffix = 'μm';\n          pointResolution *= 1000000;\n        } else if (nominalCount < 1) {\n          suffix = 'mm';\n          pointResolution *= 1000;\n        } else if (nominalCount < 1000) {\n          suffix = 'm';\n        } else {\n          suffix = 'km';\n          pointResolution /= 1000;\n        }\n      } else if (units == Units$1.US) {\n        if (nominalCount < 0.9144) {\n          suffix = 'in';\n          pointResolution *= 39.37;\n        } else if (nominalCount < 1609.344) {\n          suffix = 'ft';\n          pointResolution /= 0.30480061;\n        } else {\n          suffix = 'mi';\n          pointResolution /= 1609.3472;\n        }\n      } else {\n        assert(false, 33); // Invalid units\n      }\n\n      var i = 3 * Math.floor(\n        Math.log(this.minWidth_ * pointResolution) / Math.log(10));\n      var count, width;\n      while (true) {\n        count = LEADING_DIGITS[((i % 3) + 3) % 3] *\n            Math.pow(10, Math.floor(i / 3));\n        width = Math.round(count / pointResolution);\n        if (isNaN(width)) {\n          this.element.style.display = 'none';\n          this.renderedVisible_ = false;\n          return;\n        } else if (width >= this.minWidth_) {\n          break;\n        }\n        ++i;\n      }\n\n      var html = count + ' ' + suffix;\n      if (this.renderedHTML_ != html) {\n        this.innerElement_.innerHTML = html;\n        this.renderedHTML_ = html;\n      }\n\n      if (this.renderedWidth_ != width) {\n        this.innerElement_.style.width = width + 'px';\n        this.renderedWidth_ = width;\n      }\n\n      if (!this.renderedVisible_) {\n        this.element.style.display = '';\n        this.renderedVisible_ = true;\n      }\n\n    };\n\n    return ScaleLine;\n  }(Control));\n\n\n  /**\n   * Update the scale line element.\n   * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n   * @this {ScaleLine}\n   * @api\n   */\n  function render$4(mapEvent) {\n    var frameState = mapEvent.frameState;\n    if (!frameState) {\n      this.viewState_ = null;\n    } else {\n      this.viewState_ = frameState.viewState;\n    }\n    this.updateElement_();\n  }\n\n  /**\n   * @module ol/control/ZoomSlider\n   */\n\n\n  /**\n   * The enum for available directions.\n   *\n   * @enum {number}\n   */\n  var Direction = {\n    VERTICAL: 0,\n    HORIZONTAL: 1\n  };\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} [className='ol-zoomslider'] CSS class name.\n   * @property {number} [duration=200] Animation duration in milliseconds.\n   * @property {function(import(\"../MapEvent.js\").default)} [render] Function called when the control\n   * should be re-rendered. This is called in a `requestAnimationFrame` callback.\n   */\n\n\n  /**\n   * @classdesc\n   * A slider type of control for zooming.\n   *\n   * Example:\n   *\n   *     map.addControl(new ZoomSlider());\n   *\n   * @api\n   */\n  var ZoomSlider = /*@__PURE__*/(function (Control$$1) {\n    function ZoomSlider(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      Control$$1.call(this, {\n        element: document.createElement('div'),\n        render: options.render || render$5\n      });\n\n      /**\n        * @type {!Array.<import(\"../events.js\").EventsKey>}\n        * @private\n        */\n      this.dragListenerKeys_ = [];\n\n      /**\n       * Will hold the current resolution of the view.\n       *\n       * @type {number|undefined}\n       * @private\n       */\n      this.currentResolution_ = undefined;\n\n      /**\n       * The direction of the slider. Will be determined from actual display of the\n       * container and defaults to Direction.VERTICAL.\n       *\n       * @type {Direction}\n       * @private\n       */\n      this.direction_ = Direction.VERTICAL;\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this.dragging_;\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.heightLimit_ = 0;\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.widthLimit_ = 0;\n\n      /**\n       * @type {number|undefined}\n       * @private\n       */\n      this.previousX_;\n\n      /**\n       * @type {number|undefined}\n       * @private\n       */\n      this.previousY_;\n\n      /**\n       * The calculated thumb size (border box plus margins).  Set when initSlider_\n       * is called.\n       * @type {import(\"../size.js\").Size}\n       * @private\n       */\n      this.thumbSize_ = null;\n\n      /**\n       * Whether the slider is initialized.\n       * @type {boolean}\n       * @private\n       */\n      this.sliderInitialized_ = false;\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 200;\n\n      var className = options.className !== undefined ? options.className : 'ol-zoomslider';\n      var thumbElement = document.createElement('button');\n      thumbElement.setAttribute('type', 'button');\n      thumbElement.className = className + '-thumb ' + CLASS_UNSELECTABLE;\n      var containerElement = this.element;\n      containerElement.className = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL;\n      containerElement.appendChild(thumbElement);\n      /**\n       * @type {PointerEventHandler}\n       * @private\n       */\n      this.dragger_ = new PointerEventHandler(containerElement);\n\n      listen(this.dragger_, PointerEventType.POINTERDOWN,\n        this.handleDraggerStart_, this);\n      listen(this.dragger_, PointerEventType.POINTERMOVE,\n        this.handleDraggerDrag_, this);\n      listen(this.dragger_, PointerEventType.POINTERUP,\n        this.handleDraggerEnd_, this);\n\n      listen(containerElement, EventType.CLICK, this.handleContainerClick_, this);\n      listen(thumbElement, EventType.CLICK, stopPropagation);\n    }\n\n    if ( Control$$1 ) ZoomSlider.__proto__ = Control$$1;\n    ZoomSlider.prototype = Object.create( Control$$1 && Control$$1.prototype );\n    ZoomSlider.prototype.constructor = ZoomSlider;\n\n    /**\n     * @inheritDoc\n     */\n    ZoomSlider.prototype.disposeInternal = function disposeInternal () {\n      this.dragger_.dispose();\n      Control$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    ZoomSlider.prototype.setMap = function setMap (map) {\n      Control$$1.prototype.setMap.call(this, map);\n      if (map) {\n        map.render();\n      }\n    };\n\n    /**\n     * Initializes the slider element. This will determine and set this controls\n     * direction_ and also constrain the dragging of the thumb to always be within\n     * the bounds of the container.\n     *\n     * @private\n     */\n    ZoomSlider.prototype.initSlider_ = function initSlider_ () {\n      var container = this.element;\n      var containerSize = {\n        width: container.offsetWidth, height: container.offsetHeight\n      };\n\n      var thumb = /** @type {HTMLElement} */ (container.firstElementChild);\n      var computedStyle = getComputedStyle(thumb);\n      var thumbWidth = thumb.offsetWidth +\n          parseFloat(computedStyle['marginRight']) +\n          parseFloat(computedStyle['marginLeft']);\n      var thumbHeight = thumb.offsetHeight +\n          parseFloat(computedStyle['marginTop']) +\n          parseFloat(computedStyle['marginBottom']);\n      this.thumbSize_ = [thumbWidth, thumbHeight];\n\n      if (containerSize.width > containerSize.height) {\n        this.direction_ = Direction.HORIZONTAL;\n        this.widthLimit_ = containerSize.width - thumbWidth;\n      } else {\n        this.direction_ = Direction.VERTICAL;\n        this.heightLimit_ = containerSize.height - thumbHeight;\n      }\n      this.sliderInitialized_ = true;\n    };\n\n    /**\n     * @param {MouseEvent} event The browser event to handle.\n     * @private\n     */\n    ZoomSlider.prototype.handleContainerClick_ = function handleContainerClick_ (event) {\n      var view = this.getMap().getView();\n\n      var relativePosition = this.getRelativePosition_(\n        event.offsetX - this.thumbSize_[0] / 2,\n        event.offsetY - this.thumbSize_[1] / 2);\n\n      var resolution = this.getResolutionForPosition_(relativePosition);\n\n      view.animate({\n        resolution: view.constrainResolution(resolution),\n        duration: this.duration_,\n        easing: easeOut\n      });\n    };\n\n    /**\n     * Handle dragger start events.\n     * @param {import(\"../pointer/PointerEvent.js\").default} event The drag event.\n     * @private\n     */\n    ZoomSlider.prototype.handleDraggerStart_ = function handleDraggerStart_ (event) {\n      if (!this.dragging_ && event.originalEvent.target === this.element.firstElementChild) {\n        this.getMap().getView().setHint(ViewHint.INTERACTING, 1);\n        this.previousX_ = event.clientX;\n        this.previousY_ = event.clientY;\n        this.dragging_ = true;\n\n        if (this.dragListenerKeys_.length === 0) {\n          var drag = this.handleDraggerDrag_;\n          var end = this.handleDraggerEnd_;\n          this.dragListenerKeys_.push(\n            listen(document, EventType.MOUSEMOVE, drag, this),\n            listen(document, PointerEventType.POINTERMOVE, drag, this),\n            listen(document, EventType.MOUSEUP, end, this),\n            listen(document, PointerEventType.POINTERUP, end, this)\n          );\n        }\n      }\n    };\n\n    /**\n     * Handle dragger drag events.\n     *\n     * @param {import(\"../pointer/PointerEvent.js\").default} event The drag event.\n     * @private\n     */\n    ZoomSlider.prototype.handleDraggerDrag_ = function handleDraggerDrag_ (event) {\n      if (this.dragging_) {\n        var element = /** @type {HTMLElement} */ (this.element.firstElementChild);\n        var deltaX = event.clientX - this.previousX_ + parseFloat(element.style.left);\n        var deltaY = event.clientY - this.previousY_ + parseFloat(element.style.top);\n        var relativePosition = this.getRelativePosition_(deltaX, deltaY);\n        this.currentResolution_ = this.getResolutionForPosition_(relativePosition);\n        this.getMap().getView().setResolution(this.currentResolution_);\n        this.setThumbPosition_(this.currentResolution_);\n        this.previousX_ = event.clientX;\n        this.previousY_ = event.clientY;\n      }\n    };\n\n    /**\n     * Handle dragger end events.\n     * @param {import(\"../pointer/PointerEvent.js\").default} event The drag event.\n     * @private\n     */\n    ZoomSlider.prototype.handleDraggerEnd_ = function handleDraggerEnd_ (event) {\n      if (this.dragging_) {\n        var view = this.getMap().getView();\n        view.setHint(ViewHint.INTERACTING, -1);\n\n        view.animate({\n          resolution: view.constrainResolution(this.currentResolution_),\n          duration: this.duration_,\n          easing: easeOut\n        });\n\n        this.dragging_ = false;\n        this.previousX_ = undefined;\n        this.previousY_ = undefined;\n        this.dragListenerKeys_.forEach(unlistenByKey);\n        this.dragListenerKeys_.length = 0;\n      }\n    };\n\n    /**\n     * Positions the thumb inside its container according to the given resolution.\n     *\n     * @param {number} res The res.\n     * @private\n     */\n    ZoomSlider.prototype.setThumbPosition_ = function setThumbPosition_ (res) {\n      var position = this.getPositionForResolution_(res);\n      var thumb = /** @type {HTMLElement} */ (this.element.firstElementChild);\n\n      if (this.direction_ == Direction.HORIZONTAL) {\n        thumb.style.left = this.widthLimit_ * position + 'px';\n      } else {\n        thumb.style.top = this.heightLimit_ * position + 'px';\n      }\n    };\n\n    /**\n     * Calculates the relative position of the thumb given x and y offsets.  The\n     * relative position scales from 0 to 1.  The x and y offsets are assumed to be\n     * in pixel units within the dragger limits.\n     *\n     * @param {number} x Pixel position relative to the left of the slider.\n     * @param {number} y Pixel position relative to the top of the slider.\n     * @return {number} The relative position of the thumb.\n     * @private\n     */\n    ZoomSlider.prototype.getRelativePosition_ = function getRelativePosition_ (x, y) {\n      var amount;\n      if (this.direction_ === Direction.HORIZONTAL) {\n        amount = x / this.widthLimit_;\n      } else {\n        amount = y / this.heightLimit_;\n      }\n      return clamp(amount, 0, 1);\n    };\n\n    /**\n     * Calculates the corresponding resolution of the thumb given its relative\n     * position (where 0 is the minimum and 1 is the maximum).\n     *\n     * @param {number} position The relative position of the thumb.\n     * @return {number} The corresponding resolution.\n     * @private\n     */\n    ZoomSlider.prototype.getResolutionForPosition_ = function getResolutionForPosition_ (position) {\n      var fn = this.getMap().getView().getResolutionForValueFunction();\n      return fn(1 - position);\n    };\n\n    /**\n     * Determines the relative position of the slider for the given resolution.  A\n     * relative position of 0 corresponds to the minimum view resolution.  A\n     * relative position of 1 corresponds to the maximum view resolution.\n     *\n     * @param {number} res The resolution.\n     * @return {number} The relative position value (between 0 and 1).\n     * @private\n     */\n    ZoomSlider.prototype.getPositionForResolution_ = function getPositionForResolution_ (res) {\n      var fn = this.getMap().getView().getValueForResolutionFunction();\n      return 1 - fn(res);\n    };\n\n    return ZoomSlider;\n  }(Control));\n\n\n  /**\n   * Update the zoomslider element.\n   * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n   * @this {ZoomSlider}\n   * @api\n   */\n  function render$5(mapEvent) {\n    if (!mapEvent.frameState) {\n      return;\n    }\n    if (!this.sliderInitialized_) {\n      this.initSlider_();\n    }\n    var res = mapEvent.frameState.viewState.resolution;\n    if (res !== this.currentResolution_) {\n      this.currentResolution_ = res;\n      this.setThumbPosition_(res);\n    }\n  }\n\n  /**\n   * @module ol/control/ZoomToExtent\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} [className='ol-zoom-extent'] Class name.\n   * @property {HTMLElement|string} [target] Specify a target if you want the control\n   * to be rendered outside of the map's viewport.\n   * @property {string|HTMLElement} [label='E'] Text label to use for the button.\n   * Instead of text, also an element (e.g. a `span` element) can be used.\n   * @property {string} [tipLabel='Fit to extent'] Text label to use for the button tip.\n   * @property {import(\"../extent.js\").Extent} [extent] The extent to zoom to. If undefined the validity\n   * extent of the view projection is used.\n   */\n\n\n  /**\n   * @classdesc\n   * A button control which, when pressed, changes the map view to a specific\n   * extent. To style this control use the css selector `.ol-zoom-extent`.\n   *\n   * @api\n   */\n  var ZoomToExtent = /*@__PURE__*/(function (Control$$1) {\n    function ZoomToExtent(opt_options) {\n      var options = opt_options ? opt_options : {};\n\n      Control$$1.call(this, {\n        element: document.createElement('div'),\n        target: options.target\n      });\n\n      /**\n       * @type {import(\"../extent.js\").Extent}\n       * @protected\n       */\n      this.extent = options.extent ? options.extent : null;\n\n      var className = options.className !== undefined ? options.className : 'ol-zoom-extent';\n\n      var label = options.label !== undefined ? options.label : 'E';\n      var tipLabel = options.tipLabel !== undefined ? options.tipLabel : 'Fit to extent';\n      var button = document.createElement('button');\n      button.setAttribute('type', 'button');\n      button.title = tipLabel;\n      button.appendChild(\n        typeof label === 'string' ? document.createTextNode(label) : label\n      );\n\n      listen(button, EventType.CLICK, this.handleClick_, this);\n\n      var cssClasses = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL;\n      var element = this.element;\n      element.className = cssClasses;\n      element.appendChild(button);\n    }\n\n    if ( Control$$1 ) ZoomToExtent.__proto__ = Control$$1;\n    ZoomToExtent.prototype = Object.create( Control$$1 && Control$$1.prototype );\n    ZoomToExtent.prototype.constructor = ZoomToExtent;\n\n    /**\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    ZoomToExtent.prototype.handleClick_ = function handleClick_ (event) {\n      event.preventDefault();\n      this.handleZoomToExtent();\n    };\n\n    /**\n     * @protected\n     */\n    ZoomToExtent.prototype.handleZoomToExtent = function handleZoomToExtent () {\n      var map = this.getMap();\n      var view = map.getView();\n      var extent = !this.extent ? view.getProjection().getExtent() : this.extent;\n      view.fit(extent);\n    };\n\n    return ZoomToExtent;\n  }(Control));\n\n  /**\n   * @module ol/control\n   */\n\n  /**\n   * @module ol/webgl/Shader\n   */\n\n  /**\n   * @abstract\n   */\n  var WebGLShader = function WebGLShader(source) {\n\n    /**\n     * @private\n     * @type {string}\n     */\n    this.source_ = source;\n\n  };\n\n  /**\n   * @return {boolean} Is animated?\n   */\n  WebGLShader.prototype.isAnimated = function isAnimated () {\n    return false;\n  };\n\n  /**\n   * @abstract\n   * @return {number} Type.\n   */\n  WebGLShader.prototype.getType = function getType () {\n    return abstract();\n  };\n\n  /**\n   * @return {string} Source.\n   */\n  WebGLShader.prototype.getSource = function getSource () {\n    return this.source_;\n  };\n\n  /**\n   * @module ol/webgl/Fragment\n   */\n\n  var WebGLFragment = /*@__PURE__*/(function (WebGLShader$$1) {\n    function WebGLFragment(source) {\n      WebGLShader$$1.call(this, source);\n    }\n\n    if ( WebGLShader$$1 ) WebGLFragment.__proto__ = WebGLShader$$1;\n    WebGLFragment.prototype = Object.create( WebGLShader$$1 && WebGLShader$$1.prototype );\n    WebGLFragment.prototype.constructor = WebGLFragment;\n\n    /**\n     * @inheritDoc\n     */\n    WebGLFragment.prototype.getType = function getType () {\n      return FRAGMENT_SHADER;\n    };\n\n    return WebGLFragment;\n  }(WebGLShader));\n\n  /**\n   * @module ol/webgl/Vertex\n   */\n\n  var WebGLVertex = /*@__PURE__*/(function (WebGLShader$$1) {\n    function WebGLVertex(source) {\n      WebGLShader$$1.call(this, source);\n    }\n\n    if ( WebGLShader$$1 ) WebGLVertex.__proto__ = WebGLShader$$1;\n    WebGLVertex.prototype = Object.create( WebGLShader$$1 && WebGLShader$$1.prototype );\n    WebGLVertex.prototype.constructor = WebGLVertex;\n\n    /**\n     * @inheritDoc\n     */\n    WebGLVertex.prototype.getType = function getType () {\n      return VERTEX_SHADER;\n    };\n\n    return WebGLVertex;\n  }(WebGLShader));\n\n  /**\n   * @module ol/render/webgl/circlereplay/defaultshader\n   */\n\n  var fragment = new WebGLFragment('precision mediump float;\\nvarying vec2 v_center;\\nvarying vec2 v_offset;\\nvarying float v_halfWidth;\\nvarying float v_pixelRatio;\\n\\n\\n\\nuniform float u_opacity;\\nuniform vec4 u_fillColor;\\nuniform vec4 u_strokeColor;\\nuniform vec2 u_size;\\n\\nvoid main(void) {\\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\\n  float radius = length(windowCenter - windowOffset);\\n  float dist = length(windowCenter - gl_FragCoord.xy);\\n  if (dist > radius + v_halfWidth) {\\n    if (u_strokeColor.a == 0.0) {\\n      gl_FragColor = u_fillColor;\\n    } else {\\n      gl_FragColor = u_strokeColor;\\n    }\\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\\n  } else if (u_fillColor.a == 0.0) {\\n    // Hooray, no fill, just stroke. We can use real antialiasing.\\n    gl_FragColor = u_strokeColor;\\n    if (dist < radius - v_halfWidth) {\\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\\n    }\\n  } else {\\n    gl_FragColor = u_fillColor;\\n    float strokeDist = radius - v_halfWidth;\\n    float antialias = 2.0 * v_pixelRatio;\\n    if (dist > strokeDist) {\\n      gl_FragColor = u_strokeColor;\\n    } else if (dist >= strokeDist - antialias) {\\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\\n    }\\n  }\\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\\n  if (gl_FragColor.a <= 0.0) {\\n    discard;\\n  }\\n}\\n');\n\n  var vertex = new WebGLVertex('varying vec2 v_center;\\nvarying vec2 v_offset;\\nvarying float v_halfWidth;\\nvarying float v_pixelRatio;\\n\\n\\nattribute vec2 a_position;\\nattribute float a_instruction;\\nattribute float a_radius;\\n\\nuniform mat4 u_projectionMatrix;\\nuniform mat4 u_offsetScaleMatrix;\\nuniform mat4 u_offsetRotateMatrix;\\nuniform float u_lineWidth;\\nuniform float u_pixelRatio;\\n\\nvoid main(void) {\\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\\n  v_pixelRatio = u_pixelRatio;\\n  float lineWidth = u_lineWidth * u_pixelRatio;\\n  v_halfWidth = lineWidth / 2.0;\\n  if (lineWidth == 0.0) {\\n    lineWidth = 2.0 * u_pixelRatio;\\n  }\\n  vec2 offset;\\n  // Radius with anitaliasing (roughly).\\n  float radius = a_radius + 3.0 * u_pixelRatio;\\n  // Until we get gl_VertexID in WebGL, we store an instruction.\\n  if (a_instruction == 0.0) {\\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\\n    offset = vec2(-1.0, 1.0);\\n  } else if (a_instruction == 1.0) {\\n    offset = vec2(-1.0, -1.0);\\n  } else if (a_instruction == 2.0) {\\n    offset = vec2(1.0, -1.0);\\n  } else {\\n    offset = vec2(1.0, 1.0);\\n  }\\n\\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\\n      0.0, 1.0)).xy;\\n\\n  if (distance(v_center, v_offset) > 20000.0) {\\n    gl_Position = vec4(v_center, 0.0, 1.0);\\n  }\\n}\\n\\n\\n');\n\n  /**\n   * @module ol/render/webgl/circlereplay/defaultshader/Locations\n   */\n\n  var Locations = function Locations(gl, program) {\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_projectionMatrix = gl.getUniformLocation(\n      program, 'u_projectionMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_offsetScaleMatrix = gl.getUniformLocation(\n      program, 'u_offsetScaleMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_offsetRotateMatrix = gl.getUniformLocation(\n      program, 'u_offsetRotateMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_lineWidth = gl.getUniformLocation(\n      program, 'u_lineWidth');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_pixelRatio = gl.getUniformLocation(\n      program, 'u_pixelRatio');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_opacity = gl.getUniformLocation(\n      program, 'u_opacity');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_fillColor = gl.getUniformLocation(\n      program, 'u_fillColor');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_strokeColor = gl.getUniformLocation(\n      program, 'u_strokeColor');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_size = gl.getUniformLocation(\n      program, 'u_size');\n\n    /**\n     * @type {number}\n     */\n    this.a_position = gl.getAttribLocation(\n      program, 'a_position');\n\n    /**\n     * @type {number}\n     */\n    this.a_instruction = gl.getAttribLocation(\n      program, 'a_instruction');\n\n    /**\n     * @type {number}\n     */\n    this.a_radius = gl.getAttribLocation(\n      program, 'a_radius');\n\n  };\n\n  /**\n   * @module ol/vec/mat4\n   */\n\n\n  /**\n   * @return {Array<number>} 4x4 matrix representing a 3D identity transform.\n   */\n  function create$1() {\n    return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n  }\n\n\n  /**\n   * @param {Array<number>} mat4 Flattened 4x4 matrix receiving the result.\n   * @param {import(\"../transform.js\").Transform} transform Transformation matrix.\n   * @return {Array<number>} 2D transformation matrix as flattened 4x4 matrix.\n   */\n  function fromTransform(mat4, transform) {\n    mat4[0] = transform[0];\n    mat4[1] = transform[1];\n    mat4[4] = transform[2];\n    mat4[5] = transform[3];\n    mat4[12] = transform[4];\n    mat4[13] = transform[5];\n    return mat4;\n  }\n\n  /**\n   * @module ol/render/webgl/Replay\n   */\n\n  var WebGLReplay = /*@__PURE__*/(function (VectorContext$$1) {\n    function WebGLReplay(tolerance, maxExtent) {\n      VectorContext$$1.call(this);\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.tolerance = tolerance;\n\n      /**\n       * @protected\n       * @const\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      this.maxExtent = maxExtent;\n\n      /**\n       * The origin of the coordinate system for the point coordinates sent to\n       * the GPU. To eliminate jitter caused by precision problems in the GPU\n       * we use the \"Rendering Relative to Eye\" technique described in the \"3D\n       * Engine Design for Virtual Globes\" book.\n       * @protected\n       * @type {import(\"../../coordinate.js\").Coordinate}\n       */\n      this.origin = getCenter(maxExtent);\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.projectionMatrix_ = create();\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.offsetRotateMatrix_ = create();\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.offsetScaleMatrix_ = create();\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.tmpMat4_ = create$1();\n\n      /**\n       * @protected\n       * @type {Array<number>}\n       */\n      this.indices = [];\n\n      /**\n       * @protected\n       * @type {?import(\"../../webgl/Buffer.js\").default}\n       */\n      this.indicesBuffer = null;\n\n      /**\n       * Start index per feature (the index).\n       * @protected\n       * @type {Array<number>}\n       */\n      this.startIndices = [];\n\n      /**\n       * Start index per feature (the feature).\n       * @protected\n       * @type {Array<import(\"../../Feature.js\").default|import(\"../Feature.js\").default>}\n       */\n      this.startIndicesFeature = [];\n\n      /**\n       * @protected\n       * @type {Array<number>}\n       */\n      this.vertices = [];\n\n      /**\n       * @protected\n       * @type {?import(\"../../webgl/Buffer.js\").default}\n       */\n      this.verticesBuffer = null;\n\n      /**\n       * Optional parameter for PolygonReplay instances.\n       * @protected\n       * @type {import(\"./LineStringReplay.js\").default|undefined}\n       */\n      this.lineStringReplay = undefined;\n\n    }\n\n    if ( VectorContext$$1 ) WebGLReplay.__proto__ = VectorContext$$1;\n    WebGLReplay.prototype = Object.create( VectorContext$$1 && VectorContext$$1.prototype );\n    WebGLReplay.prototype.constructor = WebGLReplay;\n\n    /**\n     * @abstract\n     * @param {import(\"../../webgl/Context.js\").default} context WebGL context.\n     * @return {function()} Delete resources function.\n     */\n    WebGLReplay.prototype.getDeleteResourcesFunction = function getDeleteResourcesFunction (context) {\n      return abstract();\n    };\n\n    /**\n     * @abstract\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     */\n    WebGLReplay.prototype.finish = function finish (context) {\n      abstract();\n    };\n\n    /**\n     * @abstract\n     * @protected\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {import(\"../../size.js\").Size} size Size.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {import(\"./circlereplay/defaultshader/Locations.js\").default|\n       import(\"./linestringreplay/defaultshader/Locations.js\").default|\n       import(\"./polygonreplay/defaultshader/Locations.js\").default|\n       import(\"./texturereplay/defaultshader/Locations.js\").default} Locations.\n     */\n    WebGLReplay.prototype.setUpProgram = function setUpProgram (gl, context, size, pixelRatio) {\n      return abstract();\n    };\n\n    /**\n     * @abstract\n     * @protected\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"./circlereplay/defaultshader/Locations.js\").default|\n       import(\"./linestringreplay/defaultshader/Locations.js\").default|\n       import(\"./polygonreplay/defaultshader/Locations.js\").default|\n       import(\"./texturereplay/defaultshader/Locations.js\").default} locations Locations.\n     */\n    WebGLReplay.prototype.shutDownProgram = function shutDownProgram (gl, locations) {\n      abstract();\n    };\n\n    /**\n     * @abstract\n     * @protected\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     * @param {boolean} hitDetection Hit detection mode.\n     */\n    WebGLReplay.prototype.drawReplay = function drawReplay (gl, context, skippedFeaturesHash, hitDetection) {\n      abstract();\n    };\n\n    /**\n     * @abstract\n     * @protected\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     * @param {function((import(\"../../Feature.js\").default|import(\"../Feature.js\").default)): T|undefined} featureCallback Feature callback.\n     * @param {import(\"../../extent.js\").Extent=} opt_hitExtent Hit extent: Only features intersecting this extent are checked.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    WebGLReplay.prototype.drawHitDetectionReplayOneByOne = function drawHitDetectionReplayOneByOne (gl, context, skippedFeaturesHash, featureCallback, opt_hitExtent) {\n      return abstract();\n    };\n\n    /**\n     * @protected\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     * @param {function((import(\"../../Feature.js\").default|import(\"../Feature.js\").default)): T|undefined} featureCallback Feature callback.\n     * @param {boolean} oneByOne Draw features one-by-one for the hit-detecion.\n     * @param {import(\"../../extent.js\").Extent=} opt_hitExtent Hit extent: Only features intersecting this extent are checked.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    WebGLReplay.prototype.drawHitDetectionReplay = function drawHitDetectionReplay (gl, context, skippedFeaturesHash, featureCallback, oneByOne, opt_hitExtent) {\n      if (!oneByOne) {\n        // draw all hit-detection features in \"once\" (by texture group)\n        return this.drawHitDetectionReplayAll(gl, context,\n          skippedFeaturesHash, featureCallback);\n      } else {\n        // draw hit-detection features one by one\n        return this.drawHitDetectionReplayOneByOne(gl, context,\n          skippedFeaturesHash, featureCallback, opt_hitExtent);\n      }\n    };\n\n    /**\n     * @protected\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     * @param {function((import(\"../../Feature.js\").default|import(\"../Feature.js\").default)): T|undefined} featureCallback Feature callback.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    WebGLReplay.prototype.drawHitDetectionReplayAll = function drawHitDetectionReplayAll (gl, context, skippedFeaturesHash, featureCallback) {\n      gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n      this.drawReplay(gl, context, skippedFeaturesHash, true);\n\n      var result = featureCallback(null);\n      if (result) {\n        return result;\n      } else {\n        return undefined;\n      }\n    };\n\n    /**\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {import(\"../../coordinate.js\").Coordinate} center Center.\n     * @param {number} resolution Resolution.\n     * @param {number} rotation Rotation.\n     * @param {import(\"../../size.js\").Size} size Size.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {number} opacity Global opacity.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     * @param {function((import(\"../../Feature.js\").default|import(\"../Feature.js\").default)): T|undefined} featureCallback Feature callback.\n     * @param {boolean} oneByOne Draw features one-by-one for the hit-detecion.\n     * @param {import(\"../../extent.js\").Extent=} opt_hitExtent Hit extent: Only features intersecting this extent are checked.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    WebGLReplay.prototype.replay = function replay (\n      context,\n      center,\n      resolution,\n      rotation,\n      size,\n      pixelRatio,\n      opacity,\n      skippedFeaturesHash,\n      featureCallback,\n      oneByOne,\n      opt_hitExtent\n    ) {\n      var gl = context.getGL();\n      var tmpStencil, tmpStencilFunc, tmpStencilMaskVal, tmpStencilRef, tmpStencilMask,\n          tmpStencilOpFail, tmpStencilOpPass, tmpStencilOpZFail;\n\n      if (this.lineStringReplay) {\n        tmpStencil = gl.isEnabled(gl.STENCIL_TEST);\n        tmpStencilFunc = gl.getParameter(gl.STENCIL_FUNC);\n        tmpStencilMaskVal = gl.getParameter(gl.STENCIL_VALUE_MASK);\n        tmpStencilRef = gl.getParameter(gl.STENCIL_REF);\n        tmpStencilMask = gl.getParameter(gl.STENCIL_WRITEMASK);\n        tmpStencilOpFail = gl.getParameter(gl.STENCIL_FAIL);\n        tmpStencilOpPass = gl.getParameter(gl.STENCIL_PASS_DEPTH_PASS);\n        tmpStencilOpZFail = gl.getParameter(gl.STENCIL_PASS_DEPTH_FAIL);\n\n        gl.enable(gl.STENCIL_TEST);\n        gl.clear(gl.STENCIL_BUFFER_BIT);\n        gl.stencilMask(255);\n        gl.stencilFunc(gl.ALWAYS, 1, 255);\n        gl.stencilOp(gl.KEEP, gl.KEEP, gl.REPLACE);\n\n        this.lineStringReplay.replay(context,\n          center, resolution, rotation, size, pixelRatio,\n          opacity, skippedFeaturesHash,\n          featureCallback, oneByOne, opt_hitExtent);\n\n        gl.stencilMask(0);\n        gl.stencilFunc(gl.NOTEQUAL, 1, 255);\n      }\n\n      context.bindBuffer(ARRAY_BUFFER, this.verticesBuffer);\n\n      context.bindBuffer(ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\n\n      var locations = this.setUpProgram(gl, context, size, pixelRatio);\n\n      // set the \"uniform\" values\n      var projectionMatrix = reset(this.projectionMatrix_);\n      scale$2(projectionMatrix, 2 / (resolution * size[0]), 2 / (resolution * size[1]));\n      rotate$2(projectionMatrix, -rotation);\n      translate$1(projectionMatrix, -(center[0] - this.origin[0]), -(center[1] - this.origin[1]));\n\n      var offsetScaleMatrix = reset(this.offsetScaleMatrix_);\n      scale$2(offsetScaleMatrix, 2 / size[0], 2 / size[1]);\n\n      var offsetRotateMatrix = reset(this.offsetRotateMatrix_);\n      if (rotation !== 0) {\n        rotate$2(offsetRotateMatrix, -rotation);\n      }\n\n      gl.uniformMatrix4fv(locations.u_projectionMatrix, false,\n        fromTransform(this.tmpMat4_, projectionMatrix));\n      gl.uniformMatrix4fv(locations.u_offsetScaleMatrix, false,\n        fromTransform(this.tmpMat4_, offsetScaleMatrix));\n      gl.uniformMatrix4fv(locations.u_offsetRotateMatrix, false,\n        fromTransform(this.tmpMat4_, offsetRotateMatrix));\n      gl.uniform1f(locations.u_opacity, opacity);\n\n      // draw!\n      var result;\n      if (featureCallback === undefined) {\n        this.drawReplay(gl, context, skippedFeaturesHash, false);\n      } else {\n        // draw feature by feature for the hit-detection\n        result = this.drawHitDetectionReplay(gl, context, skippedFeaturesHash,\n          featureCallback, oneByOne, opt_hitExtent);\n      }\n\n      // disable the vertex attrib arrays\n      this.shutDownProgram(gl, locations);\n\n      if (this.lineStringReplay) {\n        if (!tmpStencil) {\n          gl.disable(gl.STENCIL_TEST);\n        }\n        gl.clear(gl.STENCIL_BUFFER_BIT);\n        gl.stencilFunc(/** @type {number} */ (tmpStencilFunc),\n          /** @type {number} */ (tmpStencilRef), /** @type {number} */ (tmpStencilMaskVal));\n        gl.stencilMask(/** @type {number} */ (tmpStencilMask));\n        gl.stencilOp(/** @type {number} */ (tmpStencilOpFail),\n          /** @type {number} */ (tmpStencilOpZFail), /** @type {number} */ (tmpStencilOpPass));\n      }\n\n      return result;\n    };\n\n    /**\n     * @protected\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {number} start Start index.\n     * @param {number} end End index.\n     */\n    WebGLReplay.prototype.drawElements = function drawElements (gl, context, start, end) {\n      var elementType = context.hasOESElementIndexUint ?\n        UNSIGNED_INT : UNSIGNED_SHORT;\n      var elementSize = context.hasOESElementIndexUint ? 4 : 2;\n\n      var numItems = end - start;\n      var offsetInBytes = start * elementSize;\n      gl.drawElements(TRIANGLES, numItems, elementType, offsetInBytes);\n    };\n\n    return WebGLReplay;\n  }(VectorContext));\n\n  /**\n   * @module ol/render/webgl\n   */\n\n\n  /**\n   * @const\n   * @type {string}\n   */\n  var DEFAULT_FONT = '10px sans-serif';\n\n\n  /**\n   * @const\n   * @type {import(\"../color.js\").Color}\n   */\n  var DEFAULT_FILLSTYLE = [0.0, 0.0, 0.0, 1.0];\n\n\n  /**\n   * @const\n   * @type {string}\n   */\n  var DEFAULT_LINECAP = 'round';\n\n\n  /**\n   * @const\n   * @type {Array<number>}\n   */\n  var DEFAULT_LINEDASH = [];\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var DEFAULT_LINEDASHOFFSET = 0;\n\n\n  /**\n   * @const\n   * @type {string}\n   */\n  var DEFAULT_LINEJOIN = 'round';\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var DEFAULT_MITERLIMIT = 10;\n\n  /**\n   * @const\n   * @type {import(\"../color.js\").Color}\n   */\n  var DEFAULT_STROKESTYLE = [0.0, 0.0, 0.0, 1.0];\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var DEFAULT_TEXTALIGN = 0.5;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var DEFAULT_TEXTBASELINE = 0.5;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var DEFAULT_LINEWIDTH = 1;\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var EPSILON = Number.EPSILON || 2.220446049250313e-16;\n\n  /**\n   * Calculates the orientation of a triangle based on the determinant method.\n   * @param {number} x1 First X coordinate.\n   * @param {number} y1 First Y coordinate.\n   * @param {number} x2 Second X coordinate.\n   * @param {number} y2 Second Y coordinate.\n   * @param {number} x3 Third X coordinate.\n   * @param {number} y3 Third Y coordinate.\n   * @return {boolean|undefined} Triangle is clockwise.\n   */\n  var triangleIsCounterClockwise = function(x1, y1, x2, y2, x3, y3) {\n    var area = (x2 - x1) * (y3 - y1) - (x3 - x1) * (y2 - y1);\n    return (area <= EPSILON && area >= -EPSILON) ?\n      undefined : area > 0;\n  };\n\n  /**\n   * @module ol/webgl/Buffer\n   */\n\n  /**\n   * @enum {number}\n   */\n  var BufferUsage = {\n    STATIC_DRAW: STATIC_DRAW,\n    STREAM_DRAW: STREAM_DRAW,\n    DYNAMIC_DRAW: DYNAMIC_DRAW\n  };\n\n\n  var WebGLBuffer = function WebGLBuffer(opt_arr, opt_usage) {\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    this.arr_ = opt_arr !== undefined ? opt_arr : [];\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.usage_ = opt_usage !== undefined ? opt_usage : BufferUsage.STATIC_DRAW;\n\n  };\n\n  /**\n   * @return {Array<number>} Array.\n   */\n  WebGLBuffer.prototype.getArray = function getArray () {\n    return this.arr_;\n  };\n\n  /**\n   * @return {number} Usage.\n   */\n  WebGLBuffer.prototype.getUsage = function getUsage () {\n    return this.usage_;\n  };\n\n  /**\n   * @module ol/render/webgl/CircleReplay\n   */\n\n  var WebGLCircleReplay = /*@__PURE__*/(function (WebGLReplay$$1) {\n    function WebGLCircleReplay(tolerance, maxExtent) {\n      WebGLReplay$$1.call(this, tolerance, maxExtent);\n\n      /**\n       * @private\n       * @type {import(\"./circlereplay/defaultshader/Locations.js\").default}\n       */\n      this.defaultLocations_ = null;\n\n      /**\n       * @private\n       * @type {Array<Array<Array<number>|number>>}\n       */\n      this.styles_ = [];\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.styleIndices_ = [];\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.radius_ = 0;\n\n      /**\n       * @private\n       * @type {{fillColor: (Array<number>|null),\n       *         strokeColor: (Array<number>|null),\n       *         lineDash: Array<number>,\n       *         lineDashOffset: (number|undefined),\n       *         lineWidth: (number|undefined),\n       *         changed: boolean}|null}\n       */\n      this.state_ = {\n        fillColor: null,\n        strokeColor: null,\n        lineDash: null,\n        lineDashOffset: undefined,\n        lineWidth: undefined,\n        changed: false\n      };\n\n    }\n\n    if ( WebGLReplay$$1 ) WebGLCircleReplay.__proto__ = WebGLReplay$$1;\n    WebGLCircleReplay.prototype = Object.create( WebGLReplay$$1 && WebGLReplay$$1.prototype );\n    WebGLCircleReplay.prototype.constructor = WebGLCircleReplay;\n\n    /**\n     * @private\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     */\n    WebGLCircleReplay.prototype.drawCoordinates_ = function drawCoordinates_ (flatCoordinates, offset, end, stride) {\n      var numVertices = this.vertices.length;\n      var numIndices = this.indices.length;\n      var n = numVertices / 4;\n      var i, ii;\n      for (i = offset, ii = end; i < ii; i += stride) {\n        this.vertices[numVertices++] = flatCoordinates[i];\n        this.vertices[numVertices++] = flatCoordinates[i + 1];\n        this.vertices[numVertices++] = 0;\n        this.vertices[numVertices++] = this.radius_;\n\n        this.vertices[numVertices++] = flatCoordinates[i];\n        this.vertices[numVertices++] = flatCoordinates[i + 1];\n        this.vertices[numVertices++] = 1;\n        this.vertices[numVertices++] = this.radius_;\n\n        this.vertices[numVertices++] = flatCoordinates[i];\n        this.vertices[numVertices++] = flatCoordinates[i + 1];\n        this.vertices[numVertices++] = 2;\n        this.vertices[numVertices++] = this.radius_;\n\n        this.vertices[numVertices++] = flatCoordinates[i];\n        this.vertices[numVertices++] = flatCoordinates[i + 1];\n        this.vertices[numVertices++] = 3;\n        this.vertices[numVertices++] = this.radius_;\n\n        this.indices[numIndices++] = n;\n        this.indices[numIndices++] = n + 1;\n        this.indices[numIndices++] = n + 2;\n\n        this.indices[numIndices++] = n + 2;\n        this.indices[numIndices++] = n + 3;\n        this.indices[numIndices++] = n;\n\n        n += 4;\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLCircleReplay.prototype.drawCircle = function drawCircle (circleGeometry, feature) {\n      var radius = circleGeometry.getRadius();\n      var stride = circleGeometry.getStride();\n      if (radius) {\n        this.startIndices.push(this.indices.length);\n        this.startIndicesFeature.push(feature);\n        if (this.state_.changed) {\n          this.styleIndices_.push(this.indices.length);\n          this.state_.changed = false;\n        }\n\n        this.radius_ = radius;\n        var flatCoordinates = circleGeometry.getFlatCoordinates();\n        flatCoordinates = translate(flatCoordinates, 0, 2,\n          stride, -this.origin[0], -this.origin[1]);\n        this.drawCoordinates_(flatCoordinates, 0, 2, stride);\n      } else {\n        if (this.state_.changed) {\n          this.styles_.pop();\n          if (this.styles_.length) {\n            var lastState = this.styles_[this.styles_.length - 1];\n            this.state_.fillColor = /** @type {Array<number>} */ (lastState[0]);\n            this.state_.strokeColor = /** @type {Array<number>} */ (lastState[1]);\n            this.state_.lineWidth = /** @type {number} */ (lastState[2]);\n            this.state_.changed = false;\n          }\n        }\n      }\n    };\n\n    /**\n     * @inheritDoc\n     **/\n    WebGLCircleReplay.prototype.finish = function finish (context) {\n      // create, bind, and populate the vertices buffer\n      this.verticesBuffer = new WebGLBuffer(this.vertices);\n\n      // create, bind, and populate the indices buffer\n      this.indicesBuffer = new WebGLBuffer(this.indices);\n\n      this.startIndices.push(this.indices.length);\n\n      //Clean up, if there is nothing to draw\n      if (this.styleIndices_.length === 0 && this.styles_.length > 0) {\n        this.styles_ = [];\n      }\n\n      this.vertices = null;\n      this.indices = null;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLCircleReplay.prototype.getDeleteResourcesFunction = function getDeleteResourcesFunction (context) {\n      // We only delete our stuff here. The shaders and the program may\n      // be used by other CircleReplay instances (for other layers). And\n      // they will be deleted when disposing of the import(\"../../webgl/Context.js\").WebGLContext\n      // object.\n      var verticesBuffer = this.verticesBuffer;\n      var indicesBuffer = this.indicesBuffer;\n      return function() {\n        context.deleteBuffer(verticesBuffer);\n        context.deleteBuffer(indicesBuffer);\n      };\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLCircleReplay.prototype.setUpProgram = function setUpProgram (gl, context, size, pixelRatio) {\n      // get the program\n      var program = context.getProgram(fragment, vertex);\n\n      // get the locations\n      var locations;\n      if (!this.defaultLocations_) {\n        locations = new Locations(gl, program);\n        this.defaultLocations_ = locations;\n      } else {\n        locations = this.defaultLocations_;\n      }\n\n      context.useProgram(program);\n\n      // enable the vertex attrib arrays\n      gl.enableVertexAttribArray(locations.a_position);\n      gl.vertexAttribPointer(locations.a_position, 2, FLOAT,\n        false, 16, 0);\n\n      gl.enableVertexAttribArray(locations.a_instruction);\n      gl.vertexAttribPointer(locations.a_instruction, 1, FLOAT,\n        false, 16, 8);\n\n      gl.enableVertexAttribArray(locations.a_radius);\n      gl.vertexAttribPointer(locations.a_radius, 1, FLOAT,\n        false, 16, 12);\n\n      // Enable renderer specific uniforms.\n      gl.uniform2fv(locations.u_size, size);\n      gl.uniform1f(locations.u_pixelRatio, pixelRatio);\n\n      return locations;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLCircleReplay.prototype.shutDownProgram = function shutDownProgram (gl, locations) {\n      gl.disableVertexAttribArray(locations.a_position);\n      gl.disableVertexAttribArray(locations.a_instruction);\n      gl.disableVertexAttribArray(locations.a_radius);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLCircleReplay.prototype.drawReplay = function drawReplay (gl, context, skippedFeaturesHash, hitDetection) {\n      if (!isEmpty(skippedFeaturesHash)) {\n        this.drawReplaySkipping_(gl, context, skippedFeaturesHash);\n      } else {\n        //Draw by style groups to minimize drawElements() calls.\n        var i, start, end, nextStyle;\n        end = this.startIndices[this.startIndices.length - 1];\n        for (i = this.styleIndices_.length - 1; i >= 0; --i) {\n          start = this.styleIndices_[i];\n          nextStyle = this.styles_[i];\n          this.setFillStyle_(gl, /** @type {Array<number>} */ (nextStyle[0]));\n          this.setStrokeStyle_(gl, /** @type {Array<number>} */ (nextStyle[1]),\n            /** @type {number} */ (nextStyle[2]));\n          this.drawElements(gl, context, start, end);\n          end = start;\n        }\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLCircleReplay.prototype.drawHitDetectionReplayOneByOne = function drawHitDetectionReplayOneByOne (gl, context, skippedFeaturesHash, featureCallback, opt_hitExtent) {\n      var i, start, end, nextStyle, groupStart, feature, featureIndex;\n      featureIndex = this.startIndices.length - 2;\n      end = this.startIndices[featureIndex + 1];\n      for (i = this.styleIndices_.length - 1; i >= 0; --i) {\n        nextStyle = this.styles_[i];\n        this.setFillStyle_(gl, /** @type {Array<number>} */ (nextStyle[0]));\n        this.setStrokeStyle_(gl, /** @type {Array<number>} */ (nextStyle[1]),\n          /** @type {number} */ (nextStyle[2]));\n        groupStart = this.styleIndices_[i];\n\n        while (featureIndex >= 0 &&\n            this.startIndices[featureIndex] >= groupStart) {\n          start = this.startIndices[featureIndex];\n          feature = this.startIndicesFeature[featureIndex];\n\n          if (skippedFeaturesHash[getUid(feature)] === undefined &&\n              feature.getGeometry() &&\n              (opt_hitExtent === undefined || intersects(\n                /** @type {Array<number>} */ (opt_hitExtent),\n                feature.getGeometry().getExtent()))) {\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n            this.drawElements(gl, context, start, end);\n\n            var result = featureCallback(feature);\n\n            if (result) {\n              return result;\n            }\n\n          }\n          featureIndex--;\n          end = start;\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * @private\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {Object} skippedFeaturesHash Ids of features to skip.\n     */\n    WebGLCircleReplay.prototype.drawReplaySkipping_ = function drawReplaySkipping_ (gl, context, skippedFeaturesHash) {\n      var i, start, end, nextStyle, groupStart, feature, featureIndex, featureStart;\n      featureIndex = this.startIndices.length - 2;\n      end = start = this.startIndices[featureIndex + 1];\n      for (i = this.styleIndices_.length - 1; i >= 0; --i) {\n        nextStyle = this.styles_[i];\n        this.setFillStyle_(gl, /** @type {Array<number>} */ (nextStyle[0]));\n        this.setStrokeStyle_(gl, /** @type {Array<number>} */ (nextStyle[1]),\n          /** @type {number} */ (nextStyle[2]));\n        groupStart = this.styleIndices_[i];\n\n        while (featureIndex >= 0 &&\n            this.startIndices[featureIndex] >= groupStart) {\n          featureStart = this.startIndices[featureIndex];\n          feature = this.startIndicesFeature[featureIndex];\n\n          if (skippedFeaturesHash[getUid(feature)]) {\n            if (start !== end) {\n              this.drawElements(gl, context, start, end);\n            }\n            end = featureStart;\n          }\n          featureIndex--;\n          start = featureStart;\n        }\n        if (start !== end) {\n          this.drawElements(gl, context, start, end);\n        }\n        start = end = groupStart;\n      }\n    };\n\n    /**\n     * @private\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {Array<number>} color Color.\n     */\n    WebGLCircleReplay.prototype.setFillStyle_ = function setFillStyle_ (gl, color) {\n      gl.uniform4fv(this.defaultLocations_.u_fillColor, color);\n    };\n\n    /**\n     * @private\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {Array<number>} color Color.\n     * @param {number} lineWidth Line width.\n     */\n    WebGLCircleReplay.prototype.setStrokeStyle_ = function setStrokeStyle_ (gl, color, lineWidth) {\n      gl.uniform4fv(this.defaultLocations_.u_strokeColor, color);\n      gl.uniform1f(this.defaultLocations_.u_lineWidth, lineWidth);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLCircleReplay.prototype.setFillStrokeStyle = function setFillStrokeStyle (fillStyle, strokeStyle) {\n      var strokeStyleColor, strokeStyleWidth;\n      if (strokeStyle) {\n        var strokeStyleLineDash = strokeStyle.getLineDash();\n        this.state_.lineDash = strokeStyleLineDash ?\n          strokeStyleLineDash : DEFAULT_LINEDASH;\n        var strokeStyleLineDashOffset = strokeStyle.getLineDashOffset();\n        this.state_.lineDashOffset = strokeStyleLineDashOffset ?\n          strokeStyleLineDashOffset : DEFAULT_LINEDASHOFFSET;\n        strokeStyleColor = strokeStyle.getColor();\n        if (!(strokeStyleColor instanceof CanvasGradient) &&\n            !(strokeStyleColor instanceof CanvasPattern)) {\n          strokeStyleColor = asArray(strokeStyleColor).map(function(c, i) {\n            return i != 3 ? c / 255 : c;\n          }) || DEFAULT_STROKESTYLE;\n        } else {\n          strokeStyleColor = DEFAULT_STROKESTYLE;\n        }\n        strokeStyleWidth = strokeStyle.getWidth();\n        strokeStyleWidth = strokeStyleWidth !== undefined ?\n          strokeStyleWidth : DEFAULT_LINEWIDTH;\n      } else {\n        strokeStyleColor = [0, 0, 0, 0];\n        strokeStyleWidth = 0;\n      }\n      var fillStyleColor = fillStyle ? fillStyle.getColor() : [0, 0, 0, 0];\n      if (!(fillStyleColor instanceof CanvasGradient) &&\n          !(fillStyleColor instanceof CanvasPattern)) {\n        fillStyleColor = asArray(fillStyleColor).map(function(c, i) {\n          return i != 3 ? c / 255 : c;\n        }) || DEFAULT_FILLSTYLE;\n      } else {\n        fillStyleColor = DEFAULT_FILLSTYLE;\n      }\n      if (!this.state_.strokeColor || !equals(this.state_.strokeColor, strokeStyleColor) ||\n          !this.state_.fillColor || !equals(this.state_.fillColor, fillStyleColor) ||\n          this.state_.lineWidth !== strokeStyleWidth) {\n        this.state_.changed = true;\n        this.state_.fillColor = fillStyleColor;\n        this.state_.strokeColor = strokeStyleColor;\n        this.state_.lineWidth = strokeStyleWidth;\n        this.styles_.push([fillStyleColor, strokeStyleColor, strokeStyleWidth]);\n      }\n    };\n\n    return WebGLCircleReplay;\n  }(WebGLReplay));\n\n  /**\n   * @module ol/render/webgl/texturereplay/defaultshader\n   */\n\n  var fragment$1 = new WebGLFragment('precision mediump float;\\nvarying vec2 v_texCoord;\\nvarying float v_opacity;\\n\\nuniform float u_opacity;\\nuniform sampler2D u_image;\\n\\nvoid main(void) {\\n  vec4 texColor = texture2D(u_image, v_texCoord);\\n  gl_FragColor.rgb = texColor.rgb;\\n  float alpha = texColor.a * v_opacity * u_opacity;\\n  if (alpha == 0.0) {\\n    discard;\\n  }\\n  gl_FragColor.a = alpha;\\n}\\n');\n\n  var vertex$1 = new WebGLVertex('varying vec2 v_texCoord;\\nvarying float v_opacity;\\n\\nattribute vec2 a_position;\\nattribute vec2 a_texCoord;\\nattribute vec2 a_offsets;\\nattribute float a_opacity;\\nattribute float a_rotateWithView;\\n\\nuniform mat4 u_projectionMatrix;\\nuniform mat4 u_offsetScaleMatrix;\\nuniform mat4 u_offsetRotateMatrix;\\n\\nvoid main(void) {\\n  mat4 offsetMatrix = u_offsetScaleMatrix;\\n  if (a_rotateWithView == 1.0) {\\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\\n  }\\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\\n  v_texCoord = a_texCoord;\\n  v_opacity = a_opacity;\\n}\\n\\n\\n');\n\n  /**\n   * @module ol/render/webgl/texturereplay/defaultshader/Locations\n   */\n\n  var Locations$1 = function Locations(gl, program) {\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_projectionMatrix = gl.getUniformLocation(\n      program, 'u_projectionMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_offsetScaleMatrix = gl.getUniformLocation(\n      program, 'u_offsetScaleMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_offsetRotateMatrix = gl.getUniformLocation(\n      program, 'u_offsetRotateMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_opacity = gl.getUniformLocation(\n      program, 'u_opacity');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_image = gl.getUniformLocation(\n      program, 'u_image');\n\n    /**\n     * @type {number}\n     */\n    this.a_position = gl.getAttribLocation(\n      program, 'a_position');\n\n    /**\n     * @type {number}\n     */\n    this.a_texCoord = gl.getAttribLocation(\n      program, 'a_texCoord');\n\n    /**\n     * @type {number}\n     */\n    this.a_offsets = gl.getAttribLocation(\n      program, 'a_offsets');\n\n    /**\n     * @type {number}\n     */\n    this.a_opacity = gl.getAttribLocation(\n      program, 'a_opacity');\n\n    /**\n     * @type {number}\n     */\n    this.a_rotateWithView = gl.getAttribLocation(\n      program, 'a_rotateWithView');\n\n  };\n\n  /**\n   * @module ol/webgl/ContextEventType\n   */\n\n  /**\n   * @enum {string}\n   */\n  var ContextEventType = {\n    LOST: 'webglcontextlost',\n    RESTORED: 'webglcontextrestored'\n  };\n\n  /**\n   * @module ol/webgl/Context\n   */\n\n\n  /**\n   * @typedef {Object} BufferCacheEntry\n   * @property {import(\"./Buffer.js\").default} buf\n   * @property {WebGLBuffer} buffer\n   */\n\n\n  /**\n   * @classdesc\n   * A WebGL context for accessing low-level WebGL capabilities.\n   */\n  var WebGLContext = /*@__PURE__*/(function (Disposable$$1) {\n    function WebGLContext(canvas, gl) {\n      Disposable$$1.call(this);\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement}\n       */\n      this.canvas_ = canvas;\n\n      /**\n       * @private\n       * @type {WebGLRenderingContext}\n       */\n      this.gl_ = gl;\n\n      /**\n       * @private\n       * @type {!Object<string, BufferCacheEntry>}\n       */\n      this.bufferCache_ = {};\n\n      /**\n       * @private\n       * @type {!Object<string, WebGLShader>}\n       */\n      this.shaderCache_ = {};\n\n      /**\n       * @private\n       * @type {!Object<string, WebGLProgram>}\n       */\n      this.programCache_ = {};\n\n      /**\n       * @private\n       * @type {WebGLProgram}\n       */\n      this.currentProgram_ = null;\n\n      /**\n       * @private\n       * @type {WebGLFramebuffer}\n       */\n      this.hitDetectionFramebuffer_ = null;\n\n      /**\n       * @private\n       * @type {WebGLTexture}\n       */\n      this.hitDetectionTexture_ = null;\n\n      /**\n       * @private\n       * @type {WebGLRenderbuffer}\n       */\n      this.hitDetectionRenderbuffer_ = null;\n\n      /**\n       * @type {boolean}\n       */\n      this.hasOESElementIndexUint = includes(EXTENSIONS, 'OES_element_index_uint');\n\n      // use the OES_element_index_uint extension if available\n      if (this.hasOESElementIndexUint) {\n        gl.getExtension('OES_element_index_uint');\n      }\n\n      listen(this.canvas_, ContextEventType.LOST,\n        this.handleWebGLContextLost, this);\n      listen(this.canvas_, ContextEventType.RESTORED,\n        this.handleWebGLContextRestored, this);\n\n    }\n\n    if ( Disposable$$1 ) WebGLContext.__proto__ = Disposable$$1;\n    WebGLContext.prototype = Object.create( Disposable$$1 && Disposable$$1.prototype );\n    WebGLContext.prototype.constructor = WebGLContext;\n\n    /**\n     * Just bind the buffer if it's in the cache. Otherwise create\n     * the WebGL buffer, bind it, populate it, and add an entry to\n     * the cache.\n     * @param {number} target Target.\n     * @param {import(\"./Buffer.js\").default} buf Buffer.\n     */\n    WebGLContext.prototype.bindBuffer = function bindBuffer (target, buf) {\n      var gl = this.getGL();\n      var arr = buf.getArray();\n      var bufferKey = getUid(buf);\n      if (bufferKey in this.bufferCache_) {\n        var bufferCacheEntry = this.bufferCache_[bufferKey];\n        gl.bindBuffer(target, bufferCacheEntry.buffer);\n      } else {\n        var buffer = gl.createBuffer();\n        gl.bindBuffer(target, buffer);\n        var /** @type {ArrayBufferView} */ arrayBuffer;\n        if (target == ARRAY_BUFFER) {\n          arrayBuffer = new Float32Array(arr);\n        } else if (target == ELEMENT_ARRAY_BUFFER) {\n          arrayBuffer = this.hasOESElementIndexUint ?\n            new Uint32Array(arr) : new Uint16Array(arr);\n        }\n        gl.bufferData(target, arrayBuffer, buf.getUsage());\n        this.bufferCache_[bufferKey] = {\n          buf: buf,\n          buffer: buffer\n        };\n      }\n    };\n\n    /**\n     * @param {import(\"./Buffer.js\").default} buf Buffer.\n     */\n    WebGLContext.prototype.deleteBuffer = function deleteBuffer (buf) {\n      var gl = this.getGL();\n      var bufferKey = getUid(buf);\n      var bufferCacheEntry = this.bufferCache_[bufferKey];\n      if (!gl.isContextLost()) {\n        gl.deleteBuffer(bufferCacheEntry.buffer);\n      }\n      delete this.bufferCache_[bufferKey];\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLContext.prototype.disposeInternal = function disposeInternal () {\n      unlistenAll(this.canvas_);\n      var gl = this.getGL();\n      if (!gl.isContextLost()) {\n        for (var key in this.bufferCache_) {\n          gl.deleteBuffer(this.bufferCache_[key].buffer);\n        }\n        for (var key$1 in this.programCache_) {\n          gl.deleteProgram(this.programCache_[key$1]);\n        }\n        for (var key$2 in this.shaderCache_) {\n          gl.deleteShader(this.shaderCache_[key$2]);\n        }\n        // delete objects for hit-detection\n        gl.deleteFramebuffer(this.hitDetectionFramebuffer_);\n        gl.deleteRenderbuffer(this.hitDetectionRenderbuffer_);\n        gl.deleteTexture(this.hitDetectionTexture_);\n      }\n    };\n\n    /**\n     * @return {HTMLCanvasElement} Canvas.\n     */\n    WebGLContext.prototype.getCanvas = function getCanvas () {\n      return this.canvas_;\n    };\n\n    /**\n     * Get the WebGL rendering context\n     * @return {WebGLRenderingContext} The rendering context.\n     * @api\n     */\n    WebGLContext.prototype.getGL = function getGL () {\n      return this.gl_;\n    };\n\n    /**\n     * Get the frame buffer for hit detection.\n     * @return {WebGLFramebuffer} The hit detection frame buffer.\n     */\n    WebGLContext.prototype.getHitDetectionFramebuffer = function getHitDetectionFramebuffer () {\n      if (!this.hitDetectionFramebuffer_) {\n        this.initHitDetectionFramebuffer_();\n      }\n      return this.hitDetectionFramebuffer_;\n    };\n\n    /**\n     * Get shader from the cache if it's in the cache. Otherwise, create\n     * the WebGL shader, compile it, and add entry to cache.\n     * @param {import(\"./Shader.js\").default} shaderObject Shader object.\n     * @return {WebGLShader} Shader.\n     */\n    WebGLContext.prototype.getShader = function getShader (shaderObject) {\n      var shaderKey = getUid(shaderObject);\n      if (shaderKey in this.shaderCache_) {\n        return this.shaderCache_[shaderKey];\n      } else {\n        var gl = this.getGL();\n        var shader = gl.createShader(shaderObject.getType());\n        gl.shaderSource(shader, shaderObject.getSource());\n        gl.compileShader(shader);\n        this.shaderCache_[shaderKey] = shader;\n        return shader;\n      }\n    };\n\n    /**\n     * Get the program from the cache if it's in the cache. Otherwise create\n     * the WebGL program, attach the shaders to it, and add an entry to the\n     * cache.\n     * @param {import(\"./Fragment.js\").default} fragmentShaderObject Fragment shader.\n     * @param {import(\"./Vertex.js\").default} vertexShaderObject Vertex shader.\n     * @return {WebGLProgram} Program.\n     */\n    WebGLContext.prototype.getProgram = function getProgram (fragmentShaderObject, vertexShaderObject) {\n      var programKey = getUid(fragmentShaderObject) + '/' + getUid(vertexShaderObject);\n      if (programKey in this.programCache_) {\n        return this.programCache_[programKey];\n      } else {\n        var gl = this.getGL();\n        var program = gl.createProgram();\n        gl.attachShader(program, this.getShader(fragmentShaderObject));\n        gl.attachShader(program, this.getShader(vertexShaderObject));\n        gl.linkProgram(program);\n        this.programCache_[programKey] = program;\n        return program;\n      }\n    };\n\n    /**\n     * FIXME empty description for jsdoc\n     */\n    WebGLContext.prototype.handleWebGLContextLost = function handleWebGLContextLost () {\n      clear(this.bufferCache_);\n      clear(this.shaderCache_);\n      clear(this.programCache_);\n      this.currentProgram_ = null;\n      this.hitDetectionFramebuffer_ = null;\n      this.hitDetectionTexture_ = null;\n      this.hitDetectionRenderbuffer_ = null;\n    };\n\n    /**\n     * FIXME empty description for jsdoc\n     */\n    WebGLContext.prototype.handleWebGLContextRestored = function handleWebGLContextRestored () {\n    };\n\n    /**\n     * Creates a 1x1 pixel framebuffer for the hit-detection.\n     * @private\n     */\n    WebGLContext.prototype.initHitDetectionFramebuffer_ = function initHitDetectionFramebuffer_ () {\n      var gl = this.gl_;\n      var framebuffer = gl.createFramebuffer();\n      gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n\n      var texture = createEmptyTexture(gl, 1, 1);\n      var renderbuffer = gl.createRenderbuffer();\n      gl.bindRenderbuffer(gl.RENDERBUFFER, renderbuffer);\n      gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, 1, 1);\n      gl.framebufferTexture2D(\n        gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n      gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT,\n        gl.RENDERBUFFER, renderbuffer);\n\n      gl.bindTexture(gl.TEXTURE_2D, null);\n      gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n      gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n      this.hitDetectionFramebuffer_ = framebuffer;\n      this.hitDetectionTexture_ = texture;\n      this.hitDetectionRenderbuffer_ = renderbuffer;\n    };\n\n    /**\n     * Use a program.  If the program is already in use, this will return `false`.\n     * @param {WebGLProgram} program Program.\n     * @return {boolean} Changed.\n     * @api\n     */\n    WebGLContext.prototype.useProgram = function useProgram (program) {\n      if (program == this.currentProgram_) {\n        return false;\n      } else {\n        var gl = this.getGL();\n        gl.useProgram(program);\n        this.currentProgram_ = program;\n        return true;\n      }\n    };\n\n    return WebGLContext;\n  }(Disposable));\n\n\n  /**\n   * @param {WebGLRenderingContext} gl WebGL rendering context.\n   * @param {number=} opt_wrapS wrapS.\n   * @param {number=} opt_wrapT wrapT.\n   * @return {WebGLTexture} The texture.\n   */\n  function createTextureInternal(gl, opt_wrapS, opt_wrapT) {\n    var texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n\n    if (opt_wrapS !== undefined) {\n      gl.texParameteri(\n        TEXTURE_2D, TEXTURE_WRAP_S, opt_wrapS);\n    }\n    if (opt_wrapT !== undefined) {\n      gl.texParameteri(\n        TEXTURE_2D, TEXTURE_WRAP_T, opt_wrapT);\n    }\n\n    return texture;\n  }\n\n\n  /**\n   * @param {WebGLRenderingContext} gl WebGL rendering context.\n   * @param {number} width Width.\n   * @param {number} height Height.\n   * @param {number=} opt_wrapS wrapS.\n   * @param {number=} opt_wrapT wrapT.\n   * @return {WebGLTexture} The texture.\n   */\n  function createEmptyTexture(gl, width, height, opt_wrapS, opt_wrapT) {\n    var texture = createTextureInternal(gl, opt_wrapS, opt_wrapT);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n    return texture;\n  }\n\n\n  /**\n   * @param {WebGLRenderingContext} gl WebGL rendering context.\n   * @param {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} image Image.\n   * @param {number=} opt_wrapS wrapS.\n   * @param {number=} opt_wrapT wrapT.\n   * @return {WebGLTexture} The texture.\n   */\n  function createTexture(gl, image, opt_wrapS, opt_wrapT) {\n    var texture = createTextureInternal(gl, opt_wrapS, opt_wrapT);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n    return texture;\n  }\n\n  /**\n   * @module ol/render/webgl/TextureReplay\n   */\n\n  var WebGLTextureReplay = /*@__PURE__*/(function (WebGLReplay$$1) {\n    function WebGLTextureReplay(tolerance, maxExtent) {\n      WebGLReplay$$1.call(this, tolerance, maxExtent);\n\n      /**\n       * @type {number|undefined}\n       * @protected\n       */\n      this.anchorX = undefined;\n\n      /**\n       * @type {number|undefined}\n       * @protected\n       */\n      this.anchorY = undefined;\n\n      /**\n       * @type {Array<number>}\n       * @protected\n       */\n      this.groupIndices = [];\n\n      /**\n       * @type {Array<number>}\n       * @protected\n       */\n      this.hitDetectionGroupIndices = [];\n\n      /**\n       * @type {number|undefined}\n       * @protected\n       */\n      this.height = undefined;\n\n      /**\n       * @type {number|undefined}\n       * @protected\n       */\n      this.imageHeight = undefined;\n\n      /**\n       * @type {number|undefined}\n       * @protected\n       */\n      this.imageWidth = undefined;\n\n      /**\n       * @protected\n       * @type {import(\"./texturereplay/defaultshader/Locations.js\").default}\n       */\n      this.defaultLocations = null;\n\n      /**\n       * @protected\n       * @type {number|undefined}\n       */\n      this.opacity = undefined;\n\n      /**\n       * @type {number|undefined}\n       * @protected\n       */\n      this.originX = undefined;\n\n      /**\n       * @type {number|undefined}\n       * @protected\n       */\n      this.originY = undefined;\n\n      /**\n       * @protected\n       * @type {boolean|undefined}\n       */\n      this.rotateWithView = undefined;\n\n      /**\n       * @protected\n       * @type {number|undefined}\n       */\n      this.rotation = undefined;\n\n      /**\n       * @protected\n       * @type {number|undefined}\n       */\n      this.scale = undefined;\n\n      /**\n       * @type {number|undefined}\n       * @protected\n       */\n      this.width = undefined;\n    }\n\n    if ( WebGLReplay$$1 ) WebGLTextureReplay.__proto__ = WebGLReplay$$1;\n    WebGLTextureReplay.prototype = Object.create( WebGLReplay$$1 && WebGLReplay$$1.prototype );\n    WebGLTextureReplay.prototype.constructor = WebGLTextureReplay;\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextureReplay.prototype.getDeleteResourcesFunction = function getDeleteResourcesFunction (context) {\n      var verticesBuffer = this.verticesBuffer;\n      var indicesBuffer = this.indicesBuffer;\n      var textures = this.getTextures(true);\n      var gl = context.getGL();\n      return function() {\n        if (!gl.isContextLost()) {\n          var i, ii;\n          for (i = 0, ii = textures.length; i < ii; ++i) {\n            gl.deleteTexture(textures[i]);\n          }\n        }\n        context.deleteBuffer(verticesBuffer);\n        context.deleteBuffer(indicesBuffer);\n      };\n    };\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @return {number} My end.\n     * @protected\n     */\n    WebGLTextureReplay.prototype.drawCoordinates = function drawCoordinates (flatCoordinates, offset, end, stride) {\n      var anchorX = /** @type {number} */ (this.anchorX);\n      var anchorY = /** @type {number} */ (this.anchorY);\n      var height = /** @type {number} */ (this.height);\n      var imageHeight = /** @type {number} */ (this.imageHeight);\n      var imageWidth = /** @type {number} */ (this.imageWidth);\n      var opacity = /** @type {number} */ (this.opacity);\n      var originX = /** @type {number} */ (this.originX);\n      var originY = /** @type {number} */ (this.originY);\n      var rotateWithView = this.rotateWithView ? 1.0 : 0.0;\n      // this.rotation_ is anti-clockwise, but rotation is clockwise\n      var rotation = /** @type {number} */ (-this.rotation);\n      var scale = /** @type {number} */ (this.scale);\n      var width = /** @type {number} */ (this.width);\n      var cos = Math.cos(rotation);\n      var sin = Math.sin(rotation);\n      var numIndices = this.indices.length;\n      var numVertices = this.vertices.length;\n      var i, n, offsetX, offsetY, x, y;\n      for (i = offset; i < end; i += stride) {\n        x = flatCoordinates[i] - this.origin[0];\n        y = flatCoordinates[i + 1] - this.origin[1];\n\n        // There are 4 vertices per [x, y] point, one for each corner of the\n        // rectangle we're going to draw. We'd use 1 vertex per [x, y] point if\n        // WebGL supported Geometry Shaders (which can emit new vertices), but that\n        // is not currently the case.\n        //\n        // And each vertex includes 8 values: the x and y coordinates, the x and\n        // y offsets used to calculate the position of the corner, the u and\n        // v texture coordinates for the corner, the opacity, and whether the\n        // the image should be rotated with the view (rotateWithView).\n\n        n = numVertices / 8;\n\n        // bottom-left corner\n        offsetX = -scale * anchorX;\n        offsetY = -scale * (height - anchorY);\n        this.vertices[numVertices++] = x;\n        this.vertices[numVertices++] = y;\n        this.vertices[numVertices++] = offsetX * cos - offsetY * sin;\n        this.vertices[numVertices++] = offsetX * sin + offsetY * cos;\n        this.vertices[numVertices++] = originX / imageWidth;\n        this.vertices[numVertices++] = (originY + height) / imageHeight;\n        this.vertices[numVertices++] = opacity;\n        this.vertices[numVertices++] = rotateWithView;\n\n        // bottom-right corner\n        offsetX = scale * (width - anchorX);\n        offsetY = -scale * (height - anchorY);\n        this.vertices[numVertices++] = x;\n        this.vertices[numVertices++] = y;\n        this.vertices[numVertices++] = offsetX * cos - offsetY * sin;\n        this.vertices[numVertices++] = offsetX * sin + offsetY * cos;\n        this.vertices[numVertices++] = (originX + width) / imageWidth;\n        this.vertices[numVertices++] = (originY + height) / imageHeight;\n        this.vertices[numVertices++] = opacity;\n        this.vertices[numVertices++] = rotateWithView;\n\n        // top-right corner\n        offsetX = scale * (width - anchorX);\n        offsetY = scale * anchorY;\n        this.vertices[numVertices++] = x;\n        this.vertices[numVertices++] = y;\n        this.vertices[numVertices++] = offsetX * cos - offsetY * sin;\n        this.vertices[numVertices++] = offsetX * sin + offsetY * cos;\n        this.vertices[numVertices++] = (originX + width) / imageWidth;\n        this.vertices[numVertices++] = originY / imageHeight;\n        this.vertices[numVertices++] = opacity;\n        this.vertices[numVertices++] = rotateWithView;\n\n        // top-left corner\n        offsetX = -scale * anchorX;\n        offsetY = scale * anchorY;\n        this.vertices[numVertices++] = x;\n        this.vertices[numVertices++] = y;\n        this.vertices[numVertices++] = offsetX * cos - offsetY * sin;\n        this.vertices[numVertices++] = offsetX * sin + offsetY * cos;\n        this.vertices[numVertices++] = originX / imageWidth;\n        this.vertices[numVertices++] = originY / imageHeight;\n        this.vertices[numVertices++] = opacity;\n        this.vertices[numVertices++] = rotateWithView;\n\n        this.indices[numIndices++] = n;\n        this.indices[numIndices++] = n + 1;\n        this.indices[numIndices++] = n + 2;\n        this.indices[numIndices++] = n;\n        this.indices[numIndices++] = n + 2;\n        this.indices[numIndices++] = n + 3;\n      }\n\n      return numVertices;\n    };\n\n    /**\n     * @protected\n     * @param {Array<WebGLTexture>} textures Textures.\n     * @param {Array<HTMLCanvasElement|HTMLImageElement|HTMLVideoElement>} images Images.\n     * @param {!Object<string, WebGLTexture>} texturePerImage Texture cache.\n     * @param {WebGLRenderingContext} gl Gl.\n     */\n    WebGLTextureReplay.prototype.createTextures = function createTextures (textures, images, texturePerImage, gl) {\n      var texture, image, uid, i;\n      var ii = images.length;\n      for (i = 0; i < ii; ++i) {\n        image = images[i];\n\n        uid = getUid(image);\n        if (uid in texturePerImage) {\n          texture = texturePerImage[uid];\n        } else {\n          texture = createTexture(\n            gl, image, CLAMP_TO_EDGE, CLAMP_TO_EDGE);\n          texturePerImage[uid] = texture;\n        }\n        textures[i] = texture;\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextureReplay.prototype.setUpProgram = function setUpProgram (gl, context, size, pixelRatio) {\n      // get the program\n      var program = context.getProgram(fragment$1, vertex$1);\n\n      // get the locations\n      var locations;\n      if (!this.defaultLocations) {\n        locations = new Locations$1(gl, program);\n        this.defaultLocations = locations;\n      } else {\n        locations = this.defaultLocations;\n      }\n\n      // use the program (FIXME: use the return value)\n      context.useProgram(program);\n\n      // enable the vertex attrib arrays\n      gl.enableVertexAttribArray(locations.a_position);\n      gl.vertexAttribPointer(locations.a_position, 2, FLOAT,\n        false, 32, 0);\n\n      gl.enableVertexAttribArray(locations.a_offsets);\n      gl.vertexAttribPointer(locations.a_offsets, 2, FLOAT,\n        false, 32, 8);\n\n      gl.enableVertexAttribArray(locations.a_texCoord);\n      gl.vertexAttribPointer(locations.a_texCoord, 2, FLOAT,\n        false, 32, 16);\n\n      gl.enableVertexAttribArray(locations.a_opacity);\n      gl.vertexAttribPointer(locations.a_opacity, 1, FLOAT,\n        false, 32, 24);\n\n      gl.enableVertexAttribArray(locations.a_rotateWithView);\n      gl.vertexAttribPointer(locations.a_rotateWithView, 1, FLOAT,\n        false, 32, 28);\n\n      return locations;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextureReplay.prototype.shutDownProgram = function shutDownProgram (gl, locations) {\n      gl.disableVertexAttribArray(locations.a_position);\n      gl.disableVertexAttribArray(locations.a_offsets);\n      gl.disableVertexAttribArray(locations.a_texCoord);\n      gl.disableVertexAttribArray(locations.a_opacity);\n      gl.disableVertexAttribArray(locations.a_rotateWithView);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextureReplay.prototype.drawReplay = function drawReplay (gl, context, skippedFeaturesHash, hitDetection) {\n      var textures = hitDetection ? this.getHitDetectionTextures() : this.getTextures();\n      var groupIndices = hitDetection ? this.hitDetectionGroupIndices : this.groupIndices;\n\n      if (!isEmpty(skippedFeaturesHash)) {\n        this.drawReplaySkipping(gl, context, skippedFeaturesHash, textures, groupIndices);\n      } else {\n        var i, ii, start;\n        for (i = 0, ii = textures.length, start = 0; i < ii; ++i) {\n          gl.bindTexture(TEXTURE_2D, textures[i]);\n          var end = groupIndices[i];\n          this.drawElements(gl, context, start, end);\n          start = end;\n        }\n      }\n    };\n\n    /**\n     * Draw the replay while paying attention to skipped features.\n     *\n     * This functions creates groups of features that can be drawn to together,\n     * so that the number of `drawElements` calls is minimized.\n     *\n     * For example given the following texture groups:\n     *\n     *    Group 1: A B C\n     *    Group 2: D [E] F G\n     *\n     * If feature E should be skipped, the following `drawElements` calls will be\n     * made:\n     *\n     *    drawElements with feature A, B and C\n     *    drawElements with feature D\n     *    drawElements with feature F and G\n     *\n     * @protected\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features\n     *  to skip.\n     * @param {Array<WebGLTexture>} textures Textures.\n     * @param {Array<number>} groupIndices Texture group indices.\n     */\n    WebGLTextureReplay.prototype.drawReplaySkipping = function drawReplaySkipping (gl, context, skippedFeaturesHash, textures, groupIndices) {\n      var featureIndex = 0;\n\n      var i, ii;\n      for (i = 0, ii = textures.length; i < ii; ++i) {\n        gl.bindTexture(TEXTURE_2D, textures[i]);\n        var groupStart = (i > 0) ? groupIndices[i - 1] : 0;\n        var groupEnd = groupIndices[i];\n\n        var start = groupStart;\n        var end = groupStart;\n        while (featureIndex < this.startIndices.length &&\n            this.startIndices[featureIndex] <= groupEnd) {\n          var feature = this.startIndicesFeature[featureIndex];\n\n          if (skippedFeaturesHash[getUid(feature)] !== undefined) {\n            // feature should be skipped\n            if (start !== end) {\n              // draw the features so far\n              this.drawElements(gl, context, start, end);\n            }\n            // continue with the next feature\n            start = (featureIndex === this.startIndices.length - 1) ?\n              groupEnd : this.startIndices[featureIndex + 1];\n            end = start;\n          } else {\n            // the feature is not skipped, augment the end index\n            end = (featureIndex === this.startIndices.length - 1) ?\n              groupEnd : this.startIndices[featureIndex + 1];\n          }\n          featureIndex++;\n        }\n\n        if (start !== end) {\n          // draw the remaining features (in case there was no skipped feature\n          // in this texture group, all features of a group are drawn together)\n          this.drawElements(gl, context, start, end);\n        }\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextureReplay.prototype.drawHitDetectionReplayOneByOne = function drawHitDetectionReplayOneByOne (gl, context, skippedFeaturesHash, featureCallback, opt_hitExtent) {\n      var i, groupStart, start, end, feature;\n      var featureIndex = this.startIndices.length - 1;\n      var hitDetectionTextures = this.getHitDetectionTextures();\n      for (i = hitDetectionTextures.length - 1; i >= 0; --i) {\n        gl.bindTexture(TEXTURE_2D, hitDetectionTextures[i]);\n        groupStart = (i > 0) ? this.hitDetectionGroupIndices[i - 1] : 0;\n        end = this.hitDetectionGroupIndices[i];\n\n        // draw all features for this texture group\n        while (featureIndex >= 0 &&\n            this.startIndices[featureIndex] >= groupStart) {\n          start = this.startIndices[featureIndex];\n          feature = this.startIndicesFeature[featureIndex];\n\n          if (skippedFeaturesHash[getUid(feature)] === undefined &&\n              feature.getGeometry() &&\n              (opt_hitExtent === undefined || intersects(\n                /** @type {Array<number>} */ (opt_hitExtent),\n                feature.getGeometry().getExtent()))) {\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n            this.drawElements(gl, context, start, end);\n\n            var result = featureCallback(feature);\n            if (result) {\n              return result;\n            }\n          }\n\n          end = start;\n          featureIndex--;\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextureReplay.prototype.finish = function finish (context) {\n      this.anchorX = undefined;\n      this.anchorY = undefined;\n      this.height = undefined;\n      this.imageHeight = undefined;\n      this.imageWidth = undefined;\n      this.indices = null;\n      this.opacity = undefined;\n      this.originX = undefined;\n      this.originY = undefined;\n      this.rotateWithView = undefined;\n      this.rotation = undefined;\n      this.scale = undefined;\n      this.vertices = null;\n      this.width = undefined;\n    };\n\n    /**\n     * @abstract\n     * @protected\n     * @param {boolean=} opt_all Return hit detection textures with regular ones.\n     * @return {Array<WebGLTexture>} Textures.\n     */\n    WebGLTextureReplay.prototype.getTextures = function getTextures (opt_all) {\n      return abstract();\n    };\n\n    /**\n     * @abstract\n     * @protected\n     * @return {Array<WebGLTexture>} Textures.\n     */\n    WebGLTextureReplay.prototype.getHitDetectionTextures = function getHitDetectionTextures () {\n      return abstract();\n    };\n\n    return WebGLTextureReplay;\n  }(WebGLReplay));\n\n  /**\n   * @module ol/render/webgl/ImageReplay\n   */\n\n  var WebGLImageReplay = /*@__PURE__*/(function (WebGLTextureReplay$$1) {\n    function WebGLImageReplay(tolerance, maxExtent) {\n      WebGLTextureReplay$$1.call(this, tolerance, maxExtent);\n\n      /**\n       * @type {Array<HTMLCanvasElement|HTMLImageElement|HTMLVideoElement>}\n       * @protected\n       */\n      this.images_ = [];\n\n      /**\n       * @type {Array<HTMLCanvasElement|HTMLImageElement|HTMLVideoElement>}\n       * @protected\n       */\n      this.hitDetectionImages_ = [];\n\n      /**\n       * @type {Array<WebGLTexture>}\n       * @private\n       */\n      this.textures_ = [];\n\n      /**\n       * @type {Array<WebGLTexture>}\n       * @private\n       */\n      this.hitDetectionTextures_ = [];\n\n    }\n\n    if ( WebGLTextureReplay$$1 ) WebGLImageReplay.__proto__ = WebGLTextureReplay$$1;\n    WebGLImageReplay.prototype = Object.create( WebGLTextureReplay$$1 && WebGLTextureReplay$$1.prototype );\n    WebGLImageReplay.prototype.constructor = WebGLImageReplay;\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImageReplay.prototype.drawMultiPoint = function drawMultiPoint (multiPointGeometry, feature) {\n      this.startIndices.push(this.indices.length);\n      this.startIndicesFeature.push(feature);\n      var flatCoordinates = multiPointGeometry.getFlatCoordinates();\n      var stride = multiPointGeometry.getStride();\n      this.drawCoordinates(\n        flatCoordinates, 0, flatCoordinates.length, stride);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImageReplay.prototype.drawPoint = function drawPoint (pointGeometry, feature) {\n      this.startIndices.push(this.indices.length);\n      this.startIndicesFeature.push(feature);\n      var flatCoordinates = pointGeometry.getFlatCoordinates();\n      var stride = pointGeometry.getStride();\n      this.drawCoordinates(\n        flatCoordinates, 0, flatCoordinates.length, stride);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImageReplay.prototype.finish = function finish (context) {\n      var gl = context.getGL();\n\n      this.groupIndices.push(this.indices.length);\n      this.hitDetectionGroupIndices.push(this.indices.length);\n\n      // create, bind, and populate the vertices buffer\n      this.verticesBuffer = new WebGLBuffer(this.vertices);\n\n      var indices = this.indices;\n\n      // create, bind, and populate the indices buffer\n      this.indicesBuffer = new WebGLBuffer(indices);\n\n      // create textures\n      /** @type {Object<string, WebGLTexture>} */\n      var texturePerImage = {};\n\n      this.createTextures(this.textures_, this.images_, texturePerImage, gl);\n\n      this.createTextures(this.hitDetectionTextures_, this.hitDetectionImages_,\n        texturePerImage, gl);\n\n      this.images_ = null;\n      this.hitDetectionImages_ = null;\n      WebGLTextureReplay$$1.prototype.finish.call(this, context);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImageReplay.prototype.setImageStyle = function setImageStyle (imageStyle) {\n      var anchor = imageStyle.getAnchor();\n      var image = imageStyle.getImage(1);\n      var imageSize = imageStyle.getImageSize();\n      var hitDetectionImage = imageStyle.getHitDetectionImage(1);\n      var opacity = imageStyle.getOpacity();\n      var origin = imageStyle.getOrigin();\n      var rotateWithView = imageStyle.getRotateWithView();\n      var rotation = imageStyle.getRotation();\n      var size = imageStyle.getSize();\n      var scale = imageStyle.getScale();\n\n      var currentImage;\n      if (this.images_.length === 0) {\n        this.images_.push(image);\n      } else {\n        currentImage = this.images_[this.images_.length - 1];\n        if (getUid(currentImage) != getUid(image)) {\n          this.groupIndices.push(this.indices.length);\n          this.images_.push(image);\n        }\n      }\n\n      if (this.hitDetectionImages_.length === 0) {\n        this.hitDetectionImages_.push(hitDetectionImage);\n      } else {\n        currentImage =\n            this.hitDetectionImages_[this.hitDetectionImages_.length - 1];\n        if (getUid(currentImage) != getUid(hitDetectionImage)) {\n          this.hitDetectionGroupIndices.push(this.indices.length);\n          this.hitDetectionImages_.push(hitDetectionImage);\n        }\n      }\n\n      this.anchorX = anchor[0];\n      this.anchorY = anchor[1];\n      this.height = size[1];\n      this.imageHeight = imageSize[1];\n      this.imageWidth = imageSize[0];\n      this.opacity = opacity;\n      this.originX = origin[0];\n      this.originY = origin[1];\n      this.rotation = rotation;\n      this.rotateWithView = rotateWithView;\n      this.scale = scale;\n      this.width = size[0];\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImageReplay.prototype.getTextures = function getTextures (opt_all) {\n      return opt_all ? this.textures_.concat(this.hitDetectionTextures_) : this.textures_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImageReplay.prototype.getHitDetectionTextures = function getHitDetectionTextures () {\n      return this.hitDetectionTextures_;\n    };\n\n    return WebGLImageReplay;\n  }(WebGLTextureReplay));\n\n  /**\n   * @module ol/geom/flat/topology\n   */\n\n  /**\n   * Check if the linestring is a boundary.\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @return {boolean} The linestring is a boundary.\n   */\n  function lineStringIsClosed(flatCoordinates, offset, end, stride) {\n    var lastCoord = end - stride;\n    if (flatCoordinates[offset] === flatCoordinates[lastCoord] &&\n        flatCoordinates[offset + 1] === flatCoordinates[lastCoord + 1] && (end - offset) / stride > 3) {\n      return !!linearRing(flatCoordinates, offset, end, stride);\n    }\n    return false;\n  }\n\n  /**\n   * @module ol/render/webgl/linestringreplay/defaultshader\n   */\n\n  var fragment$2 = new WebGLFragment('precision mediump float;\\nvarying float v_round;\\nvarying vec2 v_roundVertex;\\nvarying float v_halfWidth;\\n\\n\\n\\nuniform float u_opacity;\\nuniform vec4 u_color;\\nuniform vec2 u_size;\\nuniform float u_pixelRatio;\\n\\nvoid main(void) {\\n  if (v_round > 0.0) {\\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\\n      discard;\\n    }\\n  }\\n  gl_FragColor = u_color;\\n  float alpha = u_color.a * u_opacity;\\n  if (alpha == 0.0) {\\n    discard;\\n  }\\n  gl_FragColor.a = alpha;\\n}\\n');\n\n  var vertex$2 = new WebGLVertex('varying float v_round;\\nvarying vec2 v_roundVertex;\\nvarying float v_halfWidth;\\n\\n\\nattribute vec2 a_lastPos;\\nattribute vec2 a_position;\\nattribute vec2 a_nextPos;\\nattribute float a_direction;\\n\\nuniform mat4 u_projectionMatrix;\\nuniform mat4 u_offsetScaleMatrix;\\nuniform mat4 u_offsetRotateMatrix;\\nuniform float u_lineWidth;\\nuniform float u_miterLimit;\\n\\nbool nearlyEquals(in float value, in float ref) {\\n  float epsilon = 0.000000000001;\\n  return value >= ref - epsilon && value <= ref + epsilon;\\n}\\n\\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\\n  vec2 dirVect = nextP - a_position;\\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\\n  offset = u_lineWidth / 2.0 * normal * direction;\\n}\\n\\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\\n  float halfWidth = u_lineWidth / 2.0;\\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\\n  vec2 normal = vec2(-tangent.y, tangent.x);\\n  vec2 dirVect = a_nextPos - a_position;\\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\\n  offset = normal * direction * miterLength;\\n  round = 0.0;\\n  if (isRound) {\\n    round = 1.0;\\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\\n    offset = halfWidth * tmpNormal * direction;\\n  }\\n}\\n\\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\\n  bool degenerate = false;\\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\\n  vec2 normal = vec2(-tangent.y, tangent.x);\\n  vec2 dirVect = a_lastPos - a_position;\\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\\n  vec2 longOffset, shortOffset, longVertex;\\n  vec4 shortProjVertex;\\n  float halfWidth = u_lineWidth / 2.0;\\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\\n    longOffset = tmpNormal * direction * halfWidth;\\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\\n    longVertex = a_nextPos;\\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\\n  } else {\\n    shortOffset = tmpNormal * direction * halfWidth;\\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\\n    longVertex = a_lastPos;\\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\\n  }\\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\\n  float epsilon = 0.000000000001;\\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\\n    offset = shortProjVertex.xy;\\n    degenerate = true;\\n  } else {\\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\\n    offset = normal * direction * miterLength;\\n  }\\n  return degenerate;\\n}\\n\\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\\n    in float turnDir, in float direction) {\\n  round = 0.0;\\n  vec2 dirVect = a_position - nextP;\\n  vec2 firstNormal = normalize(dirVect);\\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\\n  offset = normal * length;\\n  if (isRound) {\\n    round = 1.0;\\n  }\\n}\\n\\nvoid main(void) {\\n  bool degenerate = false;\\n  float direction = float(sign(a_direction));\\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\\n  vec2 offset;\\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\\n\\n  v_round = 0.0;\\n  v_halfWidth = u_lineWidth / 2.0;\\n  v_roundVertex = projPos.xy;\\n\\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\\n    alongNormal(offset, a_nextPos, 1.0, direction);\\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\\n    alongNormal(offset, a_lastPos, -1.0, direction);\\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\\n    miterUp(offset, v_round, round, direction);\\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\\n  }\\n  if (!degenerate) {\\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\\n    gl_Position = projPos + offsets;\\n  } else {\\n    gl_Position = vec4(offset, 0.0, 1.0);\\n  }\\n}\\n\\n\\n');\n\n  /**\n   * @module ol/render/webgl/linestringreplay/defaultshader/Locations\n   */\n\n  var Locations$2 = function Locations(gl, program) {\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_projectionMatrix = gl.getUniformLocation(\n      program, 'u_projectionMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_offsetScaleMatrix = gl.getUniformLocation(\n      program, 'u_offsetScaleMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_offsetRotateMatrix = gl.getUniformLocation(\n      program, 'u_offsetRotateMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_lineWidth = gl.getUniformLocation(\n      program, 'u_lineWidth');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_miterLimit = gl.getUniformLocation(\n      program, 'u_miterLimit');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_opacity = gl.getUniformLocation(\n      program, 'u_opacity');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_color = gl.getUniformLocation(\n      program, 'u_color');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_size = gl.getUniformLocation(\n      program, 'u_size');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_pixelRatio = gl.getUniformLocation(\n      program, 'u_pixelRatio');\n\n    /**\n     * @type {number}\n     */\n    this.a_lastPos = gl.getAttribLocation(\n      program, 'a_lastPos');\n\n    /**\n     * @type {number}\n     */\n    this.a_position = gl.getAttribLocation(\n      program, 'a_position');\n\n    /**\n     * @type {number}\n     */\n    this.a_nextPos = gl.getAttribLocation(\n      program, 'a_nextPos');\n\n    /**\n     * @type {number}\n     */\n    this.a_direction = gl.getAttribLocation(\n      program, 'a_direction');\n\n  };\n\n  /**\n   * @module ol/render/webgl/LineStringReplay\n   */\n\n\n  /**\n   * @enum {number}\n   */\n  var Instruction$1 = {\n    ROUND: 2,\n    BEGIN_LINE: 3,\n    END_LINE: 5,\n    BEGIN_LINE_CAP: 7,\n    END_LINE_CAP: 11,\n    BEVEL_FIRST: 13,\n    BEVEL_SECOND: 17,\n    MITER_BOTTOM: 19,\n    MITER_TOP: 23\n  };\n\n\n  var WebGLLineStringReplay = /*@__PURE__*/(function (WebGLReplay$$1) {\n    function WebGLLineStringReplay(tolerance, maxExtent) {\n      WebGLReplay$$1.call(this, tolerance, maxExtent);\n\n      /**\n       * @private\n       * @type {import(\"./linestringreplay/defaultshader/Locations.js\").default}\n       */\n      this.defaultLocations_ = null;\n\n      /**\n       * @private\n       * @type {Array<Array<?>>}\n       */\n      this.styles_ = [];\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.styleIndices_ = [];\n\n      /**\n       * @private\n       * @type {{strokeColor: (Array<number>|null),\n       *         lineCap: (string|undefined),\n       *         lineDash: Array<number>,\n       *         lineDashOffset: (number|undefined),\n       *         lineJoin: (string|undefined),\n       *         lineWidth: (number|undefined),\n       *         miterLimit: (number|undefined),\n       *         changed: boolean}|null}\n       */\n      this.state_ = {\n        strokeColor: null,\n        lineCap: undefined,\n        lineDash: null,\n        lineDashOffset: undefined,\n        lineJoin: undefined,\n        lineWidth: undefined,\n        miterLimit: undefined,\n        changed: false\n      };\n\n    }\n\n    if ( WebGLReplay$$1 ) WebGLLineStringReplay.__proto__ = WebGLReplay$$1;\n    WebGLLineStringReplay.prototype = Object.create( WebGLReplay$$1 && WebGLReplay$$1.prototype );\n    WebGLLineStringReplay.prototype.constructor = WebGLLineStringReplay;\n\n    /**\n     * Draw one segment.\n     * @private\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     */\n    WebGLLineStringReplay.prototype.drawCoordinates_ = function drawCoordinates_ (flatCoordinates, offset, end, stride) {\n\n      var i, ii;\n      var numVertices = this.vertices.length;\n      var numIndices = this.indices.length;\n      //To save a vertex, the direction of a point is a product of the sign (1 or -1), a prime from\n      //Instruction, and a rounding factor (1 or 2). If the product is even,\n      //we round it. If it is odd, we don't.\n      var lineJoin = this.state_.lineJoin === 'bevel' ? 0 :\n        this.state_.lineJoin === 'miter' ? 1 : 2;\n      var lineCap = this.state_.lineCap === 'butt' ? 0 :\n        this.state_.lineCap === 'square' ? 1 : 2;\n      var closed = lineStringIsClosed(flatCoordinates, offset, end, stride);\n      var startCoords, sign, n;\n      var lastIndex = numIndices;\n      var lastSign = 1;\n      //We need the adjacent vertices to define normals in joins. p0 = last, p1 = current, p2 = next.\n      var p0, p1, p2;\n\n      for (i = offset, ii = end; i < ii; i += stride) {\n\n        n = numVertices / 7;\n\n        p0 = p1;\n        p1 = p2 || [flatCoordinates[i], flatCoordinates[i + 1]];\n        //First vertex.\n        if (i === offset) {\n          p2 = [flatCoordinates[i + stride], flatCoordinates[i + stride + 1]];\n          if (end - offset === stride * 2 && equals(p1, p2)) {\n            break;\n          }\n          if (closed) {\n            //A closed line! Complete the circle.\n            p0 = [flatCoordinates[end - stride * 2],\n              flatCoordinates[end - stride * 2 + 1]];\n\n            startCoords = p2;\n          } else {\n            //Add the first two/four vertices.\n\n            if (lineCap) {\n              numVertices = this.addVertices_([0, 0], p1, p2,\n                lastSign * Instruction$1.BEGIN_LINE_CAP * lineCap, numVertices);\n\n              numVertices = this.addVertices_([0, 0], p1, p2,\n                -lastSign * Instruction$1.BEGIN_LINE_CAP * lineCap, numVertices);\n\n              this.indices[numIndices++] = n + 2;\n              this.indices[numIndices++] = n;\n              this.indices[numIndices++] = n + 1;\n\n              this.indices[numIndices++] = n + 1;\n              this.indices[numIndices++] = n + 3;\n              this.indices[numIndices++] = n + 2;\n\n            }\n\n            numVertices = this.addVertices_([0, 0], p1, p2,\n              lastSign * Instruction$1.BEGIN_LINE * (lineCap || 1), numVertices);\n\n            numVertices = this.addVertices_([0, 0], p1, p2,\n              -lastSign * Instruction$1.BEGIN_LINE * (lineCap || 1), numVertices);\n\n            lastIndex = numVertices / 7 - 1;\n\n            continue;\n          }\n        } else if (i === end - stride) {\n          //Last vertex.\n          if (closed) {\n            //Same as the first vertex.\n            p2 = startCoords;\n            break;\n          } else {\n            p0 = p0 || [0, 0];\n\n            numVertices = this.addVertices_(p0, p1, [0, 0],\n              lastSign * Instruction$1.END_LINE * (lineCap || 1), numVertices);\n\n            numVertices = this.addVertices_(p0, p1, [0, 0],\n              -lastSign * Instruction$1.END_LINE * (lineCap || 1), numVertices);\n\n            this.indices[numIndices++] = n;\n            this.indices[numIndices++] = lastIndex - 1;\n            this.indices[numIndices++] = lastIndex;\n\n            this.indices[numIndices++] = lastIndex;\n            this.indices[numIndices++] = n + 1;\n            this.indices[numIndices++] = n;\n\n            if (lineCap) {\n              numVertices = this.addVertices_(p0, p1, [0, 0],\n                lastSign * Instruction$1.END_LINE_CAP * lineCap, numVertices);\n\n              numVertices = this.addVertices_(p0, p1, [0, 0],\n                -lastSign * Instruction$1.END_LINE_CAP * lineCap, numVertices);\n\n              this.indices[numIndices++] = n + 2;\n              this.indices[numIndices++] = n;\n              this.indices[numIndices++] = n + 1;\n\n              this.indices[numIndices++] = n + 1;\n              this.indices[numIndices++] = n + 3;\n              this.indices[numIndices++] = n + 2;\n\n            }\n\n            break;\n          }\n        } else {\n          p2 = [flatCoordinates[i + stride], flatCoordinates[i + stride + 1]];\n        }\n\n        // We group CW and straight lines, thus the not so inituitive CCW checking function.\n        sign = triangleIsCounterClockwise(p0[0], p0[1], p1[0], p1[1], p2[0], p2[1])\n          ? -1 : 1;\n\n        numVertices = this.addVertices_(p0, p1, p2,\n          sign * Instruction$1.BEVEL_FIRST * (lineJoin || 1), numVertices);\n\n        numVertices = this.addVertices_(p0, p1, p2,\n          sign * Instruction$1.BEVEL_SECOND * (lineJoin || 1), numVertices);\n\n        numVertices = this.addVertices_(p0, p1, p2,\n          -sign * Instruction$1.MITER_BOTTOM * (lineJoin || 1), numVertices);\n\n        if (i > offset) {\n          this.indices[numIndices++] = n;\n          this.indices[numIndices++] = lastIndex - 1;\n          this.indices[numIndices++] = lastIndex;\n\n          this.indices[numIndices++] = n + 2;\n          this.indices[numIndices++] = n;\n          this.indices[numIndices++] = lastSign * sign > 0 ? lastIndex : lastIndex - 1;\n        }\n\n        this.indices[numIndices++] = n;\n        this.indices[numIndices++] = n + 2;\n        this.indices[numIndices++] = n + 1;\n\n        lastIndex = n + 2;\n        lastSign = sign;\n\n        //Add miter\n        if (lineJoin) {\n          numVertices = this.addVertices_(p0, p1, p2,\n            sign * Instruction$1.MITER_TOP * lineJoin, numVertices);\n\n          this.indices[numIndices++] = n + 1;\n          this.indices[numIndices++] = n + 3;\n          this.indices[numIndices++] = n;\n        }\n      }\n\n      if (closed) {\n        n = n || numVertices / 7;\n        sign = linearRingIsClockwise([p0[0], p0[1], p1[0], p1[1], p2[0], p2[1]], 0, 6, 2)\n          ? 1 : -1;\n\n        numVertices = this.addVertices_(p0, p1, p2,\n          sign * Instruction$1.BEVEL_FIRST * (lineJoin || 1), numVertices);\n\n        numVertices = this.addVertices_(p0, p1, p2,\n          -sign * Instruction$1.MITER_BOTTOM * (lineJoin || 1), numVertices);\n\n        this.indices[numIndices++] = n;\n        this.indices[numIndices++] = lastIndex - 1;\n        this.indices[numIndices++] = lastIndex;\n\n        this.indices[numIndices++] = n + 1;\n        this.indices[numIndices++] = n;\n        this.indices[numIndices++] = lastSign * sign > 0 ? lastIndex : lastIndex - 1;\n      }\n    };\n\n    /**\n     * @param {Array<number>} p0 Last coordinates.\n     * @param {Array<number>} p1 Current coordinates.\n     * @param {Array<number>} p2 Next coordinates.\n     * @param {number} product Sign, instruction, and rounding product.\n     * @param {number} numVertices Vertex counter.\n     * @return {number} Vertex counter.\n     * @private\n     */\n    WebGLLineStringReplay.prototype.addVertices_ = function addVertices_ (p0, p1, p2, product, numVertices) {\n      this.vertices[numVertices++] = p0[0];\n      this.vertices[numVertices++] = p0[1];\n      this.vertices[numVertices++] = p1[0];\n      this.vertices[numVertices++] = p1[1];\n      this.vertices[numVertices++] = p2[0];\n      this.vertices[numVertices++] = p2[1];\n      this.vertices[numVertices++] = product;\n\n      return numVertices;\n    };\n\n    /**\n     * Check if the linestring can be drawn (i. e. valid).\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @return {boolean} The linestring can be drawn.\n     * @private\n     */\n    WebGLLineStringReplay.prototype.isValid_ = function isValid_ (flatCoordinates, offset, end, stride) {\n      var range = end - offset;\n      if (range < stride * 2) {\n        return false;\n      } else if (range === stride * 2) {\n        var firstP = [flatCoordinates[offset], flatCoordinates[offset + 1]];\n        var lastP = [flatCoordinates[offset + stride], flatCoordinates[offset + stride + 1]];\n        return !equals(firstP, lastP);\n      }\n\n      return true;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLLineStringReplay.prototype.drawLineString = function drawLineString (lineStringGeometry, feature) {\n      var flatCoordinates = lineStringGeometry.getFlatCoordinates();\n      var stride = lineStringGeometry.getStride();\n      if (this.isValid_(flatCoordinates, 0, flatCoordinates.length, stride)) {\n        flatCoordinates = translate(flatCoordinates, 0, flatCoordinates.length,\n          stride, -this.origin[0], -this.origin[1]);\n        if (this.state_.changed) {\n          this.styleIndices_.push(this.indices.length);\n          this.state_.changed = false;\n        }\n        this.startIndices.push(this.indices.length);\n        this.startIndicesFeature.push(feature);\n        this.drawCoordinates_(\n          flatCoordinates, 0, flatCoordinates.length, stride);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLLineStringReplay.prototype.drawMultiLineString = function drawMultiLineString (multiLineStringGeometry, feature) {\n      var indexCount = this.indices.length;\n      var ends = multiLineStringGeometry.getEnds();\n      ends.unshift(0);\n      var flatCoordinates = multiLineStringGeometry.getFlatCoordinates();\n      var stride = multiLineStringGeometry.getStride();\n      var i, ii;\n      if (ends.length > 1) {\n        for (i = 1, ii = ends.length; i < ii; ++i) {\n          if (this.isValid_(flatCoordinates, ends[i - 1], ends[i], stride)) {\n            var lineString = translate(flatCoordinates, ends[i - 1], ends[i],\n              stride, -this.origin[0], -this.origin[1]);\n            this.drawCoordinates_(\n              lineString, 0, lineString.length, stride);\n          }\n        }\n      }\n      if (this.indices.length > indexCount) {\n        this.startIndices.push(indexCount);\n        this.startIndicesFeature.push(feature);\n        if (this.state_.changed) {\n          this.styleIndices_.push(indexCount);\n          this.state_.changed = false;\n        }\n      }\n    };\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {Array<Array<number>>} holeFlatCoordinates Hole flat coordinates.\n     * @param {number} stride Stride.\n     */\n    WebGLLineStringReplay.prototype.drawPolygonCoordinates = function drawPolygonCoordinates (flatCoordinates, holeFlatCoordinates, stride) {\n      if (!lineStringIsClosed(flatCoordinates, 0, flatCoordinates.length, stride)) {\n        flatCoordinates.push(flatCoordinates[0]);\n        flatCoordinates.push(flatCoordinates[1]);\n      }\n      this.drawCoordinates_(flatCoordinates, 0, flatCoordinates.length, stride);\n      if (holeFlatCoordinates.length) {\n        var i, ii;\n        for (i = 0, ii = holeFlatCoordinates.length; i < ii; ++i) {\n          if (!lineStringIsClosed(holeFlatCoordinates[i], 0, holeFlatCoordinates[i].length, stride)) {\n            holeFlatCoordinates[i].push(holeFlatCoordinates[i][0]);\n            holeFlatCoordinates[i].push(holeFlatCoordinates[i][1]);\n          }\n          this.drawCoordinates_(holeFlatCoordinates[i], 0,\n            holeFlatCoordinates[i].length, stride);\n        }\n      }\n    };\n\n    /**\n     * @param {import(\"../../Feature.js\").default|import(\"../Feature.js\").default} feature Feature.\n     * @param {number=} opt_index Index count.\n     */\n    WebGLLineStringReplay.prototype.setPolygonStyle = function setPolygonStyle (feature, opt_index) {\n      var index = opt_index === undefined ? this.indices.length : opt_index;\n      this.startIndices.push(index);\n      this.startIndicesFeature.push(feature);\n      if (this.state_.changed) {\n        this.styleIndices_.push(index);\n        this.state_.changed = false;\n      }\n    };\n\n    /**\n     * @return {number} Current index.\n     */\n    WebGLLineStringReplay.prototype.getCurrentIndex = function getCurrentIndex () {\n      return this.indices.length;\n    };\n\n    /**\n     * @inheritDoc\n     **/\n    WebGLLineStringReplay.prototype.finish = function finish (context) {\n      // create, bind, and populate the vertices buffer\n      this.verticesBuffer = new WebGLBuffer(this.vertices);\n\n      // create, bind, and populate the indices buffer\n      this.indicesBuffer = new WebGLBuffer(this.indices);\n\n      this.startIndices.push(this.indices.length);\n\n      //Clean up, if there is nothing to draw\n      if (this.styleIndices_.length === 0 && this.styles_.length > 0) {\n        this.styles_ = [];\n      }\n\n      this.vertices = null;\n      this.indices = null;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLLineStringReplay.prototype.getDeleteResourcesFunction = function getDeleteResourcesFunction (context) {\n      var verticesBuffer = this.verticesBuffer;\n      var indicesBuffer = this.indicesBuffer;\n      return function() {\n        context.deleteBuffer(verticesBuffer);\n        context.deleteBuffer(indicesBuffer);\n      };\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLLineStringReplay.prototype.setUpProgram = function setUpProgram (gl, context, size, pixelRatio) {\n      // get the program\n      var program = context.getProgram(fragment$2, vertex$2);\n\n      // get the locations\n      var locations;\n      if (!this.defaultLocations_) {\n        locations = new Locations$2(gl, program);\n        this.defaultLocations_ = locations;\n      } else {\n        locations = this.defaultLocations_;\n      }\n\n      context.useProgram(program);\n\n      // enable the vertex attrib arrays\n      gl.enableVertexAttribArray(locations.a_lastPos);\n      gl.vertexAttribPointer(locations.a_lastPos, 2, FLOAT,\n        false, 28, 0);\n\n      gl.enableVertexAttribArray(locations.a_position);\n      gl.vertexAttribPointer(locations.a_position, 2, FLOAT,\n        false, 28, 8);\n\n      gl.enableVertexAttribArray(locations.a_nextPos);\n      gl.vertexAttribPointer(locations.a_nextPos, 2, FLOAT,\n        false, 28, 16);\n\n      gl.enableVertexAttribArray(locations.a_direction);\n      gl.vertexAttribPointer(locations.a_direction, 1, FLOAT,\n        false, 28, 24);\n\n      // Enable renderer specific uniforms.\n      gl.uniform2fv(locations.u_size, size);\n      gl.uniform1f(locations.u_pixelRatio, pixelRatio);\n\n      return locations;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLLineStringReplay.prototype.shutDownProgram = function shutDownProgram (gl, locations) {\n      gl.disableVertexAttribArray(locations.a_lastPos);\n      gl.disableVertexAttribArray(locations.a_position);\n      gl.disableVertexAttribArray(locations.a_nextPos);\n      gl.disableVertexAttribArray(locations.a_direction);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLLineStringReplay.prototype.drawReplay = function drawReplay (gl, context, skippedFeaturesHash, hitDetection) {\n      //Save GL parameters.\n      var tmpDepthFunc = /** @type {number} */ (gl.getParameter(gl.DEPTH_FUNC));\n      var tmpDepthMask = /** @type {boolean} */ (gl.getParameter(gl.DEPTH_WRITEMASK));\n\n      if (!hitDetection) {\n        gl.enable(gl.DEPTH_TEST);\n        gl.depthMask(true);\n        gl.depthFunc(gl.NOTEQUAL);\n      }\n\n      if (!isEmpty(skippedFeaturesHash)) {\n        this.drawReplaySkipping_(gl, context, skippedFeaturesHash);\n      } else {\n        //Draw by style groups to minimize drawElements() calls.\n        var i, start, end, nextStyle;\n        end = this.startIndices[this.startIndices.length - 1];\n        for (i = this.styleIndices_.length - 1; i >= 0; --i) {\n          start = this.styleIndices_[i];\n          nextStyle = this.styles_[i];\n          this.setStrokeStyle_(gl, nextStyle[0], nextStyle[1], nextStyle[2]);\n          this.drawElements(gl, context, start, end);\n          gl.clear(gl.DEPTH_BUFFER_BIT);\n          end = start;\n        }\n      }\n      if (!hitDetection) {\n        gl.disable(gl.DEPTH_TEST);\n        gl.clear(gl.DEPTH_BUFFER_BIT);\n        //Restore GL parameters.\n        gl.depthMask(tmpDepthMask);\n        gl.depthFunc(tmpDepthFunc);\n      }\n    };\n\n    /**\n     * @private\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {Object} skippedFeaturesHash Ids of features to skip.\n     */\n    WebGLLineStringReplay.prototype.drawReplaySkipping_ = function drawReplaySkipping_ (gl, context, skippedFeaturesHash) {\n      var i, start, end, nextStyle, groupStart, feature, featureIndex, featureStart;\n      featureIndex = this.startIndices.length - 2;\n      end = start = this.startIndices[featureIndex + 1];\n      for (i = this.styleIndices_.length - 1; i >= 0; --i) {\n        nextStyle = this.styles_[i];\n        this.setStrokeStyle_(gl, nextStyle[0], nextStyle[1], nextStyle[2]);\n        groupStart = this.styleIndices_[i];\n\n        while (featureIndex >= 0 &&\n            this.startIndices[featureIndex] >= groupStart) {\n          featureStart = this.startIndices[featureIndex];\n          feature = this.startIndicesFeature[featureIndex];\n\n          if (skippedFeaturesHash[getUid(feature)]) {\n            if (start !== end) {\n              this.drawElements(gl, context, start, end);\n              gl.clear(gl.DEPTH_BUFFER_BIT);\n            }\n            end = featureStart;\n          }\n          featureIndex--;\n          start = featureStart;\n        }\n        if (start !== end) {\n          this.drawElements(gl, context, start, end);\n          gl.clear(gl.DEPTH_BUFFER_BIT);\n        }\n        start = end = groupStart;\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLLineStringReplay.prototype.drawHitDetectionReplayOneByOne = function drawHitDetectionReplayOneByOne (gl, context, skippedFeaturesHash, featureCallback, opt_hitExtent) {\n      var i, start, end, nextStyle, groupStart, feature, featureIndex;\n      featureIndex = this.startIndices.length - 2;\n      end = this.startIndices[featureIndex + 1];\n      for (i = this.styleIndices_.length - 1; i >= 0; --i) {\n        nextStyle = this.styles_[i];\n        this.setStrokeStyle_(gl, nextStyle[0], nextStyle[1], nextStyle[2]);\n        groupStart = this.styleIndices_[i];\n\n        while (featureIndex >= 0 &&\n            this.startIndices[featureIndex] >= groupStart) {\n          start = this.startIndices[featureIndex];\n          feature = this.startIndicesFeature[featureIndex];\n\n          if (skippedFeaturesHash[getUid(feature)] === undefined &&\n              feature.getGeometry() &&\n              (opt_hitExtent === undefined || intersects(\n                /** @type {Array<number>} */ (opt_hitExtent),\n                feature.getGeometry().getExtent()))) {\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n            this.drawElements(gl, context, start, end);\n\n            var result = featureCallback(feature);\n\n            if (result) {\n              return result;\n            }\n\n          }\n          featureIndex--;\n          end = start;\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * @private\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {Array<number>} color Color.\n     * @param {number} lineWidth Line width.\n     * @param {number} miterLimit Miter limit.\n     */\n    WebGLLineStringReplay.prototype.setStrokeStyle_ = function setStrokeStyle_ (gl, color, lineWidth, miterLimit) {\n      gl.uniform4fv(this.defaultLocations_.u_color, color);\n      gl.uniform1f(this.defaultLocations_.u_lineWidth, lineWidth);\n      gl.uniform1f(this.defaultLocations_.u_miterLimit, miterLimit);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLLineStringReplay.prototype.setFillStrokeStyle = function setFillStrokeStyle (fillStyle, strokeStyle) {\n      var strokeStyleLineCap = strokeStyle.getLineCap();\n      this.state_.lineCap = strokeStyleLineCap !== undefined ?\n        strokeStyleLineCap : DEFAULT_LINECAP;\n      var strokeStyleLineDash = strokeStyle.getLineDash();\n      this.state_.lineDash = strokeStyleLineDash ?\n        strokeStyleLineDash : DEFAULT_LINEDASH;\n      var strokeStyleLineDashOffset = strokeStyle.getLineDashOffset();\n      this.state_.lineDashOffset = strokeStyleLineDashOffset ?\n        strokeStyleLineDashOffset : DEFAULT_LINEDASHOFFSET;\n      var strokeStyleLineJoin = strokeStyle.getLineJoin();\n      this.state_.lineJoin = strokeStyleLineJoin !== undefined ?\n        strokeStyleLineJoin : DEFAULT_LINEJOIN;\n      var strokeStyleColor = strokeStyle.getColor();\n      if (!(strokeStyleColor instanceof CanvasGradient) &&\n          !(strokeStyleColor instanceof CanvasPattern)) {\n        strokeStyleColor = asArray(strokeStyleColor).map(function(c, i) {\n          return i != 3 ? c / 255 : c;\n        }) || DEFAULT_STROKESTYLE;\n      } else {\n        strokeStyleColor = DEFAULT_STROKESTYLE;\n      }\n      var strokeStyleWidth = strokeStyle.getWidth();\n      strokeStyleWidth = strokeStyleWidth !== undefined ?\n        strokeStyleWidth : DEFAULT_LINEWIDTH;\n      var strokeStyleMiterLimit = strokeStyle.getMiterLimit();\n      strokeStyleMiterLimit = strokeStyleMiterLimit !== undefined ?\n        strokeStyleMiterLimit : DEFAULT_MITERLIMIT;\n      if (!this.state_.strokeColor || !equals(this.state_.strokeColor, strokeStyleColor) ||\n          this.state_.lineWidth !== strokeStyleWidth || this.state_.miterLimit !== strokeStyleMiterLimit) {\n        this.state_.changed = true;\n        this.state_.strokeColor = strokeStyleColor;\n        this.state_.lineWidth = strokeStyleWidth;\n        this.state_.miterLimit = strokeStyleMiterLimit;\n        this.styles_.push([strokeStyleColor, strokeStyleWidth, strokeStyleMiterLimit]);\n      }\n    };\n\n    return WebGLLineStringReplay;\n  }(WebGLReplay));\n\n  /**\n   * @module ol/render/webgl/polygonreplay/defaultshader\n   */\n\n  var fragment$3 = new WebGLFragment('precision mediump float;\\n\\n\\n\\nuniform vec4 u_color;\\nuniform float u_opacity;\\n\\nvoid main(void) {\\n  gl_FragColor = u_color;\\n  float alpha = u_color.a * u_opacity;\\n  if (alpha == 0.0) {\\n    discard;\\n  }\\n  gl_FragColor.a = alpha;\\n}\\n');\n\n  var vertex$3 = new WebGLVertex('\\n\\nattribute vec2 a_position;\\n\\nuniform mat4 u_projectionMatrix;\\nuniform mat4 u_offsetScaleMatrix;\\nuniform mat4 u_offsetRotateMatrix;\\n\\nvoid main(void) {\\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\\n}\\n\\n\\n');\n\n  /**\n   * @module ol/render/webgl/polygonreplay/defaultshader/Locations\n   */\n\n  var Locations$3 = function Locations(gl, program) {\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_projectionMatrix = gl.getUniformLocation(\n      program, 'u_projectionMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_offsetScaleMatrix = gl.getUniformLocation(\n      program, 'u_offsetScaleMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_offsetRotateMatrix = gl.getUniformLocation(\n      program, 'u_offsetRotateMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_color = gl.getUniformLocation(\n      program, 'u_color');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_opacity = gl.getUniformLocation(\n      program, 'u_opacity');\n\n    /**\n     * @type {number}\n     */\n    this.a_position = gl.getAttribLocation(\n      program, 'a_position');\n\n  };\n\n  /**\n   * @module ol/structs/LinkedList\n   */\n\n\n  /**\n   * @typedef {Object} Item\n   * @property {Item} [prev]\n   * @property {Item} [next]\n   * @property {?} data\n   */\n\n  /**\n   * @classdesc\n   * Creates an empty linked list structure.\n   */\n  var LinkedList = function LinkedList(opt_circular) {\n\n    /**\n     * @private\n     * @type {Item|undefined}\n     */\n    this.first_;\n\n    /**\n     * @private\n     * @type {Item|undefined}\n     */\n    this.last_;\n\n    /**\n     * @private\n     * @type {Item|undefined}\n     */\n    this.head_;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.circular_ = opt_circular === undefined ? true : opt_circular;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.length_ = 0;\n\n  };\n\n  /**\n   * Inserts an item into the linked list right after the current one.\n   *\n   * @param {?} data Item data.\n   */\n  LinkedList.prototype.insertItem = function insertItem (data) {\n\n    /** @type {Item} */\n    var item = {\n      prev: undefined,\n      next: undefined,\n      data: data\n    };\n\n    var head = this.head_;\n\n    //Initialize the list.\n    if (!head) {\n      this.first_ = item;\n      this.last_ = item;\n      if (this.circular_) {\n        item.next = item;\n        item.prev = item;\n      }\n    } else {\n      //Link the new item to the adjacent ones.\n      var next = head.next;\n      item.prev = head;\n      item.next = next;\n      head.next = item;\n      if (next) {\n        next.prev = item;\n      }\n\n      if (head === this.last_) {\n        this.last_ = item;\n      }\n    }\n    this.head_ = item;\n    this.length_++;\n  };\n\n  /**\n   * Removes the current item from the list. Sets the cursor to the next item,\n   * if possible.\n   */\n  LinkedList.prototype.removeItem = function removeItem () {\n    var head = this.head_;\n    if (head) {\n      var next = head.next;\n      var prev = head.prev;\n      if (next) {\n        next.prev = prev;\n      }\n      if (prev) {\n        prev.next = next;\n      }\n      this.head_ = next || prev;\n\n      if (this.first_ === this.last_) {\n        this.head_ = undefined;\n        this.first_ = undefined;\n        this.last_ = undefined;\n      } else if (this.first_ === head) {\n        this.first_ = this.head_;\n      } else if (this.last_ === head) {\n        this.last_ = prev ? this.head_.prev : this.head_;\n      }\n      this.length_--;\n    }\n  };\n\n  /**\n   * Sets the cursor to the first item, and returns the associated data.\n   *\n   * @return {?} Item data.\n   */\n  LinkedList.prototype.firstItem = function firstItem () {\n    this.head_ = this.first_;\n    if (this.head_) {\n      return this.head_.data;\n    }\n    return undefined;\n  };\n\n  /**\n  * Sets the cursor to the last item, and returns the associated data.\n  *\n  * @return {?} Item data.\n  */\n  LinkedList.prototype.lastItem = function lastItem () {\n    this.head_ = this.last_;\n    if (this.head_) {\n      return this.head_.data;\n    }\n    return undefined;\n  };\n\n  /**\n   * Sets the cursor to the next item, and returns the associated data.\n   *\n   * @return {?} Item data.\n   */\n  LinkedList.prototype.nextItem = function nextItem () {\n    if (this.head_ && this.head_.next) {\n      this.head_ = this.head_.next;\n      return this.head_.data;\n    }\n    return undefined;\n  };\n\n  /**\n   * Returns the next item's data without moving the cursor.\n   *\n   * @return {?} Item data.\n   */\n  LinkedList.prototype.getNextItem = function getNextItem () {\n    if (this.head_ && this.head_.next) {\n      return this.head_.next.data;\n    }\n    return undefined;\n  };\n\n  /**\n   * Sets the cursor to the previous item, and returns the associated data.\n   *\n   * @return {?} Item data.\n   */\n  LinkedList.prototype.prevItem = function prevItem () {\n    if (this.head_ && this.head_.prev) {\n      this.head_ = this.head_.prev;\n      return this.head_.data;\n    }\n    return undefined;\n  };\n\n  /**\n   * Returns the previous item's data without moving the cursor.\n   *\n   * @return {?} Item data.\n   */\n  LinkedList.prototype.getPrevItem = function getPrevItem () {\n    if (this.head_ && this.head_.prev) {\n      return this.head_.prev.data;\n    }\n    return undefined;\n  };\n\n  /**\n   * Returns the current item's data.\n   *\n   * @return {?} Item data.\n   */\n  LinkedList.prototype.getCurrItem = function getCurrItem () {\n    if (this.head_) {\n      return this.head_.data;\n    }\n    return undefined;\n  };\n\n  /**\n   * Sets the first item of the list. This only works for circular lists, and sets\n   * the last item accordingly.\n   */\n  LinkedList.prototype.setFirstItem = function setFirstItem () {\n    if (this.circular_ && this.head_) {\n      this.first_ = this.head_;\n      this.last_ = this.head_.prev;\n    }\n  };\n\n  /**\n   * Concatenates two lists.\n   * @param {LinkedList} list List to merge into the current list.\n   */\n  LinkedList.prototype.concat = function concat (list) {\n    if (list.head_) {\n      if (this.head_) {\n        var end = this.head_.next;\n        this.head_.next = list.first_;\n        list.first_.prev = this.head_;\n        end.prev = list.last_;\n        list.last_.next = end;\n        this.length_ += list.length_;\n      } else {\n        this.head_ = list.head_;\n        this.first_ = list.first_;\n        this.last_ = list.last_;\n        this.length_ = list.length_;\n      }\n      list.head_ = undefined;\n      list.first_ = undefined;\n      list.last_ = undefined;\n      list.length_ = 0;\n    }\n  };\n\n  /**\n   * Returns the current length of the list.\n   *\n   * @return {number} Length.\n   */\n  LinkedList.prototype.getLength = function getLength () {\n    return this.length_;\n  };\n\n  /**\n   * @module ol/render/webgl/PolygonReplay\n   */\n\n\n  /**\n   * @typedef {Object} PolygonVertex\n   * @property {number} x\n   * @property {number} y\n   * @property {number} i\n   * @property {boolean} [reflex]\n   */\n\n  /**\n   * @typedef {Object} PolygonSegment\n   * @property {PolygonVertex} p0\n   * @property {PolygonVertex} p1\n   */\n\n\n  var WebGLPolygonReplay = /*@__PURE__*/(function (WebGLReplay$$1) {\n    function WebGLPolygonReplay(tolerance, maxExtent) {\n      WebGLReplay$$1.call(this, tolerance, maxExtent);\n\n      this.lineStringReplay = new WebGLLineStringReplay(\n        tolerance, maxExtent);\n\n      /**\n       * @private\n       * @type {import(\"./polygonreplay/defaultshader/Locations.js\").default}\n       */\n      this.defaultLocations_ = null;\n\n      /**\n       * @private\n       * @type {Array<Array<number>>}\n       */\n      this.styles_ = [];\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.styleIndices_ = [];\n\n      /**\n       * @private\n       * @type {{fillColor: (Array<number>|null),\n       *         changed: boolean}|null}\n       */\n      this.state_ = {\n        fillColor: null,\n        changed: false\n      };\n\n    }\n\n    if ( WebGLReplay$$1 ) WebGLPolygonReplay.__proto__ = WebGLReplay$$1;\n    WebGLPolygonReplay.prototype = Object.create( WebGLReplay$$1 && WebGLReplay$$1.prototype );\n    WebGLPolygonReplay.prototype.constructor = WebGLPolygonReplay;\n\n    /**\n     * Draw one polygon.\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {Array<Array<number>>} holeFlatCoordinates Hole flat coordinates.\n     * @param {number} stride Stride.\n     * @private\n     */\n    WebGLPolygonReplay.prototype.drawCoordinates_ = function drawCoordinates_ (flatCoordinates, holeFlatCoordinates, stride) {\n      // Triangulate the polygon\n      var outerRing = new LinkedList();\n      var rtree = new RBush();\n      // Initialize the outer ring\n      this.processFlatCoordinates_(flatCoordinates, stride, outerRing, rtree, true);\n      var maxCoords = this.getMaxCoords_(outerRing);\n\n      // Eliminate holes, if there are any\n      if (holeFlatCoordinates.length) {\n        var i, ii;\n        var holeLists = [];\n        for (i = 0, ii = holeFlatCoordinates.length; i < ii; ++i) {\n          var holeList = {\n            list: new LinkedList(),\n            maxCoords: undefined,\n            rtree: new RBush()\n          };\n          holeLists.push(holeList);\n          this.processFlatCoordinates_(holeFlatCoordinates[i],\n            stride, holeList.list, holeList.rtree, false);\n          this.classifyPoints_(holeList.list, holeList.rtree, true);\n          holeList.maxCoords = this.getMaxCoords_(holeList.list);\n        }\n        holeLists.sort(function(a, b) {\n          return b.maxCoords[0] === a.maxCoords[0] ?\n            a.maxCoords[1] - b.maxCoords[1] : b.maxCoords[0] - a.maxCoords[0];\n        });\n        for (i = 0; i < holeLists.length; ++i) {\n          var currList = holeLists[i].list;\n          var start = currList.firstItem();\n          var currItem = start;\n          var intersection = (void 0);\n          do {\n            //TODO: Triangulate holes when they intersect the outer ring.\n            if (this.getIntersections_(currItem, rtree).length) {\n              intersection = true;\n              break;\n            }\n            currItem = currList.nextItem();\n          } while (start !== currItem);\n          if (!intersection) {\n            if (this.bridgeHole_(currList, holeLists[i].maxCoords[0], outerRing, maxCoords[0], rtree)) {\n              rtree.concat(holeLists[i].rtree);\n              this.classifyPoints_(outerRing, rtree, false);\n            }\n          }\n        }\n      } else {\n        this.classifyPoints_(outerRing, rtree, false);\n      }\n      this.triangulate_(outerRing, rtree);\n    };\n\n    /**\n     * Inserts flat coordinates in a linked list and adds them to the vertex buffer.\n     * @private\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} stride Stride.\n     * @param {import(\"../../structs/LinkedList.js\").default} list Linked list.\n     * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n     * @param {boolean} clockwise Coordinate order should be clockwise.\n     */\n    WebGLPolygonReplay.prototype.processFlatCoordinates_ = function processFlatCoordinates_ (flatCoordinates, stride, list, rtree, clockwise) {\n      var isClockwise = linearRingIsClockwise(flatCoordinates,\n        0, flatCoordinates.length, stride);\n      var i, ii;\n      var n = this.vertices.length / 2;\n      /** @type {PolygonVertex} */\n      var start;\n      /** @type {PolygonVertex} */\n      var p0;\n      /** @type {PolygonVertex} */\n      var p1;\n      var extents = [];\n      var segments = [];\n      if (clockwise === isClockwise) {\n        start = this.createPoint_(flatCoordinates[0], flatCoordinates[1], n++);\n        p0 = start;\n        for (i = stride, ii = flatCoordinates.length; i < ii; i += stride) {\n          p1 = this.createPoint_(flatCoordinates[i], flatCoordinates[i + 1], n++);\n          segments.push(this.insertItem_(p0, p1, list));\n          extents.push([Math.min(p0.x, p1.x), Math.min(p0.y, p1.y), Math.max(p0.x, p1.x),\n            Math.max(p0.y, p1.y)]);\n          p0 = p1;\n        }\n        segments.push(this.insertItem_(p1, start, list));\n        extents.push([Math.min(p0.x, p1.x), Math.min(p0.y, p1.y), Math.max(p0.x, p1.x),\n          Math.max(p0.y, p1.y)]);\n      } else {\n        var end = flatCoordinates.length - stride;\n        start = this.createPoint_(flatCoordinates[end], flatCoordinates[end + 1], n++);\n        p0 = start;\n        for (i = end - stride, ii = 0; i >= ii; i -= stride) {\n          p1 = this.createPoint_(flatCoordinates[i], flatCoordinates[i + 1], n++);\n          segments.push(this.insertItem_(p0, p1, list));\n          extents.push([Math.min(p0.x, p1.x), Math.min(p0.y, p1.y), Math.max(p0.x, p1.x),\n            Math.max(p0.y, p1.y)]);\n          p0 = p1;\n        }\n        segments.push(this.insertItem_(p1, start, list));\n        extents.push([Math.min(p0.x, p1.x), Math.min(p0.y, p1.y), Math.max(p0.x, p1.x),\n          Math.max(p0.y, p1.y)]);\n      }\n      rtree.load(extents, segments);\n    };\n\n    /**\n     * Returns the rightmost coordinates of a polygon on the X axis.\n     * @private\n     * @param {import(\"../../structs/LinkedList.js\").default} list Polygons ring.\n     * @return {Array<number>} Max X coordinates.\n     */\n    WebGLPolygonReplay.prototype.getMaxCoords_ = function getMaxCoords_ (list) {\n      var start = list.firstItem();\n      var seg = start;\n      var maxCoords = [seg.p0.x, seg.p0.y];\n\n      do {\n        seg = list.nextItem();\n        if (seg.p0.x > maxCoords[0]) {\n          maxCoords = [seg.p0.x, seg.p0.y];\n        }\n      } while (seg !== start);\n\n      return maxCoords;\n    };\n\n    /**\n     * Classifies the points of a polygon list as convex, reflex. Removes collinear vertices.\n     * @private\n     * @param {import(\"../../structs/LinkedList.js\").default} list Polygon ring.\n     * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n     * @param {boolean} ccw The orientation of the polygon is counter-clockwise.\n     * @return {boolean} There were reclassified points.\n     */\n    WebGLPolygonReplay.prototype.classifyPoints_ = function classifyPoints_ (list, rtree, ccw) {\n      var start = list.firstItem();\n      var s0 = start;\n      var s1 = list.nextItem();\n      var pointsReclassified = false;\n      do {\n        var reflex = ccw ? triangleIsCounterClockwise(s1.p1.x,\n          s1.p1.y, s0.p1.x, s0.p1.y, s0.p0.x, s0.p0.y) :\n          triangleIsCounterClockwise(s0.p0.x, s0.p0.y, s0.p1.x,\n            s0.p1.y, s1.p1.x, s1.p1.y);\n        if (reflex === undefined) {\n          this.removeItem_(s0, s1, list, rtree);\n          pointsReclassified = true;\n          if (s1 === start) {\n            start = list.getNextItem();\n          }\n          s1 = s0;\n          list.prevItem();\n        } else if (s0.p1.reflex !== reflex) {\n          s0.p1.reflex = reflex;\n          pointsReclassified = true;\n        }\n        s0 = s1;\n        s1 = list.nextItem();\n      } while (s0 !== start);\n      return pointsReclassified;\n    };\n\n    /**\n     * @private\n     * @param {import(\"../../structs/LinkedList.js\").default} hole Linked list of the hole.\n     * @param {number} holeMaxX Maximum X value of the hole.\n     * @param {import(\"../../structs/LinkedList.js\").default} list Linked list of the polygon.\n     * @param {number} listMaxX Maximum X value of the polygon.\n     * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n     * @return {boolean} Bridging was successful.\n     */\n    WebGLPolygonReplay.prototype.bridgeHole_ = function bridgeHole_ (hole, holeMaxX, list, listMaxX, rtree) {\n      var seg = hole.firstItem();\n      while (seg.p1.x !== holeMaxX) {\n        seg = hole.nextItem();\n      }\n\n      var p1 = seg.p1;\n      /** @type {PolygonVertex} */\n      var p2 = {x: listMaxX, y: p1.y, i: -1};\n      var minDist = Infinity;\n      var i, ii, bestPoint;\n      /** @type {PolygonVertex} */\n      var p5;\n\n      var intersectingSegments = this.getIntersections_({p0: p1, p1: p2}, rtree, true);\n      for (i = 0, ii = intersectingSegments.length; i < ii; ++i) {\n        var currSeg = intersectingSegments[i];\n        var intersection = this.calculateIntersection_(p1, p2, currSeg.p0,\n          currSeg.p1, true);\n        var dist = Math.abs(p1.x - intersection[0]);\n        if (dist < minDist && triangleIsCounterClockwise(p1.x, p1.y,\n          currSeg.p0.x, currSeg.p0.y, currSeg.p1.x, currSeg.p1.y) !== undefined) {\n          minDist = dist;\n          p5 = {x: intersection[0], y: intersection[1], i: -1};\n          seg = currSeg;\n        }\n      }\n      if (minDist === Infinity) {\n        return false;\n      }\n      bestPoint = seg.p1;\n\n      if (minDist > 0) {\n        var pointsInTriangle = this.getPointsInTriangle_(p1, p5, seg.p1, rtree);\n        if (pointsInTriangle.length) {\n          var theta = Infinity;\n          for (i = 0, ii = pointsInTriangle.length; i < ii; ++i) {\n            var currPoint = pointsInTriangle[i];\n            var currTheta = Math.atan2(p1.y - currPoint.y, p2.x - currPoint.x);\n            if (currTheta < theta || (currTheta === theta && currPoint.x < bestPoint.x)) {\n              theta = currTheta;\n              bestPoint = currPoint;\n            }\n          }\n        }\n      }\n\n      seg = list.firstItem();\n      while (seg.p1.x !== bestPoint.x || seg.p1.y !== bestPoint.y) {\n        seg = list.nextItem();\n      }\n\n      //We clone the bridge points as they can have different convexity.\n      var p0Bridge = {x: p1.x, y: p1.y, i: p1.i, reflex: undefined};\n      var p1Bridge = {x: seg.p1.x, y: seg.p1.y, i: seg.p1.i, reflex: undefined};\n\n      hole.getNextItem().p0 = p0Bridge;\n      this.insertItem_(p1, seg.p1, hole, rtree);\n      this.insertItem_(p1Bridge, p0Bridge, hole, rtree);\n      seg.p1 = p1Bridge;\n      hole.setFirstItem();\n      list.concat(hole);\n\n      return true;\n    };\n\n    /**\n     * @private\n     * @param {import(\"../../structs/LinkedList.js\").default} list Linked list of the polygon.\n     * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n     */\n    WebGLPolygonReplay.prototype.triangulate_ = function triangulate_ (list, rtree) {\n      var ccw = false;\n      var simple = this.isSimple_(list, rtree);\n\n      // Start clipping ears\n      while (list.getLength() > 3) {\n        if (simple) {\n          if (!this.clipEars_(list, rtree, simple, ccw)) {\n            if (!this.classifyPoints_(list, rtree, ccw)) {\n              // Due to the behavior of OL's PIP algorithm, the ear clipping cannot\n              // introduce touching segments. However, the original data may have some.\n              if (!this.resolveSelfIntersections_(list, rtree, true)) {\n                break;\n              }\n            }\n          }\n        } else {\n          if (!this.clipEars_(list, rtree, simple, ccw)) {\n            // We ran out of ears, try to reclassify.\n            if (!this.classifyPoints_(list, rtree, ccw)) {\n              // We have a bad polygon, try to resolve local self-intersections.\n              if (!this.resolveSelfIntersections_(list, rtree)) {\n                simple = this.isSimple_(list, rtree);\n                if (!simple) {\n                  // We have a really bad polygon, try more time consuming methods.\n                  this.splitPolygon_(list, rtree);\n                  break;\n                } else {\n                  ccw = !this.isClockwise_(list);\n                  this.classifyPoints_(list, rtree, ccw);\n                }\n              }\n            }\n          }\n        }\n      }\n      if (list.getLength() === 3) {\n        var numIndices = this.indices.length;\n        this.indices[numIndices++] = list.getPrevItem().p0.i;\n        this.indices[numIndices++] = list.getCurrItem().p0.i;\n        this.indices[numIndices++] = list.getNextItem().p0.i;\n      }\n    };\n\n    /**\n     * @private\n     * @param {import(\"../../structs/LinkedList.js\").default} list Linked list of the polygon.\n     * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n     * @param {boolean} simple The polygon is simple.\n     * @param {boolean} ccw Orientation of the polygon is counter-clockwise.\n     * @return {boolean} There were processed ears.\n     */\n    WebGLPolygonReplay.prototype.clipEars_ = function clipEars_ (list, rtree, simple, ccw) {\n      var numIndices = this.indices.length;\n      var start = list.firstItem();\n      var s0 = list.getPrevItem();\n      var s1 = start;\n      var s2 = list.nextItem();\n      var s3 = list.getNextItem();\n      var p0, p1, p2;\n      var processedEars = false;\n      do {\n        p0 = s1.p0;\n        p1 = s1.p1;\n        p2 = s2.p1;\n        if (p1.reflex === false) {\n          // We might have a valid ear\n          var variableCriterion = (void 0);\n          if (simple) {\n            variableCriterion = this.getPointsInTriangle_(p0, p1, p2, rtree, true).length === 0;\n          } else {\n            variableCriterion = ccw ? this.diagonalIsInside_(s3.p1, p2, p1, p0,\n              s0.p0) : this.diagonalIsInside_(s0.p0, p0, p1, p2, s3.p1);\n          }\n          if ((simple || this.getIntersections_({p0: p0, p1: p2}, rtree).length === 0) &&\n              variableCriterion) {\n            //The diagonal is completely inside the polygon\n            if (simple || p0.reflex === false || p2.reflex === false ||\n                linearRingIsClockwise([s0.p0.x, s0.p0.y, p0.x,\n                  p0.y, p1.x, p1.y, p2.x, p2.y, s3.p1.x, s3.p1.y], 0, 10, 2) === !ccw) {\n              //The diagonal is persumably valid, we have an ear\n              this.indices[numIndices++] = p0.i;\n              this.indices[numIndices++] = p1.i;\n              this.indices[numIndices++] = p2.i;\n              this.removeItem_(s1, s2, list, rtree);\n              if (s2 === start) {\n                start = s3;\n              }\n              processedEars = true;\n            }\n          }\n        }\n        // Else we have a reflex point.\n        s0 = list.getPrevItem();\n        s1 = list.getCurrItem();\n        s2 = list.nextItem();\n        s3 = list.getNextItem();\n      } while (s1 !== start && list.getLength() > 3);\n\n      return processedEars;\n    };\n\n    /**\n     * @private\n     * @param {import(\"../../structs/LinkedList.js\").default} list Linked list of the polygon.\n     * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n     * @param {boolean=} opt_touch Resolve touching segments.\n     * @return {boolean} There were resolved intersections.\n    */\n    WebGLPolygonReplay.prototype.resolveSelfIntersections_ = function resolveSelfIntersections_ (list, rtree, opt_touch) {\n      var start = list.firstItem();\n      list.nextItem();\n      var s0 = start;\n      var s1 = list.nextItem();\n      var resolvedIntersections = false;\n\n      do {\n        var intersection = this.calculateIntersection_(s0.p0, s0.p1, s1.p0, s1.p1,\n          opt_touch);\n        if (intersection) {\n          var breakCond = false;\n          var numVertices = this.vertices.length;\n          var numIndices = this.indices.length;\n          var n = numVertices / 2;\n          var seg = list.prevItem();\n          list.removeItem();\n          rtree.remove(seg);\n          breakCond = (seg === start);\n          var p = (void 0);\n          if (opt_touch) {\n            if (intersection[0] === s0.p0.x && intersection[1] === s0.p0.y) {\n              list.prevItem();\n              p = s0.p0;\n              s1.p0 = p;\n              rtree.remove(s0);\n              breakCond = breakCond || (s0 === start);\n            } else {\n              p = s1.p1;\n              s0.p1 = p;\n              rtree.remove(s1);\n              breakCond = breakCond || (s1 === start);\n            }\n            list.removeItem();\n          } else {\n            p = this.createPoint_(intersection[0], intersection[1], n);\n            s0.p1 = p;\n            s1.p0 = p;\n            rtree.update([Math.min(s0.p0.x, s0.p1.x), Math.min(s0.p0.y, s0.p1.y),\n              Math.max(s0.p0.x, s0.p1.x), Math.max(s0.p0.y, s0.p1.y)], s0);\n            rtree.update([Math.min(s1.p0.x, s1.p1.x), Math.min(s1.p0.y, s1.p1.y),\n              Math.max(s1.p0.x, s1.p1.x), Math.max(s1.p0.y, s1.p1.y)], s1);\n          }\n\n          this.indices[numIndices++] = seg.p0.i;\n          this.indices[numIndices++] = seg.p1.i;\n          this.indices[numIndices++] = p.i;\n\n          resolvedIntersections = true;\n          if (breakCond) {\n            break;\n          }\n        }\n\n        s0 = list.getPrevItem();\n        s1 = list.nextItem();\n      } while (s0 !== start);\n      return resolvedIntersections;\n    };\n\n    /**\n     * @private\n     * @param {import(\"../../structs/LinkedList.js\").default} list Linked list of the polygon.\n     * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n     * @return {boolean} The polygon is simple.\n     */\n    WebGLPolygonReplay.prototype.isSimple_ = function isSimple_ (list, rtree) {\n      var start = list.firstItem();\n      var seg = start;\n      do {\n        if (this.getIntersections_(seg, rtree).length) {\n          return false;\n        }\n        seg = list.nextItem();\n      } while (seg !== start);\n      return true;\n    };\n\n    /**\n     * @private\n     * @param {import(\"../../structs/LinkedList.js\").default} list Linked list of the polygon.\n     * @return {boolean} Orientation is clockwise.\n     */\n    WebGLPolygonReplay.prototype.isClockwise_ = function isClockwise_ (list) {\n      var length = list.getLength() * 2;\n      var flatCoordinates = new Array(length);\n      var start = list.firstItem();\n      var seg = start;\n      var i = 0;\n      do {\n        flatCoordinates[i++] = seg.p0.x;\n        flatCoordinates[i++] = seg.p0.y;\n        seg = list.nextItem();\n      } while (seg !== start);\n      return linearRingIsClockwise(flatCoordinates, 0, length, 2);\n    };\n\n    /**\n     * @private\n     * @param {import(\"../../structs/LinkedList.js\").default} list Linked list of the polygon.\n     * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n     */\n    WebGLPolygonReplay.prototype.splitPolygon_ = function splitPolygon_ (list, rtree) {\n      var start = list.firstItem();\n      var s0 = start;\n      do {\n        var intersections = this.getIntersections_(s0, rtree);\n        if (intersections.length) {\n          var s1 = intersections[0];\n          var n = this.vertices.length / 2;\n          var intersection = this.calculateIntersection_(s0.p0,\n            s0.p1, s1.p0, s1.p1);\n          var p = this.createPoint_(intersection[0], intersection[1], n);\n          var newPolygon = new LinkedList();\n          var newRtree = new RBush();\n          this.insertItem_(p, s0.p1, newPolygon, newRtree);\n          s0.p1 = p;\n          rtree.update([Math.min(s0.p0.x, p.x), Math.min(s0.p0.y, p.y),\n            Math.max(s0.p0.x, p.x), Math.max(s0.p0.y, p.y)], s0);\n          var currItem = list.nextItem();\n          while (currItem !== s1) {\n            this.insertItem_(currItem.p0, currItem.p1, newPolygon, newRtree);\n            rtree.remove(currItem);\n            list.removeItem();\n            currItem = list.getCurrItem();\n          }\n          this.insertItem_(s1.p0, p, newPolygon, newRtree);\n          s1.p0 = p;\n          rtree.update([Math.min(s1.p1.x, p.x), Math.min(s1.p1.y, p.y),\n            Math.max(s1.p1.x, p.x), Math.max(s1.p1.y, p.y)], s1);\n          this.classifyPoints_(list, rtree, false);\n          this.triangulate_(list, rtree);\n          this.classifyPoints_(newPolygon, newRtree, false);\n          this.triangulate_(newPolygon, newRtree);\n          break;\n        }\n        s0 = list.nextItem();\n      } while (s0 !== start);\n    };\n\n    /**\n     * @private\n     * @param {number} x X coordinate.\n     * @param {number} y Y coordinate.\n     * @param {number} i Index.\n     * @return {PolygonVertex} List item.\n     */\n    WebGLPolygonReplay.prototype.createPoint_ = function createPoint_ (x, y, i) {\n      var numVertices = this.vertices.length;\n      this.vertices[numVertices++] = x;\n      this.vertices[numVertices++] = y;\n      /** @type {PolygonVertex} */\n      var p = {\n        x: x,\n        y: y,\n        i: i,\n        reflex: undefined\n      };\n      return p;\n    };\n\n    /**\n     * @private\n     * @param {PolygonVertex} p0 First point of segment.\n     * @param {PolygonVertex} p1 Second point of segment.\n     * @param {import(\"../../structs/LinkedList.js\").default} list Polygon ring.\n     * @param {import(\"../../structs/RBush.js\").default=} opt_rtree Insert the segment into the R-Tree.\n     * @return {PolygonSegment} segment.\n     */\n    WebGLPolygonReplay.prototype.insertItem_ = function insertItem_ (p0, p1, list, opt_rtree) {\n      var seg = {\n        p0: p0,\n        p1: p1\n      };\n      list.insertItem(seg);\n      if (opt_rtree) {\n        opt_rtree.insert([Math.min(p0.x, p1.x), Math.min(p0.y, p1.y),\n          Math.max(p0.x, p1.x), Math.max(p0.y, p1.y)], seg);\n      }\n      return seg;\n    };\n\n    /**\n      * @private\n      * @param {PolygonSegment} s0 Segment before the remove candidate.\n      * @param {PolygonSegment} s1 Remove candidate segment.\n      * @param {import(\"../../structs/LinkedList.js\").default} list Polygon ring.\n      * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n      */\n    WebGLPolygonReplay.prototype.removeItem_ = function removeItem_ (s0, s1, list, rtree) {\n      if (list.getCurrItem() === s1) {\n        list.removeItem();\n        s0.p1 = s1.p1;\n        rtree.remove(s1);\n        rtree.update([Math.min(s0.p0.x, s0.p1.x), Math.min(s0.p0.y, s0.p1.y),\n          Math.max(s0.p0.x, s0.p1.x), Math.max(s0.p0.y, s0.p1.y)], s0);\n      }\n    };\n\n    /**\n     * @private\n     * @param {PolygonVertex} p0 First point.\n     * @param {PolygonVertex} p1 Second point.\n     * @param {PolygonVertex} p2 Third point.\n     * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n     * @param {boolean=} opt_reflex Only include reflex points.\n     * @return {Array<PolygonVertex>} Points in the triangle.\n     */\n    WebGLPolygonReplay.prototype.getPointsInTriangle_ = function getPointsInTriangle_ (p0, p1, p2, rtree, opt_reflex) {\n      var result = [];\n      var segmentsInExtent = rtree.getInExtent([Math.min(p0.x, p1.x, p2.x),\n        Math.min(p0.y, p1.y, p2.y), Math.max(p0.x, p1.x, p2.x), Math.max(p0.y,\n          p1.y, p2.y)]);\n      for (var i = 0, ii = segmentsInExtent.length; i < ii; ++i) {\n        for (var j in segmentsInExtent[i]) {\n          var p = segmentsInExtent[i][j];\n          if (typeof p === 'object' && (!opt_reflex || p.reflex)) {\n            if ((p.x !== p0.x || p.y !== p0.y) && (p.x !== p1.x || p.y !== p1.y) &&\n                (p.x !== p2.x || p.y !== p2.y) && result.indexOf(p) === -1 &&\n                linearRingContainsXY([p0.x, p0.y, p1.x, p1.y, p2.x, p2.y], 0, 6, 2, p.x, p.y)) {\n              result.push(p);\n            }\n          }\n        }\n      }\n      return result;\n    };\n\n    /**\n     * @private\n     * @param {PolygonSegment} segment Segment.\n     * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n     * @param {boolean=} opt_touch Touching segments should be considered an intersection.\n     * @return {Array<PolygonSegment>} Intersecting segments.\n     */\n    WebGLPolygonReplay.prototype.getIntersections_ = function getIntersections_ (segment, rtree, opt_touch) {\n      var p0 = segment.p0;\n      var p1 = segment.p1;\n      var segmentsInExtent = rtree.getInExtent([Math.min(p0.x, p1.x),\n        Math.min(p0.y, p1.y), Math.max(p0.x, p1.x), Math.max(p0.y, p1.y)]);\n      var result = [];\n      for (var i = 0, ii = segmentsInExtent.length; i < ii; ++i) {\n        var currSeg = segmentsInExtent[i];\n        if (segment !== currSeg && (opt_touch || currSeg.p0 !== p1 || currSeg.p1 !== p0) &&\n            this.calculateIntersection_(p0, p1, currSeg.p0, currSeg.p1, opt_touch)) {\n          result.push(currSeg);\n        }\n      }\n      return result;\n    };\n\n    /**\n     * Line intersection algorithm by Paul Bourke.\n     * See http://paulbourke.net/geometry/pointlineplane/.\n     *\n     * @private\n     * @param {PolygonVertex} p0 First point.\n     * @param {PolygonVertex} p1 Second point.\n     * @param {PolygonVertex} p2 Third point.\n     * @param {PolygonVertex} p3 Fourth point.\n     * @param {boolean=} opt_touch Touching segments should be considered an intersection.\n     * @return {Array<number>|undefined} Intersection coordinates.\n     */\n    WebGLPolygonReplay.prototype.calculateIntersection_ = function calculateIntersection_ (p0, p1, p2, p3, opt_touch) {\n      var denom = (p3.y - p2.y) * (p1.x - p0.x) - (p3.x - p2.x) * (p1.y - p0.y);\n      if (denom !== 0) {\n        var ua = ((p3.x - p2.x) * (p0.y - p2.y) - (p3.y - p2.y) * (p0.x - p2.x)) / denom;\n        var ub = ((p1.x - p0.x) * (p0.y - p2.y) - (p1.y - p0.y) * (p0.x - p2.x)) / denom;\n        if ((!opt_touch && ua > EPSILON && ua < 1 - EPSILON &&\n            ub > EPSILON && ub < 1 - EPSILON) || (opt_touch &&\n            ua >= 0 && ua <= 1 && ub >= 0 && ub <= 1)) {\n          return [p0.x + ua * (p1.x - p0.x), p0.y + ua * (p1.y - p0.y)];\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * @private\n     * @param {PolygonVertex} p0 Point before the start of the diagonal.\n     * @param {PolygonVertex} p1 Start point of the diagonal.\n     * @param {PolygonVertex} p2 Ear candidate.\n     * @param {PolygonVertex} p3 End point of the diagonal.\n     * @param {PolygonVertex} p4 Point after the end of the diagonal.\n     * @return {boolean} Diagonal is inside the polygon.\n     */\n    WebGLPolygonReplay.prototype.diagonalIsInside_ = function diagonalIsInside_ (p0, p1, p2, p3, p4) {\n      if (p1.reflex === undefined || p3.reflex === undefined) {\n        return false;\n      }\n      var p1IsLeftOf = (p2.x - p3.x) * (p1.y - p3.y) > (p2.y - p3.y) * (p1.x - p3.x);\n      var p1IsRightOf = (p4.x - p3.x) * (p1.y - p3.y) < (p4.y - p3.y) * (p1.x - p3.x);\n      var p3IsLeftOf = (p0.x - p1.x) * (p3.y - p1.y) > (p0.y - p1.y) * (p3.x - p1.x);\n      var p3IsRightOf = (p2.x - p1.x) * (p3.y - p1.y) < (p2.y - p1.y) * (p3.x - p1.x);\n      var p1InCone = p3.reflex ? p1IsRightOf || p1IsLeftOf : p1IsRightOf && p1IsLeftOf;\n      var p3InCone = p1.reflex ? p3IsRightOf || p3IsLeftOf : p3IsRightOf && p3IsLeftOf;\n      return p1InCone && p3InCone;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLPolygonReplay.prototype.drawMultiPolygon = function drawMultiPolygon (multiPolygonGeometry, feature) {\n      var endss = multiPolygonGeometry.getEndss();\n      var stride = multiPolygonGeometry.getStride();\n      var currIndex = this.indices.length;\n      var currLineIndex = this.lineStringReplay.getCurrentIndex();\n      var flatCoordinates = multiPolygonGeometry.getFlatCoordinates();\n      var i, ii, j, jj;\n      var start = 0;\n      for (i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        if (ends.length > 0) {\n          var outerRing = translate(flatCoordinates, start, ends[0],\n            stride, -this.origin[0], -this.origin[1]);\n          if (outerRing.length) {\n            var holes = [];\n            var holeFlatCoords = (void 0);\n            for (j = 1, jj = ends.length; j < jj; ++j) {\n              if (ends[j] !== ends[j - 1]) {\n                holeFlatCoords = translate(flatCoordinates, ends[j - 1],\n                  ends[j], stride, -this.origin[0], -this.origin[1]);\n                holes.push(holeFlatCoords);\n              }\n            }\n            this.lineStringReplay.drawPolygonCoordinates(outerRing, holes, stride);\n            this.drawCoordinates_(outerRing, holes, stride);\n          }\n        }\n        start = ends[ends.length - 1];\n      }\n      if (this.indices.length > currIndex) {\n        this.startIndices.push(currIndex);\n        this.startIndicesFeature.push(feature);\n        if (this.state_.changed) {\n          this.styleIndices_.push(currIndex);\n          this.state_.changed = false;\n        }\n      }\n      if (this.lineStringReplay.getCurrentIndex() > currLineIndex) {\n        this.lineStringReplay.setPolygonStyle(feature, currLineIndex);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLPolygonReplay.prototype.drawPolygon = function drawPolygon (polygonGeometry, feature) {\n      var ends = polygonGeometry.getEnds();\n      var stride = polygonGeometry.getStride();\n      if (ends.length > 0) {\n        var flatCoordinates = polygonGeometry.getFlatCoordinates().map(Number);\n        var outerRing = translate(flatCoordinates, 0, ends[0],\n          stride, -this.origin[0], -this.origin[1]);\n        if (outerRing.length) {\n          var holes = [];\n          var i, ii, holeFlatCoords;\n          for (i = 1, ii = ends.length; i < ii; ++i) {\n            if (ends[i] !== ends[i - 1]) {\n              holeFlatCoords = translate(flatCoordinates, ends[i - 1],\n                ends[i], stride, -this.origin[0], -this.origin[1]);\n              holes.push(holeFlatCoords);\n            }\n          }\n\n          this.startIndices.push(this.indices.length);\n          this.startIndicesFeature.push(feature);\n          if (this.state_.changed) {\n            this.styleIndices_.push(this.indices.length);\n            this.state_.changed = false;\n          }\n          this.lineStringReplay.setPolygonStyle(feature);\n\n          this.lineStringReplay.drawPolygonCoordinates(outerRing, holes, stride);\n          this.drawCoordinates_(outerRing, holes, stride);\n        }\n      }\n    };\n\n    /**\n     * @inheritDoc\n     **/\n    WebGLPolygonReplay.prototype.finish = function finish (context) {\n      // create, bind, and populate the vertices buffer\n      this.verticesBuffer = new WebGLBuffer(this.vertices);\n\n      // create, bind, and populate the indices buffer\n      this.indicesBuffer = new WebGLBuffer(this.indices);\n\n      this.startIndices.push(this.indices.length);\n\n      this.lineStringReplay.finish(context);\n\n      //Clean up, if there is nothing to draw\n      if (this.styleIndices_.length === 0 && this.styles_.length > 0) {\n        this.styles_ = [];\n      }\n\n      this.vertices = null;\n      this.indices = null;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLPolygonReplay.prototype.getDeleteResourcesFunction = function getDeleteResourcesFunction (context) {\n      var verticesBuffer = this.verticesBuffer;\n      var indicesBuffer = this.indicesBuffer;\n      var lineDeleter = this.lineStringReplay.getDeleteResourcesFunction(context);\n      return function() {\n        context.deleteBuffer(verticesBuffer);\n        context.deleteBuffer(indicesBuffer);\n        lineDeleter();\n      };\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLPolygonReplay.prototype.setUpProgram = function setUpProgram (gl, context, size, pixelRatio) {\n      // get the program\n      var program = context.getProgram(fragment$3, vertex$3);\n\n      // get the locations\n      var locations;\n      if (!this.defaultLocations_) {\n        locations = new Locations$3(gl, program);\n        this.defaultLocations_ = locations;\n      } else {\n        locations = this.defaultLocations_;\n      }\n\n      context.useProgram(program);\n\n      // enable the vertex attrib arrays\n      gl.enableVertexAttribArray(locations.a_position);\n      gl.vertexAttribPointer(locations.a_position, 2, FLOAT,\n        false, 8, 0);\n\n      return locations;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLPolygonReplay.prototype.shutDownProgram = function shutDownProgram (gl, locations) {\n      gl.disableVertexAttribArray(locations.a_position);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLPolygonReplay.prototype.drawReplay = function drawReplay (gl, context, skippedFeaturesHash, hitDetection) {\n      //Save GL parameters.\n      var tmpDepthFunc = /** @type {number} */ (gl.getParameter(gl.DEPTH_FUNC));\n      var tmpDepthMask = /** @type {boolean} */ (gl.getParameter(gl.DEPTH_WRITEMASK));\n\n      if (!hitDetection) {\n        gl.enable(gl.DEPTH_TEST);\n        gl.depthMask(true);\n        gl.depthFunc(gl.NOTEQUAL);\n      }\n\n      if (!isEmpty(skippedFeaturesHash)) {\n        this.drawReplaySkipping_(gl, context, skippedFeaturesHash);\n      } else {\n        //Draw by style groups to minimize drawElements() calls.\n        var i, start, end, nextStyle;\n        end = this.startIndices[this.startIndices.length - 1];\n        for (i = this.styleIndices_.length - 1; i >= 0; --i) {\n          start = this.styleIndices_[i];\n          nextStyle = this.styles_[i];\n          this.setFillStyle_(gl, nextStyle);\n          this.drawElements(gl, context, start, end);\n          end = start;\n        }\n      }\n      if (!hitDetection) {\n        gl.disable(gl.DEPTH_TEST);\n        gl.clear(gl.DEPTH_BUFFER_BIT);\n        //Restore GL parameters.\n        gl.depthMask(tmpDepthMask);\n        gl.depthFunc(tmpDepthFunc);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLPolygonReplay.prototype.drawHitDetectionReplayOneByOne = function drawHitDetectionReplayOneByOne (gl, context, skippedFeaturesHash, featureCallback, opt_hitExtent) {\n      var i, start, end, nextStyle, groupStart, feature, featureIndex;\n      featureIndex = this.startIndices.length - 2;\n      end = this.startIndices[featureIndex + 1];\n      for (i = this.styleIndices_.length - 1; i >= 0; --i) {\n        nextStyle = this.styles_[i];\n        this.setFillStyle_(gl, nextStyle);\n        groupStart = this.styleIndices_[i];\n\n        while (featureIndex >= 0 &&\n            this.startIndices[featureIndex] >= groupStart) {\n          start = this.startIndices[featureIndex];\n          feature = this.startIndicesFeature[featureIndex];\n\n          if (skippedFeaturesHash[getUid(feature)] === undefined &&\n              feature.getGeometry() &&\n              (opt_hitExtent === undefined || intersects(\n                /** @type {Array<number>} */ (opt_hitExtent),\n                feature.getGeometry().getExtent()))) {\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n            this.drawElements(gl, context, start, end);\n\n            var result = featureCallback(feature);\n\n            if (result) {\n              return result;\n            }\n\n          }\n          featureIndex--;\n          end = start;\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * @private\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {Object} skippedFeaturesHash Ids of features to skip.\n     */\n    WebGLPolygonReplay.prototype.drawReplaySkipping_ = function drawReplaySkipping_ (gl, context, skippedFeaturesHash) {\n      var i, start, end, nextStyle, groupStart, feature, featureIndex, featureStart;\n      featureIndex = this.startIndices.length - 2;\n      end = start = this.startIndices[featureIndex + 1];\n      for (i = this.styleIndices_.length - 1; i >= 0; --i) {\n        nextStyle = this.styles_[i];\n        this.setFillStyle_(gl, nextStyle);\n        groupStart = this.styleIndices_[i];\n\n        while (featureIndex >= 0 &&\n            this.startIndices[featureIndex] >= groupStart) {\n          featureStart = this.startIndices[featureIndex];\n          feature = this.startIndicesFeature[featureIndex];\n\n          if (skippedFeaturesHash[getUid(feature)]) {\n            if (start !== end) {\n              this.drawElements(gl, context, start, end);\n              gl.clear(gl.DEPTH_BUFFER_BIT);\n            }\n            end = featureStart;\n          }\n          featureIndex--;\n          start = featureStart;\n        }\n        if (start !== end) {\n          this.drawElements(gl, context, start, end);\n          gl.clear(gl.DEPTH_BUFFER_BIT);\n        }\n        start = end = groupStart;\n      }\n    };\n\n    /**\n     * @private\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {Array<number>} color Color.\n     */\n    WebGLPolygonReplay.prototype.setFillStyle_ = function setFillStyle_ (gl, color) {\n      gl.uniform4fv(this.defaultLocations_.u_color, color);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLPolygonReplay.prototype.setFillStrokeStyle = function setFillStrokeStyle (fillStyle, strokeStyle) {\n      var fillStyleColor = fillStyle ? fillStyle.getColor() : [0, 0, 0, 0];\n      if (!(fillStyleColor instanceof CanvasGradient) &&\n          !(fillStyleColor instanceof CanvasPattern)) {\n        fillStyleColor = asArray(fillStyleColor).map(function(c, i) {\n          return i != 3 ? c / 255 : c;\n        }) || DEFAULT_FILLSTYLE;\n      } else {\n        fillStyleColor = DEFAULT_FILLSTYLE;\n      }\n      if (!this.state_.fillColor || !equals(fillStyleColor, this.state_.fillColor)) {\n        this.state_.fillColor = fillStyleColor;\n        this.state_.changed = true;\n        this.styles_.push(fillStyleColor);\n      }\n      //Provide a null stroke style, if no strokeStyle is provided. Required for the draw interaction to work.\n      if (strokeStyle) {\n        this.lineStringReplay.setFillStrokeStyle(null, strokeStyle);\n      } else {\n        var nullStrokeStyle = new Stroke({\n          color: [0, 0, 0, 0],\n          width: 0\n        });\n        this.lineStringReplay.setFillStrokeStyle(null, nullStrokeStyle);\n      }\n    };\n\n    return WebGLPolygonReplay;\n  }(WebGLReplay));\n\n  /**\n   * @module ol/style/Atlas\n   */\n\n\n  /**\n   * @typedef {Object} AtlasBlock\n   * @property {number} x\n   * @property {number} y\n   * @property {number} width\n   * @property {number} height\n   */\n\n  /**\n   * Provides information for an image inside an atlas.\n   * `offsetX` and `offsetY` are the position of the image inside the atlas image `image`.\n   * @typedef {Object} AtlasInfo\n   * @property {number} offsetX\n   * @property {number} offsetY\n   * @property {HTMLCanvasElement} image\n   */\n\n\n  /**\n   * @classesc\n   * This class facilitates the creation of image atlases.\n   *\n   * Images added to an atlas will be rendered onto a single\n   * atlas canvas. The distribution of images on the canvas is\n   * managed with the bin packing algorithm described in:\n   * http://www.blackpawn.com/texts/lightmaps/\n   *\n   * @param {number} size The size in pixels of the sprite image.\n   * @param {number} space The space in pixels between images.\n   *    Because texture coordinates are float values, the edges of\n   *    images might not be completely correct (in a way that the\n   *    edges overlap when being rendered). To avoid this we add a\n   *    padding around each image.\n   */\n  var Atlas = function Atlas(size, space) {\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.space_ = space;\n\n    /**\n     * @private\n     * @type {Array<AtlasBlock>}\n     */\n    this.emptyBlocks_ = [{x: 0, y: 0, width: size, height: size}];\n\n    /**\n     * @private\n     * @type {Object<string, AtlasInfo>}\n     */\n    this.entries_ = {};\n\n    /**\n     * @private\n     * @type {CanvasRenderingContext2D}\n     */\n    this.context_ = createCanvasContext2D(size, size);\n\n    /**\n     * @private\n     * @type {HTMLCanvasElement}\n     */\n    this.canvas_ = this.context_.canvas;\n  };\n\n  /**\n   * @param {string} id The identifier of the entry to check.\n   * @return {?AtlasInfo} The atlas info.\n   */\n  Atlas.prototype.get = function get (id) {\n    return this.entries_[id] || null;\n  };\n\n  /**\n   * @param {string} id The identifier of the entry to add.\n   * @param {number} width The width.\n   * @param {number} height The height.\n   * @param {function(CanvasRenderingContext2D, number, number)} renderCallback\n   *  Called to render the new image onto an atlas image.\n   * @param {Object=} opt_this Value to use as `this` when executing\n   *  `renderCallback`.\n   * @return {?AtlasInfo} The position and atlas image for the entry.\n   */\n  Atlas.prototype.add = function add (id, width, height, renderCallback, opt_this) {\n    for (var i = 0, ii = this.emptyBlocks_.length; i < ii; ++i) {\n      var block = this.emptyBlocks_[i];\n      if (block.width >= width + this.space_ &&\n          block.height >= height + this.space_) {\n        // we found a block that is big enough for our entry\n        var entry = {\n          offsetX: block.x + this.space_,\n          offsetY: block.y + this.space_,\n          image: this.canvas_\n        };\n        this.entries_[id] = entry;\n\n        // render the image on the atlas image\n        renderCallback.call(opt_this, this.context_,\n          block.x + this.space_, block.y + this.space_);\n\n        // split the block after the insertion, either horizontally or vertically\n        this.split_(i, block, width + this.space_, height + this.space_);\n\n        return entry;\n      }\n    }\n\n    // there is no space for the new entry in this atlas\n    return null;\n  };\n\n  /**\n   * @private\n   * @param {number} index The index of the block.\n   * @param {AtlasBlock} block The block to split.\n   * @param {number} width The width of the entry to insert.\n   * @param {number} height The height of the entry to insert.\n   */\n  Atlas.prototype.split_ = function split_ (index, block, width, height) {\n    var deltaWidth = block.width - width;\n    var deltaHeight = block.height - height;\n\n    /** @type {AtlasBlock} */\n    var newBlock1;\n    /** @type {AtlasBlock} */\n    var newBlock2;\n\n    if (deltaWidth > deltaHeight) {\n      // split vertically\n      // block right of the inserted entry\n      newBlock1 = {\n        x: block.x + width,\n        y: block.y,\n        width: block.width - width,\n        height: block.height\n      };\n\n      // block below the inserted entry\n      newBlock2 = {\n        x: block.x,\n        y: block.y + height,\n        width: width,\n        height: block.height - height\n      };\n      this.updateBlocks_(index, newBlock1, newBlock2);\n    } else {\n      // split horizontally\n      // block right of the inserted entry\n      newBlock1 = {\n        x: block.x + width,\n        y: block.y,\n        width: block.width - width,\n        height: height\n      };\n\n      // block below the inserted entry\n      newBlock2 = {\n        x: block.x,\n        y: block.y + height,\n        width: block.width,\n        height: block.height - height\n      };\n      this.updateBlocks_(index, newBlock1, newBlock2);\n    }\n  };\n\n  /**\n   * Remove the old block and insert new blocks at the same array position.\n   * The new blocks are inserted at the same position, so that splitted\n   * blocks (that are potentially smaller) are filled first.\n   * @private\n   * @param {number} index The index of the block to remove.\n   * @param {AtlasBlock} newBlock1 The 1st block to add.\n   * @param {AtlasBlock} newBlock2 The 2nd block to add.\n   */\n  Atlas.prototype.updateBlocks_ = function updateBlocks_ (index, newBlock1, newBlock2) {\n    var args = /** @type {Array<*>} */ ([index, 1]);\n    if (newBlock1.width > 0 && newBlock1.height > 0) {\n      args.push(newBlock1);\n    }\n    if (newBlock2.width > 0 && newBlock2.height > 0) {\n      args.push(newBlock2);\n    }\n    this.emptyBlocks_.splice.apply(this.emptyBlocks_, args);\n  };\n\n  /**\n   * @module ol/style/AtlasManager\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [initialSize=256] The size in pixels of the first atlas image.\n   * @property {number} [maxSize] The maximum size in pixels of atlas images. Default is\n   * `webgl/MAX_TEXTURE_SIZE` or 2048 if WebGL is not supported.\n   * @property {number} [space=1] The space in pixels between images.\n   */\n\n\n  /**\n   * Provides information for an image inside an atlas manager.\n   * `offsetX` and `offsetY` is the position of the image inside\n   * the atlas image `image` and the position of the hit-detection image\n   * inside the hit-detection atlas image `hitImage`.\n   * @typedef {Object} AtlasManagerInfo\n   * @property {number} offsetX\n   * @property {number} offsetY\n   * @property {HTMLCanvasElement} image\n   * @property {HTMLCanvasElement} hitImage\n   */\n\n\n  /**\n   * The size in pixels of the first atlas image.\n   * @type {number}\n   */\n  var INITIAL_ATLAS_SIZE = 256;\n\n\n  /**\n   * @classdesc\n   * Manages the creation of image atlases.\n   *\n   * Images added to this manager will be inserted into an atlas, which\n   * will be used for rendering.\n   * The `size` given in the constructor is the size for the first\n   * atlas. After that, when new atlases are created, they will have\n   * twice the size as the latest atlas (until `maxSize` is reached).\n   *\n   * If an application uses many images or very large images, it is recommended\n   * to set a higher `size` value to avoid the creation of too many atlases.\n   * @api\n   */\n  var AtlasManager = function AtlasManager(opt_options) {\n\n    var options = opt_options || {};\n\n    /**\n     * The size in pixels of the latest atlas image.\n     * @private\n     * @type {number}\n     */\n    this.currentSize_ = options.initialSize !== undefined ?\n      options.initialSize : INITIAL_ATLAS_SIZE;\n\n    /**\n     * The maximum size in pixels of atlas images.\n     * @private\n     * @type {number}\n     */\n    this.maxSize_ = options.maxSize !== undefined ?\n      options.maxSize : MAX_TEXTURE_SIZE !== undefined ?\n          MAX_TEXTURE_SIZE : 2048;\n\n    /**\n     * The size in pixels between images.\n     * @private\n     * @type {number}\n     */\n    this.space_ = options.space !== undefined ? options.space : 1;\n\n    /**\n     * @private\n     * @type {Array<import(\"./Atlas.js\").default>}\n     */\n    this.atlases_ = [new Atlas(this.currentSize_, this.space_)];\n\n    /**\n     * The size in pixels of the latest atlas image for hit-detection images.\n     * @private\n     * @type {number}\n     */\n    this.currentHitSize_ = this.currentSize_;\n\n    /**\n     * @private\n     * @type {Array<import(\"./Atlas.js\").default>}\n     */\n    this.hitAtlases_ = [new Atlas(this.currentHitSize_, this.space_)];\n  };\n\n  /**\n   * @param {string} id The identifier of the entry to check.\n   * @return {?AtlasManagerInfo} The position and atlas image for the\n   *  entry, or `null` if the entry is not part of the atlas manager.\n   */\n  AtlasManager.prototype.getInfo = function getInfo (id) {\n    /** @type {?import(\"./Atlas.js\").AtlasInfo} */\n    var info = this.getInfo_(this.atlases_, id);\n\n    if (!info) {\n      return null;\n    }\n    var hitInfo = /** @type {import(\"./Atlas.js\").AtlasInfo} */ (this.getInfo_(this.hitAtlases_, id));\n\n    return this.mergeInfos_(info, hitInfo);\n  };\n\n  /**\n   * @private\n   * @param {Array<import(\"./Atlas.js\").default>} atlases The atlases to search.\n   * @param {string} id The identifier of the entry to check.\n   * @return {?import(\"./Atlas.js\").AtlasInfo} The position and atlas image for the entry,\n   *  or `null` if the entry is not part of the atlases.\n   */\n  AtlasManager.prototype.getInfo_ = function getInfo_ (atlases, id) {\n    for (var i = 0, ii = atlases.length; i < ii; ++i) {\n      var atlas = atlases[i];\n      var info = atlas.get(id);\n      if (info) {\n        return info;\n      }\n    }\n    return null;\n  };\n\n  /**\n   * @private\n   * @param {import(\"./Atlas.js\").AtlasInfo} info The info for the real image.\n   * @param {import(\"./Atlas.js\").AtlasInfo} hitInfo The info for the hit-detection\n   *  image.\n   * @return {?AtlasManagerInfo} The position and atlas image for the\n   *  entry, or `null` if the entry is not part of the atlases.\n   */\n  AtlasManager.prototype.mergeInfos_ = function mergeInfos_ (info, hitInfo) {\n    return (\n      /** @type {AtlasManagerInfo} */ ({\n        offsetX: info.offsetX,\n        offsetY: info.offsetY,\n        image: info.image,\n        hitImage: hitInfo.image\n      })\n    );\n  };\n\n  /**\n   * Add an image to the atlas manager.\n   *\n   * If an entry for the given id already exists, the entry will\n   * be overridden (but the space on the atlas graphic will not be freed).\n   *\n   * If `renderHitCallback` is provided, the image (or the hit-detection version\n   * of the image) will be rendered into a separate hit-detection atlas image.\n   *\n   * @param {string} id The identifier of the entry to add.\n   * @param {number} width The width.\n   * @param {number} height The height.\n   * @param {function(CanvasRenderingContext2D, number, number)} renderCallback\n   *  Called to render the new image onto an atlas image.\n   * @param {function(CanvasRenderingContext2D, number, number)=} opt_renderHitCallback Called to render a hit-detection image onto a hit\n   *  detection atlas image.\n   * @param {Object=} opt_this Value to use as `this` when executing\n   *  `renderCallback` and `renderHitCallback`.\n   * @return {?AtlasManagerInfo}The position and atlas image for the\n   *  entry, or `null` if the image is too big.\n   */\n  AtlasManager.prototype.add = function add (id, width, height, renderCallback, opt_renderHitCallback, opt_this) {\n    if (width + this.space_ > this.maxSize_ ||\n        height + this.space_ > this.maxSize_) {\n      return null;\n    }\n\n    /** @type {?import(\"./Atlas.js\").AtlasInfo} */\n    var info = this.add_(false, id, width, height, renderCallback, opt_this);\n    if (!info) {\n      return null;\n    }\n\n    // even if no hit-detection entry is requested, we insert a fake entry into\n    // the hit-detection atlas, to make sure that the offset is the same for\n    // the original image and the hit-detection image.\n    var renderHitCallback = opt_renderHitCallback !== undefined ?\n      opt_renderHitCallback : VOID;\n\n    var hitInfo = /** @type {import(\"./Atlas.js\").AtlasInfo} */ (this.add_(true,\n      id, width, height, renderHitCallback, opt_this));\n\n    return this.mergeInfos_(info, hitInfo);\n  };\n\n  /**\n   * @private\n   * @param {boolean} isHitAtlas If the hit-detection atlases are used.\n   * @param {string} id The identifier of the entry to add.\n   * @param {number} width The width.\n   * @param {number} height The height.\n   * @param {function(CanvasRenderingContext2D, number, number)} renderCallback\n   *  Called to render the new image onto an atlas image.\n   * @param {Object=} opt_this Value to use as `this` when executing\n   *  `renderCallback` and `renderHitCallback`.\n   * @return {?import(\"./Atlas.js\").AtlasInfo}The position and atlas image for the entry,\n   *  or `null` if the image is too big.\n   */\n  AtlasManager.prototype.add_ = function add_ (isHitAtlas, id, width, height, renderCallback, opt_this) {\n    var atlases = (isHitAtlas) ? this.hitAtlases_ : this.atlases_;\n    var atlas, info, i, ii;\n    for (i = 0, ii = atlases.length; i < ii; ++i) {\n      atlas = atlases[i];\n      info = atlas.add(id, width, height, renderCallback, opt_this);\n      if (info) {\n        return info;\n      } else if (!info && i === ii - 1) {\n        // the entry could not be added to one of the existing atlases,\n        // create a new atlas that is twice as big and try to add to this one.\n        var size = (void 0);\n        if (isHitAtlas) {\n          size = Math.min(this.currentHitSize_ * 2, this.maxSize_);\n          this.currentHitSize_ = size;\n        } else {\n          size = Math.min(this.currentSize_ * 2, this.maxSize_);\n          this.currentSize_ = size;\n        }\n        atlas = new Atlas(size, this.space_);\n        atlases.push(atlas);\n        // run the loop another time\n        ++ii;\n      }\n    }\n    return null;\n  };\n\n  /**\n   * @module ol/render/webgl/TextReplay\n   */\n\n  /**\n   * @typedef {Object} GlyphAtlas\n   * @property {import(\"../../style/AtlasManager.js\").default} atlas\n   * @property {Object<string, number>} width\n   * @property {number} height\n   */\n\n\n  var WebGLTextReplay = /*@__PURE__*/(function (WebGLTextureReplay$$1) {\n    function WebGLTextReplay(tolerance, maxExtent) {\n      WebGLTextureReplay$$1.call(this, tolerance, maxExtent);\n\n      /**\n       * @private\n       * @type {Array<HTMLCanvasElement>}\n       */\n      this.images_ = [];\n\n      /**\n       * @private\n       * @type {Array<WebGLTexture>}\n       */\n      this.textures_ = [];\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement}\n       */\n      this.measureCanvas_ = createCanvasContext2D(0, 0).canvas;\n\n      /**\n       * @private\n       * @type {{strokeColor: (import(\"../../colorlike.js\").ColorLike|null),\n       *         lineCap: (string|undefined),\n       *         lineDash: Array<number>,\n       *         lineDashOffset: (number|undefined),\n       *         lineJoin: (string|undefined),\n       *         lineWidth: number,\n       *         miterLimit: (number|undefined),\n       *         fillColor: (import(\"../../colorlike.js\").ColorLike|null),\n       *         font: (string|undefined),\n       *         scale: (number|undefined)}}\n       */\n      this.state_ = {\n        strokeColor: null,\n        lineCap: undefined,\n        lineDash: null,\n        lineDashOffset: undefined,\n        lineJoin: undefined,\n        lineWidth: 0,\n        miterLimit: undefined,\n        fillColor: null,\n        font: undefined,\n        scale: undefined\n      };\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.text_ = '';\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.textAlign_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.textBaseline_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.offsetX_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.offsetY_ = undefined;\n\n      /**\n       * @private\n       * @type {Object<string, GlyphAtlas>}\n       */\n      this.atlases_ = {};\n\n      /**\n       * @private\n       * @type {GlyphAtlas|undefined}\n       */\n      this.currAtlas_ = undefined;\n\n      this.scale = 1;\n\n      this.opacity = 1;\n\n    }\n\n    if ( WebGLTextureReplay$$1 ) WebGLTextReplay.__proto__ = WebGLTextureReplay$$1;\n    WebGLTextReplay.prototype = Object.create( WebGLTextureReplay$$1 && WebGLTextureReplay$$1.prototype );\n    WebGLTextReplay.prototype.constructor = WebGLTextReplay;\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextReplay.prototype.drawText = function drawText (geometry, feature) {\n      if (this.text_) {\n        var flatCoordinates = null;\n        var offset = 0;\n        var end = 2;\n        var stride = 2;\n        switch (geometry.getType()) {\n          case GeometryType.POINT:\n          case GeometryType.MULTI_POINT:\n            flatCoordinates = geometry.getFlatCoordinates();\n            end = flatCoordinates.length;\n            stride = geometry.getStride();\n            break;\n          case GeometryType.CIRCLE:\n            flatCoordinates = /** @type {import(\"../../geom/Circle.js\").default} */ (geometry).getCenter();\n            break;\n          case GeometryType.LINE_STRING:\n            flatCoordinates = /** @type {import(\"../../geom/LineString.js\").default} */ (geometry).getFlatMidpoint();\n            break;\n          case GeometryType.MULTI_LINE_STRING:\n            flatCoordinates = /** @type {import(\"../../geom/MultiLineString.js\").default} */ (geometry).getFlatMidpoints();\n            end = flatCoordinates.length;\n            break;\n          case GeometryType.POLYGON:\n            flatCoordinates = /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry).getFlatInteriorPoint();\n            break;\n          case GeometryType.MULTI_POLYGON:\n            flatCoordinates = /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry).getFlatInteriorPoints();\n            end = flatCoordinates.length;\n            break;\n          default:\n        }\n        this.startIndices.push(this.indices.length);\n        this.startIndicesFeature.push(feature);\n\n        var glyphAtlas = this.currAtlas_;\n        var lines = this.text_.split('\\n');\n        var textSize = this.getTextSize_(lines);\n        var i, ii, j, jj, currX, currY, charArr, charInfo;\n        var anchorX = Math.round(textSize[0] * this.textAlign_ - this.offsetX_);\n        var anchorY = Math.round(textSize[1] * this.textBaseline_ - this.offsetY_);\n        var lineWidth = (this.state_.lineWidth / 2) * this.state_.scale;\n\n        for (i = 0, ii = lines.length; i < ii; ++i) {\n          currX = 0;\n          currY = glyphAtlas.height * i;\n          charArr = lines[i].split('');\n\n          for (j = 0, jj = charArr.length; j < jj; ++j) {\n            charInfo = glyphAtlas.atlas.getInfo(charArr[j]);\n\n            if (charInfo) {\n              var image = charInfo.image;\n\n              this.anchorX = anchorX - currX;\n              this.anchorY = anchorY - currY;\n              this.originX = j === 0 ? charInfo.offsetX - lineWidth : charInfo.offsetX;\n              this.originY = charInfo.offsetY;\n              this.height = glyphAtlas.height;\n              this.width = j === 0 || j === charArr.length - 1 ?\n                glyphAtlas.width[charArr[j]] + lineWidth : glyphAtlas.width[charArr[j]];\n              this.imageHeight = image.height;\n              this.imageWidth = image.width;\n\n              if (this.images_.length === 0) {\n                this.images_.push(image);\n              } else {\n                var currentImage = this.images_[this.images_.length - 1];\n                if (getUid(currentImage) != getUid(image)) {\n                  this.groupIndices.push(this.indices.length);\n                  this.images_.push(image);\n                }\n              }\n\n              this.drawText_(flatCoordinates, offset, end, stride);\n            }\n            currX += this.width;\n          }\n        }\n      }\n    };\n\n    /**\n     * @private\n     * @param {Array<string>} lines Label to draw split to lines.\n     * @return {Array<number>} Size of the label in pixels.\n     */\n    WebGLTextReplay.prototype.getTextSize_ = function getTextSize_ (lines) {\n      var self = this;\n      var glyphAtlas = this.currAtlas_;\n      var textHeight = lines.length * glyphAtlas.height;\n      //Split every line to an array of chars, sum up their width, and select the longest.\n      var textWidth = lines.map(function(str) {\n        var sum = 0;\n        for (var i = 0, ii = str.length; i < ii; ++i) {\n          var curr = str[i];\n          if (!glyphAtlas.width[curr]) {\n            self.addCharToAtlas_(curr);\n          }\n          sum += glyphAtlas.width[curr] ? glyphAtlas.width[curr] : 0;\n        }\n        return sum;\n      }).reduce(function(max, curr) {\n        return Math.max(max, curr);\n      });\n\n      return [textWidth, textHeight];\n    };\n\n    /**\n     * @private\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     */\n    WebGLTextReplay.prototype.drawText_ = function drawText_ (flatCoordinates, offset, end, stride) {\n      for (var i = offset, ii = end; i < ii; i += stride) {\n        this.drawCoordinates(flatCoordinates, offset, end, stride);\n      }\n    };\n\n    /**\n     * @private\n     * @param {string} char Character.\n     */\n    WebGLTextReplay.prototype.addCharToAtlas_ = function addCharToAtlas_ (char) {\n      if (char.length === 1) {\n        var glyphAtlas = this.currAtlas_;\n        var state = this.state_;\n        var mCtx = this.measureCanvas_.getContext('2d');\n        mCtx.font = state.font;\n        var width = Math.ceil(mCtx.measureText(char).width * state.scale);\n\n        var info = glyphAtlas.atlas.add(char, width, glyphAtlas.height,\n          function(ctx, x, y) {\n            //Parameterize the canvas\n            ctx.font = /** @type {string} */ (state.font);\n            ctx.fillStyle = state.fillColor;\n            ctx.strokeStyle = state.strokeColor;\n            ctx.lineWidth = state.lineWidth;\n            ctx.lineCap = /** @type {CanvasLineCap} */ (state.lineCap);\n            ctx.lineJoin = /** @type {CanvasLineJoin} */ (state.lineJoin);\n            ctx.miterLimit = /** @type {number} */ (state.miterLimit);\n            ctx.textAlign = 'left';\n            ctx.textBaseline = 'top';\n            if (CANVAS_LINE_DASH && state.lineDash) {\n              //FIXME: use pixelRatio\n              ctx.setLineDash(state.lineDash);\n              ctx.lineDashOffset = /** @type {number} */ (state.lineDashOffset);\n            }\n            if (state.scale !== 1) {\n              //FIXME: use pixelRatio\n              ctx.setTransform(/** @type {number} */ (state.scale), 0, 0,\n                /** @type {number} */ (state.scale), 0, 0);\n            }\n\n            //Draw the character on the canvas\n            if (state.strokeColor) {\n              ctx.strokeText(char, x, y);\n            }\n            if (state.fillColor) {\n              ctx.fillText(char, x, y);\n            }\n          });\n\n        if (info) {\n          glyphAtlas.width[char] = width;\n        }\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextReplay.prototype.finish = function finish (context) {\n      var gl = context.getGL();\n\n      this.groupIndices.push(this.indices.length);\n      this.hitDetectionGroupIndices = this.groupIndices;\n\n      // create, bind, and populate the vertices buffer\n      this.verticesBuffer = new WebGLBuffer(this.vertices);\n\n      // create, bind, and populate the indices buffer\n      this.indicesBuffer = new WebGLBuffer(this.indices);\n\n      // create textures\n      /** @type {Object<string, WebGLTexture>} */\n      var texturePerImage = {};\n\n      this.createTextures(this.textures_, this.images_, texturePerImage, gl);\n\n      this.state_ = {\n        strokeColor: null,\n        lineCap: undefined,\n        lineDash: null,\n        lineDashOffset: undefined,\n        lineJoin: undefined,\n        lineWidth: 0,\n        miterLimit: undefined,\n        fillColor: null,\n        font: undefined,\n        scale: undefined\n      };\n      this.text_ = '';\n      this.textAlign_ = undefined;\n      this.textBaseline_ = undefined;\n      this.offsetX_ = undefined;\n      this.offsetY_ = undefined;\n      this.images_ = null;\n      this.atlases_ = {};\n      this.currAtlas_ = undefined;\n      WebGLTextureReplay$$1.prototype.finish.call(this, context);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextReplay.prototype.setTextStyle = function setTextStyle (textStyle) {\n      var state = this.state_;\n      var textFillStyle = textStyle.getFill();\n      var textStrokeStyle = textStyle.getStroke();\n      if (!textStyle || !textStyle.getText() || (!textFillStyle && !textStrokeStyle)) {\n        this.text_ = '';\n      } else {\n        if (!textFillStyle) {\n          state.fillColor = null;\n        } else {\n          var textFillStyleColor = textFillStyle.getColor();\n          state.fillColor = asColorLike(textFillStyleColor ?\n            textFillStyleColor : DEFAULT_FILLSTYLE);\n        }\n        if (!textStrokeStyle) {\n          state.strokeColor = null;\n          state.lineWidth = 0;\n        } else {\n          var textStrokeStyleColor = textStrokeStyle.getColor();\n          state.strokeColor = asColorLike(textStrokeStyleColor ?\n            textStrokeStyleColor : DEFAULT_STROKESTYLE);\n          state.lineWidth = textStrokeStyle.getWidth() || DEFAULT_LINEWIDTH;\n          state.lineCap = textStrokeStyle.getLineCap() || DEFAULT_LINECAP;\n          state.lineDashOffset = textStrokeStyle.getLineDashOffset() || DEFAULT_LINEDASHOFFSET;\n          state.lineJoin = textStrokeStyle.getLineJoin() || DEFAULT_LINEJOIN;\n          state.miterLimit = textStrokeStyle.getMiterLimit() || DEFAULT_MITERLIMIT;\n          var lineDash = textStrokeStyle.getLineDash();\n          state.lineDash = lineDash ? lineDash.slice() : DEFAULT_LINEDASH;\n        }\n        state.font = textStyle.getFont() || DEFAULT_FONT;\n        state.scale = textStyle.getScale() || 1;\n        this.text_ = /** @type {string} */ (textStyle.getText());\n        var textAlign = TEXT_ALIGN[textStyle.getTextAlign()];\n        var textBaseline = TEXT_ALIGN[textStyle.getTextBaseline()];\n        this.textAlign_ = textAlign === undefined ?\n          DEFAULT_TEXTALIGN : textAlign;\n        this.textBaseline_ = textBaseline === undefined ?\n          DEFAULT_TEXTBASELINE : textBaseline;\n        this.offsetX_ = textStyle.getOffsetX() || 0;\n        this.offsetY_ = textStyle.getOffsetY() || 0;\n        this.rotateWithView = !!textStyle.getRotateWithView();\n        this.rotation = textStyle.getRotation() || 0;\n\n        this.currAtlas_ = this.getAtlas_(state);\n      }\n    };\n\n    /**\n     * @private\n     * @param {Object} state Font attributes.\n     * @return {GlyphAtlas} Glyph atlas.\n     */\n    WebGLTextReplay.prototype.getAtlas_ = function getAtlas_ (state) {\n      var params = [];\n      for (var i in state) {\n        if (state[i] || state[i] === 0) {\n          if (Array.isArray(state[i])) {\n            params = params.concat(state[i]);\n          } else {\n            params.push(state[i]);\n          }\n        }\n      }\n      var hash = this.calculateHash_(params);\n      if (!this.atlases_[hash]) {\n        var mCtx = this.measureCanvas_.getContext('2d');\n        mCtx.font = state.font;\n        var height = Math.ceil((mCtx.measureText('M').width * 1.5 +\n            state.lineWidth / 2) * state.scale);\n\n        this.atlases_[hash] = {\n          atlas: new AtlasManager({\n            space: state.lineWidth + 1\n          }),\n          width: {},\n          height: height\n        };\n      }\n      return this.atlases_[hash];\n    };\n\n    /**\n     * @private\n     * @param {Array<string|number>} params Array of parameters.\n     * @return {string} Hash string.\n     */\n    WebGLTextReplay.prototype.calculateHash_ = function calculateHash_ (params) {\n      //TODO: Create a more performant, reliable, general hash function.\n      var hash = '';\n      for (var i = 0, ii = params.length; i < ii; ++i) {\n        hash += params[i];\n      }\n      return hash;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextReplay.prototype.getTextures = function getTextures (opt_all) {\n      return this.textures_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextReplay.prototype.getHitDetectionTextures = function getHitDetectionTextures () {\n      return this.textures_;\n    };\n\n    return WebGLTextReplay;\n  }(WebGLTextureReplay));\n\n  /**\n   * @module ol/render/webgl/ReplayGroup\n   */\n\n  /**\n   * @type {Array<number>}\n   */\n  var HIT_DETECTION_SIZE = [1, 1];\n\n  /**\n   * @type {Object<import(\"../ReplayType.js\").default, typeof import(\"./Replay.js\").default>}\n   */\n  var BATCH_CONSTRUCTORS$1 = {\n    'Circle': WebGLCircleReplay,\n    'Image': WebGLImageReplay,\n    'LineString': WebGLLineStringReplay,\n    'Polygon': WebGLPolygonReplay,\n    'Text': WebGLTextReplay\n  };\n\n\n  var WebGLReplayGroup = /*@__PURE__*/(function (ReplayGroup$$1) {\n    function WebGLReplayGroup(tolerance, maxExtent, opt_renderBuffer) {\n      ReplayGroup$$1.call(this);\n\n      /**\n       * @type {import(\"../../extent.js\").Extent}\n       * @private\n       */\n      this.maxExtent_ = maxExtent;\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.tolerance_ = tolerance;\n\n      /**\n       * @type {number|undefined}\n       * @private\n       */\n      this.renderBuffer_ = opt_renderBuffer;\n\n      /**\n       * @private\n       * @type {!Object<string,\n       *        Object<import(\"../ReplayType.js\").default, import(\"./Replay.js\").default>>}\n       */\n      this.replaysByZIndex_ = {};\n\n    }\n\n    if ( ReplayGroup$$1 ) WebGLReplayGroup.__proto__ = ReplayGroup$$1;\n    WebGLReplayGroup.prototype = Object.create( ReplayGroup$$1 && ReplayGroup$$1.prototype );\n    WebGLReplayGroup.prototype.constructor = WebGLReplayGroup;\n\n    /**\n     * @inheritDoc\n     */\n    WebGLReplayGroup.prototype.addDeclutter = function addDeclutter (group) {\n      return [];\n    };\n\n    /**\n     * @param {import(\"../../webgl/Context.js\").default} context WebGL context.\n     * @return {function()} Delete resources function.\n     */\n    WebGLReplayGroup.prototype.getDeleteResourcesFunction = function getDeleteResourcesFunction (context) {\n      var functions = [];\n      var zKey;\n      for (zKey in this.replaysByZIndex_) {\n        var replays = this.replaysByZIndex_[zKey];\n        for (var replayKey in replays) {\n          functions.push(\n            replays[replayKey].getDeleteResourcesFunction(context));\n        }\n      }\n      return function() {\n        var arguments$1 = arguments;\n\n        var length = functions.length;\n        var result;\n        for (var i = 0; i < length; i++) {\n          result = functions[i].apply(this, arguments$1);\n        }\n        return result;\n      };\n    };\n\n    /**\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     */\n    WebGLReplayGroup.prototype.finish = function finish (context) {\n      var zKey;\n      for (zKey in this.replaysByZIndex_) {\n        var replays = this.replaysByZIndex_[zKey];\n        for (var replayKey in replays) {\n          replays[replayKey].finish(context);\n        }\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLReplayGroup.prototype.getReplay = function getReplay (zIndex, replayType) {\n      var zIndexKey = zIndex !== undefined ? zIndex.toString() : '0';\n      var replays = this.replaysByZIndex_[zIndexKey];\n      if (replays === undefined) {\n        replays = {};\n        this.replaysByZIndex_[zIndexKey] = replays;\n      }\n      var replay = replays[replayType];\n      if (replay === undefined) {\n        var Constructor = BATCH_CONSTRUCTORS$1[replayType];\n        replay = new Constructor(this.tolerance_, this.maxExtent_);\n        replays[replayType] = replay;\n      }\n      return replay;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLReplayGroup.prototype.isEmpty = function isEmpty$1$$1 () {\n      return isEmpty(this.replaysByZIndex_);\n    };\n\n    /**\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {import(\"../../coordinate.js\").Coordinate} center Center.\n     * @param {number} resolution Resolution.\n     * @param {number} rotation Rotation.\n     * @param {import(\"../../size.js\").Size} size Size.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {number} opacity Global opacity.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     */\n    WebGLReplayGroup.prototype.replay = function replay (\n      context,\n      center,\n      resolution,\n      rotation,\n      size,\n      pixelRatio,\n      opacity,\n      skippedFeaturesHash\n    ) {\n      /** @type {Array<number>} */\n      var zs = Object.keys(this.replaysByZIndex_).map(Number);\n      zs.sort(numberSafeCompareFunction);\n\n      var i, ii, j, jj, replays, replay;\n      for (i = 0, ii = zs.length; i < ii; ++i) {\n        replays = this.replaysByZIndex_[zs[i].toString()];\n        for (j = 0, jj = ORDER.length; j < jj; ++j) {\n          replay = replays[ORDER[j]];\n          if (replay !== undefined) {\n            replay.replay(context,\n              center, resolution, rotation, size, pixelRatio,\n              opacity, skippedFeaturesHash,\n              undefined, false);\n          }\n        }\n      }\n    };\n\n    /**\n     * @private\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {import(\"../../coordinate.js\").Coordinate} center Center.\n     * @param {number} resolution Resolution.\n     * @param {number} rotation Rotation.\n     * @param {import(\"../../size.js\").Size} size Size.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {number} opacity Global opacity.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     * @param {function((import(\"../../Feature.js\").default|import(\"../Feature.js\").default)): T|undefined} featureCallback Feature callback.\n     * @param {boolean} oneByOne Draw features one-by-one for the hit-detecion.\n     * @param {import(\"../../extent.js\").Extent=} opt_hitExtent Hit extent: Only features intersecting\n     *  this extent are checked.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    WebGLReplayGroup.prototype.replayHitDetection_ = function replayHitDetection_ (\n      context,\n      center,\n      resolution,\n      rotation,\n      size,\n      pixelRatio,\n      opacity,\n      skippedFeaturesHash,\n      featureCallback,\n      oneByOne,\n      opt_hitExtent\n    ) {\n      /** @type {Array<number>} */\n      var zs = Object.keys(this.replaysByZIndex_).map(Number);\n      zs.sort(function(a, b) {\n        return b - a;\n      });\n\n      var i, ii, j, replays, replay, result;\n      for (i = 0, ii = zs.length; i < ii; ++i) {\n        replays = this.replaysByZIndex_[zs[i].toString()];\n        for (j = ORDER.length - 1; j >= 0; --j) {\n          replay = replays[ORDER[j]];\n          if (replay !== undefined) {\n            result = replay.replay(context,\n              center, resolution, rotation, size, pixelRatio, opacity,\n              skippedFeaturesHash, featureCallback, oneByOne, opt_hitExtent);\n            if (result) {\n              return result;\n            }\n          }\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {import(\"../../coordinate.js\").Coordinate} center Center.\n     * @param {number} resolution Resolution.\n     * @param {number} rotation Rotation.\n     * @param {import(\"../../size.js\").Size} size Size.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {number} opacity Global opacity.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     * @param {function((import(\"../../Feature.js\").default|import(\"../Feature.js\").default)): T|undefined} callback Feature callback.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    WebGLReplayGroup.prototype.forEachFeatureAtCoordinate = function forEachFeatureAtCoordinate (\n      coordinate,\n      context,\n      center,\n      resolution,\n      rotation,\n      size,\n      pixelRatio,\n      opacity,\n      skippedFeaturesHash,\n      callback\n    ) {\n      var gl = context.getGL();\n      gl.bindFramebuffer(\n        gl.FRAMEBUFFER, context.getHitDetectionFramebuffer());\n\n\n      /**\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      var hitExtent;\n      if (this.renderBuffer_ !== undefined) {\n        // build an extent around the coordinate, so that only features that\n        // intersect this extent are checked\n        hitExtent = buffer(createOrUpdateFromCoordinate(coordinate), resolution * this.renderBuffer_);\n      }\n\n      return this.replayHitDetection_(context,\n        coordinate, resolution, rotation, HIT_DETECTION_SIZE,\n        pixelRatio, opacity, skippedFeaturesHash,\n        /**\n         * @param {import(\"../../Feature.js\").default|import(\"../Feature.js\").default} feature Feature.\n         * @return {?} Callback result.\n         */\n        function(feature) {\n          var imageData = new Uint8Array(4);\n          gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, imageData);\n\n          if (imageData[3] > 0) {\n            var result = callback(feature);\n            if (result) {\n              return result;\n            }\n          }\n        }, true, hitExtent);\n    };\n\n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {import(\"../../coordinate.js\").Coordinate} center Center.\n     * @param {number} resolution Resolution.\n     * @param {number} rotation Rotation.\n     * @param {import(\"../../size.js\").Size} size Size.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {number} opacity Global opacity.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     * @return {boolean} Is there a feature at the given coordinate?\n     */\n    WebGLReplayGroup.prototype.hasFeatureAtCoordinate = function hasFeatureAtCoordinate (\n      coordinate,\n      context,\n      center,\n      resolution,\n      rotation,\n      size,\n      pixelRatio,\n      opacity,\n      skippedFeaturesHash\n    ) {\n      var gl = context.getGL();\n      gl.bindFramebuffer(\n        gl.FRAMEBUFFER, context.getHitDetectionFramebuffer());\n\n      var hasFeature = this.replayHitDetection_(context,\n        coordinate, resolution, rotation, HIT_DETECTION_SIZE,\n        pixelRatio, opacity, skippedFeaturesHash,\n        /**\n         * @param {import(\"../../Feature.js\").default|import(\"../Feature.js\").default} feature Feature.\n         * @return {boolean} Is there a feature?\n         */\n        function(feature) {\n          var imageData = new Uint8Array(4);\n          gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, imageData);\n          return imageData[3] > 0;\n        }, false);\n\n      return hasFeature !== undefined;\n    };\n\n    return WebGLReplayGroup;\n  }(ReplayGroup));\n\n  /**\n   * @module ol/render/webgl/Immediate\n   */\n\n  var WebGLImmediateRenderer = /*@__PURE__*/(function (VectorContext$$1) {\n    function WebGLImmediateRenderer(context, center, resolution, rotation, size, extent, pixelRatio) {\n      VectorContext$$1.call(this);\n\n      /**\n       * @private\n       */\n      this.context_ = context;\n\n      /**\n       * @private\n       */\n      this.center_ = center;\n\n      /**\n       * @private\n       */\n      this.extent_ = extent;\n\n      /**\n       * @private\n       */\n      this.pixelRatio_ = pixelRatio;\n\n      /**\n       * @private\n       */\n      this.size_ = size;\n\n      /**\n       * @private\n       */\n      this.rotation_ = rotation;\n\n      /**\n       * @private\n       */\n      this.resolution_ = resolution;\n\n      /**\n       * @private\n       * @type {import(\"../../style/Image.js\").default}\n       */\n      this.imageStyle_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../../style/Fill.js\").default}\n       */\n      this.fillStyle_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../../style/Stroke.js\").default}\n       */\n      this.strokeStyle_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../../style/Text.js\").default}\n       */\n      this.textStyle_ = null;\n\n    }\n\n    if ( VectorContext$$1 ) WebGLImmediateRenderer.__proto__ = VectorContext$$1;\n    WebGLImmediateRenderer.prototype = Object.create( VectorContext$$1 && VectorContext$$1.prototype );\n    WebGLImmediateRenderer.prototype.constructor = WebGLImmediateRenderer;\n\n    /**\n     * @param {import(\"./ReplayGroup.js\").default} replayGroup Replay group.\n     * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry Geometry.\n     * @private\n     */\n    WebGLImmediateRenderer.prototype.drawText_ = function drawText_ (replayGroup, geometry) {\n      var context = this.context_;\n      var replay = /** @type {import(\"./TextReplay.js\").default} */ (\n        replayGroup.getReplay(0, ReplayType.TEXT));\n      replay.setTextStyle(this.textStyle_);\n      replay.drawText(geometry, null);\n      replay.finish(context);\n      // default colors\n      var opacity = 1;\n      /** @type {Object<string, boolean>} */\n      var skippedFeatures = {};\n      var featureCallback;\n      var oneByOne = false;\n      replay.replay(this.context_, this.center_, this.resolution_, this.rotation_,\n        this.size_, this.pixelRatio_, opacity, skippedFeatures, featureCallback,\n        oneByOne);\n      replay.getDeleteResourcesFunction(context)();\n    };\n\n    /**\n     * Set the rendering style.  Note that since this is an immediate rendering API,\n     * any `zIndex` on the provided style will be ignored.\n     *\n     * @param {import(\"../../style/Style.js\").default} style The rendering style.\n     * @override\n     * @api\n     */\n    WebGLImmediateRenderer.prototype.setStyle = function setStyle (style) {\n      this.setFillStrokeStyle(style.getFill(), style.getStroke());\n      this.setImageStyle(style.getImage());\n      this.setTextStyle(style.getText());\n    };\n\n    /**\n     * Render a geometry into the canvas.  Call\n     * {@link ol/render/webgl/Immediate#setStyle} first to set the rendering style.\n     *\n     * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry The geometry to render.\n     * @override\n     * @api\n     */\n    WebGLImmediateRenderer.prototype.drawGeometry = function drawGeometry (geometry) {\n      var type = geometry.getType();\n      switch (type) {\n        case GeometryType.POINT:\n          this.drawPoint(/** @type {import(\"../../geom/Point.js\").default} */ (geometry), null);\n          break;\n        case GeometryType.LINE_STRING:\n          this.drawLineString(/** @type {import(\"../../geom/LineString.js\").default} */ (geometry), null);\n          break;\n        case GeometryType.POLYGON:\n          this.drawPolygon(/** @type {import(\"../../geom/Polygon.js\").default} */ (geometry), null);\n          break;\n        case GeometryType.MULTI_POINT:\n          this.drawMultiPoint(/** @type {import(\"../../geom/MultiPoint.js\").default} */ (geometry), null);\n          break;\n        case GeometryType.MULTI_LINE_STRING:\n          this.drawMultiLineString(/** @type {import(\"../../geom/MultiLineString.js\").default} */ (geometry), null);\n          break;\n        case GeometryType.MULTI_POLYGON:\n          this.drawMultiPolygon(/** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry), null);\n          break;\n        case GeometryType.GEOMETRY_COLLECTION:\n          this.drawGeometryCollection(/** @type {import(\"../../geom/GeometryCollection.js\").default} */ (geometry), null);\n          break;\n        case GeometryType.CIRCLE:\n          this.drawCircle(/** @type {import(\"../../geom/Circle.js\").default} */ (geometry), null);\n          break;\n        default:\n          // pass\n      }\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    WebGLImmediateRenderer.prototype.drawFeature = function drawFeature (feature, style) {\n      var geometry = style.getGeometryFunction()(feature);\n      if (!geometry || !intersects(this.extent_, geometry.getExtent())) {\n        return;\n      }\n      this.setStyle(style);\n      this.drawGeometry(geometry);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.drawGeometryCollection = function drawGeometryCollection (geometry, data) {\n      var geometries = geometry.getGeometriesArray();\n      var i, ii;\n      for (i = 0, ii = geometries.length; i < ii; ++i) {\n        this.drawGeometry(geometries[i]);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.drawPoint = function drawPoint (geometry, data) {\n      var context = this.context_;\n      var replayGroup = new WebGLReplayGroup(1, this.extent_);\n      var replay = /** @type {import(\"./ImageReplay.js\").default} */ (\n        replayGroup.getReplay(0, ReplayType.IMAGE));\n      replay.setImageStyle(this.imageStyle_);\n      replay.drawPoint(geometry, data);\n      replay.finish(context);\n      // default colors\n      var opacity = 1;\n      /** @type {Object<string, boolean>} */\n      var skippedFeatures = {};\n      var featureCallback;\n      var oneByOne = false;\n      replay.replay(this.context_, this.center_, this.resolution_, this.rotation_,\n        this.size_, this.pixelRatio_, opacity, skippedFeatures, featureCallback,\n        oneByOne);\n      replay.getDeleteResourcesFunction(context)();\n\n      if (this.textStyle_) {\n        this.drawText_(replayGroup, geometry);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.drawMultiPoint = function drawMultiPoint (geometry, data) {\n      var context = this.context_;\n      var replayGroup = new WebGLReplayGroup(1, this.extent_);\n      var replay = /** @type {import(\"./ImageReplay.js\").default} */ (\n        replayGroup.getReplay(0, ReplayType.IMAGE));\n      replay.setImageStyle(this.imageStyle_);\n      replay.drawMultiPoint(geometry, data);\n      replay.finish(context);\n      var opacity = 1;\n      /** @type {Object<string, boolean>} */\n      var skippedFeatures = {};\n      var featureCallback;\n      var oneByOne = false;\n      replay.replay(this.context_, this.center_, this.resolution_, this.rotation_,\n        this.size_, this.pixelRatio_, opacity, skippedFeatures, featureCallback,\n        oneByOne);\n      replay.getDeleteResourcesFunction(context)();\n\n      if (this.textStyle_) {\n        this.drawText_(replayGroup, geometry);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.drawLineString = function drawLineString (geometry, data) {\n      var context = this.context_;\n      var replayGroup = new WebGLReplayGroup(1, this.extent_);\n      var replay = /** @type {import(\"./LineStringReplay.js\").default} */ (\n        replayGroup.getReplay(0, ReplayType.LINE_STRING));\n      replay.setFillStrokeStyle(null, this.strokeStyle_);\n      replay.drawLineString(geometry, data);\n      replay.finish(context);\n      var opacity = 1;\n      /** @type {Object<string, boolean>} */\n      var skippedFeatures = {};\n      var featureCallback;\n      var oneByOne = false;\n      replay.replay(this.context_, this.center_, this.resolution_, this.rotation_,\n        this.size_, this.pixelRatio_, opacity, skippedFeatures, featureCallback,\n        oneByOne);\n      replay.getDeleteResourcesFunction(context)();\n\n      if (this.textStyle_) {\n        this.drawText_(replayGroup, geometry);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.drawMultiLineString = function drawMultiLineString (geometry, data) {\n      var context = this.context_;\n      var replayGroup = new WebGLReplayGroup(1, this.extent_);\n      var replay = /** @type {import(\"./LineStringReplay.js\").default} */ (\n        replayGroup.getReplay(0, ReplayType.LINE_STRING));\n      replay.setFillStrokeStyle(null, this.strokeStyle_);\n      replay.drawMultiLineString(geometry, data);\n      replay.finish(context);\n      var opacity = 1;\n      /** @type {Object<string, boolean>} */\n      var skippedFeatures = {};\n      var featureCallback;\n      var oneByOne = false;\n      replay.replay(this.context_, this.center_, this.resolution_, this.rotation_,\n        this.size_, this.pixelRatio_, opacity, skippedFeatures, featureCallback,\n        oneByOne);\n      replay.getDeleteResourcesFunction(context)();\n\n      if (this.textStyle_) {\n        this.drawText_(replayGroup, geometry);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.drawPolygon = function drawPolygon (geometry, data) {\n      var context = this.context_;\n      var replayGroup = new WebGLReplayGroup(1, this.extent_);\n      var replay = /** @type {import(\"./PolygonReplay.js\").default} */ (\n        replayGroup.getReplay(0, ReplayType.POLYGON));\n      replay.setFillStrokeStyle(this.fillStyle_, this.strokeStyle_);\n      replay.drawPolygon(geometry, data);\n      replay.finish(context);\n      var opacity = 1;\n      /** @type {Object<string, boolean>} */\n      var skippedFeatures = {};\n      var featureCallback;\n      var oneByOne = false;\n      replay.replay(this.context_, this.center_, this.resolution_, this.rotation_,\n        this.size_, this.pixelRatio_, opacity, skippedFeatures, featureCallback,\n        oneByOne);\n      replay.getDeleteResourcesFunction(context)();\n\n      if (this.textStyle_) {\n        this.drawText_(replayGroup, geometry);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.drawMultiPolygon = function drawMultiPolygon (geometry, data) {\n      var context = this.context_;\n      var replayGroup = new WebGLReplayGroup(1, this.extent_);\n      var replay = /** @type {import(\"./PolygonReplay.js\").default} */ (\n        replayGroup.getReplay(0, ReplayType.POLYGON));\n      replay.setFillStrokeStyle(this.fillStyle_, this.strokeStyle_);\n      replay.drawMultiPolygon(geometry, data);\n      replay.finish(context);\n      var opacity = 1;\n      /** @type {Object<string, boolean>} */\n      var skippedFeatures = {};\n      var featureCallback;\n      var oneByOne = false;\n      replay.replay(this.context_, this.center_, this.resolution_, this.rotation_,\n        this.size_, this.pixelRatio_, opacity, skippedFeatures, featureCallback,\n        oneByOne);\n      replay.getDeleteResourcesFunction(context)();\n\n      if (this.textStyle_) {\n        this.drawText_(replayGroup, geometry);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.drawCircle = function drawCircle (geometry, data) {\n      var context = this.context_;\n      var replayGroup = new WebGLReplayGroup(1, this.extent_);\n      var replay = /** @type {import(\"./CircleReplay.js\").default} */ (\n        replayGroup.getReplay(0, ReplayType.CIRCLE));\n      replay.setFillStrokeStyle(this.fillStyle_, this.strokeStyle_);\n      replay.drawCircle(geometry, data);\n      replay.finish(context);\n      var opacity = 1;\n      /** @type {Object<string, boolean>} */\n      var skippedFeatures = {};\n      var featureCallback;\n      var oneByOne = false;\n      replay.replay(this.context_, this.center_, this.resolution_, this.rotation_,\n        this.size_, this.pixelRatio_, opacity, skippedFeatures, featureCallback,\n        oneByOne);\n      replay.getDeleteResourcesFunction(context)();\n\n      if (this.textStyle_) {\n        this.drawText_(replayGroup, geometry);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.setImageStyle = function setImageStyle (imageStyle) {\n      this.imageStyle_ = imageStyle;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.setFillStrokeStyle = function setFillStrokeStyle (fillStyle, strokeStyle) {\n      this.fillStyle_ = fillStyle;\n      this.strokeStyle_ = strokeStyle;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.setTextStyle = function setTextStyle (textStyle) {\n      this.textStyle_ = textStyle;\n    };\n\n    return WebGLImmediateRenderer;\n  }(VectorContext));\n\n  /**\n   * @module ol/renderer/webgl/defaultmapshader\n   */\n\n  var fragment$4 = new WebGLFragment('precision mediump float;\\nvarying vec2 v_texCoord;\\n\\n\\nuniform float u_opacity;\\nuniform sampler2D u_texture;\\n\\nvoid main(void) {\\n  vec4 texColor = texture2D(u_texture, v_texCoord);\\n  gl_FragColor.rgb = texColor.rgb;\\n  gl_FragColor.a = texColor.a * u_opacity;\\n}\\n');\n\n  var vertex$4 = new WebGLVertex('varying vec2 v_texCoord;\\n\\n\\nattribute vec2 a_position;\\nattribute vec2 a_texCoord;\\n\\nuniform mat4 u_texCoordMatrix;\\nuniform mat4 u_projectionMatrix;\\n\\nvoid main(void) {\\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\\n}\\n\\n\\n');\n\n  /**\n   * @module ol/renderer/webgl/defaultmapshader/Locations\n   */\n\n  var Locations$4 = function Locations(gl, program) {\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_texCoordMatrix = gl.getUniformLocation(\n      program, 'u_texCoordMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_projectionMatrix = gl.getUniformLocation(\n      program, 'u_projectionMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_opacity = gl.getUniformLocation(\n      program, 'u_opacity');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_texture = gl.getUniformLocation(\n      program, 'u_texture');\n\n    /**\n     * @type {number}\n     */\n    this.a_position = gl.getAttribLocation(\n      program, 'a_position');\n\n    /**\n     * @type {number}\n     */\n    this.a_texCoord = gl.getAttribLocation(\n      program, 'a_texCoord');\n\n  };\n\n  /**\n   * @module ol/renderer/webgl/Layer\n   */\n\n  /**\n   * @abstract\n   */\n  var WebGLLayerRenderer = /*@__PURE__*/(function (LayerRenderer$$1) {\n    function WebGLLayerRenderer(mapRenderer, layer) {\n\n      LayerRenderer$$1.call(this, layer);\n\n      /**\n       * @protected\n       * @type {import(\"./Map.js\").default}\n       */\n      this.mapRenderer = mapRenderer;\n\n      /**\n       * @private\n       * @type {import(\"../../webgl/Buffer.js\").default}\n       */\n      this.arrayBuffer_ = new WebGLBuffer([\n        -1, -1, 0, 0,\n        1, -1, 1, 0,\n        -1, 1, 0, 1,\n        1, 1, 1, 1\n      ]);\n\n      /**\n       * @protected\n       * @type {WebGLTexture}\n       */\n      this.texture = null;\n\n      /**\n       * @protected\n       * @type {WebGLFramebuffer}\n       */\n      this.framebuffer = null;\n\n      /**\n       * @protected\n       * @type {number|undefined}\n       */\n      this.framebufferDimension = undefined;\n\n      /**\n       * @protected\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.texCoordMatrix = create();\n\n      /**\n       * @protected\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.projectionMatrix = create();\n\n      /**\n       * @type {Array<number>}\n       * @private\n       */\n      this.tmpMat4_ = create$1();\n\n      /**\n       * @private\n       * @type {import(\"./defaultmapshader/Locations.js\").default}\n       */\n      this.defaultLocations_ = null;\n\n    }\n\n    if ( LayerRenderer$$1 ) WebGLLayerRenderer.__proto__ = LayerRenderer$$1;\n    WebGLLayerRenderer.prototype = Object.create( LayerRenderer$$1 && LayerRenderer$$1.prototype );\n    WebGLLayerRenderer.prototype.constructor = WebGLLayerRenderer;\n\n    /**\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {number} framebufferDimension Framebuffer dimension.\n     * @protected\n     */\n    WebGLLayerRenderer.prototype.bindFramebuffer = function bindFramebuffer (frameState, framebufferDimension) {\n\n      var gl = this.mapRenderer.getGL();\n\n      if (this.framebufferDimension === undefined ||\n          this.framebufferDimension != framebufferDimension) {\n        /**\n         * @param {WebGLRenderingContext} gl GL.\n         * @param {WebGLFramebuffer} framebuffer Framebuffer.\n         * @param {WebGLTexture} texture Texture.\n         */\n        var postRenderFunction = function(gl, framebuffer, texture) {\n          if (!gl.isContextLost()) {\n            gl.deleteFramebuffer(framebuffer);\n            gl.deleteTexture(texture);\n          }\n        }.bind(null, gl, this.framebuffer, this.texture);\n\n        frameState.postRenderFunctions.push(\n          /** @type {import(\"../../PluggableMap.js\").PostRenderFunction} */ (postRenderFunction)\n        );\n\n        var texture = createEmptyTexture(\n          gl, framebufferDimension, framebufferDimension);\n\n        var framebuffer = gl.createFramebuffer();\n        gl.bindFramebuffer(FRAMEBUFFER, framebuffer);\n        gl.framebufferTexture2D(FRAMEBUFFER,\n          COLOR_ATTACHMENT0, TEXTURE_2D, texture, 0);\n\n        this.texture = texture;\n        this.framebuffer = framebuffer;\n        this.framebufferDimension = framebufferDimension;\n\n      } else {\n        gl.bindFramebuffer(FRAMEBUFFER, this.framebuffer);\n      }\n\n    };\n\n    /**\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../layer/Layer.js\").State} layerState Layer state.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     */\n    WebGLLayerRenderer.prototype.composeFrame = function composeFrame (frameState, layerState, context) {\n\n      this.dispatchComposeEvent_(RenderEventType.PRECOMPOSE, context, frameState);\n\n      context.bindBuffer(ARRAY_BUFFER, this.arrayBuffer_);\n\n      var gl = context.getGL();\n\n      var program = context.getProgram(fragment$4, vertex$4);\n\n      var locations;\n      if (!this.defaultLocations_) {\n        locations = new Locations$4(gl, program);\n        this.defaultLocations_ = locations;\n      } else {\n        locations = this.defaultLocations_;\n      }\n\n      if (context.useProgram(program)) {\n        gl.enableVertexAttribArray(locations.a_position);\n        gl.vertexAttribPointer(\n          locations.a_position, 2, FLOAT, false, 16, 0);\n        gl.enableVertexAttribArray(locations.a_texCoord);\n        gl.vertexAttribPointer(\n          locations.a_texCoord, 2, FLOAT, false, 16, 8);\n        gl.uniform1i(locations.u_texture, 0);\n      }\n\n      gl.uniformMatrix4fv(locations.u_texCoordMatrix, false,\n        fromTransform(this.tmpMat4_, this.getTexCoordMatrix()));\n      gl.uniformMatrix4fv(locations.u_projectionMatrix, false,\n        fromTransform(this.tmpMat4_, this.getProjectionMatrix()));\n      gl.uniform1f(locations.u_opacity, layerState.opacity);\n      gl.bindTexture(TEXTURE_2D, this.getTexture());\n      gl.drawArrays(TRIANGLE_STRIP, 0, 4);\n\n      this.dispatchComposeEvent_(RenderEventType.POSTCOMPOSE, context, frameState);\n    };\n\n    /**\n     * @param {import(\"../../render/EventType.js\").default} type Event type.\n     * @param {import(\"../../webgl/Context.js\").default} context WebGL context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @private\n     */\n    WebGLLayerRenderer.prototype.dispatchComposeEvent_ = function dispatchComposeEvent_ (type, context, frameState) {\n      var layer = this.getLayer();\n      if (layer.hasListener(type)) {\n        var viewState = frameState.viewState;\n        var resolution = viewState.resolution;\n        var pixelRatio = frameState.pixelRatio;\n        var extent = frameState.extent;\n        var center = viewState.center;\n        var rotation = viewState.rotation;\n        var size = frameState.size;\n\n        var render = new WebGLImmediateRenderer(\n          context, center, resolution, rotation, size, extent, pixelRatio);\n        var composeEvent = new RenderEvent(\n          type, render, frameState, null, context);\n        layer.dispatchEvent(composeEvent);\n      }\n    };\n\n    /**\n     * @return {!import(\"../../transform.js\").Transform} Matrix.\n     */\n    WebGLLayerRenderer.prototype.getTexCoordMatrix = function getTexCoordMatrix () {\n      return this.texCoordMatrix;\n    };\n\n    /**\n     * @return {WebGLTexture} Texture.\n     */\n    WebGLLayerRenderer.prototype.getTexture = function getTexture () {\n      return this.texture;\n    };\n\n    /**\n     * @return {!import(\"../../transform.js\").Transform} Matrix.\n     */\n    WebGLLayerRenderer.prototype.getProjectionMatrix = function getProjectionMatrix () {\n      return this.projectionMatrix;\n    };\n\n    /**\n     * Handle webglcontextlost.\n     */\n    WebGLLayerRenderer.prototype.handleWebGLContextLost = function handleWebGLContextLost () {\n      this.texture = null;\n      this.framebuffer = null;\n      this.framebufferDimension = undefined;\n    };\n\n    /**\n     * @abstract\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../layer/Layer.js\").State} layerState Layer state.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @return {boolean} whether composeFrame should be called.\n     */\n    WebGLLayerRenderer.prototype.prepareFrame = function prepareFrame (frameState, layerState, context) {\n      return abstract();\n    };\n\n    /**\n     * @abstract\n     * @param {import(\"../../pixel.js\").Pixel} pixel Pixel.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {function(this: S, import(\"../../layer/Layer.js\").default, (Uint8ClampedArray|Uint8Array)): T} callback Layer\n     *     callback.\n     * @param {S} thisArg Value to use as `this` when executing `callback`.\n     * @return {T|undefined} Callback result.\n     * @template S,T,U\n     */\n    WebGLLayerRenderer.prototype.forEachLayerAtPixel = function forEachLayerAtPixel (pixel, frameState, callback, thisArg) {\n      return abstract();\n    };\n\n    return WebGLLayerRenderer;\n  }(LayerRenderer));\n\n  /**\n   * @module ol/renderer/webgl/ImageLayer\n   */\n\n  /**\n   * @classdesc\n   * WebGL renderer for image layers.\n   * @api\n   */\n  var WebGLImageLayerRenderer = /*@__PURE__*/(function (WebGLLayerRenderer$$1) {\n    function WebGLImageLayerRenderer(mapRenderer, imageLayer) {\n\n      WebGLLayerRenderer$$1.call(this, mapRenderer, imageLayer);\n\n      /**\n       * The last rendered image.\n       * @private\n       * @type {?import(\"../../ImageBase.js\").default}\n       */\n      this.image_ = null;\n\n      /**\n       * @private\n       * @type {CanvasRenderingContext2D}\n       */\n      this.hitCanvasContext_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"../../transform.js\").Transform}\n       */\n      this.hitTransformationMatrix_ = null;\n\n    }\n\n    if ( WebGLLayerRenderer$$1 ) WebGLImageLayerRenderer.__proto__ = WebGLLayerRenderer$$1;\n    WebGLImageLayerRenderer.prototype = Object.create( WebGLLayerRenderer$$1 && WebGLLayerRenderer$$1.prototype );\n    WebGLImageLayerRenderer.prototype.constructor = WebGLImageLayerRenderer;\n\n    /**\n     * @param {import(\"../../ImageBase.js\").default} image Image.\n     * @private\n     * @return {WebGLTexture} Texture.\n     */\n    WebGLImageLayerRenderer.prototype.createTexture_ = function createTexture_ (image) {\n\n      // We meet the conditions to work with non-power of two textures.\n      // http://www.khronos.org/webgl/wiki/WebGL_and_OpenGL_Differences#Non-Power_of_Two_Texture_Support\n      // http://learningwebgl.com/blog/?p=2101\n\n      var imageElement = image.getImage();\n      var gl = this.mapRenderer.getGL();\n\n      return createTexture(\n        gl, imageElement, CLAMP_TO_EDGE, CLAMP_TO_EDGE);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImageLayerRenderer.prototype.prepareFrame = function prepareFrame (frameState, layerState, context) {\n\n      var gl = this.mapRenderer.getGL();\n\n      var pixelRatio = frameState.pixelRatio;\n      var viewState = frameState.viewState;\n      var viewCenter = viewState.center;\n      var viewResolution = viewState.resolution;\n      var viewRotation = viewState.rotation;\n\n      var image = this.image_;\n      var texture = this.texture;\n      var imageLayer = /** @type {import(\"../../layer/Image.js\").default} */ (this.getLayer());\n      var imageSource = /** @type {import(\"../../source/Image.js\").default} */ (imageLayer.getSource());\n\n      var hints = frameState.viewHints;\n\n      var renderedExtent = frameState.extent;\n      if (layerState.extent !== undefined) {\n        renderedExtent = getIntersection(renderedExtent, layerState.extent);\n      }\n      if (!hints[ViewHint.ANIMATING] && !hints[ViewHint.INTERACTING] &&\n          !isEmpty$1(renderedExtent)) {\n        var projection = viewState.projection;\n        var image_ = imageSource.getImage(renderedExtent, viewResolution,\n          pixelRatio, projection);\n        if (image_) {\n          var loaded = this.loadImage(image_);\n          if (loaded) {\n            image = image_;\n            texture = this.createTexture_(image_);\n            if (this.texture) {\n              /**\n               * @param {WebGLRenderingContext} gl GL.\n               * @param {WebGLTexture} texture Texture.\n               */\n              var postRenderFunction = function(gl, texture) {\n                if (!gl.isContextLost()) {\n                  gl.deleteTexture(texture);\n                }\n              }.bind(null, gl, this.texture);\n              frameState.postRenderFunctions.push(\n                /** @type {import(\"../../PluggableMap.js\").PostRenderFunction} */ (postRenderFunction)\n              );\n            }\n          }\n        }\n      }\n\n      if (image) {\n        var canvas = this.mapRenderer.getContext().getCanvas();\n\n        this.updateProjectionMatrix_(canvas.width, canvas.height,\n          pixelRatio, viewCenter, viewResolution, viewRotation,\n          image.getExtent());\n        this.hitTransformationMatrix_ = null;\n\n        // Translate and scale to flip the Y coord.\n        var texCoordMatrix = this.texCoordMatrix;\n        reset(texCoordMatrix);\n        scale$2(texCoordMatrix, 1, -1);\n        translate$1(texCoordMatrix, 0, -1);\n\n        this.image_ = image;\n        this.texture = texture;\n      }\n\n      return !!image;\n    };\n\n    /**\n     * @param {number} canvasWidth Canvas width.\n     * @param {number} canvasHeight Canvas height.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../../coordinate.js\").Coordinate} viewCenter View center.\n     * @param {number} viewResolution View resolution.\n     * @param {number} viewRotation View rotation.\n     * @param {import(\"../../extent.js\").Extent} imageExtent Image extent.\n     * @private\n     */\n    WebGLImageLayerRenderer.prototype.updateProjectionMatrix_ = function updateProjectionMatrix_ (\n      canvasWidth,\n      canvasHeight,\n      pixelRatio,\n      viewCenter,\n      viewResolution,\n      viewRotation,\n      imageExtent\n    ) {\n\n      var canvasExtentWidth = canvasWidth * viewResolution;\n      var canvasExtentHeight = canvasHeight * viewResolution;\n\n      var projectionMatrix = this.projectionMatrix;\n      reset(projectionMatrix);\n      scale$2(projectionMatrix,\n        pixelRatio * 2 / canvasExtentWidth,\n        pixelRatio * 2 / canvasExtentHeight);\n      rotate$2(projectionMatrix, -viewRotation);\n      translate$1(projectionMatrix,\n        imageExtent[0] - viewCenter[0],\n        imageExtent[1] - viewCenter[1]);\n      scale$2(projectionMatrix,\n        (imageExtent[2] - imageExtent[0]) / 2,\n        (imageExtent[3] - imageExtent[1]) / 2);\n      translate$1(projectionMatrix, 1, 1);\n\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImageLayerRenderer.prototype.forEachLayerAtPixel = function forEachLayerAtPixel (pixel, frameState, callback, thisArg) {\n      if (!this.image_ || !this.image_.getImage()) {\n        return undefined;\n      }\n\n      var imageSize =\n          [this.image_.getImage().width, this.image_.getImage().height];\n\n      if (!this.hitTransformationMatrix_) {\n        this.hitTransformationMatrix_ = this.getHitTransformationMatrix_(\n          frameState.size, imageSize);\n      }\n\n      var pixelOnFrameBuffer = apply(\n        this.hitTransformationMatrix_, pixel.slice());\n\n      if (pixelOnFrameBuffer[0] < 0 || pixelOnFrameBuffer[0] > imageSize[0] ||\n          pixelOnFrameBuffer[1] < 0 || pixelOnFrameBuffer[1] > imageSize[1]) {\n        // outside the image, no need to check\n        return undefined;\n      }\n\n      if (!this.hitCanvasContext_) {\n        this.hitCanvasContext_ = createCanvasContext2D(1, 1);\n      }\n\n      this.hitCanvasContext_.clearRect(0, 0, 1, 1);\n      this.hitCanvasContext_.drawImage(this.image_.getImage(),\n        pixelOnFrameBuffer[0], pixelOnFrameBuffer[1], 1, 1, 0, 0, 1, 1);\n\n      var imageData = this.hitCanvasContext_.getImageData(0, 0, 1, 1).data;\n      if (imageData[3] > 0) {\n        return callback.call(thisArg, this.getLayer(), imageData);\n      } else {\n        return undefined;\n      }\n    };\n\n    /**\n     * The transformation matrix to get the pixel on the image for a\n     * pixel on the map.\n     * @param {import(\"../../size.js\").Size} mapSize The map size.\n     * @param {import(\"../../size.js\").Size} imageSize The image size.\n     * @return {import(\"../../transform.js\").Transform} The transformation matrix.\n     * @private\n     */\n    WebGLImageLayerRenderer.prototype.getHitTransformationMatrix_ = function getHitTransformationMatrix_ (mapSize, imageSize) {\n      // the first matrix takes a map pixel, flips the y-axis and scales to\n      // a range between -1 ... 1\n      var mapCoordTransform = create();\n      translate$1(mapCoordTransform, -1, -1);\n      scale$2(mapCoordTransform, 2 / mapSize[0], 2 / mapSize[1]);\n      translate$1(mapCoordTransform, 0, mapSize[1]);\n      scale$2(mapCoordTransform, 1, -1);\n\n      // the second matrix is the inverse of the projection matrix used in the\n      // shader for drawing\n      var projectionMatrixInv = invert(this.projectionMatrix.slice());\n\n      // the third matrix scales to the image dimensions and flips the y-axis again\n      var transform = create();\n      translate$1(transform, 0, imageSize[1]);\n      scale$2(transform, 1, -1);\n      scale$2(transform, imageSize[0] / 2, imageSize[1] / 2);\n      translate$1(transform, 1, 1);\n\n      multiply(transform, projectionMatrixInv);\n      multiply(transform, mapCoordTransform);\n\n      return transform;\n    };\n\n    return WebGLImageLayerRenderer;\n  }(WebGLLayerRenderer));\n\n\n  /**\n   * Determine if this renderer handles the provided layer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The candidate layer.\n   * @return {boolean} The renderer can render the layer.\n   */\n  WebGLImageLayerRenderer['handles'] = function(layer) {\n    return layer.getType() === LayerType.IMAGE;\n  };\n\n\n  /**\n   * Create a layer renderer.\n   * @param {import(\"../Map.js\").default} mapRenderer The map renderer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The layer to be rendererd.\n   * @return {WebGLImageLayerRenderer} The layer renderer.\n   */\n  WebGLImageLayerRenderer['create'] = function(mapRenderer, layer) {\n    return new WebGLImageLayerRenderer(\n      /** @type {import(\"./Map.js\").default} */ (mapRenderer),\n      /** @type {import(\"../../layer/Image.js\").default} */ (layer)\n    );\n  };\n\n  /**\n   * @module ol/renderer/webgl/Map\n   */\n\n\n  /**\n   * @typedef {Object} TextureCacheEntry\n   * @property {number} magFilter\n   * @property {number} minFilter\n   * @property {WebGLTexture} texture\n   */\n\n\n  /**\n   * Texture cache high water mark.\n   * @type {number}\n   */\n  var WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK = 1024;\n\n\n  /**\n   * @classdesc\n   * WebGL map renderer.\n   * @api\n   */\n  var WebGLMapRenderer = /*@__PURE__*/(function (MapRenderer$$1) {\n    function WebGLMapRenderer(map) {\n      MapRenderer$$1.call(this, map);\n\n      var container = map.getViewport();\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement}\n       */\n      this.canvas_ = /** @type {HTMLCanvasElement} */\n        (document.createElement('canvas'));\n      this.canvas_.style.width = '100%';\n      this.canvas_.style.height = '100%';\n      this.canvas_.style.display = 'block';\n      this.canvas_.className = CLASS_UNSELECTABLE;\n      container.insertBefore(this.canvas_, container.childNodes[0] || null);\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.clipTileCanvasWidth_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.clipTileCanvasHeight_ = 0;\n\n      /**\n       * @private\n       * @type {CanvasRenderingContext2D}\n       */\n      this.clipTileContext_ = createCanvasContext2D();\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.renderedVisible_ = true;\n\n      /**\n       * @private\n       * @type {WebGLRenderingContext}\n       */\n      this.gl_ = getContext(this.canvas_, {\n        antialias: true,\n        depth: true,\n        failIfMajorPerformanceCaveat: true,\n        preserveDrawingBuffer: false,\n        stencil: true\n      });\n\n      /**\n       * @private\n       * @type {import(\"../../webgl/Context.js\").default}\n       */\n      this.context_ = new WebGLContext(this.canvas_, this.gl_);\n\n      listen(this.canvas_, ContextEventType.LOST,\n        this.handleWebGLContextLost, this);\n      listen(this.canvas_, ContextEventType.RESTORED,\n        this.handleWebGLContextRestored, this);\n\n      /**\n       * @private\n       * @type {import(\"../../structs/LRUCache.js\").default<TextureCacheEntry|null>}\n       */\n      this.textureCache_ = new LRUCache();\n\n      /**\n       * @private\n       * @type {import(\"../../coordinate.js\").Coordinate}\n       */\n      this.focus_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../../structs/PriorityQueue.js\").default<Array>}\n       */\n      this.tileTextureQueue_ = new PriorityQueue(\n        /**\n         * @param {Array<*>} element Element.\n         * @return {number} Priority.\n         * @this {WebGLMapRenderer}\n         */\n        (function(element) {\n          var tileCenter = /** @type {import(\"../../coordinate.js\").Coordinate} */ (element[1]);\n          var tileResolution = /** @type {number} */ (element[2]);\n          var deltaX = tileCenter[0] - this.focus_[0];\n          var deltaY = tileCenter[1] - this.focus_[1];\n          return 65536 * Math.log(tileResolution) +\n                Math.sqrt(deltaX * deltaX + deltaY * deltaY) / tileResolution;\n        }).bind(this),\n        /**\n         * @param {Array<*>} element Element.\n         * @return {string} Key.\n         */\n        function(element) {\n          return (\n            /** @type {import(\"../../Tile.js\").default} */ (element[0]).getKey()\n          );\n        });\n\n\n      /**\n       * @param {import(\"../../PluggableMap.js\").default} map Map.\n       * @param {?import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n       * @return {boolean} false.\n       * @this {WebGLMapRenderer}\n       */\n      this.loadNextTileTexture_ =\n          function(map, frameState) {\n            if (!this.tileTextureQueue_.isEmpty()) {\n              this.tileTextureQueue_.reprioritize();\n              var element = this.tileTextureQueue_.dequeue();\n              var tile = /** @type {import(\"../../Tile.js\").default} */ (element[0]);\n              var tileSize = /** @type {import(\"../../size.js\").Size} */ (element[3]);\n              var tileGutter = /** @type {number} */ (element[4]);\n              this.bindTileTexture(\n                tile, tileSize, tileGutter, LINEAR, LINEAR);\n            }\n            return false;\n          }.bind(this);\n\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.textureCacheFrameMarkerCount_ = 0;\n\n      this.initializeGL_();\n    }\n\n    if ( MapRenderer$$1 ) WebGLMapRenderer.__proto__ = MapRenderer$$1;\n    WebGLMapRenderer.prototype = Object.create( MapRenderer$$1 && MapRenderer$$1.prototype );\n    WebGLMapRenderer.prototype.constructor = WebGLMapRenderer;\n\n    /**\n     * @param {import(\"../../Tile.js\").default} tile Tile.\n     * @param {import(\"../../size.js\").Size} tileSize Tile size.\n     * @param {number} tileGutter Tile gutter.\n     * @param {number} magFilter Mag filter.\n     * @param {number} minFilter Min filter.\n     */\n    WebGLMapRenderer.prototype.bindTileTexture = function bindTileTexture (tile, tileSize, tileGutter, magFilter, minFilter) {\n      var gl = this.getGL();\n      var tileKey = tile.getKey();\n      if (this.textureCache_.containsKey(tileKey)) {\n        var textureCacheEntry = this.textureCache_.get(tileKey);\n        gl.bindTexture(TEXTURE_2D, textureCacheEntry.texture);\n        if (textureCacheEntry.magFilter != magFilter) {\n          gl.texParameteri(\n            TEXTURE_2D, TEXTURE_MAG_FILTER, magFilter);\n          textureCacheEntry.magFilter = magFilter;\n        }\n        if (textureCacheEntry.minFilter != minFilter) {\n          gl.texParameteri(\n            TEXTURE_2D, TEXTURE_MIN_FILTER, minFilter);\n          textureCacheEntry.minFilter = minFilter;\n        }\n      } else {\n        var texture = gl.createTexture();\n        var imageTile = /** @type {import(\"../../ImageTile.js\").default} */ (tile);\n        gl.bindTexture(TEXTURE_2D, texture);\n        if (tileGutter > 0) {\n          var clipTileCanvas = this.clipTileContext_.canvas;\n          var clipTileContext = this.clipTileContext_;\n          if (this.clipTileCanvasWidth_ !== tileSize[0] ||\n              this.clipTileCanvasHeight_ !== tileSize[1]) {\n            clipTileCanvas.width = tileSize[0];\n            clipTileCanvas.height = tileSize[1];\n            this.clipTileCanvasWidth_ = tileSize[0];\n            this.clipTileCanvasHeight_ = tileSize[1];\n          } else {\n            clipTileContext.clearRect(0, 0, tileSize[0], tileSize[1]);\n          }\n          clipTileContext.drawImage(imageTile.getImage(), tileGutter, tileGutter,\n            tileSize[0], tileSize[1], 0, 0, tileSize[0], tileSize[1]);\n          gl.texImage2D(TEXTURE_2D, 0,\n            RGBA, RGBA,\n            UNSIGNED_BYTE, clipTileCanvas);\n        } else {\n          gl.texImage2D(TEXTURE_2D, 0,\n            RGBA, RGBA,\n            UNSIGNED_BYTE, imageTile.getImage());\n        }\n        gl.texParameteri(\n          TEXTURE_2D, TEXTURE_MAG_FILTER, magFilter);\n        gl.texParameteri(\n          TEXTURE_2D, TEXTURE_MIN_FILTER, minFilter);\n        gl.texParameteri(TEXTURE_2D, TEXTURE_WRAP_S,\n          CLAMP_TO_EDGE);\n        gl.texParameteri(TEXTURE_2D, TEXTURE_WRAP_T,\n          CLAMP_TO_EDGE);\n        this.textureCache_.set(tileKey, {\n          texture: texture,\n          magFilter: magFilter,\n          minFilter: minFilter\n        });\n      }\n    };\n\n    /**\n     * @param {import(\"../../render/EventType.js\").default} type Event type.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    WebGLMapRenderer.prototype.dispatchRenderEvent = function dispatchRenderEvent (type, frameState) {\n      var map = this.getMap();\n      if (map.hasListener(type)) {\n        var context = this.context_;\n\n        var extent = frameState.extent;\n        var size = frameState.size;\n        var viewState = frameState.viewState;\n        var pixelRatio = frameState.pixelRatio;\n\n        var resolution = viewState.resolution;\n        var center = viewState.center;\n        var rotation = viewState.rotation;\n\n        var vectorContext = new WebGLImmediateRenderer(context,\n          center, resolution, rotation, size, extent, pixelRatio);\n        var composeEvent = new RenderEvent(type, vectorContext,\n          frameState, null, context);\n        map.dispatchEvent(composeEvent);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLMapRenderer.prototype.disposeInternal = function disposeInternal () {\n      var gl = this.getGL();\n      if (!gl.isContextLost()) {\n        this.textureCache_.forEach(\n          /**\n           * @param {?TextureCacheEntry} textureCacheEntry\n           *     Texture cache entry.\n           */\n          function(textureCacheEntry) {\n            if (textureCacheEntry) {\n              gl.deleteTexture(textureCacheEntry.texture);\n            }\n          });\n      }\n      this.context_.dispose();\n      MapRenderer$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * @param {import(\"../../PluggableMap.js\").default} map Map.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @private\n     */\n    WebGLMapRenderer.prototype.expireCache_ = function expireCache_ (map, frameState) {\n      var gl = this.getGL();\n      var textureCacheEntry;\n      while (this.textureCache_.getCount() - this.textureCacheFrameMarkerCount_ >\n          WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK) {\n        textureCacheEntry = this.textureCache_.peekLast();\n        if (!textureCacheEntry) {\n          if (+this.textureCache_.peekLastKey() == frameState.index) {\n            break;\n          } else {\n            --this.textureCacheFrameMarkerCount_;\n          }\n        } else {\n          gl.deleteTexture(textureCacheEntry.texture);\n        }\n        this.textureCache_.pop();\n      }\n    };\n\n    /**\n     * @return {import(\"../../webgl/Context.js\").default} The context.\n     */\n    WebGLMapRenderer.prototype.getContext = function getContext$$1 () {\n      return this.context_;\n    };\n\n    /**\n     * @return {WebGLRenderingContext} GL.\n     */\n    WebGLMapRenderer.prototype.getGL = function getGL () {\n      return this.gl_;\n    };\n\n    /**\n     * @return {import(\"../../structs/PriorityQueue.js\").default<Array>} Tile texture queue.\n     */\n    WebGLMapRenderer.prototype.getTileTextureQueue = function getTileTextureQueue () {\n      return this.tileTextureQueue_;\n    };\n\n    /**\n     * @param {import(\"../../events/Event.js\").default} event Event.\n     * @protected\n     */\n    WebGLMapRenderer.prototype.handleWebGLContextLost = function handleWebGLContextLost (event) {\n      event.preventDefault();\n      this.textureCache_.clear();\n      this.textureCacheFrameMarkerCount_ = 0;\n\n      var renderers = this.getLayerRenderers();\n      for (var id in renderers) {\n        var renderer = /** @type {import(\"./Layer.js\").default} */ (renderers[id]);\n        renderer.handleWebGLContextLost();\n      }\n    };\n\n    /**\n     * @protected\n     */\n    WebGLMapRenderer.prototype.handleWebGLContextRestored = function handleWebGLContextRestored () {\n      this.initializeGL_();\n      this.getMap().render();\n    };\n\n    /**\n     * @private\n     */\n    WebGLMapRenderer.prototype.initializeGL_ = function initializeGL_ () {\n      var gl = this.gl_;\n      gl.activeTexture(TEXTURE0);\n      gl.blendFuncSeparate(\n        SRC_ALPHA, ONE_MINUS_SRC_ALPHA,\n        ONE, ONE_MINUS_SRC_ALPHA);\n      gl.disable(CULL_FACE);\n      gl.disable(DEPTH_TEST);\n      gl.disable(SCISSOR_TEST);\n      gl.disable(STENCIL_TEST);\n    };\n\n    /**\n     * @param {import(\"../../Tile.js\").default} tile Tile.\n     * @return {boolean} Is tile texture loaded.\n     */\n    WebGLMapRenderer.prototype.isTileTextureLoaded = function isTileTextureLoaded (tile) {\n      return this.textureCache_.containsKey(tile.getKey());\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLMapRenderer.prototype.renderFrame = function renderFrame (frameState) {\n\n      var context = this.getContext();\n      var gl = this.getGL();\n\n      if (gl.isContextLost()) {\n        return false;\n      }\n\n      if (!frameState) {\n        if (this.renderedVisible_) {\n          this.canvas_.style.display = 'none';\n          this.renderedVisible_ = false;\n        }\n        return false;\n      }\n\n      this.focus_ = frameState.focus;\n\n      this.textureCache_.set((-frameState.index).toString(), null);\n      ++this.textureCacheFrameMarkerCount_;\n\n      this.dispatchRenderEvent(RenderEventType.PRECOMPOSE, frameState);\n\n      /** @type {Array<import(\"../../layer/Layer.js\").State>} */\n      var layerStatesToDraw = [];\n      var layerStatesArray = frameState.layerStatesArray;\n      stableSort(layerStatesArray, sortByZIndex);\n\n      var viewResolution = frameState.viewState.resolution;\n      var i, ii;\n      for (i = 0, ii = layerStatesArray.length; i < ii; ++i) {\n        var layerState = layerStatesArray[i];\n        if (visibleAtResolution(layerState, viewResolution) &&\n            layerState.sourceState == SourceState.READY) {\n          var layerRenderer = /** @type {import(\"./Layer.js\").default} */ (this.getLayerRenderer(layerState.layer));\n          if (layerRenderer.prepareFrame(frameState, layerState, context)) {\n            layerStatesToDraw.push(layerState);\n          }\n        }\n      }\n\n      var width = frameState.size[0] * frameState.pixelRatio;\n      var height = frameState.size[1] * frameState.pixelRatio;\n      if (this.canvas_.width != width || this.canvas_.height != height) {\n        this.canvas_.width = width;\n        this.canvas_.height = height;\n      }\n\n      gl.bindFramebuffer(FRAMEBUFFER, null);\n\n      gl.clearColor(0, 0, 0, 0);\n      gl.clear(COLOR_BUFFER_BIT);\n      gl.enable(BLEND);\n      gl.viewport(0, 0, this.canvas_.width, this.canvas_.height);\n\n      for (i = 0, ii = layerStatesToDraw.length; i < ii; ++i) {\n        var layerState$1 = layerStatesToDraw[i];\n        var layerRenderer$1 = /** @type {import(\"./Layer.js\").default} */ (this.getLayerRenderer(layerState$1.layer));\n        layerRenderer$1.composeFrame(frameState, layerState$1, context);\n      }\n\n      if (!this.renderedVisible_) {\n        this.canvas_.style.display = '';\n        this.renderedVisible_ = true;\n      }\n\n      this.calculateMatrices2D(frameState);\n\n      if (this.textureCache_.getCount() - this.textureCacheFrameMarkerCount_ >\n          WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK) {\n        frameState.postRenderFunctions.push(\n          /** @type {import(\"../../PluggableMap.js\").PostRenderFunction} */ (this.expireCache_.bind(this))\n        );\n      }\n\n      if (!this.tileTextureQueue_.isEmpty()) {\n        frameState.postRenderFunctions.push(this.loadNextTileTexture_);\n        frameState.animate = true;\n      }\n\n      this.dispatchRenderEvent(RenderEventType.POSTCOMPOSE, frameState);\n\n      this.scheduleRemoveUnusedLayerRenderers(frameState);\n      this.scheduleExpireIconCache(frameState);\n\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLMapRenderer.prototype.forEachFeatureAtCoordinate = function forEachFeatureAtCoordinate (\n      coordinate,\n      frameState,\n      hitTolerance,\n      callback,\n      thisArg,\n      layerFilter,\n      thisArg2\n    ) {\n      var result;\n\n      if (this.getGL().isContextLost()) {\n        return false;\n      }\n\n      var viewState = frameState.viewState;\n\n      var layerStates = frameState.layerStatesArray;\n      var numLayers = layerStates.length;\n      var i;\n      for (i = numLayers - 1; i >= 0; --i) {\n        var layerState = layerStates[i];\n        var layer = layerState.layer;\n        if (visibleAtResolution(layerState, viewState.resolution) &&\n            layerFilter.call(thisArg2, layer)) {\n          var layerRenderer = this.getLayerRenderer(layer);\n          result = layerRenderer.forEachFeatureAtCoordinate(\n            coordinate, frameState, hitTolerance, callback);\n          if (result) {\n            return result;\n          }\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLMapRenderer.prototype.hasFeatureAtCoordinate = function hasFeatureAtCoordinate (coordinate, frameState, hitTolerance, layerFilter, thisArg) {\n      var hasFeature = false;\n\n      if (this.getGL().isContextLost()) {\n        return false;\n      }\n\n      var viewState = frameState.viewState;\n\n      var layerStates = frameState.layerStatesArray;\n      var numLayers = layerStates.length;\n      var i;\n      for (i = numLayers - 1; i >= 0; --i) {\n        var layerState = layerStates[i];\n        var layer = layerState.layer;\n        if (visibleAtResolution(layerState, viewState.resolution) &&\n            layerFilter.call(thisArg, layer)) {\n          var layerRenderer = this.getLayerRenderer(layer);\n          hasFeature =\n              layerRenderer.hasFeatureAtCoordinate(coordinate, frameState);\n          if (hasFeature) {\n            return true;\n          }\n        }\n      }\n      return hasFeature;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLMapRenderer.prototype.forEachLayerAtPixel = function forEachLayerAtPixel (pixel, frameState, hitTolerance, callback, thisArg, layerFilter, thisArg2) {\n      if (this.getGL().isContextLost()) {\n        return false;\n      }\n\n      var viewState = frameState.viewState;\n      var result;\n\n      var layerStates = frameState.layerStatesArray;\n      var numLayers = layerStates.length;\n      var i;\n      for (i = numLayers - 1; i >= 0; --i) {\n        var layerState = layerStates[i];\n        var layer = layerState.layer;\n        if (visibleAtResolution(layerState, viewState.resolution) &&\n            layerFilter.call(thisArg, layer)) {\n          var layerRenderer = /** @type {import(\"./Layer.js\").default} */ (this.getLayerRenderer(layer));\n          result = layerRenderer.forEachLayerAtPixel(\n            pixel, frameState, callback, thisArg);\n          if (result) {\n            return result;\n          }\n        }\n      }\n      return undefined;\n    };\n\n    return WebGLMapRenderer;\n  }(MapRenderer));\n\n  /**\n   * @module ol/Tile\n   */\n\n\n  /**\n   * A function that takes an {@link module:ol/Tile} for the tile and a\n   * `{string}` for the url as arguments. The default is\n   * ```js\n   * source.setTileLoadFunction(function(tile, src) {\n   *   tile.getImage().src = src;\n   * });\n   * ```\n   * For more fine grained control, the load function can use fetch or XMLHttpRequest and involve\n   * error handling:\n   *\n   * ```js\n   * import TileState from 'ol/TileState';\n   *\n   * source.setTileLoadFunction(function(tile, src) {\n   *   var xhr = new XMLHttpRequest();\n   *   xhr.responseType = 'blob';\n   *   xhr.addEventListener('loadend', function (evt) {\n   *     var data = this.response;\n   *     if (data !== undefined) {\n   *       tile.getImage().src = URL.createObjectURL(data);\n   *     } else {\n   *       tile.setState(TileState.ERROR);\n   *     }\n   *   });\n   *   xhr.addEventListener('error', function () {\n   *     tile.setState(TileState.ERROR);\n   *   });\n   *   xhr.open('GET', src);\n   *   xhr.send();\n   * });\n   * ```\n   *\n   * @typedef {function(Tile, string)} LoadFunction\n   * @api\n   */\n\n  /**\n   * {@link module:ol/source/Tile~Tile} sources use a function of this type to get\n   * the url that provides a tile for a given tile coordinate.\n   *\n   * This function takes an {@link module:ol/tilecoord~TileCoord} for the tile\n   * coordinate, a `{number}` representing the pixel ratio and a\n   * {@link module:ol/proj/Projection} for the projection  as arguments\n   * and returns a `{string}` representing the tile URL, or undefined if no tile\n   * should be requested for the passed tile coordinate.\n   *\n   * @typedef {function(import(\"./tilecoord.js\").TileCoord, number,\n   *           import(\"./proj/Projection.js\").default): (string|undefined)} UrlFunction\n   * @api\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [transition=250] A duration for tile opacity\n   * transitions in milliseconds. A duration of 0 disables the opacity transition.\n   * @api\n   */\n\n\n  /**\n   * @classdesc\n   * Base class for tiles.\n   *\n   * @abstract\n   */\n  var Tile = /*@__PURE__*/(function (EventTarget) {\n    function Tile(tileCoord, state, opt_options) {\n      EventTarget.call(this);\n\n      var options = opt_options ? opt_options : {};\n\n      /**\n       * @type {import(\"./tilecoord.js\").TileCoord}\n       */\n      this.tileCoord = tileCoord;\n\n      /**\n       * @protected\n       * @type {TileState}\n       */\n      this.state = state;\n\n      /**\n       * An \"interim\" tile for this tile. The interim tile may be used while this\n       * one is loading, for \"smooth\" transitions when changing params/dimensions\n       * on the source.\n       * @type {Tile}\n       */\n      this.interimTile = null;\n\n      /**\n       * A key assigned to the tile. This is used by the tile source to determine\n       * if this tile can effectively be used, or if a new tile should be created\n       * and this one be used as an interim tile for this new tile.\n       * @type {string}\n       */\n      this.key = '';\n\n      /**\n       * The duration for the opacity transition.\n       * @type {number}\n       */\n      this.transition_ = options.transition === undefined ? 250 : options.transition;\n\n      /**\n       * Lookup of start times for rendering transitions.  If the start time is\n       * equal to -1, the transition is complete.\n       * @type {Object<string, number>}\n       */\n      this.transitionStarts_ = {};\n\n    }\n\n    if ( EventTarget ) Tile.__proto__ = EventTarget;\n    Tile.prototype = Object.create( EventTarget && EventTarget.prototype );\n    Tile.prototype.constructor = Tile;\n\n    /**\n     * @protected\n     */\n    Tile.prototype.changed = function changed () {\n      this.dispatchEvent(EventType.CHANGE);\n    };\n\n    /**\n     * @return {string} Key.\n     */\n    Tile.prototype.getKey = function getKey () {\n      return this.key + '/' + this.tileCoord;\n    };\n\n    /**\n     * Get the interim tile most suitable for rendering using the chain of interim\n     * tiles. This corresponds to the  most recent tile that has been loaded, if no\n     * such tile exists, the original tile is returned.\n     * @return {!Tile} Best tile for rendering.\n     */\n    Tile.prototype.getInterimTile = function getInterimTile () {\n      if (!this.interimTile) {\n        //empty chain\n        return this;\n      }\n      var tile = this.interimTile;\n\n      // find the first loaded tile and return it. Since the chain is sorted in\n      // decreasing order of creation time, there is no need to search the remainder\n      // of the list (all those tiles correspond to older requests and will be\n      // cleaned up by refreshInterimChain)\n      do {\n        if (tile.getState() == TileState.LOADED) {\n          return tile;\n        }\n        tile = tile.interimTile;\n      } while (tile);\n\n      // we can not find a better tile\n      return this;\n    };\n\n    /**\n     * Goes through the chain of interim tiles and discards sections of the chain\n     * that are no longer relevant.\n     */\n    Tile.prototype.refreshInterimChain = function refreshInterimChain () {\n      if (!this.interimTile) {\n        return;\n      }\n\n      var tile = this.interimTile;\n      var prev = /** @type {Tile} */ (this);\n\n      do {\n        if (tile.getState() == TileState.LOADED) {\n          //we have a loaded tile, we can discard the rest of the list\n          //we would could abort any LOADING tile request\n          //older than this tile (i.e. any LOADING tile following this entry in the chain)\n          tile.interimTile = null;\n          break;\n        } else if (tile.getState() == TileState.LOADING) {\n          //keep this LOADING tile any loaded tiles later in the chain are\n          //older than this tile, so we're still interested in the request\n          prev = tile;\n        } else if (tile.getState() == TileState.IDLE) {\n          //the head of the list is the most current tile, we don't need\n          //to start any other requests for this chain\n          prev.interimTile = tile.interimTile;\n        } else {\n          prev = tile;\n        }\n        tile = prev.interimTile;\n      } while (tile);\n    };\n\n    /**\n     * Get the tile coordinate for this tile.\n     * @return {import(\"./tilecoord.js\").TileCoord} The tile coordinate.\n     * @api\n     */\n    Tile.prototype.getTileCoord = function getTileCoord () {\n      return this.tileCoord;\n    };\n\n    /**\n     * @return {TileState} State.\n     */\n    Tile.prototype.getState = function getState () {\n      return this.state;\n    };\n\n    /**\n     * Sets the state of this tile. If you write your own {@link module:ol/Tile~LoadFunction tileLoadFunction} ,\n     * it is important to set the state correctly to {@link module:ol/TileState~ERROR}\n     * when the tile cannot be loaded. Otherwise the tile cannot be removed from\n     * the tile queue and will block other requests.\n     * @param {TileState} state State.\n     * @api\n     */\n    Tile.prototype.setState = function setState (state) {\n      this.state = state;\n      this.changed();\n    };\n\n    /**\n     * Load the image or retry if loading previously failed.\n     * Loading is taken care of by the tile queue, and calling this method is\n     * only needed for preloading or for reloading in case of an error.\n     * @abstract\n     * @api\n     */\n    Tile.prototype.load = function load () {};\n\n    /**\n     * Get the alpha value for rendering.\n     * @param {string} id An id for the renderer.\n     * @param {number} time The render frame time.\n     * @return {number} A number between 0 and 1.\n     */\n    Tile.prototype.getAlpha = function getAlpha (id, time) {\n      if (!this.transition_) {\n        return 1;\n      }\n\n      var start = this.transitionStarts_[id];\n      if (!start) {\n        start = time;\n        this.transitionStarts_[id] = start;\n      } else if (start === -1) {\n        return 1;\n      }\n\n      var delta = time - start + (1000 / 60); // avoid rendering at 0\n      if (delta >= this.transition_) {\n        return 1;\n      }\n      return easeIn(delta / this.transition_);\n    };\n\n    /**\n     * Determine if a tile is in an alpha transition.  A tile is considered in\n     * transition if tile.getAlpha() has not yet been called or has been called\n     * and returned 1.\n     * @param {string} id An id for the renderer.\n     * @return {boolean} The tile is in transition.\n     */\n    Tile.prototype.inTransition = function inTransition (id) {\n      if (!this.transition_) {\n        return false;\n      }\n      return this.transitionStarts_[id] !== -1;\n    };\n\n    /**\n     * Mark a transition as complete.\n     * @param {string} id An id for the renderer.\n     */\n    Tile.prototype.endTransition = function endTransition (id) {\n      if (this.transition_) {\n        this.transitionStarts_[id] = -1;\n      }\n    };\n\n    return Tile;\n  }(Target));\n\n  /**\n   * @module ol/ImageTile\n   */\n\n\n  var ImageTile = /*@__PURE__*/(function (Tile$$1) {\n    function ImageTile(tileCoord, state, src, crossOrigin, tileLoadFunction, opt_options) {\n\n      Tile$$1.call(this, tileCoord, state, opt_options);\n\n      /**\n       * @private\n       * @type {?string}\n       */\n      this.crossOrigin_ = crossOrigin;\n\n      /**\n       * Image URI\n       *\n       * @private\n       * @type {string}\n       */\n      this.src_ = src;\n\n      /**\n       * @private\n       * @type {HTMLImageElement|HTMLCanvasElement}\n       */\n      this.image_ = new Image();\n      if (crossOrigin !== null) {\n        this.image_.crossOrigin = crossOrigin;\n      }\n\n      /**\n       * @private\n       * @type {Array<import(\"./events.js\").EventsKey>}\n       */\n      this.imageListenerKeys_ = null;\n\n      /**\n       * @private\n       * @type {import(\"./Tile.js\").LoadFunction}\n       */\n      this.tileLoadFunction_ = tileLoadFunction;\n\n    }\n\n    if ( Tile$$1 ) ImageTile.__proto__ = Tile$$1;\n    ImageTile.prototype = Object.create( Tile$$1 && Tile$$1.prototype );\n    ImageTile.prototype.constructor = ImageTile;\n\n    /**\n     * @inheritDoc\n     */\n    ImageTile.prototype.disposeInternal = function disposeInternal () {\n      if (this.state == TileState.LOADING) {\n        this.unlistenImage_();\n        this.image_ = getBlankImage();\n      }\n      if (this.interimTile) {\n        this.interimTile.dispose();\n      }\n      this.state = TileState.ABORT;\n      this.changed();\n      Tile$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * Get the HTML image element for this tile (may be a Canvas, Image, or Video).\n     * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n     * @api\n     */\n    ImageTile.prototype.getImage = function getImage () {\n      return this.image_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    ImageTile.prototype.getKey = function getKey () {\n      return this.src_;\n    };\n\n    /**\n     * Tracks loading or read errors.\n     *\n     * @private\n     */\n    ImageTile.prototype.handleImageError_ = function handleImageError_ () {\n      this.state = TileState.ERROR;\n      this.unlistenImage_();\n      this.image_ = getBlankImage();\n      this.changed();\n    };\n\n    /**\n     * Tracks successful image load.\n     *\n     * @private\n     */\n    ImageTile.prototype.handleImageLoad_ = function handleImageLoad_ () {\n      var image = /** @type {HTMLImageElement} */ (this.image_);\n      if (image.naturalWidth && image.naturalHeight) {\n        this.state = TileState.LOADED;\n      } else {\n        this.state = TileState.EMPTY;\n      }\n      this.unlistenImage_();\n      this.changed();\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    ImageTile.prototype.load = function load () {\n      if (this.state == TileState.ERROR) {\n        this.state = TileState.IDLE;\n        this.image_ = new Image();\n        if (this.crossOrigin_ !== null) {\n          this.image_.crossOrigin = this.crossOrigin_;\n        }\n      }\n      if (this.state == TileState.IDLE) {\n        this.state = TileState.LOADING;\n        this.changed();\n        this.imageListenerKeys_ = [\n          listenOnce(this.image_, EventType.ERROR,\n            this.handleImageError_, this),\n          listenOnce(this.image_, EventType.LOAD,\n            this.handleImageLoad_, this)\n        ];\n        this.tileLoadFunction_(this, this.src_);\n      }\n    };\n\n    /**\n     * Discards event handlers which listen for load completion or errors.\n     *\n     * @private\n     */\n    ImageTile.prototype.unlistenImage_ = function unlistenImage_ () {\n      this.imageListenerKeys_.forEach(unlistenByKey);\n      this.imageListenerKeys_ = null;\n    };\n\n    return ImageTile;\n  }(Tile));\n\n\n  /**\n   * Get a 1-pixel blank image.\n   * @return {HTMLCanvasElement} Blank image.\n   */\n  function getBlankImage() {\n    var ctx = createCanvasContext2D(1, 1);\n    ctx.fillStyle = 'rgba(0,0,0,0)';\n    ctx.fillRect(0, 0, 1, 1);\n    return ctx.canvas;\n  }\n\n  /**\n   * @module ol/tilecoord\n   */\n\n\n  /**\n   * An array of three numbers representing the location of a tile in a tile\n   * grid. The order is `z`, `x`, and `y`. `z` is the zoom level.\n   * @typedef {Array<number>} TileCoord\n   * @api\n   */\n\n\n  /**\n   * @param {number} z Z.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @param {TileCoord=} opt_tileCoord Tile coordinate.\n   * @return {TileCoord} Tile coordinate.\n   */\n  function createOrUpdate$2(z, x, y, opt_tileCoord) {\n    if (opt_tileCoord !== undefined) {\n      opt_tileCoord[0] = z;\n      opt_tileCoord[1] = x;\n      opt_tileCoord[2] = y;\n      return opt_tileCoord;\n    } else {\n      return [z, x, y];\n    }\n  }\n\n\n  /**\n   * @param {number} z Z.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @return {string} Key.\n   */\n  function getKeyZXY(z, x, y) {\n    return z + '/' + x + '/' + y;\n  }\n\n\n  /**\n   * Get the key for a tile coord.\n   * @param {TileCoord} tileCoord The tile coord.\n   * @return {string} Key.\n   */\n  function getKey$1(tileCoord) {\n    return getKeyZXY(tileCoord[0], tileCoord[1], tileCoord[2]);\n  }\n\n\n  /**\n   * Get a tile coord given a key.\n   * @param {string} key The tile coord key.\n   * @return {TileCoord} The tile coord.\n   */\n  function fromKey(key) {\n    return key.split('/').map(Number);\n  }\n\n\n  /**\n   * @param {TileCoord} tileCoord Tile coord.\n   * @return {number} Hash.\n   */\n  function hash(tileCoord) {\n    return (tileCoord[1] << tileCoord[0]) + tileCoord[2];\n  }\n\n\n  /**\n   * @param {TileCoord} tileCoord Tile coordinate.\n   * @param {!import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n   * @return {boolean} Tile coordinate is within extent and zoom level range.\n   */\n  function withinExtentAndZ(tileCoord, tileGrid) {\n    var z = tileCoord[0];\n    var x = tileCoord[1];\n    var y = tileCoord[2];\n\n    if (tileGrid.getMinZoom() > z || z > tileGrid.getMaxZoom()) {\n      return false;\n    }\n    var extent = tileGrid.getExtent();\n    var tileRange;\n    if (!extent) {\n      tileRange = tileGrid.getFullTileRange(z);\n    } else {\n      tileRange = tileGrid.getTileRangeForExtentAndZ(extent, z);\n    }\n    if (!tileRange) {\n      return true;\n    } else {\n      return tileRange.containsXY(x, y);\n    }\n  }\n\n  /**\n   * @module ol/TileCache\n   */\n\n  var TileCache = /*@__PURE__*/(function (LRUCache$$1) {\n    function TileCache(opt_highWaterMark) {\n\n      LRUCache$$1.call(this, opt_highWaterMark);\n\n    }\n\n    if ( LRUCache$$1 ) TileCache.__proto__ = LRUCache$$1;\n    TileCache.prototype = Object.create( LRUCache$$1 && LRUCache$$1.prototype );\n    TileCache.prototype.constructor = TileCache;\n\n    /**\n     * @param {!Object<string, import(\"./TileRange.js\").default>} usedTiles Used tiles.\n     */\n    TileCache.prototype.expireCache = function expireCache (usedTiles) {\n      while (this.canExpireCache()) {\n        var tile = this.peekLast();\n        var zKey = tile.tileCoord[0].toString();\n        if (zKey in usedTiles && usedTiles[zKey].contains(tile.tileCoord)) {\n          break;\n        } else {\n          this.pop().dispose();\n        }\n      }\n    };\n\n    /**\n     * Prune all tiles from the cache that don't have the same z as the newest tile.\n     */\n    TileCache.prototype.pruneExceptNewestZ = function pruneExceptNewestZ () {\n      if (this.getCount() === 0) {\n        return;\n      }\n      var key = this.peekFirstKey();\n      var tileCoord = fromKey(key);\n      var z = tileCoord[0];\n      this.forEach(function(tile) {\n        if (tile.tileCoord[0] !== z) {\n          this.remove(getKey$1(tile.tileCoord));\n          tile.dispose();\n        }\n      }, this);\n    };\n\n    return TileCache;\n  }(LRUCache));\n\n  /**\n   * @module ol/tilegrid/TileGrid\n   */\n\n\n  /**\n   * @private\n   * @type {import(\"../tilecoord.js\").TileCoord}\n   */\n  var tmpTileCoord = [0, 0, 0];\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../extent.js\").Extent} [extent] Extent for the tile grid. No tiles outside this\n   * extent will be requested by {@link module:ol/source/Tile} sources. When no `origin` or\n   * `origins` are configured, the `origin` will be set to the top-left corner of the extent.\n   * @property {number} [minZoom=0] Minimum zoom.\n   * @property {import(\"../coordinate.js\").Coordinate} [origin] The tile grid origin, i.e. where the `x`\n   * and `y` axes meet (`[z, 0, 0]`). Tile coordinates increase left to right and upwards. If not\n   * specified, `extent` or `origins` must be provided.\n   * @property {Array<import(\"../coordinate.js\").Coordinate>} [origins] Tile grid origins, i.e. where\n   * the `x` and `y` axes meet (`[z, 0, 0]`), for each zoom level. If given, the array length\n   * should match the length of the `resolutions` array, i.e. each resolution can have a different\n   * origin. Tile coordinates increase left to right and upwards. If not specified, `extent` or\n   * `origin` must be provided.\n   * @property {!Array<number>} resolutions Resolutions. The array index of each resolution needs\n   * to match the zoom level. This means that even if a `minZoom` is configured, the resolutions\n   * array will have a length of `maxZoom + 1`.\n   * @property {Array<import(\"../size.js\").Size>} [sizes] Sizes.\n   * @property {number|import(\"../size.js\").Size} [tileSize] Tile size.\n   * Default is `[256, 256]`.\n   * @property {Array<import(\"../size.js\").Size>} [tileSizes] Tile sizes. If given, the array length\n   * should match the length of the `resolutions` array, i.e. each resolution can have a different\n   * tile size.\n   */\n\n\n  /**\n   * @classdesc\n   * Base class for setting the grid pattern for sources accessing tiled-image\n   * servers.\n   * @api\n   */\n  var TileGrid = function TileGrid(options) {\n\n    /**\n     * @protected\n     * @type {number}\n     */\n    this.minZoom = options.minZoom !== undefined ? options.minZoom : 0;\n\n    /**\n     * @private\n     * @type {!Array<number>}\n     */\n    this.resolutions_ = options.resolutions;\n    assert(isSorted(this.resolutions_, function(a, b) {\n      return b - a;\n    }, true), 17); // `resolutions` must be sorted in descending order\n\n\n    // check if we've got a consistent zoom factor and origin\n    var zoomFactor;\n    if (!options.origins) {\n      for (var i = 0, ii = this.resolutions_.length - 1; i < ii; ++i) {\n        if (!zoomFactor) {\n          zoomFactor = this.resolutions_[i] / this.resolutions_[i + 1];\n        } else {\n          if (this.resolutions_[i] / this.resolutions_[i + 1] !== zoomFactor) {\n            zoomFactor = undefined;\n            break;\n          }\n        }\n      }\n    }\n\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.zoomFactor_ = zoomFactor;\n\n\n    /**\n     * @protected\n     * @type {number}\n     */\n    this.maxZoom = this.resolutions_.length - 1;\n\n    /**\n     * @private\n     * @type {import(\"../coordinate.js\").Coordinate}\n     */\n    this.origin_ = options.origin !== undefined ? options.origin : null;\n\n    /**\n     * @private\n     * @type {Array<import(\"../coordinate.js\").Coordinate>}\n     */\n    this.origins_ = null;\n    if (options.origins !== undefined) {\n      this.origins_ = options.origins;\n      assert(this.origins_.length == this.resolutions_.length,\n        20); // Number of `origins` and `resolutions` must be equal\n    }\n\n    var extent = options.extent;\n\n    if (extent !== undefined &&\n        !this.origin_ && !this.origins_) {\n      this.origin_ = getTopLeft(extent);\n    }\n\n    assert(\n      (!this.origin_ && this.origins_) || (this.origin_ && !this.origins_),\n      18); // Either `origin` or `origins` must be configured, never both\n\n    /**\n     * @private\n     * @type {Array<number|import(\"../size.js\").Size>}\n     */\n    this.tileSizes_ = null;\n    if (options.tileSizes !== undefined) {\n      this.tileSizes_ = options.tileSizes;\n      assert(this.tileSizes_.length == this.resolutions_.length,\n        19); // Number of `tileSizes` and `resolutions` must be equal\n    }\n\n    /**\n     * @private\n     * @type {number|import(\"../size.js\").Size}\n     */\n    this.tileSize_ = options.tileSize !== undefined ?\n      options.tileSize :\n      !this.tileSizes_ ? DEFAULT_TILE_SIZE : null;\n    assert(\n      (!this.tileSize_ && this.tileSizes_) ||\n        (this.tileSize_ && !this.tileSizes_),\n      22); // Either `tileSize` or `tileSizes` must be configured, never both\n\n    /**\n     * @private\n     * @type {import(\"../extent.js\").Extent}\n     */\n    this.extent_ = extent !== undefined ? extent : null;\n\n\n    /**\n     * @private\n     * @type {Array<import(\"../TileRange.js\").default>}\n     */\n    this.fullTileRanges_ = null;\n\n    /**\n     * @private\n     * @type {import(\"../size.js\").Size}\n     */\n    this.tmpSize_ = [0, 0];\n\n    if (options.sizes !== undefined) {\n      this.fullTileRanges_ = options.sizes.map(function(size, z) {\n        var tileRange = new TileRange(\n          Math.min(0, size[0]), Math.max(size[0] - 1, -1),\n          Math.min(0, size[1]), Math.max(size[1] - 1, -1));\n        return tileRange;\n      }, this);\n    } else if (extent) {\n      this.calculateTileRanges_(extent);\n    }\n\n  };\n\n  /**\n   * Call a function with each tile coordinate for a given extent and zoom level.\n   *\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @param {number} zoom Integer zoom level.\n   * @param {function(import(\"../tilecoord.js\").TileCoord)} callback Function called with each tile coordinate.\n   * @api\n   */\n  TileGrid.prototype.forEachTileCoord = function forEachTileCoord (extent, zoom, callback) {\n    var tileRange = this.getTileRangeForExtentAndZ(extent, zoom);\n    for (var i = tileRange.minX, ii = tileRange.maxX; i <= ii; ++i) {\n      for (var j = tileRange.minY, jj = tileRange.maxY; j <= jj; ++j) {\n        callback([zoom, i, j]);\n      }\n    }\n  };\n\n  /**\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n   * @param {function(this: T, number, import(\"../TileRange.js\").default): boolean} callback Callback.\n   * @param {T=} opt_this The object to use as `this` in `callback`.\n   * @param {import(\"../TileRange.js\").default=} opt_tileRange Temporary import(\"../TileRange.js\").default object.\n   * @param {import(\"../extent.js\").Extent=} opt_extent Temporary import(\"../extent.js\").Extent object.\n   * @return {boolean} Callback succeeded.\n   * @template T\n   */\n  TileGrid.prototype.forEachTileCoordParentTileRange = function forEachTileCoordParentTileRange (tileCoord, callback, opt_this, opt_tileRange, opt_extent) {\n    var tileRange, x, y;\n    var tileCoordExtent = null;\n    var z = tileCoord[0] - 1;\n    if (this.zoomFactor_ === 2) {\n      x = tileCoord[1];\n      y = tileCoord[2];\n    } else {\n      tileCoordExtent = this.getTileCoordExtent(tileCoord, opt_extent);\n    }\n    while (z >= this.minZoom) {\n      if (this.zoomFactor_ === 2) {\n        x = Math.floor(x / 2);\n        y = Math.floor(y / 2);\n        tileRange = createOrUpdate$1(x, x, y, y, opt_tileRange);\n      } else {\n        tileRange = this.getTileRangeForExtentAndZ(tileCoordExtent, z, opt_tileRange);\n      }\n      if (callback.call(opt_this, z, tileRange)) {\n        return true;\n      }\n      --z;\n    }\n    return false;\n  };\n\n  /**\n   * Get the extent for this tile grid, if it was configured.\n   * @return {import(\"../extent.js\").Extent} Extent.\n   */\n  TileGrid.prototype.getExtent = function getExtent () {\n    return this.extent_;\n  };\n\n  /**\n   * Get the maximum zoom level for the grid.\n   * @return {number} Max zoom.\n   * @api\n   */\n  TileGrid.prototype.getMaxZoom = function getMaxZoom () {\n    return this.maxZoom;\n  };\n\n  /**\n   * Get the minimum zoom level for the grid.\n   * @return {number} Min zoom.\n   * @api\n   */\n  TileGrid.prototype.getMinZoom = function getMinZoom () {\n    return this.minZoom;\n  };\n\n  /**\n   * Get the origin for the grid at the given zoom level.\n   * @param {number} z Integer zoom level.\n   * @return {import(\"../coordinate.js\").Coordinate} Origin.\n   * @api\n   */\n  TileGrid.prototype.getOrigin = function getOrigin (z) {\n    if (this.origin_) {\n      return this.origin_;\n    } else {\n      return this.origins_[z];\n    }\n  };\n\n  /**\n   * Get the resolution for the given zoom level.\n   * @param {number} z Integer zoom level.\n   * @return {number} Resolution.\n   * @api\n   */\n  TileGrid.prototype.getResolution = function getResolution (z) {\n    return this.resolutions_[z];\n  };\n\n  /**\n   * Get the list of resolutions for the tile grid.\n   * @return {Array<number>} Resolutions.\n   * @api\n   */\n  TileGrid.prototype.getResolutions = function getResolutions () {\n    return this.resolutions_;\n  };\n\n  /**\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n   * @param {import(\"../TileRange.js\").default=} opt_tileRange Temporary import(\"../TileRange.js\").default object.\n   * @param {import(\"../extent.js\").Extent=} opt_extent Temporary import(\"../extent.js\").Extent object.\n   * @return {import(\"../TileRange.js\").default} Tile range.\n   */\n  TileGrid.prototype.getTileCoordChildTileRange = function getTileCoordChildTileRange (tileCoord, opt_tileRange, opt_extent) {\n    if (tileCoord[0] < this.maxZoom) {\n      if (this.zoomFactor_ === 2) {\n        var minX = tileCoord[1] * 2;\n        var minY = tileCoord[2] * 2;\n        return createOrUpdate$1(minX, minX + 1, minY, minY + 1, opt_tileRange);\n      }\n      var tileCoordExtent = this.getTileCoordExtent(tileCoord, opt_extent);\n      return this.getTileRangeForExtentAndZ(\n        tileCoordExtent, tileCoord[0] + 1, opt_tileRange);\n    }\n    return null;\n  };\n\n  /**\n   * Get the extent for a tile range.\n   * @param {number} z Integer zoom level.\n   * @param {import(\"../TileRange.js\").default} tileRange Tile range.\n   * @param {import(\"../extent.js\").Extent=} opt_extent Temporary import(\"../extent.js\").Extent object.\n   * @return {import(\"../extent.js\").Extent} Extent.\n   */\n  TileGrid.prototype.getTileRangeExtent = function getTileRangeExtent (z, tileRange, opt_extent) {\n    var origin = this.getOrigin(z);\n    var resolution = this.getResolution(z);\n    var tileSize = toSize(this.getTileSize(z), this.tmpSize_);\n    var minX = origin[0] + tileRange.minX * tileSize[0] * resolution;\n    var maxX = origin[0] + (tileRange.maxX + 1) * tileSize[0] * resolution;\n    var minY = origin[1] + tileRange.minY * tileSize[1] * resolution;\n    var maxY = origin[1] + (tileRange.maxY + 1) * tileSize[1] * resolution;\n    return createOrUpdate(minX, minY, maxX, maxY, opt_extent);\n  };\n\n  /**\n   * Get a tile range for the given extent and integer zoom level.\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @param {number} z Integer zoom level.\n   * @param {import(\"../TileRange.js\").default=} opt_tileRange Temporary tile range object.\n   * @return {import(\"../TileRange.js\").default} Tile range.\n   */\n  TileGrid.prototype.getTileRangeForExtentAndZ = function getTileRangeForExtentAndZ (extent, z, opt_tileRange) {\n    var tileCoord = tmpTileCoord;\n    this.getTileCoordForXYAndZ_(extent[0], extent[1], z, false, tileCoord);\n    var minX = tileCoord[1];\n    var minY = tileCoord[2];\n    this.getTileCoordForXYAndZ_(extent[2], extent[3], z, true, tileCoord);\n    return createOrUpdate$1(minX, tileCoord[1], minY, tileCoord[2], opt_tileRange);\n  };\n\n  /**\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n   * @return {import(\"../coordinate.js\").Coordinate} Tile center.\n   */\n  TileGrid.prototype.getTileCoordCenter = function getTileCoordCenter (tileCoord) {\n    var origin = this.getOrigin(tileCoord[0]);\n    var resolution = this.getResolution(tileCoord[0]);\n    var tileSize = toSize(this.getTileSize(tileCoord[0]), this.tmpSize_);\n    return [\n      origin[0] + (tileCoord[1] + 0.5) * tileSize[0] * resolution,\n      origin[1] + (tileCoord[2] + 0.5) * tileSize[1] * resolution\n    ];\n  };\n\n  /**\n   * Get the extent of a tile coordinate.\n   *\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n   * @param {import(\"../extent.js\").Extent=} opt_extent Temporary extent object.\n   * @return {import(\"../extent.js\").Extent} Extent.\n   * @api\n   */\n  TileGrid.prototype.getTileCoordExtent = function getTileCoordExtent (tileCoord, opt_extent) {\n    var origin = this.getOrigin(tileCoord[0]);\n    var resolution = this.getResolution(tileCoord[0]);\n    var tileSize = toSize(this.getTileSize(tileCoord[0]), this.tmpSize_);\n    var minX = origin[0] + tileCoord[1] * tileSize[0] * resolution;\n    var minY = origin[1] + tileCoord[2] * tileSize[1] * resolution;\n    var maxX = minX + tileSize[0] * resolution;\n    var maxY = minY + tileSize[1] * resolution;\n    return createOrUpdate(minX, minY, maxX, maxY, opt_extent);\n  };\n\n  /**\n   * Get the tile coordinate for the given map coordinate and resolution.This\n   * method considers that coordinates that intersect tile boundaries should be\n   * assigned the higher tile coordinate.\n   *\n   * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n   * @param {number} resolution Resolution.\n   * @param {import(\"../tilecoord.js\").TileCoord=} opt_tileCoord Destination import(\"../tilecoord.js\").TileCoord object.\n   * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate.\n   * @api\n   */\n  TileGrid.prototype.getTileCoordForCoordAndResolution = function getTileCoordForCoordAndResolution (coordinate, resolution, opt_tileCoord) {\n    return this.getTileCoordForXYAndResolution_(\n      coordinate[0], coordinate[1], resolution, false, opt_tileCoord);\n  };\n\n  /**\n   * Note that this method should not be called for resolutions that correspond\n   * to an integer zoom level.Instead call the `getTileCoordForXYAndZ_` method.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @param {number} resolution Resolution (for a non-integer zoom level).\n   * @param {boolean} reverseIntersectionPolicy Instead of letting edge\n   *   intersections go to the higher tile coordinate, let edge intersections\n   *   go to the lower tile coordinate.\n   * @param {import(\"../tilecoord.js\").TileCoord=} opt_tileCoord Temporary import(\"../tilecoord.js\").TileCoord object.\n   * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate.\n   * @private\n   */\n  TileGrid.prototype.getTileCoordForXYAndResolution_ = function getTileCoordForXYAndResolution_ (x, y, resolution, reverseIntersectionPolicy, opt_tileCoord) {\n    var z = this.getZForResolution(resolution);\n    var scale = resolution / this.getResolution(z);\n    var origin = this.getOrigin(z);\n    var tileSize = toSize(this.getTileSize(z), this.tmpSize_);\n\n    var adjustX = reverseIntersectionPolicy ? 0.5 : 0;\n    var adjustY = reverseIntersectionPolicy ? 0 : 0.5;\n    var xFromOrigin = Math.floor((x - origin[0]) / resolution + adjustX);\n    var yFromOrigin = Math.floor((y - origin[1]) / resolution + adjustY);\n    var tileCoordX = scale * xFromOrigin / tileSize[0];\n    var tileCoordY = scale * yFromOrigin / tileSize[1];\n\n    if (reverseIntersectionPolicy) {\n      tileCoordX = Math.ceil(tileCoordX) - 1;\n      tileCoordY = Math.ceil(tileCoordY) - 1;\n    } else {\n      tileCoordX = Math.floor(tileCoordX);\n      tileCoordY = Math.floor(tileCoordY);\n    }\n\n    return createOrUpdate$2(z, tileCoordX, tileCoordY, opt_tileCoord);\n  };\n\n  /**\n   * Although there is repetition between this method and `getTileCoordForXYAndResolution_`,\n   * they should have separate implementations.This method is for integer zoom\n   * levels.The other method should only be called for resolutions corresponding\n   * to non-integer zoom levels.\n   * @param {number} x Map x coordinate.\n   * @param {number} y Map y coordinate.\n   * @param {number} z Integer zoom level.\n   * @param {boolean} reverseIntersectionPolicy Instead of letting edge\n   *   intersections go to the higher tile coordinate, let edge intersections\n   *   go to the lower tile coordinate.\n   * @param {import(\"../tilecoord.js\").TileCoord=} opt_tileCoord Temporary import(\"../tilecoord.js\").TileCoord object.\n   * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate.\n   * @private\n   */\n  TileGrid.prototype.getTileCoordForXYAndZ_ = function getTileCoordForXYAndZ_ (x, y, z, reverseIntersectionPolicy, opt_tileCoord) {\n    var origin = this.getOrigin(z);\n    var resolution = this.getResolution(z);\n    var tileSize = toSize(this.getTileSize(z), this.tmpSize_);\n\n    var adjustX = reverseIntersectionPolicy ? 0.5 : 0;\n    var adjustY = reverseIntersectionPolicy ? 0 : 0.5;\n    var xFromOrigin = Math.floor((x - origin[0]) / resolution + adjustX);\n    var yFromOrigin = Math.floor((y - origin[1]) / resolution + adjustY);\n    var tileCoordX = xFromOrigin / tileSize[0];\n    var tileCoordY = yFromOrigin / tileSize[1];\n\n    if (reverseIntersectionPolicy) {\n      tileCoordX = Math.ceil(tileCoordX) - 1;\n      tileCoordY = Math.ceil(tileCoordY) - 1;\n    } else {\n      tileCoordX = Math.floor(tileCoordX);\n      tileCoordY = Math.floor(tileCoordY);\n    }\n\n    return createOrUpdate$2(z, tileCoordX, tileCoordY, opt_tileCoord);\n  };\n\n  /**\n   * Get a tile coordinate given a map coordinate and zoom level.\n   * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n   * @param {number} z Zoom level.\n   * @param {import(\"../tilecoord.js\").TileCoord=} opt_tileCoord Destination import(\"../tilecoord.js\").TileCoord object.\n   * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate.\n   * @api\n   */\n  TileGrid.prototype.getTileCoordForCoordAndZ = function getTileCoordForCoordAndZ (coordinate, z, opt_tileCoord) {\n    return this.getTileCoordForXYAndZ_(\n      coordinate[0], coordinate[1], z, false, opt_tileCoord);\n  };\n\n  /**\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n   * @return {number} Tile resolution.\n   */\n  TileGrid.prototype.getTileCoordResolution = function getTileCoordResolution (tileCoord) {\n    return this.resolutions_[tileCoord[0]];\n  };\n\n  /**\n   * Get the tile size for a zoom level. The type of the return value matches the\n   * `tileSize` or `tileSizes` that the tile grid was configured with. To always\n   * get an `import(\"../size.js\").Size`, run the result through `import(\"../size.js\").Size.toSize()`.\n   * @param {number} z Z.\n   * @return {number|import(\"../size.js\").Size} Tile size.\n   * @api\n   */\n  TileGrid.prototype.getTileSize = function getTileSize (z) {\n    if (this.tileSize_) {\n      return this.tileSize_;\n    } else {\n      return this.tileSizes_[z];\n    }\n  };\n\n  /**\n   * @param {number} z Zoom level.\n   * @return {import(\"../TileRange.js\").default} Extent tile range for the specified zoom level.\n   */\n  TileGrid.prototype.getFullTileRange = function getFullTileRange (z) {\n    if (!this.fullTileRanges_) {\n      return null;\n    } else {\n      return this.fullTileRanges_[z];\n    }\n  };\n\n  /**\n   * @param {number} resolution Resolution.\n   * @param {number=} opt_direction If 0, the nearest resolution will be used.\n   *   If 1, the nearest lower resolution will be used. If -1, the nearest\n   *   higher resolution will be used. Default is 0.\n   * @return {number} Z.\n   * @api\n   */\n  TileGrid.prototype.getZForResolution = function getZForResolution (resolution, opt_direction) {\n    var z = linearFindNearest(this.resolutions_, resolution, opt_direction || 0);\n    return clamp(z, this.minZoom, this.maxZoom);\n  };\n\n  /**\n   * @param {!import(\"../extent.js\").Extent} extent Extent for this tile grid.\n   * @private\n   */\n  TileGrid.prototype.calculateTileRanges_ = function calculateTileRanges_ (extent) {\n    var length = this.resolutions_.length;\n    var fullTileRanges = new Array(length);\n    for (var z = this.minZoom; z < length; ++z) {\n      fullTileRanges[z] = this.getTileRangeForExtentAndZ(extent, z);\n    }\n    this.fullTileRanges_ = fullTileRanges;\n  };\n\n  /**\n   * @module ol/tilegrid\n   */\n\n\n  /**\n   * @param {import(\"./proj/Projection.js\").default} projection Projection.\n   * @return {!TileGrid} Default tile grid for the\n   * passed projection.\n   */\n  function getForProjection(projection) {\n    var tileGrid = projection.getDefaultTileGrid();\n    if (!tileGrid) {\n      tileGrid = createForProjection(projection);\n      projection.setDefaultTileGrid(tileGrid);\n    }\n    return tileGrid;\n  }\n\n\n  /**\n   * @param {TileGrid} tileGrid Tile grid.\n   * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n   * @param {import(\"./proj/Projection.js\").default} projection Projection.\n   * @return {import(\"./tilecoord.js\").TileCoord} Tile coordinate.\n   */\n  function wrapX(tileGrid, tileCoord, projection) {\n    var z = tileCoord[0];\n    var center = tileGrid.getTileCoordCenter(tileCoord);\n    var projectionExtent = extentFromProjection(projection);\n    if (!containsCoordinate(projectionExtent, center)) {\n      var worldWidth = getWidth(projectionExtent);\n      var worldsAway = Math.ceil((projectionExtent[0] - center[0]) / worldWidth);\n      center[0] += worldWidth * worldsAway;\n      return tileGrid.getTileCoordForCoordAndZ(center, z);\n    } else {\n      return tileCoord;\n    }\n  }\n\n\n  /**\n   * @param {import(\"./extent.js\").Extent} extent Extent.\n   * @param {number=} opt_maxZoom Maximum zoom level (default is\n   *     DEFAULT_MAX_ZOOM).\n   * @param {number|import(\"./size.js\").Size=} opt_tileSize Tile size (default uses\n   *     DEFAULT_TILE_SIZE).\n   * @param {Corner=} opt_corner Extent corner (default is `'top-left'`).\n   * @return {!TileGrid} TileGrid instance.\n   */\n  function createForExtent(extent, opt_maxZoom, opt_tileSize, opt_corner) {\n    var corner = opt_corner !== undefined ? opt_corner : Corner.TOP_LEFT;\n\n    var resolutions = resolutionsFromExtent(extent, opt_maxZoom, opt_tileSize);\n\n    return new TileGrid({\n      extent: extent,\n      origin: getCorner(extent, corner),\n      resolutions: resolutions,\n      tileSize: opt_tileSize\n    });\n  }\n\n\n  /**\n   * @typedef {Object} XYZOptions\n   * @property {import(\"./extent.js\").Extent} [extent] Extent for the tile grid. The origin for an XYZ tile grid is the\n   * top-left corner of the extent. The zero level of the grid is defined by the resolution at which one tile fits in the\n   * provided extent. If not provided, the extent of the EPSG:3857 projection is used.\n   * @property {number} [maxZoom] Maximum zoom. The default is `42`. This determines the number of levels\n   * in the grid set. For example, a `maxZoom` of 21 means there are 22 levels in the grid set.\n   * @property {number} [minZoom=0] Minimum zoom.\n   * @property {number|import(\"./size.js\").Size} [tileSize=[256, 256]] Tile size in pixels.\n   */\n\n\n  /**\n   * Creates a tile grid with a standard XYZ tiling scheme.\n   * @param {XYZOptions=} opt_options Tile grid options.\n   * @return {!TileGrid} Tile grid instance.\n   * @api\n   */\n  function createXYZ(opt_options) {\n    /** @type {XYZOptions} */\n    var xyzOptions = opt_options || {};\n\n    var extent = xyzOptions.extent || get$2('EPSG:3857').getExtent();\n\n    /** @type {import(\"./tilegrid/TileGrid.js\").Options} */\n    var gridOptions = {\n      extent: extent,\n      minZoom: xyzOptions.minZoom,\n      tileSize: xyzOptions.tileSize,\n      resolutions: resolutionsFromExtent(\n        extent,\n        xyzOptions.maxZoom,\n        xyzOptions.tileSize\n      )\n    };\n    return new TileGrid(gridOptions);\n  }\n\n\n  /**\n   * Create a resolutions array from an extent.  A zoom factor of 2 is assumed.\n   * @param {import(\"./extent.js\").Extent} extent Extent.\n   * @param {number=} opt_maxZoom Maximum zoom level (default is\n   *     DEFAULT_MAX_ZOOM).\n   * @param {number|import(\"./size.js\").Size=} opt_tileSize Tile size (default uses\n   *     DEFAULT_TILE_SIZE).\n   * @return {!Array<number>} Resolutions array.\n   */\n  function resolutionsFromExtent(extent, opt_maxZoom, opt_tileSize) {\n    var maxZoom = opt_maxZoom !== undefined ?\n      opt_maxZoom : DEFAULT_MAX_ZOOM;\n\n    var height = getHeight(extent);\n    var width = getWidth(extent);\n\n    var tileSize = toSize(opt_tileSize !== undefined ?\n      opt_tileSize : DEFAULT_TILE_SIZE);\n    var maxResolution = Math.max(\n      width / tileSize[0], height / tileSize[1]);\n\n    var length = maxZoom + 1;\n    var resolutions = new Array(length);\n    for (var z = 0; z < length; ++z) {\n      resolutions[z] = maxResolution / Math.pow(2, z);\n    }\n    return resolutions;\n  }\n\n\n  /**\n   * @param {import(\"./proj.js\").ProjectionLike} projection Projection.\n   * @param {number=} opt_maxZoom Maximum zoom level (default is\n   *     DEFAULT_MAX_ZOOM).\n   * @param {number|import(\"./size.js\").Size=} opt_tileSize Tile size (default uses\n   *     DEFAULT_TILE_SIZE).\n   * @param {Corner=} opt_corner Extent corner (default is `'top-left'`).\n   * @return {!TileGrid} TileGrid instance.\n   */\n  function createForProjection(projection, opt_maxZoom, opt_tileSize, opt_corner) {\n    var extent = extentFromProjection(projection);\n    return createForExtent(extent, opt_maxZoom, opt_tileSize, opt_corner);\n  }\n\n\n  /**\n   * Generate a tile grid extent from a projection.  If the projection has an\n   * extent, it is used.  If not, a global extent is assumed.\n   * @param {import(\"./proj.js\").ProjectionLike} projection Projection.\n   * @return {import(\"./extent.js\").Extent} Extent.\n   */\n  function extentFromProjection(projection) {\n    projection = get$2(projection);\n    var extent = projection.getExtent();\n    if (!extent) {\n      var half = 180 * METERS_PER_UNIT[Units.DEGREES] / projection.getMetersPerUnit();\n      extent = createOrUpdate(-half, -half, half, half);\n    }\n    return extent;\n  }\n\n  /**\n   * @module ol/source/Tile\n   */\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"./Source.js\").AttributionLike} [attributions]\n   * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n   * @property {number} [cacheSize]\n   * @property {boolean} [opaque]\n   * @property {number} [tilePixelRatio]\n   * @property {import(\"../proj.js\").ProjectionLike} [projection]\n   * @property {import(\"./State.js\").default} [state]\n   * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid]\n   * @property {boolean} [wrapX=true]\n   * @property {number} [transition]\n   * @property {string} [key]\n   */\n\n\n  /**\n   * @classdesc\n   * Abstract base class; normally only used for creating subclasses and not\n   * instantiated in apps.\n   * Base class for sources providing images divided into a tile grid.\n   * @abstract\n   * @api\n   */\n  var TileSource = /*@__PURE__*/(function (Source$$1) {\n    function TileSource(options) {\n\n      Source$$1.call(this, {\n        attributions: options.attributions,\n        attributionsCollapsible: options.attributionsCollapsible,\n        projection: options.projection,\n        state: options.state,\n        wrapX: options.wrapX\n      });\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.opaque_ = options.opaque !== undefined ? options.opaque : false;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.tilePixelRatio_ = options.tilePixelRatio !== undefined ?\n        options.tilePixelRatio : 1;\n\n      /**\n       * @protected\n       * @type {import(\"../tilegrid/TileGrid.js\").default}\n       */\n      this.tileGrid = options.tileGrid !== undefined ? options.tileGrid : null;\n\n      /**\n       * @protected\n       * @type {import(\"../TileCache.js\").default}\n       */\n      this.tileCache = new TileCache(options.cacheSize);\n\n      /**\n       * @protected\n       * @type {import(\"../size.js\").Size}\n       */\n      this.tmpSize = [0, 0];\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.key_ = options.key || '';\n\n      /**\n       * @protected\n       * @type {import(\"../Tile.js\").Options}\n       */\n      this.tileOptions = {transition: options.transition};\n\n    }\n\n    if ( Source$$1 ) TileSource.__proto__ = Source$$1;\n    TileSource.prototype = Object.create( Source$$1 && Source$$1.prototype );\n    TileSource.prototype.constructor = TileSource;\n\n    /**\n     * @return {boolean} Can expire cache.\n     */\n    TileSource.prototype.canExpireCache = function canExpireCache () {\n      return this.tileCache.canExpireCache();\n    };\n\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {!Object<string, import(\"../TileRange.js\").default>} usedTiles Used tiles.\n     */\n    TileSource.prototype.expireCache = function expireCache (projection, usedTiles) {\n      var tileCache = this.getTileCacheForProjection(projection);\n      if (tileCache) {\n        tileCache.expireCache(usedTiles);\n      }\n    };\n\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {number} z Zoom level.\n     * @param {import(\"../TileRange.js\").default} tileRange Tile range.\n     * @param {function(import(\"../Tile.js\").default):(boolean|void)} callback Called with each\n     *     loaded tile.  If the callback returns `false`, the tile will not be\n     *     considered loaded.\n     * @return {boolean} The tile range is fully covered with loaded tiles.\n     */\n    TileSource.prototype.forEachLoadedTile = function forEachLoadedTile (projection, z, tileRange, callback) {\n      var tileCache = this.getTileCacheForProjection(projection);\n      if (!tileCache) {\n        return false;\n      }\n\n      var covered = true;\n      var tile, tileCoordKey, loaded;\n      for (var x = tileRange.minX; x <= tileRange.maxX; ++x) {\n        for (var y = tileRange.minY; y <= tileRange.maxY; ++y) {\n          tileCoordKey = getKeyZXY(z, x, y);\n          loaded = false;\n          if (tileCache.containsKey(tileCoordKey)) {\n            tile = /** @type {!import(\"../Tile.js\").default} */ (tileCache.get(tileCoordKey));\n            loaded = tile.getState() === TileState.LOADED;\n            if (loaded) {\n              loaded = (callback(tile) !== false);\n            }\n          }\n          if (!loaded) {\n            covered = false;\n          }\n        }\n      }\n      return covered;\n    };\n\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {number} Gutter.\n     */\n    TileSource.prototype.getGutterForProjection = function getGutterForProjection (projection) {\n      return 0;\n    };\n\n    /**\n     * Return the key to be used for all tiles in the source.\n     * @return {string} The key for all tiles.\n     * @protected\n     */\n    TileSource.prototype.getKey = function getKey () {\n      return this.key_;\n    };\n\n    /**\n     * Set the value to be used as the key for all tiles in the source.\n     * @param {string} key The key for tiles.\n     * @protected\n     */\n    TileSource.prototype.setKey = function setKey (key) {\n      if (this.key_ !== key) {\n        this.key_ = key;\n        this.changed();\n      }\n    };\n\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {boolean} Opaque.\n     */\n    TileSource.prototype.getOpaque = function getOpaque (projection) {\n      return this.opaque_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    TileSource.prototype.getResolutions = function getResolutions () {\n      return this.tileGrid.getResolutions();\n    };\n\n    /**\n     * @abstract\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!import(\"../Tile.js\").default} Tile.\n     */\n    TileSource.prototype.getTile = function getTile (z, x, y, pixelRatio, projection) {\n      return abstract();\n    };\n\n    /**\n     * Return the tile grid of the tile source.\n     * @return {import(\"../tilegrid/TileGrid.js\").default} Tile grid.\n     * @api\n     */\n    TileSource.prototype.getTileGrid = function getTileGrid () {\n      return this.tileGrid;\n    };\n\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!import(\"../tilegrid/TileGrid.js\").default} Tile grid.\n     */\n    TileSource.prototype.getTileGridForProjection = function getTileGridForProjection$1 (projection) {\n      if (!this.tileGrid) {\n        return getForProjection(projection);\n      } else {\n        return this.tileGrid;\n      }\n    };\n\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {import(\"../TileCache.js\").default} Tile cache.\n     * @protected\n     */\n    TileSource.prototype.getTileCacheForProjection = function getTileCacheForProjection (projection) {\n      var thisProj = this.getProjection();\n      if (thisProj && !equivalent(thisProj, projection)) {\n        return null;\n      } else {\n        return this.tileCache;\n      }\n    };\n\n    /**\n     * Get the tile pixel ratio for this source. Subclasses may override this\n     * method, which is meant to return a supported pixel ratio that matches the\n     * provided `pixelRatio` as close as possible.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {number} Tile pixel ratio.\n     */\n    TileSource.prototype.getTilePixelRatio = function getTilePixelRatio (pixelRatio) {\n      return this.tilePixelRatio_;\n    };\n\n    /**\n     * @param {number} z Z.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {import(\"../size.js\").Size} Tile size.\n     */\n    TileSource.prototype.getTilePixelSize = function getTilePixelSize (z, pixelRatio, projection) {\n      var tileGrid = this.getTileGridForProjection(projection);\n      var tilePixelRatio = this.getTilePixelRatio(pixelRatio);\n      var tileSize = toSize(tileGrid.getTileSize(z), this.tmpSize);\n      if (tilePixelRatio == 1) {\n        return tileSize;\n      } else {\n        return scale$3(tileSize, tilePixelRatio, this.tmpSize);\n      }\n    };\n\n    /**\n     * Returns a tile coordinate wrapped around the x-axis. When the tile coordinate\n     * is outside the resolution and extent range of the tile grid, `null` will be\n     * returned.\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {import(\"../proj/Projection.js\").default=} opt_projection Projection.\n     * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate to be passed to the tileUrlFunction or\n     *     null if no tile URL should be created for the passed `tileCoord`.\n     */\n    TileSource.prototype.getTileCoordForTileUrlFunction = function getTileCoordForTileUrlFunction (tileCoord, opt_projection) {\n      var projection = opt_projection !== undefined ?\n        opt_projection : this.getProjection();\n      var tileGrid = this.getTileGridForProjection(projection);\n      if (this.getWrapX() && projection.isGlobal()) {\n        tileCoord = wrapX(tileGrid, tileCoord, projection);\n      }\n      return withinExtentAndZ(tileCoord, tileGrid) ? tileCoord : null;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    TileSource.prototype.refresh = function refresh () {\n      this.tileCache.clear();\n      this.changed();\n    };\n\n    /**\n     * Marks a tile coord as being used, without triggering a load.\n     * @abstract\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     */\n    TileSource.prototype.useTile = function useTile (z, x, y, projection) {};\n\n    return TileSource;\n  }(Source));\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/source/Tile~TileSource} instances are instances of this\n   * type.\n   */\n  var TileSourceEvent = /*@__PURE__*/(function (Event$$1) {\n    function TileSourceEvent(type, tile) {\n\n      Event$$1.call(this, type);\n\n      /**\n       * The tile related to the event.\n       * @type {import(\"../Tile.js\").default}\n       * @api\n       */\n      this.tile = tile;\n\n    }\n\n    if ( Event$$1 ) TileSourceEvent.__proto__ = Event$$1;\n    TileSourceEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    TileSourceEvent.prototype.constructor = TileSourceEvent;\n\n    return TileSourceEvent;\n  }(Event));\n\n  /**\n   * @module ol/renderer/webgl/tilelayershader\n   */\n\n  var fragment$5 = new WebGLFragment('precision mediump float;\\nvarying vec2 v_texCoord;\\n\\n\\nuniform sampler2D u_texture;\\n\\nvoid main(void) {\\n  gl_FragColor = texture2D(u_texture, v_texCoord);\\n}\\n');\n\n  var vertex$5 = new WebGLVertex('varying vec2 v_texCoord;\\n\\n\\nattribute vec2 a_position;\\nattribute vec2 a_texCoord;\\nuniform vec4 u_tileOffset;\\n\\nvoid main(void) {\\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\\n  v_texCoord = a_texCoord;\\n}\\n\\n\\n');\n\n  /**\n   * @module ol/renderer/webgl/tilelayershader/Locations\n   */\n\n  var Locations$5 = function Locations(gl, program) {\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_tileOffset = gl.getUniformLocation(\n      program, 'u_tileOffset');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_texture = gl.getUniformLocation(\n      program, 'u_texture');\n\n    /**\n     * @type {number}\n     */\n    this.a_position = gl.getAttribLocation(\n      program, 'a_position');\n\n    /**\n     * @type {number}\n     */\n    this.a_texCoord = gl.getAttribLocation(\n      program, 'a_texCoord');\n\n  };\n\n  /**\n   * @module ol/renderer/webgl/TileLayer\n   */\n\n  /**\n   * @classdesc\n   * WebGL renderer for tile layers.\n   * @api\n   */\n  var WebGLTileLayerRenderer = /*@__PURE__*/(function (WebGLLayerRenderer$$1) {\n    function WebGLTileLayerRenderer(mapRenderer, tileLayer) {\n\n      WebGLLayerRenderer$$1.call(this, mapRenderer, tileLayer);\n\n      /**\n       * @private\n       * @type {import(\"../../webgl/Fragment.js\").default}\n       */\n      this.fragmentShader_ = fragment$5;\n\n      /**\n       * @private\n       * @type {import(\"../../webgl/Vertex.js\").default}\n       */\n      this.vertexShader_ = vertex$5;\n\n      /**\n       * @private\n       * @type {import(\"./tilelayershader/Locations.js\").default}\n       */\n      this.locations_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../../webgl/Buffer.js\").default}\n       */\n      this.renderArrayBuffer_ = new WebGLBuffer([\n        0, 0, 0, 1,\n        1, 0, 1, 1,\n        0, 1, 0, 0,\n        1, 1, 1, 0\n      ]);\n\n      /**\n       * @private\n       * @type {import(\"../../TileRange.js\").default}\n       */\n      this.renderedTileRange_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      this.renderedFramebufferExtent_ = null;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.renderedRevision_ = -1;\n\n      /**\n       * @private\n       * @type {import(\"../../size.js\").Size}\n       */\n      this.tmpSize_ = [0, 0];\n\n    }\n\n    if ( WebGLLayerRenderer$$1 ) WebGLTileLayerRenderer.__proto__ = WebGLLayerRenderer$$1;\n    WebGLTileLayerRenderer.prototype = Object.create( WebGLLayerRenderer$$1 && WebGLLayerRenderer$$1.prototype );\n    WebGLTileLayerRenderer.prototype.constructor = WebGLTileLayerRenderer;\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTileLayerRenderer.prototype.disposeInternal = function disposeInternal () {\n      var context = this.mapRenderer.getContext();\n      context.deleteBuffer(this.renderArrayBuffer_);\n      WebGLLayerRenderer$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTileLayerRenderer.prototype.createLoadedTileFinder = function createLoadedTileFinder (source, projection, tiles) {\n      var mapRenderer = this.mapRenderer;\n\n      return (\n        /**\n         * @param {number} zoom Zoom level.\n         * @param {import(\"../../TileRange.js\").default} tileRange Tile range.\n         * @return {boolean} The tile range is fully loaded.\n         */\n        function(zoom, tileRange) {\n          function callback(tile) {\n            var loaded = mapRenderer.isTileTextureLoaded(tile);\n            if (loaded) {\n              if (!tiles[zoom]) {\n                tiles[zoom] = {};\n              }\n              tiles[zoom][tile.tileCoord.toString()] = tile;\n            }\n            return loaded;\n          }\n          return source.forEachLoadedTile(projection, zoom, tileRange, callback);\n        }\n      );\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTileLayerRenderer.prototype.handleWebGLContextLost = function handleWebGLContextLost () {\n      WebGLLayerRenderer$$1.prototype.handleWebGLContextLost.call(this);\n      this.locations_ = null;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTileLayerRenderer.prototype.prepareFrame = function prepareFrame (frameState, layerState, context) {\n\n      var mapRenderer = this.mapRenderer;\n      var gl = context.getGL();\n\n      var viewState = frameState.viewState;\n      var projection = viewState.projection;\n\n      var tileLayer = /** @type {import(\"../../layer/Tile.js\").default} */ (this.getLayer());\n      var tileSource = tileLayer.getSource();\n      if (!(tileSource instanceof TileSource)) {\n        return true;\n      }\n\n      var tileGrid = tileSource.getTileGridForProjection(projection);\n      var z = tileGrid.getZForResolution(viewState.resolution);\n      var tileResolution = tileGrid.getResolution(z);\n\n      var tilePixelSize =\n          tileSource.getTilePixelSize(z, frameState.pixelRatio, projection);\n      var pixelRatio = tilePixelSize[0] /\n          toSize(tileGrid.getTileSize(z), this.tmpSize_)[0];\n      var tilePixelResolution = tileResolution / pixelRatio;\n      var tileGutter = tileSource.getTilePixelRatio(pixelRatio) * tileSource.getGutterForProjection(projection);\n\n      var center = viewState.center;\n      var extent = frameState.extent;\n      var tileRange = tileGrid.getTileRangeForExtentAndZ(extent, z);\n\n      var framebufferExtent;\n      if (this.renderedTileRange_ &&\n          this.renderedTileRange_.equals(tileRange) &&\n          this.renderedRevision_ == tileSource.getRevision()) {\n        framebufferExtent = this.renderedFramebufferExtent_;\n      } else {\n\n        var tileRangeSize = tileRange.getSize();\n\n        var maxDimension = Math.max(\n          tileRangeSize[0] * tilePixelSize[0],\n          tileRangeSize[1] * tilePixelSize[1]);\n        var framebufferDimension = roundUpToPowerOfTwo(maxDimension);\n        var framebufferExtentDimension = tilePixelResolution * framebufferDimension;\n        var origin = tileGrid.getOrigin(z);\n        var minX = origin[0] +\n            tileRange.minX * tilePixelSize[0] * tilePixelResolution;\n        var minY = origin[1] +\n            tileRange.minY * tilePixelSize[1] * tilePixelResolution;\n        framebufferExtent = [\n          minX, minY,\n          minX + framebufferExtentDimension, minY + framebufferExtentDimension\n        ];\n\n        this.bindFramebuffer(frameState, framebufferDimension);\n        gl.viewport(0, 0, framebufferDimension, framebufferDimension);\n\n        gl.clearColor(0, 0, 0, 0);\n        gl.clear(COLOR_BUFFER_BIT);\n        gl.disable(BLEND);\n\n        var program = context.getProgram(this.fragmentShader_, this.vertexShader_);\n        context.useProgram(program);\n        if (!this.locations_) {\n          this.locations_ = new Locations$5(gl, program);\n        }\n\n        context.bindBuffer(ARRAY_BUFFER, this.renderArrayBuffer_);\n        gl.enableVertexAttribArray(this.locations_.a_position);\n        gl.vertexAttribPointer(\n          this.locations_.a_position, 2, FLOAT, false, 16, 0);\n        gl.enableVertexAttribArray(this.locations_.a_texCoord);\n        gl.vertexAttribPointer(\n          this.locations_.a_texCoord, 2, FLOAT, false, 16, 8);\n        gl.uniform1i(this.locations_.u_texture, 0);\n\n        /**\n         * @type {Object<number, Object<string, import(\"../../Tile.js\").default>>}\n         */\n        var tilesToDrawByZ = {};\n        tilesToDrawByZ[z] = {};\n\n        var findLoadedTiles = this.createLoadedTileFinder(\n          tileSource, projection, tilesToDrawByZ);\n\n        var useInterimTilesOnError = tileLayer.getUseInterimTilesOnError();\n        var allTilesLoaded = true;\n        var tmpExtent = createEmpty();\n        var tmpTileRange = new TileRange(0, 0, 0, 0);\n        var childTileRange, drawable, fullyLoaded, tile, tileState;\n        var x, y, tileExtent;\n        for (x = tileRange.minX; x <= tileRange.maxX; ++x) {\n          for (y = tileRange.minY; y <= tileRange.maxY; ++y) {\n\n            tile = tileSource.getTile(z, x, y, pixelRatio, projection);\n            if (layerState.extent !== undefined) {\n              // ignore tiles outside layer extent\n              tileExtent = tileGrid.getTileCoordExtent(tile.tileCoord, tmpExtent);\n              if (!intersects(tileExtent, layerState.extent)) {\n                continue;\n              }\n            }\n            tileState = tile.getState();\n            drawable = tileState == TileState.LOADED ||\n                tileState == TileState.EMPTY ||\n                tileState == TileState.ERROR && !useInterimTilesOnError;\n            if (!drawable) {\n              tile = tile.getInterimTile();\n            }\n            tileState = tile.getState();\n            if (tileState == TileState.LOADED) {\n              if (mapRenderer.isTileTextureLoaded(tile)) {\n                tilesToDrawByZ[z][tile.tileCoord.toString()] = tile;\n                continue;\n              }\n            } else if (tileState == TileState.EMPTY ||\n                       (tileState == TileState.ERROR &&\n                        !useInterimTilesOnError)) {\n              continue;\n            }\n\n            allTilesLoaded = false;\n            fullyLoaded = tileGrid.forEachTileCoordParentTileRange(\n              tile.tileCoord, findLoadedTiles, null, tmpTileRange, tmpExtent);\n            if (!fullyLoaded) {\n              childTileRange = tileGrid.getTileCoordChildTileRange(\n                tile.tileCoord, tmpTileRange, tmpExtent);\n              if (childTileRange) {\n                findLoadedTiles(z + 1, childTileRange);\n              }\n            }\n\n          }\n\n        }\n\n        /** @type {Array<number>} */\n        var zs = Object.keys(tilesToDrawByZ).map(Number);\n        zs.sort(numberSafeCompareFunction);\n        var u_tileOffset = new Float32Array(4);\n        for (var i = 0, ii = zs.length; i < ii; ++i) {\n          var tilesToDraw = tilesToDrawByZ[zs[i]];\n          for (var tileKey in tilesToDraw) {\n            tile = tilesToDraw[tileKey];\n\n            if (!(tile instanceof ImageTile)) {\n              continue;\n            }\n\n            tileExtent = tileGrid.getTileCoordExtent(tile.tileCoord, tmpExtent);\n            u_tileOffset[0] = 2 * (tileExtent[2] - tileExtent[0]) /\n                framebufferExtentDimension;\n            u_tileOffset[1] = 2 * (tileExtent[3] - tileExtent[1]) /\n                framebufferExtentDimension;\n            u_tileOffset[2] = 2 * (tileExtent[0] - framebufferExtent[0]) /\n                framebufferExtentDimension - 1;\n            u_tileOffset[3] = 2 * (tileExtent[1] - framebufferExtent[1]) /\n                framebufferExtentDimension - 1;\n            gl.uniform4fv(this.locations_.u_tileOffset, u_tileOffset);\n            mapRenderer.bindTileTexture(tile, tilePixelSize,\n              tileGutter * pixelRatio, LINEAR, LINEAR);\n            gl.drawArrays(TRIANGLE_STRIP, 0, 4);\n          }\n        }\n\n        if (allTilesLoaded) {\n          this.renderedTileRange_ = tileRange;\n          this.renderedFramebufferExtent_ = framebufferExtent;\n          this.renderedRevision_ = tileSource.getRevision();\n        } else {\n          this.renderedTileRange_ = null;\n          this.renderedFramebufferExtent_ = null;\n          this.renderedRevision_ = -1;\n          frameState.animate = true;\n        }\n\n      }\n\n      this.updateUsedTiles(frameState.usedTiles, tileSource, z, tileRange);\n      var tileTextureQueue = mapRenderer.getTileTextureQueue();\n      this.manageTilePyramid(\n        frameState, tileSource, tileGrid, pixelRatio, projection, extent, z,\n        tileLayer.getPreload(),\n        /**\n         * @param {import(\"../../Tile.js\").default} tile Tile.\n         */\n        function(tile) {\n          if (tile.getState() == TileState.LOADED &&\n                !mapRenderer.isTileTextureLoaded(tile) &&\n                !tileTextureQueue.isKeyQueued(tile.getKey())) {\n            tileTextureQueue.enqueue([\n              tile,\n              tileGrid.getTileCoordCenter(tile.tileCoord),\n              tileGrid.getResolution(tile.tileCoord[0]),\n              tilePixelSize, tileGutter * pixelRatio\n            ]);\n          }\n        }, this);\n      this.scheduleExpireCache(frameState, tileSource);\n\n      var texCoordMatrix = this.texCoordMatrix;\n      reset(texCoordMatrix);\n      translate$1(texCoordMatrix,\n        (Math.round(center[0] / tileResolution) * tileResolution - framebufferExtent[0]) /\n              (framebufferExtent[2] - framebufferExtent[0]),\n        (Math.round(center[1] / tileResolution) * tileResolution - framebufferExtent[1]) /\n              (framebufferExtent[3] - framebufferExtent[1]));\n      if (viewState.rotation !== 0) {\n        rotate$2(texCoordMatrix, viewState.rotation);\n      }\n      scale$2(texCoordMatrix,\n        frameState.size[0] * viewState.resolution /\n              (framebufferExtent[2] - framebufferExtent[0]),\n        frameState.size[1] * viewState.resolution /\n              (framebufferExtent[3] - framebufferExtent[1]));\n      translate$1(texCoordMatrix, -0.5, -0.5);\n\n      return true;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTileLayerRenderer.prototype.forEachLayerAtPixel = function forEachLayerAtPixel (pixel, frameState, callback, thisArg) {\n      if (!this.framebuffer) {\n        return undefined;\n      }\n\n      var pixelOnMapScaled = [\n        pixel[0] / frameState.size[0],\n        (frameState.size[1] - pixel[1]) / frameState.size[1]];\n\n      var pixelOnFrameBufferScaled = apply(\n        this.texCoordMatrix, pixelOnMapScaled.slice());\n      var pixelOnFrameBuffer = [\n        pixelOnFrameBufferScaled[0] * this.framebufferDimension,\n        pixelOnFrameBufferScaled[1] * this.framebufferDimension];\n\n      var gl = this.mapRenderer.getContext().getGL();\n      gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n      var imageData = new Uint8Array(4);\n      gl.readPixels(pixelOnFrameBuffer[0], pixelOnFrameBuffer[1], 1, 1,\n        gl.RGBA, gl.UNSIGNED_BYTE, imageData);\n\n      if (imageData[3] > 0) {\n        return callback.call(thisArg, this.getLayer(), imageData);\n      } else {\n        return undefined;\n      }\n    };\n\n    return WebGLTileLayerRenderer;\n  }(WebGLLayerRenderer));\n\n\n  /**\n   * Determine if this renderer handles the provided layer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The candidate layer.\n   * @return {boolean} The renderer can render the layer.\n   */\n  WebGLTileLayerRenderer['handles'] = function(layer) {\n    return layer.getType() === LayerType.TILE;\n  };\n\n\n  /**\n   * Create a layer renderer.\n   * @param {import(\"../Map.js\").default} mapRenderer The map renderer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The layer to be rendererd.\n   * @return {WebGLTileLayerRenderer} The layer renderer.\n   */\n  WebGLTileLayerRenderer['create'] = function(mapRenderer, layer) {\n    return new WebGLTileLayerRenderer(\n      /** @type {import(\"./Map.js\").default} */ (mapRenderer),\n      /** @type {import(\"../../layer/Tile.js\").default} */ (layer)\n    );\n  };\n\n  /**\n   * @module ol/renderer/webgl/VectorLayer\n   */\n\n\n  /**\n   * @classdesc\n   * WebGL renderer for vector layers.\n   * @api\n   */\n  var WebGLVectorLayerRenderer = /*@__PURE__*/(function (WebGLLayerRenderer$$1) {\n    function WebGLVectorLayerRenderer(mapRenderer, vectorLayer) {\n\n      WebGLLayerRenderer$$1.call(this, mapRenderer, vectorLayer);\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.dirty_ = false;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.renderedRevision_ = -1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.renderedResolution_ = NaN;\n\n      /**\n       * @private\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      this.renderedExtent_ = createEmpty();\n\n      /**\n       * @private\n       * @type {function(import(\"../../Feature.js\").default, import(\"../../Feature.js\").default): number|null}\n       */\n      this.renderedRenderOrder_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../../render/webgl/ReplayGroup.js\").default}\n       */\n      this.replayGroup_ = null;\n\n      /**\n       * The last layer state.\n       * @private\n       * @type {?import(\"../../layer/Layer.js\").State}\n       */\n      this.layerState_ = null;\n\n    }\n\n    if ( WebGLLayerRenderer$$1 ) WebGLVectorLayerRenderer.__proto__ = WebGLLayerRenderer$$1;\n    WebGLVectorLayerRenderer.prototype = Object.create( WebGLLayerRenderer$$1 && WebGLLayerRenderer$$1.prototype );\n    WebGLVectorLayerRenderer.prototype.constructor = WebGLVectorLayerRenderer;\n\n    /**\n     * @inheritDoc\n     */\n    WebGLVectorLayerRenderer.prototype.composeFrame = function composeFrame (frameState, layerState, context) {\n      this.layerState_ = layerState;\n      var viewState = frameState.viewState;\n      var replayGroup = this.replayGroup_;\n      var size = frameState.size;\n      var pixelRatio = frameState.pixelRatio;\n      var gl = this.mapRenderer.getGL();\n      if (replayGroup && !replayGroup.isEmpty()) {\n        gl.enable(gl.SCISSOR_TEST);\n        gl.scissor(0, 0, size[0] * pixelRatio, size[1] * pixelRatio);\n        replayGroup.replay(context,\n          viewState.center, viewState.resolution, viewState.rotation,\n          size, pixelRatio, layerState.opacity,\n          layerState.managed ? frameState.skippedFeatureUids : {});\n        gl.disable(gl.SCISSOR_TEST);\n      }\n\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLVectorLayerRenderer.prototype.disposeInternal = function disposeInternal () {\n      var replayGroup = this.replayGroup_;\n      if (replayGroup) {\n        var context = this.mapRenderer.getContext();\n        replayGroup.getDeleteResourcesFunction(context)();\n        this.replayGroup_ = null;\n      }\n      WebGLLayerRenderer$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLVectorLayerRenderer.prototype.forEachFeatureAtCoordinate = function forEachFeatureAtCoordinate (coordinate, frameState, hitTolerance, callback, thisArg) {\n      if (!this.replayGroup_ || !this.layerState_) {\n        return undefined;\n      } else {\n        var context = this.mapRenderer.getContext();\n        var viewState = frameState.viewState;\n        var layer = this.getLayer();\n        var layerState = this.layerState_;\n        /** @type {!Object<string, boolean>} */\n        var features = {};\n        return this.replayGroup_.forEachFeatureAtCoordinate(coordinate,\n          context, viewState.center, viewState.resolution, viewState.rotation,\n          frameState.size, frameState.pixelRatio, layerState.opacity,\n          {},\n          /**\n           * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n           * @return {?} Callback result.\n           */\n          function(feature) {\n            var key = getUid(feature);\n            if (!(key in features)) {\n              features[key] = true;\n              return callback.call(thisArg, feature, layer);\n            }\n          });\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLVectorLayerRenderer.prototype.hasFeatureAtCoordinate = function hasFeatureAtCoordinate (coordinate, frameState) {\n      if (!this.replayGroup_ || !this.layerState_) {\n        return false;\n      } else {\n        var context = this.mapRenderer.getContext();\n        var viewState = frameState.viewState;\n        var layerState = this.layerState_;\n        return this.replayGroup_.hasFeatureAtCoordinate(coordinate,\n          context, viewState.center, viewState.resolution, viewState.rotation,\n          frameState.size, frameState.pixelRatio, layerState.opacity,\n          frameState.skippedFeatureUids);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLVectorLayerRenderer.prototype.forEachLayerAtPixel = function forEachLayerAtPixel (pixel, frameState, callback, thisArg) {\n      var coordinate = apply(\n        frameState.pixelToCoordinateTransform, pixel.slice());\n      var hasFeature = this.hasFeatureAtCoordinate(coordinate, frameState);\n\n      if (hasFeature) {\n        return callback.call(thisArg, this.getLayer(), null);\n      } else {\n        return undefined;\n      }\n    };\n\n    /**\n     * Handle changes in image style state.\n     * @param {import(\"../../events/Event.js\").default} event Image style change event.\n     * @private\n     */\n    WebGLVectorLayerRenderer.prototype.handleStyleImageChange_ = function handleStyleImageChange_ (event) {\n      this.renderIfReadyAndVisible();\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLVectorLayerRenderer.prototype.prepareFrame = function prepareFrame (frameState, layerState, context) {\n      var vectorLayer = /** @type {import(\"../../layer/Vector.js\").default} */ (this.getLayer());\n      var vectorSource = /** @type {import(\"../../source/Vector.js\").default} */ (vectorLayer.getSource());\n\n      var animating = frameState.viewHints[ViewHint.ANIMATING];\n      var interacting = frameState.viewHints[ViewHint.INTERACTING];\n      var updateWhileAnimating = vectorLayer.getUpdateWhileAnimating();\n      var updateWhileInteracting = vectorLayer.getUpdateWhileInteracting();\n\n      if (!this.dirty_ && (!updateWhileAnimating && animating) ||\n          (!updateWhileInteracting && interacting)) {\n        return true;\n      }\n\n      var frameStateExtent = frameState.extent;\n      var viewState = frameState.viewState;\n      var projection = viewState.projection;\n      var resolution = viewState.resolution;\n      var pixelRatio = frameState.pixelRatio;\n      var vectorLayerRevision = vectorLayer.getRevision();\n      var vectorLayerRenderBuffer = vectorLayer.getRenderBuffer();\n      var vectorLayerRenderOrder = vectorLayer.getRenderOrder();\n\n      if (vectorLayerRenderOrder === undefined) {\n        vectorLayerRenderOrder = defaultOrder;\n      }\n\n      var extent = buffer(frameStateExtent,\n        vectorLayerRenderBuffer * resolution);\n\n      if (!this.dirty_ &&\n          this.renderedResolution_ == resolution &&\n          this.renderedRevision_ == vectorLayerRevision &&\n          this.renderedRenderOrder_ == vectorLayerRenderOrder &&\n          containsExtent(this.renderedExtent_, extent)) {\n        return true;\n      }\n\n      if (this.replayGroup_) {\n        frameState.postRenderFunctions.push(\n          this.replayGroup_.getDeleteResourcesFunction(context));\n      }\n\n      this.dirty_ = false;\n\n      var replayGroup = new WebGLReplayGroup(\n        getTolerance(resolution, pixelRatio),\n        extent, vectorLayer.getRenderBuffer());\n      vectorSource.loadFeatures(extent, resolution, projection);\n      /**\n       * @param {import(\"../../Feature.js\").default} feature Feature.\n       * @this {WebGLVectorLayerRenderer}\n       */\n      var render = function(feature) {\n        var styles;\n        var styleFunction = feature.getStyleFunction() || vectorLayer.getStyleFunction();\n        if (styleFunction) {\n          styles = styleFunction(feature, resolution);\n        }\n        if (styles) {\n          var dirty = this.renderFeature(\n            feature, resolution, pixelRatio, styles, replayGroup);\n          this.dirty_ = this.dirty_ || dirty;\n        }\n      }.bind(this);\n      if (vectorLayerRenderOrder) {\n        /** @type {Array<import(\"../../Feature.js\").default>} */\n        var features = [];\n        vectorSource.forEachFeatureInExtent(extent,\n          /**\n           * @param {import(\"../../Feature.js\").default} feature Feature.\n           */\n          function(feature) {\n            features.push(feature);\n          });\n        features.sort(vectorLayerRenderOrder);\n        features.forEach(render.bind(this));\n      } else {\n        vectorSource.forEachFeatureInExtent(extent, render);\n      }\n      replayGroup.finish(context);\n\n      this.renderedResolution_ = resolution;\n      this.renderedRevision_ = vectorLayerRevision;\n      this.renderedRenderOrder_ = vectorLayerRenderOrder;\n      this.renderedExtent_ = extent;\n      this.replayGroup_ = replayGroup;\n\n      return true;\n    };\n\n    /**\n     * @param {import(\"../../Feature.js\").default} feature Feature.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../../style/Style.js\").default|Array<import(\"../../style/Style.js\").default>} styles The style or array of\n     *     styles.\n     * @param {import(\"../../render/webgl/ReplayGroup.js\").default} replayGroup Replay group.\n     * @return {boolean} `true` if an image is loading.\n     */\n    WebGLVectorLayerRenderer.prototype.renderFeature = function renderFeature$1 (feature, resolution, pixelRatio, styles, replayGroup) {\n      if (!styles) {\n        return false;\n      }\n      var loading = false;\n      if (Array.isArray(styles)) {\n        for (var i = styles.length - 1, ii = 0; i >= ii; --i) {\n          loading = renderFeature(\n            replayGroup, feature, styles[i],\n            getSquaredTolerance(resolution, pixelRatio),\n            this.handleStyleImageChange_, this) || loading;\n        }\n      } else {\n        loading = renderFeature(\n          replayGroup, feature, styles,\n          getSquaredTolerance(resolution, pixelRatio),\n          this.handleStyleImageChange_, this) || loading;\n      }\n      return loading;\n    };\n\n    return WebGLVectorLayerRenderer;\n  }(WebGLLayerRenderer));\n\n\n  /**\n   * Determine if this renderer handles the provided layer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The candidate layer.\n   * @return {boolean} The renderer can render the layer.\n   */\n  WebGLVectorLayerRenderer['handles'] = function(layer) {\n    return layer.getType() === LayerType.VECTOR;\n  };\n\n\n  /**\n   * Create a layer renderer.\n   * @param {import(\"../Map.js\").default} mapRenderer The map renderer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The layer to be rendererd.\n   * @return {WebGLVectorLayerRenderer} The layer renderer.\n   */\n  WebGLVectorLayerRenderer['create'] = function(mapRenderer, layer) {\n    return new WebGLVectorLayerRenderer(\n      /** @type {import(\"./Map.js\").default} */ (mapRenderer),\n      /** @type {import(\"../../layer/Vector.js\").default} */ (layer)\n    );\n  };\n\n  /**\n   * @module ol/WebGLMap\n   */\n\n\n  /**\n   * @classdesc\n   * The WebGLMap uses WebGL for rendering map layers.  This renderer has limited\n   * support for vector data and no support for vector tiles.\n   *\n   *     import WebGLMap from 'ol/WebGLMap';\n   *     import TileLayer from 'ol/layer/Tile';\n   *     import OSM from 'ol/source/OSM';\n   *     import View from 'ol/View';\n   *\n   *     var map = new WebGLMap({\n   *       view: new View({\n   *         center: [0, 0],\n   *         zoom: 1\n   *       }),\n   *       layers: [\n   *         new TileLayer({\n   *           source: new OSM()\n   *         })\n   *       ],\n   *       target: 'map'\n   *     });\n   *\n   * The above snippet creates a map using a {@link module:ol/layer/Tile~Tile} to\n   * display {@link module:ol/source/OSM~OSM} OSM data and render it to a DOM\n   * element with the id `map`.\n   *\n   * The constructor places a viewport container (with CSS class name\n   * `ol-viewport`) in the target element (see `getViewport()`), and then two\n   * further elements within the viewport: one with CSS class name\n   * `ol-overlaycontainer-stopevent` for controls and some overlays, and one with\n   * CSS class name `ol-overlaycontainer` for other overlays (see the `stopEvent`\n   * option of {@link module:ol/Overlay~Overlay} for the difference). The map\n   * itself is placed in a further element within the viewport.\n   *\n   * Layers are stored as a {@link module:ol/Collection~Collection} in\n   * layerGroups. A top-level group is provided by the library. This is what is\n   * accessed by `getLayerGroup` and `setLayerGroup`. Layers entered in the\n   * options are added to this group, and `addLayer` and `removeLayer` change the\n   * layer collection in the group. `getLayers` is a convenience function for\n   * `getLayerGroup().getLayers()`.\n   * Note that {@link module:ol/layer/Group~Group} is a subclass of\n   * {@link module:ol/layer/Base}, so layers entered in the options or added\n   * with `addLayer` can be groups, which can contain further groups, and so on.\n   *\n   * @fires import(\"./MapBrowserEvent.js\").MapBrowserEvent\n   * @fires import(\"./MapEvent.js\").MapEvent\n   * @fires module:ol/render/Event~RenderEvent#postcompose\n   * @fires module:ol/render/Event~RenderEvent#precompose\n   * @api\n   */\n  var WebGLMap = /*@__PURE__*/(function (PluggableMap$$1) {\n    function WebGLMap(options) {\n      options = assign({}, options);\n      if (!options.controls) {\n        options.controls = defaults();\n      }\n      if (!options.interactions) {\n        options.interactions = defaults$1();\n      }\n\n      PluggableMap$$1.call(this, options);\n    }\n\n    if ( PluggableMap$$1 ) WebGLMap.__proto__ = PluggableMap$$1;\n    WebGLMap.prototype = Object.create( PluggableMap$$1 && PluggableMap$$1.prototype );\n    WebGLMap.prototype.constructor = WebGLMap;\n\n    WebGLMap.prototype.createRenderer = function createRenderer () {\n      var renderer = new WebGLMapRenderer(this);\n      renderer.registerLayerRenderers([\n        WebGLImageLayerRenderer,\n        WebGLTileLayerRenderer,\n        WebGLVectorLayerRenderer\n      ]);\n      return renderer;\n    };\n\n    return WebGLMap;\n  }(PluggableMap));\n\n  /**\n   * @module ol/layer/TileProperty\n   */\n\n  /**\n   * @enum {string}\n   */\n  var TileProperty = {\n    PRELOAD: 'preload',\n    USE_INTERIM_TILES_ON_ERROR: 'useInterimTilesOnError'\n  };\n\n  /**\n   * @module ol/layer/Tile\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [opacity=1] Opacity (0, 1).\n   * @property {boolean} [visible=true] Visibility.\n   * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n   * rendered outside of this extent.\n   * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n   * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n   * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n   * method was used.\n   * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n   * visible.\n   * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n   * be visible.\n   * @property {number} [preload=0] Preload. Load low-resolution tiles up to `preload` levels. `0`\n   * means no preloading.\n   * @property {import(\"../source/Tile.js\").default} [source] Source for this layer.\n   * @property {import(\"../PluggableMap.js\").default} [map] Sets the layer as overlay on a map. The map will not manage\n   * this layer in its layers collection, and the layer will be rendered on top. This is useful for\n   * temporary layers. The standard way to add a layer to a map and have it managed by the map is to\n   * use {@link module:ol/Map#addLayer}.\n   * @property {boolean} [useInterimTilesOnError=true] Use interim tiles on error.\n   */\n\n  /**\n   * @classdesc\n   * For layer sources that provide pre-rendered, tiled images in grids that are\n   * organized by zoom levels for specific resolutions.\n   * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n   * property on the layer object; for example, setting `title: 'My Title'` in the\n   * options means that `title` is observable, and has get/set accessors.\n   *\n   * @api\n   */\n  var TileLayer = /*@__PURE__*/(function (Layer$$1) {\n    function TileLayer(opt_options) {\n      var options = opt_options ? opt_options : {};\n\n      var baseOptions = assign({}, options);\n\n      delete baseOptions.preload;\n      delete baseOptions.useInterimTilesOnError;\n      Layer$$1.call(this, baseOptions);\n\n      this.setPreload(options.preload !== undefined ? options.preload : 0);\n      this.setUseInterimTilesOnError(options.useInterimTilesOnError !== undefined ?\n        options.useInterimTilesOnError : true);\n\n      /**\n      * The layer type.\n      * @protected\n      * @type {import(\"../LayerType.js\").default}\n      */\n      this.type = LayerType.TILE;\n\n    }\n\n    if ( Layer$$1 ) TileLayer.__proto__ = Layer$$1;\n    TileLayer.prototype = Object.create( Layer$$1 && Layer$$1.prototype );\n    TileLayer.prototype.constructor = TileLayer;\n\n    /**\n    * Return the level as number to which we will preload tiles up to.\n    * @return {number} The level to preload tiles up to.\n    * @observable\n    * @api\n    */\n    TileLayer.prototype.getPreload = function getPreload () {\n      return /** @type {number} */ (this.get(TileProperty.PRELOAD));\n    };\n\n    /**\n    * Set the level as number to which we will preload tiles up to.\n    * @param {number} preload The level to preload tiles up to.\n    * @observable\n    * @api\n    */\n    TileLayer.prototype.setPreload = function setPreload (preload) {\n      this.set(TileProperty.PRELOAD, preload);\n    };\n\n    /**\n    * Whether we use interim tiles on error.\n    * @return {boolean} Use interim tiles on error.\n    * @observable\n    * @api\n    */\n    TileLayer.prototype.getUseInterimTilesOnError = function getUseInterimTilesOnError () {\n      return /** @type {boolean} */ (this.get(TileProperty.USE_INTERIM_TILES_ON_ERROR));\n    };\n\n    /**\n    * Set whether we use interim tiles on error.\n    * @param {boolean} useInterimTilesOnError Use interim tiles on error.\n    * @observable\n    * @api\n    */\n    TileLayer.prototype.setUseInterimTilesOnError = function setUseInterimTilesOnError (useInterimTilesOnError) {\n      this.set(TileProperty.USE_INTERIM_TILES_ON_ERROR, useInterimTilesOnError);\n    };\n\n    return TileLayer;\n  }(Layer));\n\n\n  /**\n   * Return the associated {@link module:ol/source/Tile tilesource} of the layer.\n   * @function\n   * @return {import(\"../source/Tile.js\").default} Source.\n   * @api\n   */\n  TileLayer.prototype.getSource;\n\n  /**\n   * @module ol/reproj\n   */\n\n\n  /**\n   * Calculates ideal resolution to use from the source in order to achieve\n   * pixel mapping as close as possible to 1:1 during reprojection.\n   * The resolution is calculated regardless of what resolutions\n   * are actually available in the dataset (TileGrid, Image, ...).\n   *\n   * @param {import(\"./proj/Projection.js\").default} sourceProj Source projection.\n   * @param {import(\"./proj/Projection.js\").default} targetProj Target projection.\n   * @param {import(\"./coordinate.js\").Coordinate} targetCenter Target center.\n   * @param {number} targetResolution Target resolution.\n   * @return {number} The best resolution to use. Can be +-Infinity, NaN or 0.\n   */\n  function calculateSourceResolution(sourceProj, targetProj,\n    targetCenter, targetResolution) {\n\n    var sourceCenter = transform(targetCenter, targetProj, sourceProj);\n\n    // calculate the ideal resolution of the source data\n    var sourceResolution = getPointResolution(targetProj, targetResolution, targetCenter);\n\n    var targetMetersPerUnit = targetProj.getMetersPerUnit();\n    if (targetMetersPerUnit !== undefined) {\n      sourceResolution *= targetMetersPerUnit;\n    }\n    var sourceMetersPerUnit = sourceProj.getMetersPerUnit();\n    if (sourceMetersPerUnit !== undefined) {\n      sourceResolution /= sourceMetersPerUnit;\n    }\n\n    // Based on the projection properties, the point resolution at the specified\n    // coordinates may be slightly different. We need to reverse-compensate this\n    // in order to achieve optimal results.\n\n    var sourceExtent = sourceProj.getExtent();\n    if (!sourceExtent || containsCoordinate(sourceExtent, sourceCenter)) {\n      var compensationFactor = getPointResolution(sourceProj, sourceResolution, sourceCenter) /\n          sourceResolution;\n      if (isFinite(compensationFactor) && compensationFactor > 0) {\n        sourceResolution /= compensationFactor;\n      }\n    }\n\n    return sourceResolution;\n  }\n\n\n  /**\n   * Enlarge the clipping triangle point by 1 pixel to ensure the edges overlap\n   * in order to mask gaps caused by antialiasing.\n   *\n   * @param {number} centroidX Centroid of the triangle (x coordinate in pixels).\n   * @param {number} centroidY Centroid of the triangle (y coordinate in pixels).\n   * @param {number} x X coordinate of the point (in pixels).\n   * @param {number} y Y coordinate of the point (in pixels).\n   * @return {import(\"./coordinate.js\").Coordinate} New point 1 px farther from the centroid.\n   */\n  function enlargeClipPoint(centroidX, centroidY, x, y) {\n    var dX = x - centroidX;\n    var dY = y - centroidY;\n    var distance = Math.sqrt(dX * dX + dY * dY);\n    return [Math.round(x + dX / distance), Math.round(y + dY / distance)];\n  }\n\n\n  /**\n   * Renders the source data into new canvas based on the triangulation.\n   *\n   * @param {number} width Width of the canvas.\n   * @param {number} height Height of the canvas.\n   * @param {number} pixelRatio Pixel ratio.\n   * @param {number} sourceResolution Source resolution.\n   * @param {import(\"./extent.js\").Extent} sourceExtent Extent of the data source.\n   * @param {number} targetResolution Target resolution.\n   * @param {import(\"./extent.js\").Extent} targetExtent Target extent.\n   * @param {import(\"./reproj/Triangulation.js\").default} triangulation\n   * Calculated triangulation.\n   * @param {Array<{extent: import(\"./extent.js\").Extent,\n   *                 image: (HTMLCanvasElement|HTMLImageElement|HTMLVideoElement)}>} sources\n   * Array of sources.\n   * @param {number} gutter Gutter of the sources.\n   * @param {boolean=} opt_renderEdges Render reprojection edges.\n   * @return {HTMLCanvasElement} Canvas with reprojected data.\n   */\n  function render$6(width, height, pixelRatio,\n    sourceResolution, sourceExtent, targetResolution, targetExtent,\n    triangulation, sources, gutter, opt_renderEdges) {\n\n    var context = createCanvasContext2D(Math.round(pixelRatio * width),\n      Math.round(pixelRatio * height));\n\n    if (sources.length === 0) {\n      return context.canvas;\n    }\n\n    context.scale(pixelRatio, pixelRatio);\n\n    var sourceDataExtent = createEmpty();\n    sources.forEach(function(src, i, arr) {\n      extend$1(sourceDataExtent, src.extent);\n    });\n\n    var canvasWidthInUnits = getWidth(sourceDataExtent);\n    var canvasHeightInUnits = getHeight(sourceDataExtent);\n    var stitchContext = createCanvasContext2D(\n      Math.round(pixelRatio * canvasWidthInUnits / sourceResolution),\n      Math.round(pixelRatio * canvasHeightInUnits / sourceResolution));\n\n    var stitchScale = pixelRatio / sourceResolution;\n\n    sources.forEach(function(src, i, arr) {\n      var xPos = src.extent[0] - sourceDataExtent[0];\n      var yPos = -(src.extent[3] - sourceDataExtent[3]);\n      var srcWidth = getWidth(src.extent);\n      var srcHeight = getHeight(src.extent);\n\n      stitchContext.drawImage(\n        src.image,\n        gutter, gutter,\n        src.image.width - 2 * gutter, src.image.height - 2 * gutter,\n        xPos * stitchScale, yPos * stitchScale,\n        srcWidth * stitchScale, srcHeight * stitchScale);\n    });\n\n    var targetTopLeft = getTopLeft(targetExtent);\n\n    triangulation.getTriangles().forEach(function(triangle, i, arr) {\n      /* Calculate affine transform (src -> dst)\n       * Resulting matrix can be used to transform coordinate\n       * from `sourceProjection` to destination pixels.\n       *\n       * To optimize number of context calls and increase numerical stability,\n       * we also do the following operations:\n       * trans(-topLeftExtentCorner), scale(1 / targetResolution), scale(1, -1)\n       * here before solving the linear system so [ui, vi] are pixel coordinates.\n       *\n       * Src points: xi, yi\n       * Dst points: ui, vi\n       * Affine coefficients: aij\n       *\n       * | x0 y0 1  0  0 0 |   |a00|   |u0|\n       * | x1 y1 1  0  0 0 |   |a01|   |u1|\n       * | x2 y2 1  0  0 0 | x |a02| = |u2|\n       * |  0  0 0 x0 y0 1 |   |a10|   |v0|\n       * |  0  0 0 x1 y1 1 |   |a11|   |v1|\n       * |  0  0 0 x2 y2 1 |   |a12|   |v2|\n       */\n      var source = triangle.source;\n      var target = triangle.target;\n      var x0 = source[0][0], y0 = source[0][1];\n      var x1 = source[1][0], y1 = source[1][1];\n      var x2 = source[2][0], y2 = source[2][1];\n      var u0 = (target[0][0] - targetTopLeft[0]) / targetResolution;\n      var v0 = -(target[0][1] - targetTopLeft[1]) / targetResolution;\n      var u1 = (target[1][0] - targetTopLeft[0]) / targetResolution;\n      var v1 = -(target[1][1] - targetTopLeft[1]) / targetResolution;\n      var u2 = (target[2][0] - targetTopLeft[0]) / targetResolution;\n      var v2 = -(target[2][1] - targetTopLeft[1]) / targetResolution;\n\n      // Shift all the source points to improve numerical stability\n      // of all the subsequent calculations. The [x0, y0] is used here.\n      // This is also used to simplify the linear system.\n      var sourceNumericalShiftX = x0;\n      var sourceNumericalShiftY = y0;\n      x0 = 0;\n      y0 = 0;\n      x1 -= sourceNumericalShiftX;\n      y1 -= sourceNumericalShiftY;\n      x2 -= sourceNumericalShiftX;\n      y2 -= sourceNumericalShiftY;\n\n      var augmentedMatrix = [\n        [x1, y1, 0, 0, u1 - u0],\n        [x2, y2, 0, 0, u2 - u0],\n        [0, 0, x1, y1, v1 - v0],\n        [0, 0, x2, y2, v2 - v0]\n      ];\n      var affineCoefs = solveLinearSystem(augmentedMatrix);\n      if (!affineCoefs) {\n        return;\n      }\n\n      context.save();\n      context.beginPath();\n      var centroidX = (u0 + u1 + u2) / 3;\n      var centroidY = (v0 + v1 + v2) / 3;\n      var p0 = enlargeClipPoint(centroidX, centroidY, u0, v0);\n      var p1 = enlargeClipPoint(centroidX, centroidY, u1, v1);\n      var p2 = enlargeClipPoint(centroidX, centroidY, u2, v2);\n\n      context.moveTo(p1[0], p1[1]);\n      context.lineTo(p0[0], p0[1]);\n      context.lineTo(p2[0], p2[1]);\n      context.clip();\n\n      context.transform(\n        affineCoefs[0], affineCoefs[2], affineCoefs[1], affineCoefs[3], u0, v0);\n\n      context.translate(sourceDataExtent[0] - sourceNumericalShiftX,\n        sourceDataExtent[3] - sourceNumericalShiftY);\n\n      context.scale(sourceResolution / pixelRatio,\n        -sourceResolution / pixelRatio);\n\n      context.drawImage(stitchContext.canvas, 0, 0);\n      context.restore();\n    });\n\n    if (opt_renderEdges) {\n      context.save();\n\n      context.strokeStyle = 'black';\n      context.lineWidth = 1;\n\n      triangulation.getTriangles().forEach(function(triangle, i, arr) {\n        var target = triangle.target;\n        var u0 = (target[0][0] - targetTopLeft[0]) / targetResolution;\n        var v0 = -(target[0][1] - targetTopLeft[1]) / targetResolution;\n        var u1 = (target[1][0] - targetTopLeft[0]) / targetResolution;\n        var v1 = -(target[1][1] - targetTopLeft[1]) / targetResolution;\n        var u2 = (target[2][0] - targetTopLeft[0]) / targetResolution;\n        var v2 = -(target[2][1] - targetTopLeft[1]) / targetResolution;\n\n        context.beginPath();\n        context.moveTo(u1, v1);\n        context.lineTo(u0, v0);\n        context.lineTo(u2, v2);\n        context.closePath();\n        context.stroke();\n      });\n\n      context.restore();\n    }\n    return context.canvas;\n  }\n\n  /**\n   * @module ol/reproj/Triangulation\n   */\n\n\n  /**\n   * Single triangle; consists of 3 source points and 3 target points.\n   * @typedef {Object} Triangle\n   * @property {Array<import(\"../coordinate.js\").Coordinate>} source\n   * @property {Array<import(\"../coordinate.js\").Coordinate>} target\n   */\n\n\n  /**\n   * Maximum number of subdivision steps during raster reprojection triangulation.\n   * Prevents high memory usage and large number of proj4 calls (for certain\n   * transformations and areas). At most `2*(2^this)` triangles are created for\n   * each triangulated extent (tile/image).\n   * @type {number}\n   */\n  var MAX_SUBDIVISION = 10;\n\n\n  /**\n   * Maximum allowed size of triangle relative to world width. When transforming\n   * corners of world extent between certain projections, the resulting\n   * triangulation seems to have zero error and no subdivision is performed. If\n   * the triangle width is more than this (relative to world width; 0-1),\n   * subdivison is forced (up to `MAX_SUBDIVISION`). Default is `0.25`.\n   * @type {number}\n   */\n  var MAX_TRIANGLE_WIDTH = 0.25;\n\n\n  /**\n   * @classdesc\n   * Class containing triangulation of the given target extent.\n   * Used for determining source data and the reprojection itself.\n   */\n  var Triangulation = function Triangulation(sourceProj, targetProj, targetExtent, maxSourceExtent, errorThreshold) {\n\n    /**\n     * @type {import(\"../proj/Projection.js\").default}\n     * @private\n     */\n    this.sourceProj_ = sourceProj;\n\n    /**\n     * @type {import(\"../proj/Projection.js\").default}\n     * @private\n     */\n    this.targetProj_ = targetProj;\n\n    /** @type {!Object<string, import(\"../coordinate.js\").Coordinate>} */\n    var transformInvCache = {};\n    var transformInv = getTransform(this.targetProj_, this.sourceProj_);\n\n    /**\n     * @param {import(\"../coordinate.js\").Coordinate} c A coordinate.\n     * @return {import(\"../coordinate.js\").Coordinate} Transformed coordinate.\n     * @private\n     */\n    this.transformInv_ = function(c) {\n      var key = c[0] + '/' + c[1];\n      if (!transformInvCache[key]) {\n        transformInvCache[key] = transformInv(c);\n      }\n      return transformInvCache[key];\n    };\n\n    /**\n     * @type {import(\"../extent.js\").Extent}\n     * @private\n     */\n    this.maxSourceExtent_ = maxSourceExtent;\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.errorThresholdSquared_ = errorThreshold * errorThreshold;\n\n    /**\n     * @type {Array<Triangle>}\n     * @private\n     */\n    this.triangles_ = [];\n\n    /**\n     * Indicates that the triangulation crosses edge of the source projection.\n     * @type {boolean}\n     * @private\n     */\n    this.wrapsXInSource_ = false;\n\n    /**\n     * @type {boolean}\n     * @private\n     */\n    this.canWrapXInSource_ = this.sourceProj_.canWrapX() &&\n        !!maxSourceExtent &&\n        !!this.sourceProj_.getExtent() &&\n        (getWidth(maxSourceExtent) == getWidth(this.sourceProj_.getExtent()));\n\n    /**\n     * @type {?number}\n     * @private\n     */\n    this.sourceWorldWidth_ = this.sourceProj_.getExtent() ?\n      getWidth(this.sourceProj_.getExtent()) : null;\n\n    /**\n     * @type {?number}\n     * @private\n     */\n    this.targetWorldWidth_ = this.targetProj_.getExtent() ?\n      getWidth(this.targetProj_.getExtent()) : null;\n\n    var destinationTopLeft = getTopLeft(targetExtent);\n    var destinationTopRight = getTopRight(targetExtent);\n    var destinationBottomRight = getBottomRight(targetExtent);\n    var destinationBottomLeft = getBottomLeft(targetExtent);\n    var sourceTopLeft = this.transformInv_(destinationTopLeft);\n    var sourceTopRight = this.transformInv_(destinationTopRight);\n    var sourceBottomRight = this.transformInv_(destinationBottomRight);\n    var sourceBottomLeft = this.transformInv_(destinationBottomLeft);\n\n    this.addQuad_(\n      destinationTopLeft, destinationTopRight,\n      destinationBottomRight, destinationBottomLeft,\n      sourceTopLeft, sourceTopRight, sourceBottomRight, sourceBottomLeft,\n      MAX_SUBDIVISION);\n\n    if (this.wrapsXInSource_) {\n      var leftBound = Infinity;\n      this.triangles_.forEach(function(triangle, i, arr) {\n        leftBound = Math.min(leftBound,\n          triangle.source[0][0], triangle.source[1][0], triangle.source[2][0]);\n      });\n\n      // Shift triangles to be as close to `leftBound` as possible\n      // (if the distance is more than `worldWidth / 2` it can be closer.\n      this.triangles_.forEach(function(triangle) {\n        if (Math.max(triangle.source[0][0], triangle.source[1][0],\n          triangle.source[2][0]) - leftBound > this.sourceWorldWidth_ / 2) {\n          var newTriangle = [[triangle.source[0][0], triangle.source[0][1]],\n            [triangle.source[1][0], triangle.source[1][1]],\n            [triangle.source[2][0], triangle.source[2][1]]];\n          if ((newTriangle[0][0] - leftBound) > this.sourceWorldWidth_ / 2) {\n            newTriangle[0][0] -= this.sourceWorldWidth_;\n          }\n          if ((newTriangle[1][0] - leftBound) > this.sourceWorldWidth_ / 2) {\n            newTriangle[1][0] -= this.sourceWorldWidth_;\n          }\n          if ((newTriangle[2][0] - leftBound) > this.sourceWorldWidth_ / 2) {\n            newTriangle[2][0] -= this.sourceWorldWidth_;\n          }\n\n          // Rarely (if the extent contains both the dateline and prime meridian)\n          // the shift can in turn break some triangles.\n          // Detect this here and don't shift in such cases.\n          var minX = Math.min(\n            newTriangle[0][0], newTriangle[1][0], newTriangle[2][0]);\n          var maxX = Math.max(\n            newTriangle[0][0], newTriangle[1][0], newTriangle[2][0]);\n          if ((maxX - minX) < this.sourceWorldWidth_ / 2) {\n            triangle.source = newTriangle;\n          }\n        }\n      }.bind(this));\n    }\n\n    transformInvCache = {};\n  };\n\n  /**\n   * Adds triangle to the triangulation.\n   * @param {import(\"../coordinate.js\").Coordinate} a The target a coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} b The target b coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} c The target c coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} aSrc The source a coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} bSrc The source b coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} cSrc The source c coordinate.\n   * @private\n   */\n  Triangulation.prototype.addTriangle_ = function addTriangle_ (a, b, c, aSrc, bSrc, cSrc) {\n    this.triangles_.push({\n      source: [aSrc, bSrc, cSrc],\n      target: [a, b, c]\n    });\n  };\n\n  /**\n   * Adds quad (points in clock-wise order) to the triangulation\n   * (and reprojects the vertices) if valid.\n   * Performs quad subdivision if needed to increase precision.\n   *\n   * @param {import(\"../coordinate.js\").Coordinate} a The target a coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} b The target b coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} c The target c coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} d The target d coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} aSrc The source a coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} bSrc The source b coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} cSrc The source c coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} dSrc The source d coordinate.\n   * @param {number} maxSubdivision Maximal allowed subdivision of the quad.\n   * @private\n   */\n  Triangulation.prototype.addQuad_ = function addQuad_ (a, b, c, d, aSrc, bSrc, cSrc, dSrc, maxSubdivision) {\n\n    var sourceQuadExtent = boundingExtent([aSrc, bSrc, cSrc, dSrc]);\n    var sourceCoverageX = this.sourceWorldWidth_ ?\n      getWidth(sourceQuadExtent) / this.sourceWorldWidth_ : null;\n    var sourceWorldWidth = /** @type {number} */ (this.sourceWorldWidth_);\n\n    // when the quad is wrapped in the source projection\n    // it covers most of the projection extent, but not fully\n    var wrapsX = this.sourceProj_.canWrapX() &&\n                 sourceCoverageX > 0.5 && sourceCoverageX < 1;\n\n    var needsSubdivision = false;\n\n    if (maxSubdivision > 0) {\n      if (this.targetProj_.isGlobal() && this.targetWorldWidth_) {\n        var targetQuadExtent = boundingExtent([a, b, c, d]);\n        var targetCoverageX = getWidth(targetQuadExtent) / this.targetWorldWidth_;\n        needsSubdivision = targetCoverageX > MAX_TRIANGLE_WIDTH ||\n          needsSubdivision;\n      }\n      if (!wrapsX && this.sourceProj_.isGlobal() && sourceCoverageX) {\n        needsSubdivision = sourceCoverageX > MAX_TRIANGLE_WIDTH ||\n            needsSubdivision;\n      }\n    }\n\n    if (!needsSubdivision && this.maxSourceExtent_) {\n      if (!intersects(sourceQuadExtent, this.maxSourceExtent_)) {\n        // whole quad outside source projection extent -> ignore\n        return;\n      }\n    }\n\n    if (!needsSubdivision) {\n      if (!isFinite(aSrc[0]) || !isFinite(aSrc[1]) ||\n          !isFinite(bSrc[0]) || !isFinite(bSrc[1]) ||\n          !isFinite(cSrc[0]) || !isFinite(cSrc[1]) ||\n          !isFinite(dSrc[0]) || !isFinite(dSrc[1])) {\n        if (maxSubdivision > 0) {\n          needsSubdivision = true;\n        } else {\n          return;\n        }\n      }\n    }\n\n    if (maxSubdivision > 0) {\n      if (!needsSubdivision) {\n        var center = [(a[0] + c[0]) / 2, (a[1] + c[1]) / 2];\n        var centerSrc = this.transformInv_(center);\n\n        var dx;\n        if (wrapsX) {\n          var centerSrcEstimX =\n              (modulo(aSrc[0], sourceWorldWidth) +\n               modulo(cSrc[0], sourceWorldWidth)) / 2;\n          dx = centerSrcEstimX -\n              modulo(centerSrc[0], sourceWorldWidth);\n        } else {\n          dx = (aSrc[0] + cSrc[0]) / 2 - centerSrc[0];\n        }\n        var dy = (aSrc[1] + cSrc[1]) / 2 - centerSrc[1];\n        var centerSrcErrorSquared = dx * dx + dy * dy;\n        needsSubdivision = centerSrcErrorSquared > this.errorThresholdSquared_;\n      }\n      if (needsSubdivision) {\n        if (Math.abs(a[0] - c[0]) <= Math.abs(a[1] - c[1])) {\n          // split horizontally (top & bottom)\n          var bc = [(b[0] + c[0]) / 2, (b[1] + c[1]) / 2];\n          var bcSrc = this.transformInv_(bc);\n          var da = [(d[0] + a[0]) / 2, (d[1] + a[1]) / 2];\n          var daSrc = this.transformInv_(da);\n\n          this.addQuad_(\n            a, b, bc, da, aSrc, bSrc, bcSrc, daSrc, maxSubdivision - 1);\n          this.addQuad_(\n            da, bc, c, d, daSrc, bcSrc, cSrc, dSrc, maxSubdivision - 1);\n        } else {\n          // split vertically (left & right)\n          var ab = [(a[0] + b[0]) / 2, (a[1] + b[1]) / 2];\n          var abSrc = this.transformInv_(ab);\n          var cd = [(c[0] + d[0]) / 2, (c[1] + d[1]) / 2];\n          var cdSrc = this.transformInv_(cd);\n\n          this.addQuad_(\n            a, ab, cd, d, aSrc, abSrc, cdSrc, dSrc, maxSubdivision - 1);\n          this.addQuad_(\n            ab, b, c, cd, abSrc, bSrc, cSrc, cdSrc, maxSubdivision - 1);\n        }\n        return;\n      }\n    }\n\n    if (wrapsX) {\n      if (!this.canWrapXInSource_) {\n        return;\n      }\n      this.wrapsXInSource_ = true;\n    }\n\n    this.addTriangle_(a, c, d, aSrc, cSrc, dSrc);\n    this.addTriangle_(a, b, c, aSrc, bSrc, cSrc);\n  };\n\n  /**\n   * Calculates extent of the 'source' coordinates from all the triangles.\n   *\n   * @return {import(\"../extent.js\").Extent} Calculated extent.\n   */\n  Triangulation.prototype.calculateSourceExtent = function calculateSourceExtent () {\n    var extent = createEmpty();\n\n    this.triangles_.forEach(function(triangle, i, arr) {\n      var src = triangle.source;\n      extendCoordinate(extent, src[0]);\n      extendCoordinate(extent, src[1]);\n      extendCoordinate(extent, src[2]);\n    });\n\n    return extent;\n  };\n\n  /**\n   * @return {Array<Triangle>} Array of the calculated triangles.\n   */\n  Triangulation.prototype.getTriangles = function getTriangles () {\n    return this.triangles_;\n  };\n\n  /**\n   * @module ol/reproj/Tile\n   */\n\n\n  /**\n   * @typedef {function(number, number, number, number) : import(\"../Tile.js\").default} FunctionType\n   */\n\n\n  /**\n   * @classdesc\n   * Class encapsulating single reprojected tile.\n   * See {@link module:ol/source/TileImage~TileImage}.\n   *\n   */\n  var ReprojTile = /*@__PURE__*/(function (Tile$$1) {\n    function ReprojTile(\n      sourceProj,\n      sourceTileGrid,\n      targetProj,\n      targetTileGrid,\n      tileCoord,\n      wrappedTileCoord,\n      pixelRatio,\n      gutter,\n      getTileFunction,\n      opt_errorThreshold,\n      opt_renderEdges\n    ) {\n      Tile$$1.call(this, tileCoord, TileState.IDLE);\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.renderEdges_ = opt_renderEdges !== undefined ? opt_renderEdges : false;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.pixelRatio_ = pixelRatio;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.gutter_ = gutter;\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement}\n       */\n      this.canvas_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../tilegrid/TileGrid.js\").default}\n       */\n      this.sourceTileGrid_ = sourceTileGrid;\n\n      /**\n       * @private\n       * @type {import(\"../tilegrid/TileGrid.js\").default}\n       */\n      this.targetTileGrid_ = targetTileGrid;\n\n      /**\n       * @private\n       * @type {import(\"../tilecoord.js\").TileCoord}\n       */\n      this.wrappedTileCoord_ = wrappedTileCoord ? wrappedTileCoord : tileCoord;\n\n      /**\n       * @private\n       * @type {!Array<import(\"../Tile.js\").default>}\n       */\n      this.sourceTiles_ = [];\n\n      /**\n       * @private\n       * @type {Array<import(\"../events.js\").EventsKey>}\n       */\n      this.sourcesListenerKeys_ = null;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.sourceZ_ = 0;\n\n      var targetExtent = targetTileGrid.getTileCoordExtent(this.wrappedTileCoord_);\n      var maxTargetExtent = this.targetTileGrid_.getExtent();\n      var maxSourceExtent = this.sourceTileGrid_.getExtent();\n\n      var limitedTargetExtent = maxTargetExtent ?\n        getIntersection(targetExtent, maxTargetExtent) : targetExtent;\n\n      if (getArea(limitedTargetExtent) === 0) {\n        // Tile is completely outside range -> EMPTY\n        // TODO: is it actually correct that the source even creates the tile ?\n        this.state = TileState.EMPTY;\n        return;\n      }\n\n      var sourceProjExtent = sourceProj.getExtent();\n      if (sourceProjExtent) {\n        if (!maxSourceExtent) {\n          maxSourceExtent = sourceProjExtent;\n        } else {\n          maxSourceExtent = getIntersection(maxSourceExtent, sourceProjExtent);\n        }\n      }\n\n      var targetResolution = targetTileGrid.getResolution(\n        this.wrappedTileCoord_[0]);\n\n      var targetCenter = getCenter(limitedTargetExtent);\n      var sourceResolution = calculateSourceResolution(\n        sourceProj, targetProj, targetCenter, targetResolution);\n\n      if (!isFinite(sourceResolution) || sourceResolution <= 0) {\n        // invalid sourceResolution -> EMPTY\n        // probably edges of the projections when no extent is defined\n        this.state = TileState.EMPTY;\n        return;\n      }\n\n      var errorThresholdInPixels = opt_errorThreshold !== undefined ?\n        opt_errorThreshold : ERROR_THRESHOLD;\n\n      /**\n       * @private\n       * @type {!import(\"./Triangulation.js\").default}\n       */\n      this.triangulation_ = new Triangulation(\n        sourceProj, targetProj, limitedTargetExtent, maxSourceExtent,\n        sourceResolution * errorThresholdInPixels);\n\n      if (this.triangulation_.getTriangles().length === 0) {\n        // no valid triangles -> EMPTY\n        this.state = TileState.EMPTY;\n        return;\n      }\n\n      this.sourceZ_ = sourceTileGrid.getZForResolution(sourceResolution);\n      var sourceExtent = this.triangulation_.calculateSourceExtent();\n\n      if (maxSourceExtent) {\n        if (sourceProj.canWrapX()) {\n          sourceExtent[1] = clamp(\n            sourceExtent[1], maxSourceExtent[1], maxSourceExtent[3]);\n          sourceExtent[3] = clamp(\n            sourceExtent[3], maxSourceExtent[1], maxSourceExtent[3]);\n        } else {\n          sourceExtent = getIntersection(sourceExtent, maxSourceExtent);\n        }\n      }\n\n      if (!getArea(sourceExtent)) {\n        this.state = TileState.EMPTY;\n      } else {\n        var sourceRange = sourceTileGrid.getTileRangeForExtentAndZ(\n          sourceExtent, this.sourceZ_);\n\n        for (var srcX = sourceRange.minX; srcX <= sourceRange.maxX; srcX++) {\n          for (var srcY = sourceRange.minY; srcY <= sourceRange.maxY; srcY++) {\n            var tile = getTileFunction(this.sourceZ_, srcX, srcY, pixelRatio);\n            if (tile) {\n              this.sourceTiles_.push(tile);\n            }\n          }\n        }\n\n        if (this.sourceTiles_.length === 0) {\n          this.state = TileState.EMPTY;\n        }\n      }\n    }\n\n    if ( Tile$$1 ) ReprojTile.__proto__ = Tile$$1;\n    ReprojTile.prototype = Object.create( Tile$$1 && Tile$$1.prototype );\n    ReprojTile.prototype.constructor = ReprojTile;\n\n    /**\n     * @inheritDoc\n     */\n    ReprojTile.prototype.disposeInternal = function disposeInternal () {\n      if (this.state == TileState.LOADING) {\n        this.unlistenSources_();\n      }\n      Tile$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * Get the HTML Canvas element for this tile.\n     * @return {HTMLCanvasElement} Canvas.\n     */\n    ReprojTile.prototype.getImage = function getImage () {\n      return this.canvas_;\n    };\n\n    /**\n     * @private\n     */\n    ReprojTile.prototype.reproject_ = function reproject_ () {\n      var sources = [];\n      this.sourceTiles_.forEach(function(tile, i, arr) {\n        if (tile && tile.getState() == TileState.LOADED) {\n          sources.push({\n            extent: this.sourceTileGrid_.getTileCoordExtent(tile.tileCoord),\n            image: tile.getImage()\n          });\n        }\n      }.bind(this));\n      this.sourceTiles_.length = 0;\n\n      if (sources.length === 0) {\n        this.state = TileState.ERROR;\n      } else {\n        var z = this.wrappedTileCoord_[0];\n        var size = this.targetTileGrid_.getTileSize(z);\n        var width = typeof size === 'number' ? size : size[0];\n        var height = typeof size === 'number' ? size : size[1];\n        var targetResolution = this.targetTileGrid_.getResolution(z);\n        var sourceResolution = this.sourceTileGrid_.getResolution(this.sourceZ_);\n\n        var targetExtent = this.targetTileGrid_.getTileCoordExtent(\n          this.wrappedTileCoord_);\n        this.canvas_ = render$6(width, height, this.pixelRatio_,\n          sourceResolution, this.sourceTileGrid_.getExtent(),\n          targetResolution, targetExtent, this.triangulation_, sources,\n          this.gutter_, this.renderEdges_);\n\n        this.state = TileState.LOADED;\n      }\n      this.changed();\n    };\n\n    /**\n     * @inheritDoc\n     */\n    ReprojTile.prototype.load = function load () {\n      if (this.state == TileState.IDLE) {\n        this.state = TileState.LOADING;\n        this.changed();\n\n        var leftToLoad = 0;\n\n        this.sourcesListenerKeys_ = [];\n        this.sourceTiles_.forEach(function(tile, i, arr) {\n          var state = tile.getState();\n          if (state == TileState.IDLE || state == TileState.LOADING) {\n            leftToLoad++;\n\n            var sourceListenKey = listen(tile, EventType.CHANGE,\n              function(e) {\n                var state = tile.getState();\n                if (state == TileState.LOADED ||\n                      state == TileState.ERROR ||\n                      state == TileState.EMPTY) {\n                  unlistenByKey(sourceListenKey);\n                  leftToLoad--;\n                  if (leftToLoad === 0) {\n                    this.unlistenSources_();\n                    this.reproject_();\n                  }\n                }\n              }, this);\n            this.sourcesListenerKeys_.push(sourceListenKey);\n          }\n        }.bind(this));\n\n        this.sourceTiles_.forEach(function(tile, i, arr) {\n          var state = tile.getState();\n          if (state == TileState.IDLE) {\n            tile.load();\n          }\n        });\n\n        if (leftToLoad === 0) {\n          setTimeout(this.reproject_.bind(this), 0);\n        }\n      }\n    };\n\n    /**\n     * @private\n     */\n    ReprojTile.prototype.unlistenSources_ = function unlistenSources_ () {\n      this.sourcesListenerKeys_.forEach(unlistenByKey);\n      this.sourcesListenerKeys_ = null;\n    };\n\n    return ReprojTile;\n  }(Tile));\n\n  /**\n   * @module ol/tileurlfunction\n   */\n\n\n  /**\n   * @param {string} template Template.\n   * @param {import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n   * @return {import(\"./Tile.js\").UrlFunction} Tile URL function.\n   */\n  function createFromTemplate(template, tileGrid) {\n    var zRegEx = /\\{z\\}/g;\n    var xRegEx = /\\{x\\}/g;\n    var yRegEx = /\\{y\\}/g;\n    var dashYRegEx = /\\{-y\\}/g;\n    return (\n      /**\n       * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile Coordinate.\n       * @param {number} pixelRatio Pixel ratio.\n       * @param {import(\"./proj/Projection.js\").default} projection Projection.\n       * @return {string|undefined} Tile URL.\n       */\n      function(tileCoord, pixelRatio, projection) {\n        if (!tileCoord) {\n          return undefined;\n        } else {\n          return template.replace(zRegEx, tileCoord[0].toString())\n            .replace(xRegEx, tileCoord[1].toString())\n            .replace(yRegEx, function() {\n              var y = -tileCoord[2] - 1;\n              return y.toString();\n            })\n            .replace(dashYRegEx, function() {\n              var z = tileCoord[0];\n              var range = tileGrid.getFullTileRange(z);\n              assert(range, 55); // The {-y} placeholder requires a tile grid with extent\n              var y = range.getHeight() + tileCoord[2];\n              return y.toString();\n            });\n        }\n      }\n    );\n  }\n\n\n  /**\n   * @param {Array<string>} templates Templates.\n   * @param {import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n   * @return {import(\"./Tile.js\").UrlFunction} Tile URL function.\n   */\n  function createFromTemplates(templates, tileGrid) {\n    var len = templates.length;\n    var tileUrlFunctions = new Array(len);\n    for (var i = 0; i < len; ++i) {\n      tileUrlFunctions[i] = createFromTemplate(templates[i], tileGrid);\n    }\n    return createFromTileUrlFunctions(tileUrlFunctions);\n  }\n\n\n  /**\n   * @param {Array<import(\"./Tile.js\").UrlFunction>} tileUrlFunctions Tile URL Functions.\n   * @return {import(\"./Tile.js\").UrlFunction} Tile URL function.\n   */\n  function createFromTileUrlFunctions(tileUrlFunctions) {\n    if (tileUrlFunctions.length === 1) {\n      return tileUrlFunctions[0];\n    }\n    return (\n      /**\n       * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile Coordinate.\n       * @param {number} pixelRatio Pixel ratio.\n       * @param {import(\"./proj/Projection.js\").default} projection Projection.\n       * @return {string|undefined} Tile URL.\n       */\n      function(tileCoord, pixelRatio, projection) {\n        if (!tileCoord) {\n          return undefined;\n        } else {\n          var h = hash(tileCoord);\n          var index = modulo(h, tileUrlFunctions.length);\n          return tileUrlFunctions[index](tileCoord, pixelRatio, projection);\n        }\n      }\n    );\n  }\n\n\n  /**\n   * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n   * @param {number} pixelRatio Pixel ratio.\n   * @param {import(\"./proj/Projection.js\").default} projection Projection.\n   * @return {string|undefined} Tile URL.\n   */\n  function nullTileUrlFunction(tileCoord, pixelRatio, projection) {\n    return undefined;\n  }\n\n\n  /**\n   * @param {string} url URL.\n   * @return {Array<string>} Array of urls.\n   */\n  function expandUrl(url) {\n    var urls = [];\n    var match = /\\{([a-z])-([a-z])\\}/.exec(url);\n    if (match) {\n      // char range\n      var startCharCode = match[1].charCodeAt(0);\n      var stopCharCode = match[2].charCodeAt(0);\n      var charCode;\n      for (charCode = startCharCode; charCode <= stopCharCode; ++charCode) {\n        urls.push(url.replace(match[0], String.fromCharCode(charCode)));\n      }\n      return urls;\n    }\n    match = match = /\\{(\\d+)-(\\d+)\\}/.exec(url);\n    if (match) {\n      // number range\n      var stop = parseInt(match[2], 10);\n      for (var i = parseInt(match[1], 10); i <= stop; i++) {\n        urls.push(url.replace(match[0], i.toString()));\n      }\n      return urls;\n    }\n    urls.push(url);\n    return urls;\n  }\n\n  /**\n   * @module ol/source/TileEventType\n   */\n\n  /**\n   * @enum {string}\n   */\n  var TileEventType = {\n\n    /**\n     * Triggered when a tile starts loading.\n     * @event module:ol/source/Tile.TileSourceEvent#tileloadstart\n     * @api\n     */\n    TILELOADSTART: 'tileloadstart',\n\n    /**\n     * Triggered when a tile finishes loading, either when its data is loaded,\n     * or when loading was aborted because the tile is no longer needed.\n     * @event module:ol/source/Tile.TileSourceEvent#tileloadend\n     * @api\n     */\n    TILELOADEND: 'tileloadend',\n\n    /**\n     * Triggered if tile loading results in an error.\n     * @event module:ol/source/Tile.TileSourceEvent#tileloaderror\n     * @api\n     */\n    TILELOADERROR: 'tileloaderror'\n\n  };\n\n  /**\n   * @module ol/source/UrlTile\n   */\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"./Source.js\").AttributionLike} [attributions]\n   * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n   * @property {number} [cacheSize]\n   * @property {boolean} [opaque]\n   * @property {import(\"../proj.js\").ProjectionLike} [projection]\n   * @property {import(\"./State.js\").default} [state]\n   * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid]\n   * @property {import(\"../Tile.js\").LoadFunction} tileLoadFunction\n   * @property {number} [tilePixelRatio]\n   * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction]\n   * @property {string} [url]\n   * @property {Array<string>} [urls]\n   * @property {boolean} [wrapX=true]\n   * @property {number} [transition]\n   * @property {string} [key]\n   */\n\n\n  /**\n   * @classdesc\n   * Base class for sources providing tiles divided into a tile grid over http.\n   *\n   * @fires import(\"./Tile.js\").TileSourceEvent\n   */\n  var UrlTile = /*@__PURE__*/(function (TileSource$$1) {\n    function UrlTile(options) {\n\n      TileSource$$1.call(this, {\n        attributions: options.attributions,\n        cacheSize: options.cacheSize,\n        opaque: options.opaque,\n        projection: options.projection,\n        state: options.state,\n        tileGrid: options.tileGrid,\n        tilePixelRatio: options.tilePixelRatio,\n        wrapX: options.wrapX,\n        transition: options.transition,\n        key: options.key,\n        attributionsCollapsible: options.attributionsCollapsible\n      });\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.generateTileUrlFunction_ = !options.tileUrlFunction;\n\n      /**\n       * @protected\n       * @type {import(\"../Tile.js\").LoadFunction}\n       */\n      this.tileLoadFunction = options.tileLoadFunction;\n\n      /**\n       * @protected\n       * @type {import(\"../Tile.js\").UrlFunction}\n       */\n      this.tileUrlFunction = options.tileUrlFunction ? options.tileUrlFunction.bind(this) : nullTileUrlFunction;\n\n      /**\n       * @protected\n       * @type {!Array<string>|null}\n       */\n      this.urls = null;\n\n      if (options.urls) {\n        this.setUrls(options.urls);\n      } else if (options.url) {\n        this.setUrl(options.url);\n      }\n\n      if (options.tileUrlFunction) {\n        this.setTileUrlFunction(options.tileUrlFunction, this.key_);\n      }\n\n      /**\n       * @private\n       * @type {!Object<string, boolean>}\n       */\n      this.tileLoadingKeys_ = {};\n\n    }\n\n    if ( TileSource$$1 ) UrlTile.__proto__ = TileSource$$1;\n    UrlTile.prototype = Object.create( TileSource$$1 && TileSource$$1.prototype );\n    UrlTile.prototype.constructor = UrlTile;\n\n    /**\n     * Return the tile load function of the source.\n     * @return {import(\"../Tile.js\").LoadFunction} TileLoadFunction\n     * @api\n     */\n    UrlTile.prototype.getTileLoadFunction = function getTileLoadFunction () {\n      return this.tileLoadFunction;\n    };\n\n    /**\n     * Return the tile URL function of the source.\n     * @return {import(\"../Tile.js\").UrlFunction} TileUrlFunction\n     * @api\n     */\n    UrlTile.prototype.getTileUrlFunction = function getTileUrlFunction () {\n      return this.tileUrlFunction;\n    };\n\n    /**\n     * Return the URLs used for this source.\n     * When a tileUrlFunction is used instead of url or urls,\n     * null will be returned.\n     * @return {!Array<string>|null} URLs.\n     * @api\n     */\n    UrlTile.prototype.getUrls = function getUrls () {\n      return this.urls;\n    };\n\n    /**\n     * Handle tile change events.\n     * @param {import(\"../events/Event.js\").default} event Event.\n     * @protected\n     */\n    UrlTile.prototype.handleTileChange = function handleTileChange (event) {\n      var tile = /** @type {import(\"../Tile.js\").default} */ (event.target);\n      var uid = getUid(tile);\n      var tileState = tile.getState();\n      var type;\n      if (tileState == TileState.LOADING) {\n        this.tileLoadingKeys_[uid] = true;\n        type = TileEventType.TILELOADSTART;\n      } else if (uid in this.tileLoadingKeys_) {\n        delete this.tileLoadingKeys_[uid];\n        type = tileState == TileState.ERROR ? TileEventType.TILELOADERROR :\n          (tileState == TileState.LOADED || tileState == TileState.ABORT) ?\n            TileEventType.TILELOADEND : undefined;\n      }\n      if (type != undefined) {\n        this.dispatchEvent(new TileSourceEvent(type, tile));\n      }\n    };\n\n    /**\n     * Set the tile load function of the source.\n     * @param {import(\"../Tile.js\").LoadFunction} tileLoadFunction Tile load function.\n     * @api\n     */\n    UrlTile.prototype.setTileLoadFunction = function setTileLoadFunction (tileLoadFunction) {\n      this.tileCache.clear();\n      this.tileLoadFunction = tileLoadFunction;\n      this.changed();\n    };\n\n    /**\n     * Set the tile URL function of the source.\n     * @param {import(\"../Tile.js\").UrlFunction} tileUrlFunction Tile URL function.\n     * @param {string=} key Optional new tile key for the source.\n     * @api\n     */\n    UrlTile.prototype.setTileUrlFunction = function setTileUrlFunction (tileUrlFunction, key) {\n      this.tileUrlFunction = tileUrlFunction;\n      this.tileCache.pruneExceptNewestZ();\n      if (typeof key !== 'undefined') {\n        this.setKey(key);\n      } else {\n        this.changed();\n      }\n    };\n\n    /**\n     * Set the URL to use for requests.\n     * @param {string} url URL.\n     * @api\n     */\n    UrlTile.prototype.setUrl = function setUrl (url) {\n      var urls = this.urls = expandUrl(url);\n      this.setUrls(urls);\n    };\n\n    /**\n     * Set the URLs to use for requests.\n     * @param {Array<string>} urls URLs.\n     * @api\n     */\n    UrlTile.prototype.setUrls = function setUrls (urls) {\n      this.urls = urls;\n      var key = urls.join('\\n');\n      if (this.generateTileUrlFunction_) {\n        this.setTileUrlFunction(createFromTemplates(urls, this.tileGrid), key);\n      } else {\n        this.setKey(key);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    UrlTile.prototype.useTile = function useTile (z, x, y) {\n      var tileCoordKey = getKeyZXY(z, x, y);\n      if (this.tileCache.containsKey(tileCoordKey)) {\n        this.tileCache.get(tileCoordKey);\n      }\n    };\n\n    return UrlTile;\n  }(TileSource));\n\n  /**\n   * @module ol/source/TileImage\n   */\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n   * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n   * @property {number} [cacheSize=2048] Cache size.\n   * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\n   * you must provide a `crossOrigin` value if you are using the WebGL renderer or if you want to\n   * access pixel data with the Canvas renderer.  See\n   * https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n   * @property {boolean} [opaque=true] Whether the layer is opaque.\n   * @property {import(\"../proj.js\").ProjectionLike} projection Projection.\n   * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n   * Higher values can increase reprojection performance, but decrease precision.\n   * @property {import(\"./State.js\").default} [state] Source state.\n   * @property {typeof import(\"../ImageTile.js\").default} [tileClass] Class used to instantiate image tiles.\n   * Default is {@link module:ol/ImageTile~ImageTile}.\n   * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid.\n   * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\n   * ```js\n   * function(imageTile, src) {\n   *   imageTile.getImage().src = src;\n   * };\n   * ```\n   * @property {number} [tilePixelRatio=1] The pixel ratio used by the tile service. For example, if the tile\n   * service advertizes 256px by 256px tiles but actually sends 512px\n   * by 512px images (for retina/hidpi devices) then `tilePixelRatio`\n   * should be set to `2`.\n   * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction] Optional function to get tile URL given a tile coordinate and the projection.\n   * @property {string} [url] URL template. Must include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\n   * A `{?-?}` template pattern, for example `subdomain{a-f}.domain.com`, may be\n   * used instead of defining each one separately in the `urls` option.\n   * @property {Array<string>} [urls] An array of URL templates.\n   * @property {boolean} [wrapX] Whether to wrap the world horizontally. The default, is to\n   * request out-of-bounds tiles from the server. When set to `false`, only one\n   * world will be rendered. When set to `true`, tiles will be requested for one\n   * world only, but they will be wrapped horizontally to render multiple worlds.\n   * @property {number} [transition] Duration of the opacity transition for rendering.\n   * To disable the opacity transition, pass `transition: 0`.\n   * @property {string} [key] Optional tile key for proper cache fetching\n   */\n\n\n  /**\n   * @classdesc\n   * Base class for sources providing images divided into a tile grid.\n   *\n   * @fires import(\"./Tile.js\").TileSourceEvent\n   * @api\n   */\n  var TileImage = /*@__PURE__*/(function (UrlTile$$1) {\n    function TileImage(options) {\n\n      UrlTile$$1.call(this, {\n        attributions: options.attributions,\n        cacheSize: options.cacheSize,\n        opaque: options.opaque,\n        projection: options.projection,\n        state: options.state,\n        tileGrid: options.tileGrid,\n        tileLoadFunction: options.tileLoadFunction ?\n          options.tileLoadFunction : defaultTileLoadFunction,\n        tilePixelRatio: options.tilePixelRatio,\n        tileUrlFunction: options.tileUrlFunction,\n        url: options.url,\n        urls: options.urls,\n        wrapX: options.wrapX,\n        transition: options.transition,\n        key: options.key,\n        attributionsCollapsible: options.attributionsCollapsible\n      });\n\n      /**\n       * @protected\n       * @type {?string}\n       */\n      this.crossOrigin =\n          options.crossOrigin !== undefined ? options.crossOrigin : null;\n\n      /**\n       * @protected\n       * @type {typeof ImageTile}\n       */\n      this.tileClass = options.tileClass !== undefined ?\n        options.tileClass : ImageTile;\n\n      /**\n       * @protected\n       * @type {!Object<string, TileCache>}\n       */\n      this.tileCacheForProjection = {};\n\n      /**\n       * @protected\n       * @type {!Object<string, import(\"../tilegrid/TileGrid.js\").default>}\n       */\n      this.tileGridForProjection = {};\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.reprojectionErrorThreshold_ = options.reprojectionErrorThreshold;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.renderReprojectionEdges_ = false;\n    }\n\n    if ( UrlTile$$1 ) TileImage.__proto__ = UrlTile$$1;\n    TileImage.prototype = Object.create( UrlTile$$1 && UrlTile$$1.prototype );\n    TileImage.prototype.constructor = TileImage;\n\n    /**\n     * @inheritDoc\n     */\n    TileImage.prototype.canExpireCache = function canExpireCache () {\n      if (this.tileCache.canExpireCache()) {\n        return true;\n      } else {\n        for (var key in this.tileCacheForProjection) {\n          if (this.tileCacheForProjection[key].canExpireCache()) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    TileImage.prototype.expireCache = function expireCache (projection, usedTiles) {\n      var usedTileCache = this.getTileCacheForProjection(projection);\n\n      this.tileCache.expireCache(this.tileCache == usedTileCache ? usedTiles : {});\n      for (var id in this.tileCacheForProjection) {\n        var tileCache = this.tileCacheForProjection[id];\n        tileCache.expireCache(tileCache == usedTileCache ? usedTiles : {});\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    TileImage.prototype.getGutterForProjection = function getGutterForProjection (projection) {\n      if (this.getProjection() && projection && !equivalent(this.getProjection(), projection)) {\n        return 0;\n      } else {\n        return this.getGutter();\n      }\n    };\n\n    /**\n     * @return {number} Gutter.\n     */\n    TileImage.prototype.getGutter = function getGutter () {\n      return 0;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    TileImage.prototype.getOpaque = function getOpaque (projection) {\n      if (this.getProjection() && projection && !equivalent(this.getProjection(), projection)) {\n        return false;\n      } else {\n        return UrlTile$$1.prototype.getOpaque.call(this, projection);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    TileImage.prototype.getTileGridForProjection = function getTileGridForProjection$1 (projection) {\n      var thisProj = this.getProjection();\n      if (this.tileGrid && (!thisProj || equivalent(thisProj, projection))) {\n        return this.tileGrid;\n      } else {\n        var projKey = getUid(projection);\n        if (!(projKey in this.tileGridForProjection)) {\n          this.tileGridForProjection[projKey] = getForProjection(projection);\n        }\n        return (\n          /** @type {!import(\"../tilegrid/TileGrid.js\").default} */ (this.tileGridForProjection[projKey])\n        );\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    TileImage.prototype.getTileCacheForProjection = function getTileCacheForProjection (projection) {\n      var thisProj = this.getProjection(); if (!thisProj || equivalent(thisProj, projection)) {\n        return this.tileCache;\n      } else {\n        var projKey = getUid(projection);\n        if (!(projKey in this.tileCacheForProjection)) {\n          this.tileCacheForProjection[projKey] = new TileCache(this.tileCache.highWaterMark);\n        }\n        return this.tileCacheForProjection[projKey];\n      }\n    };\n\n    /**\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {string} key The key set on the tile.\n     * @return {!import(\"../Tile.js\").default} Tile.\n     * @private\n     */\n    TileImage.prototype.createTile_ = function createTile_ (z, x, y, pixelRatio, projection, key) {\n      var tileCoord = [z, x, y];\n      var urlTileCoord = this.getTileCoordForTileUrlFunction(\n        tileCoord, projection);\n      var tileUrl = urlTileCoord ?\n        this.tileUrlFunction(urlTileCoord, pixelRatio, projection) : undefined;\n      var tile = new this.tileClass(\n        tileCoord,\n        tileUrl !== undefined ? TileState.IDLE : TileState.EMPTY,\n        tileUrl !== undefined ? tileUrl : '',\n        this.crossOrigin,\n        this.tileLoadFunction,\n        this.tileOptions);\n      tile.key = key;\n      listen(tile, EventType.CHANGE,\n        this.handleTileChange, this);\n      return tile;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    TileImage.prototype.getTile = function getTile (z, x, y, pixelRatio, projection) {\n      var sourceProjection = /** @type {!import(\"../proj/Projection.js\").default} */ (this.getProjection());\n      if (!sourceProjection || !projection || equivalent(sourceProjection, projection)) {\n        return this.getTileInternal(z, x, y, pixelRatio, sourceProjection || projection);\n      } else {\n        var cache = this.getTileCacheForProjection(projection);\n        var tileCoord = [z, x, y];\n        var tile;\n        var tileCoordKey = getKey$1(tileCoord);\n        if (cache.containsKey(tileCoordKey)) {\n          tile = /** @type {!import(\"../Tile.js\").default} */ (cache.get(tileCoordKey));\n        }\n        var key = this.getKey();\n        if (tile && tile.key == key) {\n          return tile;\n        } else {\n          var sourceTileGrid = this.getTileGridForProjection(sourceProjection);\n          var targetTileGrid = this.getTileGridForProjection(projection);\n          var wrappedTileCoord =\n              this.getTileCoordForTileUrlFunction(tileCoord, projection);\n          var newTile = new ReprojTile(\n            sourceProjection, sourceTileGrid,\n            projection, targetTileGrid,\n            tileCoord, wrappedTileCoord, this.getTilePixelRatio(pixelRatio),\n            this.getGutter(),\n            function(z, x, y, pixelRatio) {\n              return this.getTileInternal(z, x, y, pixelRatio, sourceProjection);\n            }.bind(this), this.reprojectionErrorThreshold_,\n            this.renderReprojectionEdges_);\n          newTile.key = key;\n\n          if (tile) {\n            newTile.interimTile = tile;\n            newTile.refreshInterimChain();\n            cache.replace(tileCoordKey, newTile);\n          } else {\n            cache.set(tileCoordKey, newTile);\n          }\n          return newTile;\n        }\n      }\n    };\n\n    /**\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {!import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!import(\"../Tile.js\").default} Tile.\n     * @protected\n     */\n    TileImage.prototype.getTileInternal = function getTileInternal (z, x, y, pixelRatio, projection) {\n      var tile = null;\n      var tileCoordKey = getKeyZXY(z, x, y);\n      var key = this.getKey();\n      if (!this.tileCache.containsKey(tileCoordKey)) {\n        tile = this.createTile_(z, x, y, pixelRatio, projection, key);\n        this.tileCache.set(tileCoordKey, tile);\n      } else {\n        tile = this.tileCache.get(tileCoordKey);\n        if (tile.key != key) {\n          // The source's params changed. If the tile has an interim tile and if we\n          // can use it then we use it. Otherwise we create a new tile.  In both\n          // cases we attempt to assign an interim tile to the new tile.\n          var interimTile = tile;\n          tile = this.createTile_(z, x, y, pixelRatio, projection, key);\n\n          //make the new tile the head of the list,\n          if (interimTile.getState() == TileState.IDLE) {\n            //the old tile hasn't begun loading yet, and is now outdated, so we can simply discard it\n            tile.interimTile = interimTile.interimTile;\n          } else {\n            tile.interimTile = interimTile;\n          }\n          tile.refreshInterimChain();\n          this.tileCache.replace(tileCoordKey, tile);\n        }\n      }\n      return tile;\n    };\n\n    /**\n     * Sets whether to render reprojection edges or not (usually for debugging).\n     * @param {boolean} render Render the edges.\n     * @api\n     */\n    TileImage.prototype.setRenderReprojectionEdges = function setRenderReprojectionEdges (render) {\n      if (this.renderReprojectionEdges_ == render) {\n        return;\n      }\n      this.renderReprojectionEdges_ = render;\n      for (var id in this.tileCacheForProjection) {\n        this.tileCacheForProjection[id].clear();\n      }\n      this.changed();\n    };\n\n    /**\n     * Sets the tile grid to use when reprojecting the tiles to the given\n     * projection instead of the default tile grid for the projection.\n     *\n     * This can be useful when the default tile grid cannot be created\n     * (e.g. projection has no extent defined) or\n     * for optimization reasons (custom tile size, resolutions, ...).\n     *\n     * @param {import(\"../proj.js\").ProjectionLike} projection Projection.\n     * @param {import(\"../tilegrid/TileGrid.js\").default} tilegrid Tile grid to use for the projection.\n     * @api\n     */\n    TileImage.prototype.setTileGridForProjection = function setTileGridForProjection (projection, tilegrid) {\n      {\n        var proj = get$2(projection);\n        if (proj) {\n          var projKey = getUid(proj);\n          if (!(projKey in this.tileGridForProjection)) {\n            this.tileGridForProjection[projKey] = tilegrid;\n          }\n        }\n      }\n    };\n\n    return TileImage;\n  }(UrlTile));\n\n\n  /**\n   * @param {ImageTile} imageTile Image tile.\n   * @param {string} src Source.\n   */\n  function defaultTileLoadFunction(imageTile, src) {\n    /** @type {HTMLImageElement|HTMLVideoElement} */ (imageTile.getImage()).src = src;\n  }\n\n  /**\n   * @module ol/source/XYZ\n   */\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n   * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n   * @property {number} [cacheSize=2048] Cache size.\n   * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\n   * you must provide a `crossOrigin` value if you are using the WebGL renderer or if you want to\n   * access pixel data with the Canvas renderer.  See\n   * https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n   * @property {boolean} [opaque=true] Whether the layer is opaque.\n   * @property {import(\"../proj.js\").ProjectionLike} [projection='EPSG:3857'] Projection.\n   * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n   * Higher values can increase reprojection performance, but decrease precision.\n   * @property {number} [maxZoom=18] Optional max zoom level.\n   * @property {number} [minZoom=0] Optional min zoom level.\n   * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid.\n   * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\n   * ```js\n   * function(imageTile, src) {\n   *   imageTile.getImage().src = src;\n   * };\n   * ```\n   * @property {number} [tilePixelRatio=1] The pixel ratio used by the tile service.\n   * For example, if the tile service advertizes 256px by 256px tiles but actually sends 512px\n   * by 512px images (for retina/hidpi devices) then `tilePixelRatio`\n   * should be set to `2`.\n   * @property {number|import(\"../size.js\").Size} [tileSize=[256, 256]] The tile size used by the tile service.\n   * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction] Optional function to get\n   * tile URL given a tile coordinate and the projection.\n   * Required if url or urls are not provided.\n   * @property {string} [url] URL template. Must include `{x}`, `{y}` or `{-y}`,\n   * and `{z}` placeholders. A `{?-?}` template pattern, for example `subdomain{a-f}.domain.com`,\n   * may be used instead of defining each one separately in the `urls` option.\n   * @property {Array<string>} [urls] An array of URL templates.\n   * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\n   * @property {number} [transition] Duration of the opacity transition for rendering.\n   * To disable the opacity transition, pass `transition: 0`.\n   */\n\n\n  /**\n   * @classdesc\n   * Layer source for tile data with URLs in a set XYZ format that are\n   * defined in a URL template. By default, this follows the widely-used\n   * Google grid where `x` 0 and `y` 0 are in the top left. Grids like\n   * TMS where `x` 0 and `y` 0 are in the bottom left can be used by\n   * using the `{-y}` placeholder in the URL template, so long as the\n   * source does not have a custom tile grid. In this case,\n   * {@link module:ol/source/TileImage} can be used with a `tileUrlFunction`\n   * such as:\n   *\n   *  tileUrlFunction: function(coordinate) {\n   *    return 'http://mapserver.com/' + coordinate[0] + '/' +\n   *        coordinate[1] + '/' + coordinate[2] + '.png';\n   *    }\n   *\n   * @api\n   */\n  var XYZ = /*@__PURE__*/(function (TileImage$$1) {\n    function XYZ(opt_options) {\n      var options = opt_options || {};\n      var projection = options.projection !== undefined ?\n        options.projection : 'EPSG:3857';\n\n      var tileGrid = options.tileGrid !== undefined ? options.tileGrid :\n        createXYZ({\n          extent: extentFromProjection(projection),\n          maxZoom: options.maxZoom,\n          minZoom: options.minZoom,\n          tileSize: options.tileSize\n        });\n\n      TileImage$$1.call(this, {\n        attributions: options.attributions,\n        cacheSize: options.cacheSize,\n        crossOrigin: options.crossOrigin,\n        opaque: options.opaque,\n        projection: projection,\n        reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n        tileGrid: tileGrid,\n        tileLoadFunction: options.tileLoadFunction,\n        tilePixelRatio: options.tilePixelRatio,\n        tileUrlFunction: options.tileUrlFunction,\n        url: options.url,\n        urls: options.urls,\n        wrapX: options.wrapX !== undefined ? options.wrapX : true,\n        transition: options.transition,\n        attributionsCollapsible: options.attributionsCollapsible\n      });\n\n    }\n\n    if ( TileImage$$1 ) XYZ.__proto__ = TileImage$$1;\n    XYZ.prototype = Object.create( TileImage$$1 && TileImage$$1.prototype );\n    XYZ.prototype.constructor = XYZ;\n\n    return XYZ;\n  }(TileImage));\n\n  /**\n   * Trigger a CustomEvent\n   *\n   * @param {EventTarget} el The element or EventTarget to trigger the event upon\n   * @param {String} type The event type name\n   * @param {Object|null} payload=null The event data to be sent\n   * @returns {Boolean} The return value is false if at least one event listener called preventDefault(). Otherwise it returns true.\n   */\n  let publish = (el, type, payload = null) => {\n    let event;\n\n    const detail = {\n      payload,\n      time: new Date()\n    };\n\n    // This check is needed to polyfill CustomEvent on IE11-\n    if (typeof window.CustomEvent === 'function') {\n      event = new CustomEvent(type, {\n        detail,\n        bubbles: true,\n        cancelable: true\n      });\n    } else {\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent(type, true, true, detail);\n    }\n\n    return el.dispatchEvent(event);\n  };\n\n  /**\n   *  Enumerates the events for dicom microscopy viewer. Events are captured,\n   *  normalized, and re-triggered with a `dicom-microscopy-viewer` prefix. This allows\n   *  us to handle events consistently across different browsers.\n   *\n   *  @enum {String}\n   *  @memberof dicom-microscopy-viewer\n   *  @readonly\n   */\n  const PROJECT_NAME = 'dicommicroscopyviewer';\n\n  const EVENTS = {\n      ROI_ADDED: `${PROJECT_NAME}_roi_added`,\n      ROI_REMOVED: `${PROJECT_NAME}_roi_removed`,\n      ROI_DRAWN: `${PROJECT_NAME}_roi_drawn`,\n      ROI_SELECTED: `${PROJECT_NAME}_roi_selected`,\n      ROI_MODIFIED: `${PROJECT_NAME}_roi_modified`,\n      MOVE_STARTED: `${PROJECT_NAME}_move_started`,\n      MOVE_ENDED: `${PROJECT_NAME}_move_ended`,\n    };\n\n  const tagToKeyword = {\n    '00000000': 'CommandGroupLength',\n    '00000001': 'CommandLengthToEnd',\n    '00000002': 'AffectedSOPClassUID',\n    '00000003': 'RequestedSOPClassUID',\n    '00000010': 'CommandRecognitionCode',\n    '00000100': 'CommandField',\n    '00000110': 'MessageID',\n    '00000120': 'MessageIDBeingRespondedTo',\n    '00000200': 'Initiator',\n    '00000300': 'Receiver',\n    '00000400': 'FindLocation',\n    '00000600': 'MoveDestination',\n    '00000700': 'Priority',\n    '00000800': 'CommandDataSetType',\n    '00000850': 'NumberOfMatches',\n    '00000860': 'ResponseSequenceNumber',\n    '00000900': 'Status',\n    '00000901': 'OffendingElement',\n    '00000902': 'ErrorComment',\n    '00000903': 'ErrorID',\n    '00001000': 'AffectedSOPInstanceUID',\n    '00001001': 'RequestedSOPInstanceUID',\n    '00001002': 'EventTypeID',\n    '00001005': 'AttributeIdentifierList',\n    '00001008': 'ActionTypeID',\n    '00001020': 'NumberOfRemainingSuboperations',\n    '00001021': 'NumberOfCompletedSuboperations',\n    '00001022': 'NumberOfFailedSuboperations',\n    '00001023': 'NumberOfWarningSuboperations',\n    '00001030': 'MoveOriginatorApplicationEntityTitle',\n    '00001031': 'MoveOriginatorMessageID',\n    '00004000': 'DialogReceiver',\n    '00004010': 'TerminalType',\n    '00005010': 'MessageSetID',\n    '00005020': 'EndMessageID',\n    '00005110': 'DisplayFormat',\n    '00005120': 'PagePositionID',\n    '00005130': 'TextFormatID',\n    '00005140': 'NormalReverse',\n    '00005150': 'AddGrayScale',\n    '00005160': 'Borders',\n    '00005170': 'Copies',\n    '00005180': 'CommandMagnificationType',\n    '00005190': 'Erase',\n    '000051A0': 'Print',\n    '000051B0': 'Overlays',\n    '00020000': 'FileMetaInformationGroupLength',\n    '00020001': 'FileMetaInformationVersion',\n    '00020002': 'MediaStorageSOPClassUID',\n    '00020003': 'MediaStorageSOPInstanceUID',\n    '00020010': 'TransferSyntaxUID',\n    '00020012': 'ImplementationClassUID',\n    '00020013': 'ImplementationVersionName',\n    '00020016': 'SourceApplicationEntityTitle',\n    '00020017': 'SendingApplicationEntityTitle',\n    '00020018': 'ReceivingApplicationEntityTitle',\n    '00020100': 'PrivateInformationCreatorUID',\n    '00020102': 'PrivateInformation',\n    '00041130': 'FileSetID',\n    '00041141': 'FileSetDescriptorFileID',\n    '00041142': 'SpecificCharacterSetOfFileSetDescriptorFile',\n    '00041200': 'OffsetOfTheFirstDirectoryRecordOfTheRootDirectoryEntity',\n    '00041202': 'OffsetOfTheLastDirectoryRecordOfTheRootDirectoryEntity',\n    '00041212': 'FileSetConsistencyFlag',\n    '00041220': 'DirectoryRecordSequence',\n    '00041400': 'OffsetOfTheNextDirectoryRecord',\n    '00041410': 'RecordInUseFlag',\n    '00041420': 'OffsetOfReferencedLowerLevelDirectoryEntity',\n    '00041430': 'DirectoryRecordType',\n    '00041432': 'PrivateRecordUID',\n    '00041500': 'ReferencedFileID',\n    '00041504': 'MRDRDirectoryRecordOffset',\n    '00041510': 'ReferencedSOPClassUIDInFile',\n    '00041511': 'ReferencedSOPInstanceUIDInFile',\n    '00041512': 'ReferencedTransferSyntaxUIDInFile',\n    '0004151A': 'ReferencedRelatedGeneralSOPClassUIDInFile',\n    '00041600': 'NumberOfReferences',\n    '00080001': 'LengthToEnd',\n    '00080005': 'SpecificCharacterSet',\n    '00080006': 'LanguageCodeSequence',\n    '00080008': 'ImageType',\n    '00080010': 'RecognitionCode',\n    '00080012': 'InstanceCreationDate',\n    '00080013': 'InstanceCreationTime',\n    '00080014': 'InstanceCreatorUID',\n    '00080015': 'InstanceCoercionDateTime',\n    '00080016': 'SOPClassUID',\n    '00080018': 'SOPInstanceUID',\n    '0008001A': 'RelatedGeneralSOPClassUID',\n    '0008001B': 'OriginalSpecializedSOPClassUID',\n    '00080020': 'StudyDate',\n    '00080021': 'SeriesDate',\n    '00080022': 'AcquisitionDate',\n    '00080023': 'ContentDate',\n    '00080024': 'OverlayDate',\n    '00080025': 'CurveDate',\n    '0008002A': 'AcquisitionDateTime',\n    '00080030': 'StudyTime',\n    '00080031': 'SeriesTime',\n    '00080032': 'AcquisitionTime',\n    '00080033': 'ContentTime',\n    '00080034': 'OverlayTime',\n    '00080035': 'CurveTime',\n    '00080040': 'DataSetType',\n    '00080041': 'DataSetSubtype',\n    '00080042': 'NuclearMedicineSeriesType',\n    '00080050': 'AccessionNumber',\n    '00080051': 'IssuerOfAccessionNumberSequence',\n    '00080052': 'QueryRetrieveLevel',\n    '00080053': 'QueryRetrieveView',\n    '00080054': 'RetrieveAETitle',\n    '00080055': 'StationAETitle',\n    '00080056': 'InstanceAvailability',\n    '00080058': 'FailedSOPInstanceUIDList',\n    '00080060': 'Modality',\n    '00080061': 'ModalitiesInStudy',\n    '00080062': 'SOPClassesInStudy',\n    '00080063': 'AnatomicRegionsInStudyCodeSequence',\n    '00080064': 'ConversionType',\n    '00080068': 'PresentationIntentType',\n    '00080070': 'Manufacturer',\n    '00080080': 'InstitutionName',\n    '00080081': 'InstitutionAddress',\n    '00080082': 'InstitutionCodeSequence',\n    '00080090': 'ReferringPhysicianName',\n    '00080092': 'ReferringPhysicianAddress',\n    '00080094': 'ReferringPhysicianTelephoneNumbers',\n    '00080096': 'ReferringPhysicianIdentificationSequence',\n    '0008009C': 'ConsultingPhysicianName',\n    '0008009D': 'ConsultingPhysicianIdentificationSequence',\n    '00080100': 'CodeValue',\n    '00080101': 'ExtendedCodeValue',\n    '00080102': 'CodingSchemeDesignator',\n    '00080103': 'CodingSchemeVersion',\n    '00080104': 'CodeMeaning',\n    '00080105': 'MappingResource',\n    '00080106': 'ContextGroupVersion',\n    '00080107': 'ContextGroupLocalVersion',\n    '00080108': 'ExtendedCodeMeaning',\n    '00080109': 'CodingSchemeResourcesSequence',\n    '0008010A': 'CodingSchemeURLType',\n    '0008010B': 'ContextGroupExtensionFlag',\n    '0008010C': 'CodingSchemeUID',\n    '0008010D': 'ContextGroupExtensionCreatorUID',\n    '0008010E': 'CodingSchemeURL',\n    '0008010F': 'ContextIdentifier',\n    '00080110': 'CodingSchemeIdentificationSequence',\n    '00080112': 'CodingSchemeRegistry',\n    '00080114': 'CodingSchemeExternalID',\n    '00080115': 'CodingSchemeName',\n    '00080116': 'CodingSchemeResponsibleOrganization',\n    '00080117': 'ContextUID',\n    '00080118': 'MappingResourceUID',\n    '00080119': 'LongCodeValue',\n    '00080120': 'URNCodeValue',\n    '00080121': 'EquivalentCodeSequence',\n    '00080122': 'MappingResourceName',\n    '00080123': 'ContextGroupIdentificationSequence',\n    '00080124': 'MappingResourceIdentificationSequence',\n    '00080201': 'TimezoneOffsetFromUTC',\n    '00080220': 'ResponsibleGroupCodeSequence',\n    '00080221': 'EquipmentModality',\n    '00080222': 'ManufacturerRelatedModelGroup',\n    '00080300': 'PrivateDataElementCharacteristicsSequence',\n    '00080301': 'PrivateGroupReference',\n    '00080302': 'PrivateCreatorReference',\n    '00080303': 'BlockIdentifyingInformationStatus',\n    '00080304': 'NonidentifyingPrivateElements',\n    '00080305': 'DeidentificationActionSequence',\n    '00080306': 'IdentifyingPrivateElements',\n    '00080307': 'DeidentificationAction',\n    '00080308': 'PrivateDataElement',\n    '00080309': 'PrivateDataElementValueMultiplicity',\n    '0008030A': 'PrivateDataElementValueRepresentation',\n    '0008030B': 'PrivateDataElementNumberOfItems',\n    '0008030C': 'PrivateDataElementName',\n    '0008030D': 'PrivateDataElementKeyword',\n    '0008030E': 'PrivateDataElementDescription',\n    '0008030F': 'PrivateDataElementEncoding',\n    '00080310': 'PrivateDataElementDefinitionSequence',\n    '00081000': 'NetworkID',\n    '00081010': 'StationName',\n    '00081030': 'StudyDescription',\n    '00081032': 'ProcedureCodeSequence',\n    '0008103E': 'SeriesDescription',\n    '0008103F': 'SeriesDescriptionCodeSequence',\n    '00081040': 'InstitutionalDepartmentName',\n    '00081048': 'PhysiciansOfRecord',\n    '00081049': 'PhysiciansOfRecordIdentificationSequence',\n    '00081050': 'PerformingPhysicianName',\n    '00081052': 'PerformingPhysicianIdentificationSequence',\n    '00081060': 'NameOfPhysiciansReadingStudy',\n    '00081062': 'PhysiciansReadingStudyIdentificationSequence',\n    '00081070': 'OperatorsName',\n    '00081072': 'OperatorIdentificationSequence',\n    '00081080': 'AdmittingDiagnosesDescription',\n    '00081084': 'AdmittingDiagnosesCodeSequence',\n    '00081090': 'ManufacturerModelName',\n    '00081100': 'ReferencedResultsSequence',\n    '00081110': 'ReferencedStudySequence',\n    '00081111': 'ReferencedPerformedProcedureStepSequence',\n    '00081115': 'ReferencedSeriesSequence',\n    '00081120': 'ReferencedPatientSequence',\n    '00081125': 'ReferencedVisitSequence',\n    '00081130': 'ReferencedOverlaySequence',\n    '00081134': 'ReferencedStereometricInstanceSequence',\n    '0008113A': 'ReferencedWaveformSequence',\n    '00081140': 'ReferencedImageSequence',\n    '00081145': 'ReferencedCurveSequence',\n    '0008114A': 'ReferencedInstanceSequence',\n    '0008114B': 'ReferencedRealWorldValueMappingInstanceSequence',\n    '00081150': 'ReferencedSOPClassUID',\n    '00081155': 'ReferencedSOPInstanceUID',\n    '00081156': 'DefinitionSourceSequence',\n    '0008115A': 'SOPClassesSupported',\n    '00081160': 'ReferencedFrameNumber',\n    '00081161': 'SimpleFrameList',\n    '00081162': 'CalculatedFrameList',\n    '00081163': 'TimeRange',\n    '00081164': 'FrameExtractionSequence',\n    '00081167': 'MultiFrameSourceSOPInstanceUID',\n    '00081190': 'RetrieveURL',\n    '00081195': 'TransactionUID',\n    '00081196': 'WarningReason',\n    '00081197': 'FailureReason',\n    '00081198': 'FailedSOPSequence',\n    '00081199': 'ReferencedSOPSequence',\n    '0008119A': 'OtherFailuresSequence',\n    '00081200': 'StudiesContainingOtherReferencedInstancesSequence',\n    '00081250': 'RelatedSeriesSequence',\n    '00082110': 'LossyImageCompressionRetired',\n    '00082111': 'DerivationDescription',\n    '00082112': 'SourceImageSequence',\n    '00082120': 'StageName',\n    '00082122': 'StageNumber',\n    '00082124': 'NumberOfStages',\n    '00082127': 'ViewName',\n    '00082128': 'ViewNumber',\n    '00082129': 'NumberOfEventTimers',\n    '0008212A': 'NumberOfViewsInStage',\n    '00082130': 'EventElapsedTimes',\n    '00082132': 'EventTimerNames',\n    '00082133': 'EventTimerSequence',\n    '00082134': 'EventTimeOffset',\n    '00082135': 'EventCodeSequence',\n    '00082142': 'StartTrim',\n    '00082143': 'StopTrim',\n    '00082144': 'RecommendedDisplayFrameRate',\n    '00082200': 'TransducerPosition',\n    '00082204': 'TransducerOrientation',\n    '00082208': 'AnatomicStructure',\n    '00082218': 'AnatomicRegionSequence',\n    '00082220': 'AnatomicRegionModifierSequence',\n    '00082228': 'PrimaryAnatomicStructureSequence',\n    '00082229': 'AnatomicStructureSpaceOrRegionSequence',\n    '00082230': 'PrimaryAnatomicStructureModifierSequence',\n    '00082240': 'TransducerPositionSequence',\n    '00082242': 'TransducerPositionModifierSequence',\n    '00082244': 'TransducerOrientationSequence',\n    '00082246': 'TransducerOrientationModifierSequence',\n    '00082251': 'AnatomicStructureSpaceOrRegionCodeSequenceTrial',\n    '00082253': 'AnatomicPortalOfEntranceCodeSequenceTrial',\n    '00082255': 'AnatomicApproachDirectionCodeSequenceTrial',\n    '00082256': 'AnatomicPerspectiveDescriptionTrial',\n    '00082257': 'AnatomicPerspectiveCodeSequenceTrial',\n    '00082258': 'AnatomicLocationOfExaminingInstrumentDescriptionTrial',\n    '00082259': 'AnatomicLocationOfExaminingInstrumentCodeSequenceTrial',\n    '0008225A': 'AnatomicStructureSpaceOrRegionModifierCodeSequenceTrial',\n    '0008225C': 'OnAxisBackgroundAnatomicStructureCodeSequenceTrial',\n    '00083001': 'AlternateRepresentationSequence',\n    '00083010': 'IrradiationEventUID',\n    '00083011': 'SourceIrradiationEventSequence',\n    '00083012': 'RadiopharmaceuticalAdministrationEventUID',\n    '00084000': 'IdentifyingComments',\n    '00089007': 'FrameType',\n    '00089092': 'ReferencedImageEvidenceSequence',\n    '00089121': 'ReferencedRawDataSequence',\n    '00089123': 'CreatorVersionUID',\n    '00089124': 'DerivationImageSequence',\n    '00089154': 'SourceImageEvidenceSequence',\n    '00089205': 'PixelPresentation',\n    '00089206': 'VolumetricProperties',\n    '00089207': 'VolumeBasedCalculationTechnique',\n    '00089208': 'ComplexImageComponent',\n    '00089209': 'AcquisitionContrast',\n    '00089215': 'DerivationCodeSequence',\n    '00089237': 'ReferencedPresentationStateSequence',\n    '00089410': 'ReferencedOtherPlaneSequence',\n    '00089458': 'FrameDisplaySequence',\n    '00089459': 'RecommendedDisplayFrameRateInFloat',\n    '00089460': 'SkipFrameRangeFlag',\n    '00100010': 'PatientName',\n    '00100020': 'PatientID',\n    '00100021': 'IssuerOfPatientID',\n    '00100022': 'TypeOfPatientID',\n    '00100024': 'IssuerOfPatientIDQualifiersSequence',\n    '00100026': 'SourcePatientGroupIdentificationSequence',\n    '00100027': 'GroupOfPatientsIdentificationSequence',\n    '00100028': 'SubjectRelativePositionInImage',\n    '00100030': 'PatientBirthDate',\n    '00100032': 'PatientBirthTime',\n    '00100033': 'PatientBirthDateInAlternativeCalendar',\n    '00100034': 'PatientDeathDateInAlternativeCalendar',\n    '00100035': 'PatientAlternativeCalendar',\n    '00100040': 'PatientSex',\n    '00100050': 'PatientInsurancePlanCodeSequence',\n    '00100101': 'PatientPrimaryLanguageCodeSequence',\n    '00100102': 'PatientPrimaryLanguageModifierCodeSequence',\n    '00100200': 'QualityControlSubject',\n    '00100201': 'QualityControlSubjectTypeCodeSequence',\n    '00100212': 'StrainDescription',\n    '00100213': 'StrainNomenclature',\n    '00100214': 'StrainStockNumber',\n    '00100215': 'StrainSourceRegistryCodeSequence',\n    '00100216': 'StrainStockSequence',\n    '00100217': 'StrainSource',\n    '00100218': 'StrainAdditionalInformation',\n    '00100219': 'StrainCodeSequence',\n    '00100221': 'GeneticModificationsSequence',\n    '00100222': 'GeneticModificationsDescription',\n    '00100223': 'GeneticModificationsNomenclature',\n    '00100229': 'GeneticModificationsCodeSequence',\n    '00101000': 'OtherPatientIDs',\n    '00101001': 'OtherPatientNames',\n    '00101002': 'OtherPatientIDsSequence',\n    '00101005': 'PatientBirthName',\n    '00101010': 'PatientAge',\n    '00101020': 'PatientSize',\n    '00101021': 'PatientSizeCodeSequence',\n    '00101022': 'PatientBodyMassIndex',\n    '00101023': 'MeasuredAPDimension',\n    '00101024': 'MeasuredLateralDimension',\n    '00101030': 'PatientWeight',\n    '00101040': 'PatientAddress',\n    '00101050': 'InsurancePlanIdentification',\n    '00101060': 'PatientMotherBirthName',\n    '00101080': 'MilitaryRank',\n    '00101081': 'BranchOfService',\n    '00101090': 'MedicalRecordLocator',\n    '00101100': 'ReferencedPatientPhotoSequence',\n    '00102000': 'MedicalAlerts',\n    '00102110': 'Allergies',\n    '00102150': 'CountryOfResidence',\n    '00102152': 'RegionOfResidence',\n    '00102154': 'PatientTelephoneNumbers',\n    '00102155': 'PatientTelecomInformation',\n    '00102160': 'EthnicGroup',\n    '00102180': 'Occupation',\n    '001021A0': 'SmokingStatus',\n    '001021B0': 'AdditionalPatientHistory',\n    '001021C0': 'PregnancyStatus',\n    '001021D0': 'LastMenstrualDate',\n    '001021F0': 'PatientReligiousPreference',\n    '00102201': 'PatientSpeciesDescription',\n    '00102202': 'PatientSpeciesCodeSequence',\n    '00102203': 'PatientSexNeutered',\n    '00102210': 'AnatomicalOrientationType',\n    '00102292': 'PatientBreedDescription',\n    '00102293': 'PatientBreedCodeSequence',\n    '00102294': 'BreedRegistrationSequence',\n    '00102295': 'BreedRegistrationNumber',\n    '00102296': 'BreedRegistryCodeSequence',\n    '00102297': 'ResponsiblePerson',\n    '00102298': 'ResponsiblePersonRole',\n    '00102299': 'ResponsibleOrganization',\n    '00104000': 'PatientComments',\n    '00109431': 'ExaminedBodyThickness',\n    '00120010': 'ClinicalTrialSponsorName',\n    '00120020': 'ClinicalTrialProtocolID',\n    '00120021': 'ClinicalTrialProtocolName',\n    '00120030': 'ClinicalTrialSiteID',\n    '00120031': 'ClinicalTrialSiteName',\n    '00120040': 'ClinicalTrialSubjectID',\n    '00120042': 'ClinicalTrialSubjectReadingID',\n    '00120050': 'ClinicalTrialTimePointID',\n    '00120051': 'ClinicalTrialTimePointDescription',\n    '00120052': 'LongitudinalTemporalOffsetFromEvent',\n    '00120053': 'LongitudinalTemporalEventType',\n    '00120060': 'ClinicalTrialCoordinatingCenterName',\n    '00120062': 'PatientIdentityRemoved',\n    '00120063': 'DeidentificationMethod',\n    '00120064': 'DeidentificationMethodCodeSequence',\n    '00120071': 'ClinicalTrialSeriesID',\n    '00120072': 'ClinicalTrialSeriesDescription',\n    '00120081': 'ClinicalTrialProtocolEthicsCommitteeName',\n    '00120082': 'ClinicalTrialProtocolEthicsCommitteeApprovalNumber',\n    '00120083': 'ConsentForClinicalTrialUseSequence',\n    '00120084': 'DistributionType',\n    '00120085': 'ConsentForDistributionFlag',\n    '00120086': 'EthicsCommitteeApprovalEffectivenessStartDate',\n    '00120087': 'EthicsCommitteeApprovalEffectivenessEndDate',\n    '00140023': 'CADFileFormat',\n    '00140024': 'ComponentReferenceSystem',\n    '00140025': 'ComponentManufacturingProcedure',\n    '00140028': 'ComponentManufacturer',\n    '00140030': 'MaterialThickness',\n    '00140032': 'MaterialPipeDiameter',\n    '00140034': 'MaterialIsolationDiameter',\n    '00140042': 'MaterialGrade',\n    '00140044': 'MaterialPropertiesDescription',\n    '00140045': 'MaterialPropertiesFileFormatRetired',\n    '00140046': 'MaterialNotes',\n    '00140050': 'ComponentShape',\n    '00140052': 'CurvatureType',\n    '00140054': 'OuterDiameter',\n    '00140056': 'InnerDiameter',\n    '00140100': 'ComponentWelderIDs',\n    '00140101': 'SecondaryApprovalStatus',\n    '00140102': 'SecondaryReviewDate',\n    '00140103': 'SecondaryReviewTime',\n    '00140104': 'SecondaryReviewerName',\n    '00140105': 'RepairID',\n    '00140106': 'MultipleComponentApprovalSequence',\n    '00140107': 'OtherApprovalStatus',\n    '00140108': 'OtherSecondaryApprovalStatus',\n    '00141010': 'ActualEnvironmentalConditions',\n    '00141020': 'ExpiryDate',\n    '00141040': 'EnvironmentalConditions',\n    '00142002': 'EvaluatorSequence',\n    '00142004': 'EvaluatorNumber',\n    '00142006': 'EvaluatorName',\n    '00142008': 'EvaluationAttempt',\n    '00142012': 'IndicationSequence',\n    '00142014': 'IndicationNumber',\n    '00142016': 'IndicationLabel',\n    '00142018': 'IndicationDescription',\n    '0014201A': 'IndicationType',\n    '0014201C': 'IndicationDisposition',\n    '0014201E': 'IndicationROISequence',\n    '00142030': 'IndicationPhysicalPropertySequence',\n    '00142032': 'PropertyLabel',\n    '00142202': 'CoordinateSystemNumberOfAxes',\n    '00142204': 'CoordinateSystemAxesSequence',\n    '00142206': 'CoordinateSystemAxisDescription',\n    '00142208': 'CoordinateSystemDataSetMapping',\n    '0014220A': 'CoordinateSystemAxisNumber',\n    '0014220C': 'CoordinateSystemAxisType',\n    '0014220E': 'CoordinateSystemAxisUnits',\n    '00142210': 'CoordinateSystemAxisValues',\n    '00142220': 'CoordinateSystemTransformSequence',\n    '00142222': 'TransformDescription',\n    '00142224': 'TransformNumberOfAxes',\n    '00142226': 'TransformOrderOfAxes',\n    '00142228': 'TransformedAxisUnits',\n    '0014222A': 'CoordinateSystemTransformRotationAndScaleMatrix',\n    '0014222C': 'CoordinateSystemTransformTranslationMatrix',\n    '00143011': 'InternalDetectorFrameTime',\n    '00143012': 'NumberOfFramesIntegrated',\n    '00143020': 'DetectorTemperatureSequence',\n    '00143022': 'SensorName',\n    '00143024': 'HorizontalOffsetOfSensor',\n    '00143026': 'VerticalOffsetOfSensor',\n    '00143028': 'SensorTemperature',\n    '00143040': 'DarkCurrentSequence',\n    '00143050': 'DarkCurrentCounts',\n    '00143060': 'GainCorrectionReferenceSequence',\n    '00143070': 'AirCounts',\n    '00143071': 'KVUsedInGainCalibration',\n    '00143072': 'MAUsedInGainCalibration',\n    '00143073': 'NumberOfFramesUsedForIntegration',\n    '00143074': 'FilterMaterialUsedInGainCalibration',\n    '00143075': 'FilterThicknessUsedInGainCalibration',\n    '00143076': 'DateOfGainCalibration',\n    '00143077': 'TimeOfGainCalibration',\n    '00143080': 'BadPixelImage',\n    '00143099': 'CalibrationNotes',\n    '00144002': 'PulserEquipmentSequence',\n    '00144004': 'PulserType',\n    '00144006': 'PulserNotes',\n    '00144008': 'ReceiverEquipmentSequence',\n    '0014400A': 'AmplifierType',\n    '0014400C': 'ReceiverNotes',\n    '0014400E': 'PreAmplifierEquipmentSequence',\n    '0014400F': 'PreAmplifierNotes',\n    '00144010': 'TransmitTransducerSequence',\n    '00144011': 'ReceiveTransducerSequence',\n    '00144012': 'NumberOfElements',\n    '00144013': 'ElementShape',\n    '00144014': 'ElementDimensionA',\n    '00144015': 'ElementDimensionB',\n    '00144016': 'ElementPitchA',\n    '00144017': 'MeasuredBeamDimensionA',\n    '00144018': 'MeasuredBeamDimensionB',\n    '00144019': 'LocationOfMeasuredBeamDiameter',\n    '0014401A': 'NominalFrequency',\n    '0014401B': 'MeasuredCenterFrequency',\n    '0014401C': 'MeasuredBandwidth',\n    '0014401D': 'ElementPitchB',\n    '00144020': 'PulserSettingsSequence',\n    '00144022': 'PulseWidth',\n    '00144024': 'ExcitationFrequency',\n    '00144026': 'ModulationType',\n    '00144028': 'Damping',\n    '00144030': 'ReceiverSettingsSequence',\n    '00144031': 'AcquiredSoundpathLength',\n    '00144032': 'AcquisitionCompressionType',\n    '00144033': 'AcquisitionSampleSize',\n    '00144034': 'RectifierSmoothing',\n    '00144035': 'DACSequence',\n    '00144036': 'DACType',\n    '00144038': 'DACGainPoints',\n    '0014403A': 'DACTimePoints',\n    '0014403C': 'DACAmplitude',\n    '00144040': 'PreAmplifierSettingsSequence',\n    '00144050': 'TransmitTransducerSettingsSequence',\n    '00144051': 'ReceiveTransducerSettingsSequence',\n    '00144052': 'IncidentAngle',\n    '00144054': 'CouplingTechnique',\n    '00144056': 'CouplingMedium',\n    '00144057': 'CouplingVelocity',\n    '00144058': 'ProbeCenterLocationX',\n    '00144059': 'ProbeCenterLocationZ',\n    '0014405A': 'SoundPathLength',\n    '0014405C': 'DelayLawIdentifier',\n    '00144060': 'GateSettingsSequence',\n    '00144062': 'GateThreshold',\n    '00144064': 'VelocityOfSound',\n    '00144070': 'CalibrationSettingsSequence',\n    '00144072': 'CalibrationProcedure',\n    '00144074': 'ProcedureVersion',\n    '00144076': 'ProcedureCreationDate',\n    '00144078': 'ProcedureExpirationDate',\n    '0014407A': 'ProcedureLastModifiedDate',\n    '0014407C': 'CalibrationTime',\n    '0014407E': 'CalibrationDate',\n    '00144080': 'ProbeDriveEquipmentSequence',\n    '00144081': 'DriveType',\n    '00144082': 'ProbeDriveNotes',\n    '00144083': 'DriveProbeSequence',\n    '00144084': 'ProbeInductance',\n    '00144085': 'ProbeResistance',\n    '00144086': 'ReceiveProbeSequence',\n    '00144087': 'ProbeDriveSettingsSequence',\n    '00144088': 'BridgeResistors',\n    '00144089': 'ProbeOrientationAngle',\n    '0014408B': 'UserSelectedGainY',\n    '0014408C': 'UserSelectedPhase',\n    '0014408D': 'UserSelectedOffsetX',\n    '0014408E': 'UserSelectedOffsetY',\n    '00144091': 'ChannelSettingsSequence',\n    '00144092': 'ChannelThreshold',\n    '0014409A': 'ScannerSettingsSequence',\n    '0014409B': 'ScanProcedure',\n    '0014409C': 'TranslationRateX',\n    '0014409D': 'TranslationRateY',\n    '0014409F': 'ChannelOverlap',\n    '001440A0': 'ImageQualityIndicatorType',\n    '001440A1': 'ImageQualityIndicatorMaterial',\n    '001440A2': 'ImageQualityIndicatorSize',\n    '00145002': 'LINACEnergy',\n    '00145004': 'LINACOutput',\n    '00145100': 'ActiveAperture',\n    '00145101': 'TotalAperture',\n    '00145102': 'ApertureElevation',\n    '00145103': 'MainLobeAngle',\n    '00145104': 'MainRoofAngle',\n    '00145105': 'ConnectorType',\n    '00145106': 'WedgeModelNumber',\n    '00145107': 'WedgeAngleFloat',\n    '00145108': 'WedgeRoofAngle',\n    '00145109': ('WedgeElement1Position'),\n    '0014510A': 'WedgeMaterialVelocity',\n    '0014510B': 'WedgeMaterial',\n    '0014510C': 'WedgeOffsetZ',\n    '0014510D': 'WedgeOriginOffsetX',\n    '0014510E': 'WedgeTimeDelay',\n    '0014510F': 'WedgeName',\n    '00145110': 'WedgeManufacturerName',\n    '00145111': 'WedgeDescription',\n    '00145112': 'NominalBeamAngle',\n    '00145113': 'WedgeOffsetX',\n    '00145114': 'WedgeOffsetY',\n    '00145115': 'WedgeTotalLength',\n    '00145116': 'WedgeInContactLength',\n    '00145117': 'WedgeFrontGap',\n    '00145118': 'WedgeTotalHeight',\n    '00145119': 'WedgeFrontHeight',\n    '0014511A': 'WedgeRearHeight',\n    '0014511B': 'WedgeTotalWidth',\n    '0014511C': 'WedgeInContactWidth',\n    '0014511D': 'WedgeChamferHeight',\n    '0014511E': 'WedgeCurve',\n    '0014511F': 'RadiusAlongWedge',\n    '00180010': 'ContrastBolusAgent',\n    '00180012': 'ContrastBolusAgentSequence',\n    '00180013': ('ContrastBolusT1Relaxivity'),\n    '00180014': 'ContrastBolusAdministrationRouteSequence',\n    '00180015': 'BodyPartExamined',\n    '00180020': 'ScanningSequence',\n    '00180021': 'SequenceVariant',\n    '00180022': 'ScanOptions',\n    '00180023': 'MRAcquisitionType',\n    '00180024': 'SequenceName',\n    '00180025': 'AngioFlag',\n    '00180026': 'InterventionDrugInformationSequence',\n    '00180027': 'InterventionDrugStopTime',\n    '00180028': 'InterventionDrugDose',\n    '00180029': 'InterventionDrugCodeSequence',\n    '0018002A': 'AdditionalDrugSequence',\n    '00180030': 'Radionuclide',\n    '00180031': 'Radiopharmaceutical',\n    '00180032': 'EnergyWindowCenterline',\n    '00180033': 'EnergyWindowTotalWidth',\n    '00180034': 'InterventionDrugName',\n    '00180035': 'InterventionDrugStartTime',\n    '00180036': 'InterventionSequence',\n    '00180037': 'TherapyType',\n    '00180038': 'InterventionStatus',\n    '00180039': 'TherapyDescription',\n    '0018003A': 'InterventionDescription',\n    '00180040': 'CineRate',\n    '00180042': 'InitialCineRunState',\n    '00180050': 'SliceThickness',\n    '00180060': 'KVP',\n    '00180061': '',\n    '00180070': 'CountsAccumulated',\n    '00180071': 'AcquisitionTerminationCondition',\n    '00180072': 'EffectiveDuration',\n    '00180073': 'AcquisitionStartCondition',\n    '00180074': 'AcquisitionStartConditionData',\n    '00180075': 'AcquisitionTerminationConditionData',\n    '00180080': 'RepetitionTime',\n    '00180081': 'EchoTime',\n    '00180082': 'InversionTime',\n    '00180083': 'NumberOfAverages',\n    '00180084': 'ImagingFrequency',\n    '00180085': 'ImagedNucleus',\n    '00180086': 'EchoNumbers',\n    '00180087': 'MagneticFieldStrength',\n    '00180088': 'SpacingBetweenSlices',\n    '00180089': 'NumberOfPhaseEncodingSteps',\n    '00180090': 'DataCollectionDiameter',\n    '00180091': 'EchoTrainLength',\n    '00180093': 'PercentSampling',\n    '00180094': 'PercentPhaseFieldOfView',\n    '00180095': 'PixelBandwidth',\n    '00181000': 'DeviceSerialNumber',\n    '00181002': 'DeviceUID',\n    '00181003': 'DeviceID',\n    '00181004': 'PlateID',\n    '00181005': 'GeneratorID',\n    '00181006': 'GridID',\n    '00181007': 'CassetteID',\n    '00181008': 'GantryID',\n    '00181009': 'UniqueDeviceIdentifier',\n    '0018100A': 'UDISequence',\n    '00181010': 'SecondaryCaptureDeviceID',\n    '00181011': 'HardcopyCreationDeviceID',\n    '00181012': 'DateOfSecondaryCapture',\n    '00181014': 'TimeOfSecondaryCapture',\n    '00181016': 'SecondaryCaptureDeviceManufacturer',\n    '00181017': 'HardcopyDeviceManufacturer',\n    '00181018': 'SecondaryCaptureDeviceManufacturerModelName',\n    '00181019': 'SecondaryCaptureDeviceSoftwareVersions',\n    '0018101A': 'HardcopyDeviceSoftwareVersion',\n    '0018101B': 'HardcopyDeviceManufacturerModelName',\n    '00181020': 'SoftwareVersions',\n    '00181022': 'VideoImageFormatAcquired',\n    '00181023': 'DigitalImageFormatAcquired',\n    '00181030': 'ProtocolName',\n    '00181040': 'ContrastBolusRoute',\n    '00181041': 'ContrastBolusVolume',\n    '00181042': 'ContrastBolusStartTime',\n    '00181043': 'ContrastBolusStopTime',\n    '00181044': 'ContrastBolusTotalDose',\n    '00181045': 'SyringeCounts',\n    '00181046': 'ContrastFlowRate',\n    '00181047': 'ContrastFlowDuration',\n    '00181048': 'ContrastBolusIngredient',\n    '00181049': 'ContrastBolusIngredientConcentration',\n    '00181050': 'SpatialResolution',\n    '00181060': 'TriggerTime',\n    '00181061': 'TriggerSourceOrType',\n    '00181062': 'NominalInterval',\n    '00181063': 'FrameTime',\n    '00181064': 'CardiacFramingType',\n    '00181065': 'FrameTimeVector',\n    '00181066': 'FrameDelay',\n    '00181067': 'ImageTriggerDelay',\n    '00181068': 'MultiplexGroupTimeOffset',\n    '00181069': 'TriggerTimeOffset',\n    '0018106A': 'SynchronizationTrigger',\n    '0018106C': 'SynchronizationChannel',\n    '0018106E': 'TriggerSamplePosition',\n    '00181070': 'RadiopharmaceuticalRoute',\n    '00181071': 'RadiopharmaceuticalVolume',\n    '00181072': 'RadiopharmaceuticalStartTime',\n    '00181073': 'RadiopharmaceuticalStopTime',\n    '00181074': 'RadionuclideTotalDose',\n    '00181075': 'RadionuclideHalfLife',\n    '00181076': 'RadionuclidePositronFraction',\n    '00181077': 'RadiopharmaceuticalSpecificActivity',\n    '00181078': 'RadiopharmaceuticalStartDateTime',\n    '00181079': 'RadiopharmaceuticalStopDateTime',\n    '00181080': 'BeatRejectionFlag',\n    '00181081': 'LowRRValue',\n    '00181082': 'HighRRValue',\n    '00181083': 'IntervalsAcquired',\n    '00181084': 'IntervalsRejected',\n    '00181085': 'PVCRejection',\n    '00181086': 'SkipBeats',\n    '00181088': 'HeartRate',\n    '00181090': 'CardiacNumberOfImages',\n    '00181094': 'TriggerWindow',\n    '00181100': 'ReconstructionDiameter',\n    '00181110': 'DistanceSourceToDetector',\n    '00181111': 'DistanceSourceToPatient',\n    '00181114': 'EstimatedRadiographicMagnificationFactor',\n    '00181120': 'GantryDetectorTilt',\n    '00181121': 'GantryDetectorSlew',\n    '00181130': 'TableHeight',\n    '00181131': 'TableTraverse',\n    '00181134': 'TableMotion',\n    '00181135': 'TableVerticalIncrement',\n    '00181136': 'TableLateralIncrement',\n    '00181137': 'TableLongitudinalIncrement',\n    '00181138': 'TableAngle',\n    '0018113A': 'TableType',\n    '00181140': 'RotationDirection',\n    '00181141': 'AngularPosition',\n    '00181142': 'RadialPosition',\n    '00181143': 'ScanArc',\n    '00181144': 'AngularStep',\n    '00181145': 'CenterOfRotationOffset',\n    '00181146': 'RotationOffset',\n    '00181147': 'FieldOfViewShape',\n    '00181149': 'FieldOfViewDimensions',\n    '00181150': 'ExposureTime',\n    '00181151': 'XRayTubeCurrent',\n    '00181152': 'Exposure',\n    '00181153': 'ExposureInuAs',\n    '00181154': 'AveragePulseWidth',\n    '00181155': 'RadiationSetting',\n    '00181156': 'RectificationType',\n    '0018115A': 'RadiationMode',\n    '0018115E': 'ImageAndFluoroscopyAreaDoseProduct',\n    '00181160': 'FilterType',\n    '00181161': 'TypeOfFilters',\n    '00181162': 'IntensifierSize',\n    '00181164': 'ImagerPixelSpacing',\n    '00181166': 'Grid',\n    '00181170': 'GeneratorPower',\n    '00181180': 'CollimatorGridName',\n    '00181181': 'CollimatorType',\n    '00181182': 'FocalDistance',\n    '00181183': 'XFocusCenter',\n    '00181184': 'YFocusCenter',\n    '00181190': 'FocalSpots',\n    '00181191': 'AnodeTargetMaterial',\n    '001811A0': 'BodyPartThickness',\n    '001811A2': 'CompressionForce',\n    '001811A3': 'CompressionPressure',\n    '001811A4': 'PaddleDescription',\n    '001811A5': 'CompressionContactArea',\n    '00181200': 'DateOfLastCalibration',\n    '00181201': 'TimeOfLastCalibration',\n    '00181202': 'DateTimeOfLastCalibration',\n    '00181210': 'ConvolutionKernel',\n    '00181240': 'UpperLowerPixelValues',\n    '00181242': 'ActualFrameDuration',\n    '00181243': 'CountRate',\n    '00181244': 'PreferredPlaybackSequencing',\n    '00181250': 'ReceiveCoilName',\n    '00181251': 'TransmitCoilName',\n    '00181260': 'PlateType',\n    '00181261': 'PhosphorType',\n    '00181271': 'WaterEquivalentDiameter',\n    '00181272': 'WaterEquivalentDiameterCalculationMethodCodeSequence',\n    '00181300': 'ScanVelocity',\n    '00181301': 'WholeBodyTechnique',\n    '00181302': 'ScanLength',\n    '00181310': 'AcquisitionMatrix',\n    '00181312': 'InPlanePhaseEncodingDirection',\n    '00181314': 'FlipAngle',\n    '00181315': 'VariableFlipAngleFlag',\n    '00181316': 'SAR',\n    '00181318': 'dBdt',\n    '00181320': ('B1rms'),\n    '00181400': 'AcquisitionDeviceProcessingDescription',\n    '00181401': 'AcquisitionDeviceProcessingCode',\n    '00181402': 'CassetteOrientation',\n    '00181403': 'CassetteSize',\n    '00181404': 'ExposuresOnPlate',\n    '00181405': 'RelativeXRayExposure',\n    '00181411': 'ExposureIndex',\n    '00181412': 'TargetExposureIndex',\n    '00181413': 'DeviationIndex',\n    '00181450': 'ColumnAngulation',\n    '00181460': 'TomoLayerHeight',\n    '00181470': 'TomoAngle',\n    '00181480': 'TomoTime',\n    '00181490': 'TomoType',\n    '00181491': 'TomoClass',\n    '00181495': 'NumberOfTomosynthesisSourceImages',\n    '00181500': 'PositionerMotion',\n    '00181508': 'PositionerType',\n    '00181510': 'PositionerPrimaryAngle',\n    '00181511': 'PositionerSecondaryAngle',\n    '00181520': 'PositionerPrimaryAngleIncrement',\n    '00181521': 'PositionerSecondaryAngleIncrement',\n    '00181530': 'DetectorPrimaryAngle',\n    '00181531': 'DetectorSecondaryAngle',\n    '00181600': 'ShutterShape',\n    '00181602': 'ShutterLeftVerticalEdge',\n    '00181604': 'ShutterRightVerticalEdge',\n    '00181606': 'ShutterUpperHorizontalEdge',\n    '00181608': 'ShutterLowerHorizontalEdge',\n    '00181610': 'CenterOfCircularShutter',\n    '00181612': 'RadiusOfCircularShutter',\n    '00181620': 'VerticesOfThePolygonalShutter',\n    '00181622': 'ShutterPresentationValue',\n    '00181623': 'ShutterOverlayGroup',\n    '00181624': 'ShutterPresentationColorCIELabValue',\n    '00181700': 'CollimatorShape',\n    '00181702': 'CollimatorLeftVerticalEdge',\n    '00181704': 'CollimatorRightVerticalEdge',\n    '00181706': 'CollimatorUpperHorizontalEdge',\n    '00181708': 'CollimatorLowerHorizontalEdge',\n    '00181710': 'CenterOfCircularCollimator',\n    '00181712': 'RadiusOfCircularCollimator',\n    '00181720': 'VerticesOfThePolygonalCollimator',\n    '00181800': 'AcquisitionTimeSynchronized',\n    '00181801': 'TimeSource',\n    '00181802': 'TimeDistributionProtocol',\n    '00181803': 'NTPSourceAddress',\n    '00182001': 'PageNumberVector',\n    '00182002': 'FrameLabelVector',\n    '00182003': 'FramePrimaryAngleVector',\n    '00182004': 'FrameSecondaryAngleVector',\n    '00182005': 'SliceLocationVector',\n    '00182006': 'DisplayWindowLabelVector',\n    '00182010': 'NominalScannedPixelSpacing',\n    '00182020': 'DigitizingDeviceTransportDirection',\n    '00182030': 'RotationOfScannedFilm',\n    '00182041': 'BiopsyTargetSequence',\n    '00182042': 'TargetUID',\n    '00182043': 'LocalizingCursorPosition',\n    '00182044': 'CalculatedTargetPosition',\n    '00182045': 'TargetLabel',\n    '00182046': 'DisplayedZValue',\n    '00183100': 'IVUSAcquisition',\n    '00183101': 'IVUSPullbackRate',\n    '00183102': 'IVUSGatedRate',\n    '00183103': 'IVUSPullbackStartFrameNumber',\n    '00183104': 'IVUSPullbackStopFrameNumber',\n    '00183105': 'LesionNumber',\n    '00184000': 'AcquisitionComments',\n    '00185000': 'OutputPower',\n    '00185010': 'TransducerData',\n    '00185012': 'FocusDepth',\n    '00185020': 'ProcessingFunction',\n    '00185021': 'PostprocessingFunction',\n    '00185022': 'MechanicalIndex',\n    '00185024': 'BoneThermalIndex',\n    '00185026': 'CranialThermalIndex',\n    '00185027': 'SoftTissueThermalIndex',\n    '00185028': 'SoftTissueFocusThermalIndex',\n    '00185029': 'SoftTissueSurfaceThermalIndex',\n    '00185030': 'DynamicRange',\n    '00185040': 'TotalGain',\n    '00185050': 'DepthOfScanField',\n    '00185100': 'PatientPosition',\n    '00185101': 'ViewPosition',\n    '00185104': 'ProjectionEponymousNameCodeSequence',\n    '00185210': 'ImageTransformationMatrix',\n    '00185212': 'ImageTranslationVector',\n    '00186000': 'Sensitivity',\n    '00186011': 'SequenceOfUltrasoundRegions',\n    '00186012': 'RegionSpatialFormat',\n    '00186014': 'RegionDataType',\n    '00186016': 'RegionFlags',\n    '00186018': ('RegionLocationMinX0'),\n    '0018601A': ('RegionLocationMinY0'),\n    '0018601C': ('RegionLocationMaxX1'),\n    '0018601E': ('RegionLocationMaxY1'),\n    '00186020': ('ReferencePixelX0'),\n    '00186022': ('ReferencePixelY0'),\n    '00186024': 'PhysicalUnitsXDirection',\n    '00186026': 'PhysicalUnitsYDirection',\n    '00186028': 'ReferencePixelPhysicalValueX',\n    '0018602A': 'ReferencePixelPhysicalValueY',\n    '0018602C': 'PhysicalDeltaX',\n    '0018602E': 'PhysicalDeltaY',\n    '00186030': 'TransducerFrequency',\n    '00186031': 'TransducerType',\n    '00186032': 'PulseRepetitionFrequency',\n    '00186034': 'DopplerCorrectionAngle',\n    '00186036': 'SteeringAngle',\n    '00186038': 'DopplerSampleVolumeXPositionRetired',\n    '00186039': 'DopplerSampleVolumeXPosition',\n    '0018603A': 'DopplerSampleVolumeYPositionRetired',\n    '0018603B': 'DopplerSampleVolumeYPosition',\n    '0018603C': ('TMLinePositionX0Retired'),\n    '0018603D': ('TMLinePositionX0'),\n    '0018603E': ('TMLinePositionY0Retired'),\n    '0018603F': ('TMLinePositionY0'),\n    '00186040': ('TMLinePositionX1Retired'),\n    '00186041': ('TMLinePositionX1'),\n    '00186042': ('TMLinePositionY1Retired'),\n    '00186043': ('TMLinePositionY1'),\n    '00186044': 'PixelComponentOrganization',\n    '00186046': 'PixelComponentMask',\n    '00186048': 'PixelComponentRangeStart',\n    '0018604A': 'PixelComponentRangeStop',\n    '0018604C': 'PixelComponentPhysicalUnits',\n    '0018604E': 'PixelComponentDataType',\n    '00186050': 'NumberOfTableBreakPoints',\n    '00186052': 'TableOfXBreakPoints',\n    '00186054': 'TableOfYBreakPoints',\n    '00186056': 'NumberOfTableEntries',\n    '00186058': 'TableOfPixelValues',\n    '0018605A': 'TableOfParameterValues',\n    '00186060': 'RWaveTimeVector',\n    '00187000': 'DetectorConditionsNominalFlag',\n    '00187001': 'DetectorTemperature',\n    '00187004': 'DetectorType',\n    '00187005': 'DetectorConfiguration',\n    '00187006': 'DetectorDescription',\n    '00187008': 'DetectorMode',\n    '0018700A': 'DetectorID',\n    '0018700C': 'DateOfLastDetectorCalibration',\n    '0018700E': 'TimeOfLastDetectorCalibration',\n    '00187010': 'ExposuresOnDetectorSinceLastCalibration',\n    '00187011': 'ExposuresOnDetectorSinceManufactured',\n    '00187012': 'DetectorTimeSinceLastExposure',\n    '00187014': 'DetectorActiveTime',\n    '00187016': 'DetectorActivationOffsetFromExposure',\n    '0018701A': 'DetectorBinning',\n    '00187020': 'DetectorElementPhysicalSize',\n    '00187022': 'DetectorElementSpacing',\n    '00187024': 'DetectorActiveShape',\n    '00187026': 'DetectorActiveDimensions',\n    '00187028': 'DetectorActiveOrigin',\n    '0018702A': 'DetectorManufacturerName',\n    '0018702B': 'DetectorManufacturerModelName',\n    '00187030': 'FieldOfViewOrigin',\n    '00187032': 'FieldOfViewRotation',\n    '00187034': 'FieldOfViewHorizontalFlip',\n    '00187036': 'PixelDataAreaOriginRelativeToFOV',\n    '00187038': 'PixelDataAreaRotationAngleRelativeToFOV',\n    '00187040': 'GridAbsorbingMaterial',\n    '00187041': 'GridSpacingMaterial',\n    '00187042': 'GridThickness',\n    '00187044': 'GridPitch',\n    '00187046': 'GridAspectRatio',\n    '00187048': 'GridPeriod',\n    '0018704C': 'GridFocalDistance',\n    '00187050': 'FilterMaterial',\n    '00187052': 'FilterThicknessMinimum',\n    '00187054': 'FilterThicknessMaximum',\n    '00187056': 'FilterBeamPathLengthMinimum',\n    '00187058': 'FilterBeamPathLengthMaximum',\n    '00187060': 'ExposureControlMode',\n    '00187062': 'ExposureControlModeDescription',\n    '00187064': 'ExposureStatus',\n    '00187065': 'PhototimerSetting',\n    '00188150': 'ExposureTimeInuS',\n    '00188151': 'XRayTubeCurrentInuA',\n    '00189004': 'ContentQualification',\n    '00189005': 'PulseSequenceName',\n    '00189006': 'MRImagingModifierSequence',\n    '00189008': 'EchoPulseSequence',\n    '00189009': 'InversionRecovery',\n    '00189010': 'FlowCompensation',\n    '00189011': 'MultipleSpinEcho',\n    '00189012': 'MultiPlanarExcitation',\n    '00189014': 'PhaseContrast',\n    '00189015': 'TimeOfFlightContrast',\n    '00189016': 'Spoiling',\n    '00189017': 'SteadyStatePulseSequence',\n    '00189018': 'EchoPlanarPulseSequence',\n    '00189019': 'TagAngleFirstAxis',\n    '00189020': 'MagnetizationTransfer',\n    '00189021': ('T2Preparation'),\n    '00189022': 'BloodSignalNulling',\n    '00189024': 'SaturationRecovery',\n    '00189025': 'SpectrallySelectedSuppression',\n    '00189026': 'SpectrallySelectedExcitation',\n    '00189027': 'SpatialPresaturation',\n    '00189028': 'Tagging',\n    '00189029': 'OversamplingPhase',\n    '00189030': 'TagSpacingFirstDimension',\n    '00189032': 'GeometryOfKSpaceTraversal',\n    '00189033': 'SegmentedKSpaceTraversal',\n    '00189034': 'RectilinearPhaseEncodeReordering',\n    '00189035': 'TagThickness',\n    '00189036': 'PartialFourierDirection',\n    '00189037': 'CardiacSynchronizationTechnique',\n    '00189041': 'ReceiveCoilManufacturerName',\n    '00189042': 'MRReceiveCoilSequence',\n    '00189043': 'ReceiveCoilType',\n    '00189044': 'QuadratureReceiveCoil',\n    '00189045': 'MultiCoilDefinitionSequence',\n    '00189046': 'MultiCoilConfiguration',\n    '00189047': 'MultiCoilElementName',\n    '00189048': 'MultiCoilElementUsed',\n    '00189049': 'MRTransmitCoilSequence',\n    '00189050': 'TransmitCoilManufacturerName',\n    '00189051': 'TransmitCoilType',\n    '00189052': 'SpectralWidth',\n    '00189053': 'ChemicalShiftReference',\n    '00189054': 'VolumeLocalizationTechnique',\n    '00189058': 'MRAcquisitionFrequencyEncodingSteps',\n    '00189059': 'Decoupling',\n    '00189060': 'DecoupledNucleus',\n    '00189061': 'DecouplingFrequency',\n    '00189062': 'DecouplingMethod',\n    '00189063': 'DecouplingChemicalShiftReference',\n    '00189064': 'KSpaceFiltering',\n    '00189065': 'TimeDomainFiltering',\n    '00189066': 'NumberOfZeroFills',\n    '00189067': 'BaselineCorrection',\n    '00189069': 'ParallelReductionFactorInPlane',\n    '00189070': 'CardiacRRIntervalSpecified',\n    '00189073': 'AcquisitionDuration',\n    '00189074': 'FrameAcquisitionDateTime',\n    '00189075': 'DiffusionDirectionality',\n    '00189076': 'DiffusionGradientDirectionSequence',\n    '00189077': 'ParallelAcquisition',\n    '00189078': 'ParallelAcquisitionTechnique',\n    '00189079': 'InversionTimes',\n    '00189080': 'MetaboliteMapDescription',\n    '00189081': 'PartialFourier',\n    '00189082': 'EffectiveEchoTime',\n    '00189083': 'MetaboliteMapCodeSequence',\n    '00189084': 'ChemicalShiftSequence',\n    '00189085': 'CardiacSignalSource',\n    '00189087': 'DiffusionBValue',\n    '00189089': 'DiffusionGradientOrientation',\n    '00189090': 'VelocityEncodingDirection',\n    '00189091': 'VelocityEncodingMinimumValue',\n    '00189092': 'VelocityEncodingAcquisitionSequence',\n    '00189093': 'NumberOfKSpaceTrajectories',\n    '00189094': 'CoverageOfKSpace',\n    '00189095': 'SpectroscopyAcquisitionPhaseRows',\n    '00189096': 'ParallelReductionFactorInPlaneRetired',\n    '00189098': 'TransmitterFrequency',\n    '00189100': 'ResonantNucleus',\n    '00189101': 'FrequencyCorrection',\n    '00189103': 'MRSpectroscopyFOVGeometrySequence',\n    '00189104': 'SlabThickness',\n    '00189105': 'SlabOrientation',\n    '00189106': 'MidSlabPosition',\n    '00189107': 'MRSpatialSaturationSequence',\n    '00189112': 'MRTimingAndRelatedParametersSequence',\n    '00189114': 'MREchoSequence',\n    '00189115': 'MRModifierSequence',\n    '00189117': 'MRDiffusionSequence',\n    '00189118': 'CardiacSynchronizationSequence',\n    '00189119': 'MRAveragesSequence',\n    '00189125': 'MRFOVGeometrySequence',\n    '00189126': 'VolumeLocalizationSequence',\n    '00189127': 'SpectroscopyAcquisitionDataColumns',\n    '00189147': 'DiffusionAnisotropyType',\n    '00189151': 'FrameReferenceDateTime',\n    '00189152': 'MRMetaboliteMapSequence',\n    '00189155': 'ParallelReductionFactorOutOfPlane',\n    '00189159': 'SpectroscopyAcquisitionOutOfPlanePhaseSteps',\n    '00189166': 'BulkMotionStatus',\n    '00189168': 'ParallelReductionFactorSecondInPlane',\n    '00189169': 'CardiacBeatRejectionTechnique',\n    '00189170': 'RespiratoryMotionCompensationTechnique',\n    '00189171': 'RespiratorySignalSource',\n    '00189172': 'BulkMotionCompensationTechnique',\n    '00189173': 'BulkMotionSignalSource',\n    '00189174': 'ApplicableSafetyStandardAgency',\n    '00189175': 'ApplicableSafetyStandardDescription',\n    '00189176': 'OperatingModeSequence',\n    '00189177': 'OperatingModeType',\n    '00189178': 'OperatingMode',\n    '00189179': 'SpecificAbsorptionRateDefinition',\n    '00189180': 'GradientOutputType',\n    '00189181': 'SpecificAbsorptionRateValue',\n    '00189182': 'GradientOutput',\n    '00189183': 'FlowCompensationDirection',\n    '00189184': 'TaggingDelay',\n    '00189185': 'RespiratoryMotionCompensationTechniqueDescription',\n    '00189186': 'RespiratorySignalSourceID',\n    '00189195': 'ChemicalShiftMinimumIntegrationLimitInHz',\n    '00189196': 'ChemicalShiftMaximumIntegrationLimitInHz',\n    '00189197': 'MRVelocityEncodingSequence',\n    '00189198': 'FirstOrderPhaseCorrection',\n    '00189199': 'WaterReferencedPhaseCorrection',\n    '00189200': 'MRSpectroscopyAcquisitionType',\n    '00189214': 'RespiratoryCyclePosition',\n    '00189217': 'VelocityEncodingMaximumValue',\n    '00189218': 'TagSpacingSecondDimension',\n    '00189219': 'TagAngleSecondAxis',\n    '00189220': 'FrameAcquisitionDuration',\n    '00189226': 'MRImageFrameTypeSequence',\n    '00189227': 'MRSpectroscopyFrameTypeSequence',\n    '00189231': 'MRAcquisitionPhaseEncodingStepsInPlane',\n    '00189232': 'MRAcquisitionPhaseEncodingStepsOutOfPlane',\n    '00189234': 'SpectroscopyAcquisitionPhaseColumns',\n    '00189236': 'CardiacCyclePosition',\n    '00189239': 'SpecificAbsorptionRateSequence',\n    '00189240': 'RFEchoTrainLength',\n    '00189241': 'GradientEchoTrainLength',\n    '00189250': 'ArterialSpinLabelingContrast',\n    '00189251': 'MRArterialSpinLabelingSequence',\n    '00189252': 'ASLTechniqueDescription',\n    '00189253': 'ASLSlabNumber',\n    '00189254': 'ASLSlabThickness',\n    '00189255': 'ASLSlabOrientation',\n    '00189256': 'ASLMidSlabPosition',\n    '00189257': 'ASLContext',\n    '00189258': 'ASLPulseTrainDuration',\n    '00189259': 'ASLCrusherFlag',\n    '0018925A': 'ASLCrusherFlowLimit',\n    '0018925B': 'ASLCrusherDescription',\n    '0018925C': 'ASLBolusCutoffFlag',\n    '0018925D': 'ASLBolusCutoffTimingSequence',\n    '0018925E': 'ASLBolusCutoffTechnique',\n    '0018925F': 'ASLBolusCutoffDelayTime',\n    '00189260': 'ASLSlabSequence',\n    '00189295': 'ChemicalShiftMinimumIntegrationLimitInppm',\n    '00189296': 'ChemicalShiftMaximumIntegrationLimitInppm',\n    '00189297': 'WaterReferenceAcquisition',\n    '00189298': 'EchoPeakPosition',\n    '00189301': 'CTAcquisitionTypeSequence',\n    '00189302': 'AcquisitionType',\n    '00189303': 'TubeAngle',\n    '00189304': 'CTAcquisitionDetailsSequence',\n    '00189305': 'RevolutionTime',\n    '00189306': 'SingleCollimationWidth',\n    '00189307': 'TotalCollimationWidth',\n    '00189308': 'CTTableDynamicsSequence',\n    '00189309': 'TableSpeed',\n    '00189310': 'TableFeedPerRotation',\n    '00189311': 'SpiralPitchFactor',\n    '00189312': 'CTGeometrySequence',\n    '00189313': 'DataCollectionCenterPatient',\n    '00189314': 'CTReconstructionSequence',\n    '00189315': 'ReconstructionAlgorithm',\n    '00189316': 'ConvolutionKernelGroup',\n    '00189317': 'ReconstructionFieldOfView',\n    '00189318': 'ReconstructionTargetCenterPatient',\n    '00189319': 'ReconstructionAngle',\n    '00189320': 'ImageFilter',\n    '00189321': 'CTExposureSequence',\n    '00189322': 'ReconstructionPixelSpacing',\n    '00189323': 'ExposureModulationType',\n    '00189324': 'EstimatedDoseSaving',\n    '00189325': 'CTXRayDetailsSequence',\n    '00189326': 'CTPositionSequence',\n    '00189327': 'TablePosition',\n    '00189328': 'ExposureTimeInms',\n    '00189329': 'CTImageFrameTypeSequence',\n    '00189330': 'XRayTubeCurrentInmA',\n    '00189332': 'ExposureInmAs',\n    '00189333': 'ConstantVolumeFlag',\n    '00189334': 'FluoroscopyFlag',\n    '00189335': 'DistanceSourceToDataCollectionCenter',\n    '00189337': 'ContrastBolusAgentNumber',\n    '00189338': 'ContrastBolusIngredientCodeSequence',\n    '00189340': 'ContrastAdministrationProfileSequence',\n    '00189341': 'ContrastBolusUsageSequence',\n    '00189342': 'ContrastBolusAgentAdministered',\n    '00189343': 'ContrastBolusAgentDetected',\n    '00189344': 'ContrastBolusAgentPhase',\n    '00189345': 'CTDIvol',\n    '00189346': 'CTDIPhantomTypeCodeSequence',\n    '00189351': 'CalciumScoringMassFactorPatient',\n    '00189352': 'CalciumScoringMassFactorDevice',\n    '00189353': 'EnergyWeightingFactor',\n    '00189360': 'CTAdditionalXRaySourceSequence',\n    '00189401': 'ProjectionPixelCalibrationSequence',\n    '00189402': 'DistanceSourceToIsocenter',\n    '00189403': 'DistanceObjectToTableTop',\n    '00189404': 'ObjectPixelSpacingInCenterOfBeam',\n    '00189405': 'PositionerPositionSequence',\n    '00189406': 'TablePositionSequence',\n    '00189407': 'CollimatorShapeSequence',\n    '00189410': 'PlanesInAcquisition',\n    '00189412': 'XAXRFFrameCharacteristicsSequence',\n    '00189417': 'FrameAcquisitionSequence',\n    '00189420': 'XRayReceptorType',\n    '00189423': 'AcquisitionProtocolName',\n    '00189424': 'AcquisitionProtocolDescription',\n    '00189425': 'ContrastBolusIngredientOpaque',\n    '00189426': 'DistanceReceptorPlaneToDetectorHousing',\n    '00189427': 'IntensifierActiveShape',\n    '00189428': 'IntensifierActiveDimensions',\n    '00189429': 'PhysicalDetectorSize',\n    '00189430': 'PositionOfIsocenterProjection',\n    '00189432': 'FieldOfViewSequence',\n    '00189433': 'FieldOfViewDescription',\n    '00189434': 'ExposureControlSensingRegionsSequence',\n    '00189435': 'ExposureControlSensingRegionShape',\n    '00189436': 'ExposureControlSensingRegionLeftVerticalEdge',\n    '00189437': 'ExposureControlSensingRegionRightVerticalEdge',\n    '00189438': 'ExposureControlSensingRegionUpperHorizontalEdge',\n    '00189439': 'ExposureControlSensingRegionLowerHorizontalEdge',\n    '00189440': 'CenterOfCircularExposureControlSensingRegion',\n    '00189441': 'RadiusOfCircularExposureControlSensingRegion',\n    '00189442': 'VerticesOfThePolygonalExposureControlSensingRegion',\n    '00189445': '',\n    '00189447': 'ColumnAngulationPatient',\n    '00189449': 'BeamAngle',\n    '00189451': 'FrameDetectorParametersSequence',\n    '00189452': 'CalculatedAnatomyThickness',\n    '00189455': 'CalibrationSequence',\n    '00189456': 'ObjectThicknessSequence',\n    '00189457': 'PlaneIdentification',\n    '00189461': 'FieldOfViewDimensionsInFloat',\n    '00189462': 'IsocenterReferenceSystemSequence',\n    '00189463': 'PositionerIsocenterPrimaryAngle',\n    '00189464': 'PositionerIsocenterSecondaryAngle',\n    '00189465': 'PositionerIsocenterDetectorRotationAngle',\n    '00189466': 'TableXPositionToIsocenter',\n    '00189467': 'TableYPositionToIsocenter',\n    '00189468': 'TableZPositionToIsocenter',\n    '00189469': 'TableHorizontalRotationAngle',\n    '00189470': 'TableHeadTiltAngle',\n    '00189471': 'TableCradleTiltAngle',\n    '00189472': 'FrameDisplayShutterSequence',\n    '00189473': 'AcquiredImageAreaDoseProduct',\n    '00189474': 'CArmPositionerTabletopRelationship',\n    '00189476': 'XRayGeometrySequence',\n    '00189477': 'IrradiationEventIdentificationSequence',\n    '00189504': ('XRay3DFrameTypeSequence'),\n    '00189506': 'ContributingSourcesSequence',\n    '00189507': ('XRay3DAcquisitionSequence'),\n    '00189508': 'PrimaryPositionerScanArc',\n    '00189509': 'SecondaryPositionerScanArc',\n    '00189510': 'PrimaryPositionerScanStartAngle',\n    '00189511': 'SecondaryPositionerScanStartAngle',\n    '00189514': 'PrimaryPositionerIncrement',\n    '00189515': 'SecondaryPositionerIncrement',\n    '00189516': 'StartAcquisitionDateTime',\n    '00189517': 'EndAcquisitionDateTime',\n    '00189518': 'PrimaryPositionerIncrementSign',\n    '00189519': 'SecondaryPositionerIncrementSign',\n    '00189524': 'ApplicationName',\n    '00189525': 'ApplicationVersion',\n    '00189526': 'ApplicationManufacturer',\n    '00189527': 'AlgorithmType',\n    '00189528': 'AlgorithmDescription',\n    '00189530': ('XRay3DReconstructionSequence'),\n    '00189531': 'ReconstructionDescription',\n    '00189538': 'PerProjectionAcquisitionSequence',\n    '00189541': 'DetectorPositionSequence',\n    '00189542': 'XRayAcquisitionDoseSequence',\n    '00189543': 'XRaySourceIsocenterPrimaryAngle',\n    '00189544': 'XRaySourceIsocenterSecondaryAngle',\n    '00189545': 'BreastSupportIsocenterPrimaryAngle',\n    '00189546': 'BreastSupportIsocenterSecondaryAngle',\n    '00189547': 'BreastSupportXPositionToIsocenter',\n    '00189548': 'BreastSupportYPositionToIsocenter',\n    '00189549': 'BreastSupportZPositionToIsocenter',\n    '00189550': 'DetectorIsocenterPrimaryAngle',\n    '00189551': 'DetectorIsocenterSecondaryAngle',\n    '00189552': 'DetectorXPositionToIsocenter',\n    '00189553': 'DetectorYPositionToIsocenter',\n    '00189554': 'DetectorZPositionToIsocenter',\n    '00189555': 'XRayGridSequence',\n    '00189556': 'XRayFilterSequence',\n    '00189557': 'DetectorActiveAreaTLHCPosition',\n    '00189558': 'DetectorActiveAreaOrientation',\n    '00189559': 'PositionerPrimaryAngleDirection',\n    '00189601': 'DiffusionBMatrixSequence',\n    '00189602': 'DiffusionBValueXX',\n    '00189603': 'DiffusionBValueXY',\n    '00189604': 'DiffusionBValueXZ',\n    '00189605': 'DiffusionBValueYY',\n    '00189606': 'DiffusionBValueYZ',\n    '00189607': 'DiffusionBValueZZ',\n    '00189621': 'FunctionalMRSequence',\n    '00189622': 'FunctionalSettlingPhaseFramesPresent',\n    '00189623': 'FunctionalSyncPulse',\n    '00189624': 'SettlingPhaseFrame',\n    '00189701': 'DecayCorrectionDateTime',\n    '00189715': 'StartDensityThreshold',\n    '00189716': 'StartRelativeDensityDifferenceThreshold',\n    '00189717': 'StartCardiacTriggerCountThreshold',\n    '00189718': 'StartRespiratoryTriggerCountThreshold',\n    '00189719': 'TerminationCountsThreshold',\n    '00189720': 'TerminationDensityThreshold',\n    '00189721': 'TerminationRelativeDensityThreshold',\n    '00189722': 'TerminationTimeThreshold',\n    '00189723': 'TerminationCardiacTriggerCountThreshold',\n    '00189724': 'TerminationRespiratoryTriggerCountThreshold',\n    '00189725': 'DetectorGeometry',\n    '00189726': 'TransverseDetectorSeparation',\n    '00189727': 'AxialDetectorDimension',\n    '00189729': 'RadiopharmaceuticalAgentNumber',\n    '00189732': 'PETFrameAcquisitionSequence',\n    '00189733': 'PETDetectorMotionDetailsSequence',\n    '00189734': 'PETTableDynamicsSequence',\n    '00189735': 'PETPositionSequence',\n    '00189736': 'PETFrameCorrectionFactorsSequence',\n    '00189737': 'RadiopharmaceuticalUsageSequence',\n    '00189738': 'AttenuationCorrectionSource',\n    '00189739': 'NumberOfIterations',\n    '00189740': 'NumberOfSubsets',\n    '00189749': 'PETReconstructionSequence',\n    '00189751': 'PETFrameTypeSequence',\n    '00189755': 'TimeOfFlightInformationUsed',\n    '00189756': 'ReconstructionType',\n    '00189758': 'DecayCorrected',\n    '00189759': 'AttenuationCorrected',\n    '00189760': 'ScatterCorrected',\n    '00189761': 'DeadTimeCorrected',\n    '00189762': 'GantryMotionCorrected',\n    '00189763': 'PatientMotionCorrected',\n    '00189764': 'CountLossNormalizationCorrected',\n    '00189765': 'RandomsCorrected',\n    '00189766': 'NonUniformRadialSamplingCorrected',\n    '00189767': 'SensitivityCalibrated',\n    '00189768': 'DetectorNormalizationCorrection',\n    '00189769': 'IterativeReconstructionMethod',\n    '00189770': 'AttenuationCorrectionTemporalRelationship',\n    '00189771': 'PatientPhysiologicalStateSequence',\n    '00189772': 'PatientPhysiologicalStateCodeSequence',\n    '00189801': 'DepthsOfFocus',\n    '00189803': 'ExcludedIntervalsSequence',\n    '00189804': 'ExclusionStartDateTime',\n    '00189805': 'ExclusionDuration',\n    '00189806': 'USImageDescriptionSequence',\n    '00189807': 'ImageDataTypeSequence',\n    '00189808': 'DataType',\n    '00189809': 'TransducerScanPatternCodeSequence',\n    '0018980B': 'AliasedDataType',\n    '0018980C': 'PositionMeasuringDeviceUsed',\n    '0018980D': 'TransducerGeometryCodeSequence',\n    '0018980E': 'TransducerBeamSteeringCodeSequence',\n    '0018980F': 'TransducerApplicationCodeSequence',\n    '00189810': 'ZeroVelocityPixelValue',\n    '00189900': 'ReferenceLocationLabel',\n    '00189901': 'ReferenceLocationDescription',\n    '00189902': 'ReferenceBasisCodeSequence',\n    '00189903': 'ReferenceGeometryCodeSequence',\n    '00189904': 'OffsetDistance',\n    '00189905': 'OffsetDirection',\n    '00189906': 'PotentialScheduledProtocolCodeSequence',\n    '00189907': 'PotentialRequestedProcedureCodeSequence',\n    '00189908': 'PotentialReasonsForProcedure',\n    '00189909': 'PotentialReasonsForProcedureCodeSequence',\n    '0018990A': 'PotentialDiagnosticTasks',\n    '0018990B': 'ContraindicationsCodeSequence',\n    '0018990C': 'ReferencedDefinedProtocolSequence',\n    '0018990D': 'ReferencedPerformedProtocolSequence',\n    '0018990E': 'PredecessorProtocolSequence',\n    '0018990F': 'ProtocolPlanningInformation',\n    '00189910': 'ProtocolDesignRationale',\n    '00189911': 'PatientSpecificationSequence',\n    '00189912': 'ModelSpecificationSequence',\n    '00189913': 'ParametersSpecificationSequence',\n    '00189914': 'InstructionSequence',\n    '00189915': 'InstructionIndex',\n    '00189916': 'InstructionText',\n    '00189917': 'InstructionDescription',\n    '00189918': 'InstructionPerformedFlag',\n    '00189919': 'InstructionPerformedDateTime',\n    '0018991A': 'InstructionPerformanceComment',\n    '0018991B': 'PatientPositioningInstructionSequence',\n    '0018991C': 'PositioningMethodCodeSequence',\n    '0018991D': 'PositioningLandmarkSequence',\n    '0018991E': 'TargetFrameOfReferenceUID',\n    '0018991F': 'AcquisitionProtocolElementSpecificationSequence',\n    '00189920': 'AcquisitionProtocolElementSequence',\n    '00189921': 'ProtocolElementNumber',\n    '00189922': 'ProtocolElementName',\n    '00189923': 'ProtocolElementCharacteristicsSummary',\n    '00189924': 'ProtocolElementPurpose',\n    '00189930': 'AcquisitionMotion',\n    '00189931': 'AcquisitionStartLocationSequence',\n    '00189932': 'AcquisitionEndLocationSequence',\n    '00189933': 'ReconstructionProtocolElementSpecificationSequence',\n    '00189934': 'ReconstructionProtocolElementSequence',\n    '00189935': 'StorageProtocolElementSpecificationSequence',\n    '00189936': 'StorageProtocolElementSequence',\n    '00189937': 'RequestedSeriesDescription',\n    '00189938': 'SourceAcquisitionProtocolElementNumber',\n    '00189939': 'SourceAcquisitionBeamNumber',\n    '0018993A': 'SourceReconstructionProtocolElementNumber',\n    '0018993B': 'ReconstructionStartLocationSequence',\n    '0018993C': 'ReconstructionEndLocationSequence',\n    '0018993D': 'ReconstructionAlgorithmSequence',\n    '0018993E': 'ReconstructionTargetCenterLocationSequence',\n    '00189941': 'ImageFilterDescription',\n    '00189942': 'CTDIvolNotificationTrigger',\n    '00189943': 'DLPNotificationTrigger',\n    '00189944': 'AutoKVPSelectionType',\n    '00189945': 'AutoKVPUpperBound',\n    '00189946': 'AutoKVPLowerBound',\n    '00189947': 'ProtocolDefinedPatientPosition',\n    '0018A001': 'ContributingEquipmentSequence',\n    '0018A002': 'ContributionDateTime',\n    '0018A003': 'ContributionDescription',\n    '0020000D': 'StudyInstanceUID',\n    '0020000E': 'SeriesInstanceUID',\n    '00200010': 'StudyID',\n    '00200011': 'SeriesNumber',\n    '00200012': 'AcquisitionNumber',\n    '00200013': 'InstanceNumber',\n    '00200014': 'IsotopeNumber',\n    '00200015': 'PhaseNumber',\n    '00200016': 'IntervalNumber',\n    '00200017': 'TimeSlotNumber',\n    '00200018': 'AngleNumber',\n    '00200019': 'ItemNumber',\n    '00200020': 'PatientOrientation',\n    '00200022': 'OverlayNumber',\n    '00200024': 'CurveNumber',\n    '00200026': 'LUTNumber',\n    '00200030': 'ImagePosition',\n    '00200032': 'ImagePositionPatient',\n    '00200035': 'ImageOrientation',\n    '00200037': 'ImageOrientationPatient',\n    '00200050': 'Location',\n    '00200052': 'FrameOfReferenceUID',\n    '00200060': 'Laterality',\n    '00200062': 'ImageLaterality',\n    '00200070': 'ImageGeometryType',\n    '00200080': 'MaskingImage',\n    '002000AA': 'ReportNumber',\n    '00200100': 'TemporalPositionIdentifier',\n    '00200105': 'NumberOfTemporalPositions',\n    '00200110': 'TemporalResolution',\n    '00200200': 'SynchronizationFrameOfReferenceUID',\n    '00200242': 'SOPInstanceUIDOfConcatenationSource',\n    '00201000': 'SeriesInStudy',\n    '00201001': 'AcquisitionsInSeries',\n    '00201002': 'ImagesInAcquisition',\n    '00201003': 'ImagesInSeries',\n    '00201004': 'AcquisitionsInStudy',\n    '00201005': 'ImagesInStudy',\n    '00201020': 'Reference',\n    '0020103F': 'TargetPositionReferenceIndicator',\n    '00201040': 'PositionReferenceIndicator',\n    '00201041': 'SliceLocation',\n    '00201070': 'OtherStudyNumbers',\n    '00201200': 'NumberOfPatientRelatedStudies',\n    '00201202': 'NumberOfPatientRelatedSeries',\n    '00201204': 'NumberOfPatientRelatedInstances',\n    '00201206': 'NumberOfStudyRelatedSeries',\n    '00201208': 'NumberOfStudyRelatedInstances',\n    '00201209': 'NumberOfSeriesRelatedInstances',\n    '00203401': 'ModifyingDeviceID',\n    '00203402': 'ModifiedImageID',\n    '00203403': 'ModifiedImageDate',\n    '00203404': 'ModifyingDeviceManufacturer',\n    '00203405': 'ModifiedImageTime',\n    '00203406': 'ModifiedImageDescription',\n    '00204000': 'ImageComments',\n    '00205000': 'OriginalImageIdentification',\n    '00205002': 'OriginalImageIdentificationNomenclature',\n    '00209056': 'StackID',\n    '00209057': 'InStackPositionNumber',\n    '00209071': 'FrameAnatomySequence',\n    '00209072': 'FrameLaterality',\n    '00209111': 'FrameContentSequence',\n    '00209113': 'PlanePositionSequence',\n    '00209116': 'PlaneOrientationSequence',\n    '00209128': 'TemporalPositionIndex',\n    '00209153': 'NominalCardiacTriggerDelayTime',\n    '00209154': 'NominalCardiacTriggerTimePriorToRPeak',\n    '00209155': 'ActualCardiacTriggerTimePriorToRPeak',\n    '00209156': 'FrameAcquisitionNumber',\n    '00209157': 'DimensionIndexValues',\n    '00209158': 'FrameComments',\n    '00209161': 'ConcatenationUID',\n    '00209162': 'InConcatenationNumber',\n    '00209163': 'InConcatenationTotalNumber',\n    '00209164': 'DimensionOrganizationUID',\n    '00209165': 'DimensionIndexPointer',\n    '00209167': 'FunctionalGroupPointer',\n    '00209170': 'UnassignedSharedConvertedAttributesSequence',\n    '00209171': 'UnassignedPerFrameConvertedAttributesSequence',\n    '00209172': 'ConversionSourceAttributesSequence',\n    '00209213': 'DimensionIndexPrivateCreator',\n    '00209221': 'DimensionOrganizationSequence',\n    '00209222': 'DimensionIndexSequence',\n    '00209228': 'ConcatenationFrameOffsetNumber',\n    '00209238': 'FunctionalGroupPrivateCreator',\n    '00209241': 'NominalPercentageOfCardiacPhase',\n    '00209245': 'NominalPercentageOfRespiratoryPhase',\n    '00209246': 'StartingRespiratoryAmplitude',\n    '00209247': 'StartingRespiratoryPhase',\n    '00209248': 'EndingRespiratoryAmplitude',\n    '00209249': 'EndingRespiratoryPhase',\n    '00209250': 'RespiratoryTriggerType',\n    '00209251': 'RRIntervalTimeNominal',\n    '00209252': 'ActualCardiacTriggerDelayTime',\n    '00209253': 'RespiratorySynchronizationSequence',\n    '00209254': 'RespiratoryIntervalTime',\n    '00209255': 'NominalRespiratoryTriggerDelayTime',\n    '00209256': 'RespiratoryTriggerDelayThreshold',\n    '00209257': 'ActualRespiratoryTriggerDelayTime',\n    '00209301': 'ImagePositionVolume',\n    '00209302': 'ImageOrientationVolume',\n    '00209307': 'UltrasoundAcquisitionGeometry',\n    '00209308': 'ApexPosition',\n    '00209309': 'VolumeToTransducerMappingMatrix',\n    '0020930A': 'VolumeToTableMappingMatrix',\n    '0020930B': 'VolumeToTransducerRelationship',\n    '0020930C': 'PatientFrameOfReferenceSource',\n    '0020930D': 'TemporalPositionTimeOffset',\n    '0020930E': 'PlanePositionVolumeSequence',\n    '0020930F': 'PlaneOrientationVolumeSequence',\n    '00209310': 'TemporalPositionSequence',\n    '00209311': 'DimensionOrganizationType',\n    '00209312': 'VolumeFrameOfReferenceUID',\n    '00209313': 'TableFrameOfReferenceUID',\n    '00209421': 'DimensionDescriptionLabel',\n    '00209450': 'PatientOrientationInFrameSequence',\n    '00209453': 'FrameLabel',\n    '00209518': 'AcquisitionIndex',\n    '00209529': 'ContributingSOPInstancesReferenceSequence',\n    '00209536': 'ReconstructionIndex',\n    '00220001': 'LightPathFilterPassThroughWavelength',\n    '00220002': 'LightPathFilterPassBand',\n    '00220003': 'ImagePathFilterPassThroughWavelength',\n    '00220004': 'ImagePathFilterPassBand',\n    '00220005': 'PatientEyeMovementCommanded',\n    '00220006': 'PatientEyeMovementCommandCodeSequence',\n    '00220007': 'SphericalLensPower',\n    '00220008': 'CylinderLensPower',\n    '00220009': 'CylinderAxis',\n    '0022000A': 'EmmetropicMagnification',\n    '0022000B': 'IntraOcularPressure',\n    '0022000C': 'HorizontalFieldOfView',\n    '0022000D': 'PupilDilated',\n    '0022000E': 'DegreeOfDilation',\n    '00220010': 'StereoBaselineAngle',\n    '00220011': 'StereoBaselineDisplacement',\n    '00220012': 'StereoHorizontalPixelOffset',\n    '00220013': 'StereoVerticalPixelOffset',\n    '00220014': 'StereoRotation',\n    '00220015': 'AcquisitionDeviceTypeCodeSequence',\n    '00220016': 'IlluminationTypeCodeSequence',\n    '00220017': 'LightPathFilterTypeStackCodeSequence',\n    '00220018': 'ImagePathFilterTypeStackCodeSequence',\n    '00220019': 'LensesCodeSequence',\n    '0022001A': 'ChannelDescriptionCodeSequence',\n    '0022001B': 'RefractiveStateSequence',\n    '0022001C': 'MydriaticAgentCodeSequence',\n    '0022001D': 'RelativeImagePositionCodeSequence',\n    '0022001E': 'CameraAngleOfView',\n    '00220020': 'StereoPairsSequence',\n    '00220021': 'LeftImageSequence',\n    '00220022': 'RightImageSequence',\n    '00220028': 'StereoPairsPresent',\n    '00220030': 'AxialLengthOfTheEye',\n    '00220031': 'OphthalmicFrameLocationSequence',\n    '00220032': 'ReferenceCoordinates',\n    '00220035': 'DepthSpatialResolution',\n    '00220036': 'MaximumDepthDistortion',\n    '00220037': 'AlongScanSpatialResolution',\n    '00220038': 'MaximumAlongScanDistortion',\n    '00220039': 'OphthalmicImageOrientation',\n    '00220041': 'DepthOfTransverseImage',\n    '00220042': 'MydriaticAgentConcentrationUnitsSequence',\n    '00220048': 'AcrossScanSpatialResolution',\n    '00220049': 'MaximumAcrossScanDistortion',\n    '0022004E': 'MydriaticAgentConcentration',\n    '00220055': 'IlluminationWaveLength',\n    '00220056': 'IlluminationPower',\n    '00220057': 'IlluminationBandwidth',\n    '00220058': 'MydriaticAgentSequence',\n    '00221007': 'OphthalmicAxialMeasurementsRightEyeSequence',\n    '00221008': 'OphthalmicAxialMeasurementsLeftEyeSequence',\n    '00221009': 'OphthalmicAxialMeasurementsDeviceType',\n    '00221010': 'OphthalmicAxialLengthMeasurementsType',\n    '00221012': 'OphthalmicAxialLengthSequence',\n    '00221019': 'OphthalmicAxialLength',\n    '00221024': 'LensStatusCodeSequence',\n    '00221025': 'VitreousStatusCodeSequence',\n    '00221028': 'IOLFormulaCodeSequence',\n    '00221029': 'IOLFormulaDetail',\n    '00221033': 'KeratometerIndex',\n    '00221035': 'SourceOfOphthalmicAxialLengthCodeSequence',\n    '00221037': 'TargetRefraction',\n    '00221039': 'RefractiveProcedureOccurred',\n    '00221040': 'RefractiveSurgeryTypeCodeSequence',\n    '00221044': 'OphthalmicUltrasoundMethodCodeSequence',\n    '00221050': 'OphthalmicAxialLengthMeasurementsSequence',\n    '00221053': 'IOLPower',\n    '00221054': 'PredictedRefractiveError',\n    '00221059': 'OphthalmicAxialLengthVelocity',\n    '00221065': 'LensStatusDescription',\n    '00221066': 'VitreousStatusDescription',\n    '00221090': 'IOLPowerSequence',\n    '00221092': 'LensConstantSequence',\n    '00221093': 'IOLManufacturer',\n    '00221094': 'LensConstantDescription',\n    '00221095': 'ImplantName',\n    '00221096': 'KeratometryMeasurementTypeCodeSequence',\n    '00221097': 'ImplantPartNumber',\n    '00221100': 'ReferencedOphthalmicAxialMeasurementsSequence',\n    '00221101': 'OphthalmicAxialLengthMeasurementsSegmentNameCodeSequence',\n    '00221103': 'RefractiveErrorBeforeRefractiveSurgeryCodeSequence',\n    '00221121': 'IOLPowerForExactEmmetropia',\n    '00221122': 'IOLPowerForExactTargetRefraction',\n    '00221125': 'AnteriorChamberDepthDefinitionCodeSequence',\n    '00221127': 'LensThicknessSequence',\n    '00221128': 'AnteriorChamberDepthSequence',\n    '00221130': 'LensThickness',\n    '00221131': 'AnteriorChamberDepth',\n    '00221132': 'SourceOfLensThicknessDataCodeSequence',\n    '00221133': 'SourceOfAnteriorChamberDepthDataCodeSequence',\n    '00221134': 'SourceOfRefractiveMeasurementsSequence',\n    '00221135': 'SourceOfRefractiveMeasurementsCodeSequence',\n    '00221140': 'OphthalmicAxialLengthMeasurementModified',\n    '00221150': 'OphthalmicAxialLengthDataSourceCodeSequence',\n    '00221153': 'OphthalmicAxialLengthAcquisitionMethodCodeSequence',\n    '00221155': 'SignalToNoiseRatio',\n    '00221159': 'OphthalmicAxialLengthDataSourceDescription',\n    '00221210': 'OphthalmicAxialLengthMeasurementsTotalLengthSequence',\n    '00221211': 'OphthalmicAxialLengthMeasurementsSegmentalLengthSequence',\n    '00221212': 'OphthalmicAxialLengthMeasurementsLengthSummationSequence',\n    '00221220': 'UltrasoundOphthalmicAxialLengthMeasurementsSequence',\n    '00221225': 'OpticalOphthalmicAxialLengthMeasurementsSequence',\n    '00221230': 'UltrasoundSelectedOphthalmicAxialLengthSequence',\n    '00221250': 'OphthalmicAxialLengthSelectionMethodCodeSequence',\n    '00221255': 'OpticalSelectedOphthalmicAxialLengthSequence',\n    '00221257': 'SelectedSegmentalOphthalmicAxialLengthSequence',\n    '00221260': 'SelectedTotalOphthalmicAxialLengthSequence',\n    '00221262': 'OphthalmicAxialLengthQualityMetricSequence',\n    '00221265': 'OphthalmicAxialLengthQualityMetricTypeCodeSequence',\n    '00221273': 'OphthalmicAxialLengthQualityMetricTypeDescription',\n    '00221300': 'IntraocularLensCalculationsRightEyeSequence',\n    '00221310': 'IntraocularLensCalculationsLeftEyeSequence',\n    '00221330': 'ReferencedOphthalmicAxialLengthMeasurementQCImageSequence',\n    '00221415': 'OphthalmicMappingDeviceType',\n    '00221420': 'AcquisitionMethodCodeSequence',\n    '00221423': 'AcquisitionMethodAlgorithmSequence',\n    '00221436': 'OphthalmicThicknessMapTypeCodeSequence',\n    '00221443': 'OphthalmicThicknessMappingNormalsSequence',\n    '00221445': 'RetinalThicknessDefinitionCodeSequence',\n    '00221450': 'PixelValueMappingToCodedConceptSequence',\n    '00221452': 'MappedPixelValue',\n    '00221454': 'PixelValueMappingExplanation',\n    '00221458': 'OphthalmicThicknessMapQualityThresholdSequence',\n    '00221460': 'OphthalmicThicknessMapThresholdQualityRating',\n    '00221463': 'AnatomicStructureReferencePoint',\n    '00221465': 'RegistrationToLocalizerSequence',\n    '00221466': 'RegisteredLocalizerUnits',\n    '00221467': 'RegisteredLocalizerTopLeftHandCorner',\n    '00221468': 'RegisteredLocalizerBottomRightHandCorner',\n    '00221470': 'OphthalmicThicknessMapQualityRatingSequence',\n    '00221472': 'RelevantOPTAttributesSequence',\n    '00221512': 'TransformationMethodCodeSequence',\n    '00221513': 'TransformationAlgorithmSequence',\n    '00221515': 'OphthalmicAxialLengthMethod',\n    '00221517': 'OphthalmicFOV',\n    '00221518': 'TwoDimensionalToThreeDimensionalMapSequence',\n    '00221525': 'WideFieldOphthalmicPhotographyQualityRatingSequence',\n    '00221526': 'WideFieldOphthalmicPhotographyQualityThresholdSequence',\n    '00221527': 'WideFieldOphthalmicPhotographyThresholdQualityRating',\n    '00221528': 'XCoordinatesCenterPixelViewAngle',\n    '00221529': 'YCoordinatesCenterPixelViewAngle',\n    '00221530': 'NumberOfMapPoints',\n    '00221531': 'TwoDimensionalToThreeDimensionalMapData',\n    '00221612': 'DerivationAlgorithmSequence',\n    '00221615': 'OphthalmicImageTypeCodeSequence',\n    '00221616': 'OphthalmicImageTypeDescription',\n    '00221618': 'ScanPatternTypeCodeSequence',\n    '00221620': 'ReferencedSurfaceMeshIdentificationSequence',\n    '00221622': 'OphthalmicVolumetricPropertiesFlag',\n    '00221624': 'OphthalmicAnatomicReferencePointXCoordinate',\n    '00221626': 'OphthalmicAnatomicReferencePointYCoordinate',\n    '00221628': 'OphthalmicEnFaceImageQualityRatingSequence',\n    '00221630': 'QualityThreshold',\n    '00221640': 'OCTBscanAnalysisAcquisitionParametersSequence',\n    '00221642': 'NumberofBscansPerFrame',\n    '00221643': 'BscanSlabThickness',\n    '00221644': 'DistanceBetweenBscanSlabs',\n    '00221645': 'BscanCycleTime',\n    '00221646': 'BscanCycleTimeVector',\n    '00221649': 'AscanRate',\n    '00221650': 'BscanRate',\n    '00221658': 'SurfaceMeshZPixelOffset',\n    '00240010': 'VisualFieldHorizontalExtent',\n    '00240011': 'VisualFieldVerticalExtent',\n    '00240012': 'VisualFieldShape',\n    '00240016': 'ScreeningTestModeCodeSequence',\n    '00240018': 'MaximumStimulusLuminance',\n    '00240020': 'BackgroundLuminance',\n    '00240021': 'StimulusColorCodeSequence',\n    '00240024': 'BackgroundIlluminationColorCodeSequence',\n    '00240025': 'StimulusArea',\n    '00240028': 'StimulusPresentationTime',\n    '00240032': 'FixationSequence',\n    '00240033': 'FixationMonitoringCodeSequence',\n    '00240034': 'VisualFieldCatchTrialSequence',\n    '00240035': 'FixationCheckedQuantity',\n    '00240036': 'PatientNotProperlyFixatedQuantity',\n    '00240037': 'PresentedVisualStimuliDataFlag',\n    '00240038': 'NumberOfVisualStimuli',\n    '00240039': 'ExcessiveFixationLossesDataFlag',\n    '00240040': 'ExcessiveFixationLosses',\n    '00240042': 'StimuliRetestingQuantity',\n    '00240044': 'CommentsOnPatientPerformanceOfVisualField',\n    '00240045': 'FalseNegativesEstimateFlag',\n    '00240046': 'FalseNegativesEstimate',\n    '00240048': 'NegativeCatchTrialsQuantity',\n    '00240050': 'FalseNegativesQuantity',\n    '00240051': 'ExcessiveFalseNegativesDataFlag',\n    '00240052': 'ExcessiveFalseNegatives',\n    '00240053': 'FalsePositivesEstimateFlag',\n    '00240054': 'FalsePositivesEstimate',\n    '00240055': 'CatchTrialsDataFlag',\n    '00240056': 'PositiveCatchTrialsQuantity',\n    '00240057': 'TestPointNormalsDataFlag',\n    '00240058': 'TestPointNormalsSequence',\n    '00240059': 'GlobalDeviationProbabilityNormalsFlag',\n    '00240060': 'FalsePositivesQuantity',\n    '00240061': 'ExcessiveFalsePositivesDataFlag',\n    '00240062': 'ExcessiveFalsePositives',\n    '00240063': 'VisualFieldTestNormalsFlag',\n    '00240064': 'ResultsNormalsSequence',\n    '00240065': 'AgeCorrectedSensitivityDeviationAlgorithmSequence',\n    '00240066': 'GlobalDeviationFromNormal',\n    '00240067': 'GeneralizedDefectSensitivityDeviationAlgorithmSequence',\n    '00240068': 'LocalizedDeviationFromNormal',\n    '00240069': 'PatientReliabilityIndicator',\n    '00240070': 'VisualFieldMeanSensitivity',\n    '00240071': 'GlobalDeviationProbability',\n    '00240072': 'LocalDeviationProbabilityNormalsFlag',\n    '00240073': 'LocalizedDeviationProbability',\n    '00240074': 'ShortTermFluctuationCalculated',\n    '00240075': 'ShortTermFluctuation',\n    '00240076': 'ShortTermFluctuationProbabilityCalculated',\n    '00240077': 'ShortTermFluctuationProbability',\n    '00240078': 'CorrectedLocalizedDeviationFromNormalCalculated',\n    '00240079': 'CorrectedLocalizedDeviationFromNormal',\n    '00240080': 'CorrectedLocalizedDeviationFromNormalProbabilityCalculated',\n    '00240081': 'CorrectedLocalizedDeviationFromNormalProbability',\n    '00240083': 'GlobalDeviationProbabilitySequence',\n    '00240085': 'LocalizedDeviationProbabilitySequence',\n    '00240086': 'FovealSensitivityMeasured',\n    '00240087': 'FovealSensitivity',\n    '00240088': 'VisualFieldTestDuration',\n    '00240089': 'VisualFieldTestPointSequence',\n    '00240090': 'VisualFieldTestPointXCoordinate',\n    '00240091': 'VisualFieldTestPointYCoordinate',\n    '00240092': 'AgeCorrectedSensitivityDeviationValue',\n    '00240093': 'StimulusResults',\n    '00240094': 'SensitivityValue',\n    '00240095': 'RetestStimulusSeen',\n    '00240096': 'RetestSensitivityValue',\n    '00240097': 'VisualFieldTestPointNormalsSequence',\n    '00240098': 'QuantifiedDefect',\n    '00240100': 'AgeCorrectedSensitivityDeviationProbabilityValue',\n    '00240102': 'GeneralizedDefectCorrectedSensitivityDeviationFlag',\n    '00240103': 'GeneralizedDefectCorrectedSensitivityDeviationValue',\n    '00240104': 'GeneralizedDefectCorrectedSensitivityDeviationProbabilityValue',\n    '00240105': 'MinimumSensitivityValue',\n    '00240106': 'BlindSpotLocalized',\n    '00240107': 'BlindSpotXCoordinate',\n    '00240108': 'BlindSpotYCoordinate',\n    '00240110': 'VisualAcuityMeasurementSequence',\n    '00240112': 'RefractiveParametersUsedOnPatientSequence',\n    '00240113': 'MeasurementLaterality',\n    '00240114': 'OphthalmicPatientClinicalInformationLeftEyeSequence',\n    '00240115': 'OphthalmicPatientClinicalInformationRightEyeSequence',\n    '00240117': 'FovealPointNormativeDataFlag',\n    '00240118': 'FovealPointProbabilityValue',\n    '00240120': 'ScreeningBaselineMeasured',\n    '00240122': 'ScreeningBaselineMeasuredSequence',\n    '00240124': 'ScreeningBaselineType',\n    '00240126': 'ScreeningBaselineValue',\n    '00240202': 'AlgorithmSource',\n    '00240306': 'DataSetName',\n    '00240307': 'DataSetVersion',\n    '00240308': 'DataSetSource',\n    '00240309': 'DataSetDescription',\n    '00240317': 'VisualFieldTestReliabilityGlobalIndexSequence',\n    '00240320': 'VisualFieldGlobalResultsIndexSequence',\n    '00240325': 'DataObservationSequence',\n    '00240338': 'IndexNormalsFlag',\n    '00240341': 'IndexProbability',\n    '00240344': 'IndexProbabilitySequence',\n    '00280002': 'SamplesPerPixel',\n    '00280003': 'SamplesPerPixelUsed',\n    '00280004': 'PhotometricInterpretation',\n    '00280005': 'ImageDimensions',\n    '00280006': 'PlanarConfiguration',\n    '00280008': 'NumberOfFrames',\n    '00280009': 'FrameIncrementPointer',\n    '0028000A': 'FrameDimensionPointer',\n    '00280010': 'Rows',\n    '00280011': 'Columns',\n    '00280012': 'Planes',\n    '00280014': 'UltrasoundColorDataPresent',\n    '00280020': '',\n    '00280030': 'PixelSpacing',\n    '00280031': 'ZoomFactor',\n    '00280032': 'ZoomCenter',\n    '00280034': 'PixelAspectRatio',\n    '00280040': 'ImageFormat',\n    '00280050': 'ManipulatedImage',\n    '00280051': 'CorrectedImage',\n    '0028005F': 'CompressionRecognitionCode',\n    '00280060': 'CompressionCode',\n    '00280061': 'CompressionOriginator',\n    '00280062': 'CompressionLabel',\n    '00280063': 'CompressionDescription',\n    '00280065': 'CompressionSequence',\n    '00280066': 'CompressionStepPointers',\n    '00280068': 'RepeatInterval',\n    '00280069': 'BitsGrouped',\n    '00280070': 'PerimeterTable',\n    '00280071': 'PerimeterValue',\n    '00280080': 'PredictorRows',\n    '00280081': 'PredictorColumns',\n    '00280082': 'PredictorConstants',\n    '00280090': 'BlockedPixels',\n    '00280091': 'BlockRows',\n    '00280092': 'BlockColumns',\n    '00280093': 'RowOverlap',\n    '00280094': 'ColumnOverlap',\n    '00280100': 'BitsAllocated',\n    '00280101': 'BitsStored',\n    '00280102': 'HighBit',\n    '00280103': 'PixelRepresentation',\n    '00280104': 'SmallestValidPixelValue',\n    '00280105': 'LargestValidPixelValue',\n    '00280106': 'SmallestImagePixelValue',\n    '00280107': 'LargestImagePixelValue',\n    '00280108': 'SmallestPixelValueInSeries',\n    '00280109': 'LargestPixelValueInSeries',\n    '00280110': 'SmallestImagePixelValueInPlane',\n    '00280111': 'LargestImagePixelValueInPlane',\n    '00280120': 'PixelPaddingValue',\n    '00280121': 'PixelPaddingRangeLimit',\n    '00280122': 'FloatPixelPaddingValue',\n    '00280123': 'DoubleFloatPixelPaddingValue',\n    '00280124': 'FloatPixelPaddingRangeLimit',\n    '00280125': 'DoubleFloatPixelPaddingRangeLimit',\n    '00280200': 'ImageLocation',\n    '00280300': 'QualityControlImage',\n    '00280301': 'BurnedInAnnotation',\n    '00280302': 'RecognizableVisualFeatures',\n    '00280303': 'LongitudinalTemporalInformationModified',\n    '00280304': 'ReferencedColorPaletteInstanceUID',\n    '00280400': 'TransformLabel',\n    '00280401': 'TransformVersionNumber',\n    '00280402': 'NumberOfTransformSteps',\n    '00280403': 'SequenceOfCompressedData',\n    '00280404': 'DetailsOfCoefficients',\n    '00280700': 'DCTLabel',\n    '00280701': 'DataBlockDescription',\n    '00280702': 'DataBlock',\n    '00280710': 'NormalizationFactorFormat',\n    '00280720': 'ZonalMapNumberFormat',\n    '00280721': 'ZonalMapLocation',\n    '00280722': 'ZonalMapFormat',\n    '00280730': 'AdaptiveMapFormat',\n    '00280740': 'CodeNumberFormat',\n    '00280A02': 'PixelSpacingCalibrationType',\n    '00280A04': 'PixelSpacingCalibrationDescription',\n    '00281040': 'PixelIntensityRelationship',\n    '00281041': 'PixelIntensityRelationshipSign',\n    '00281050': 'WindowCenter',\n    '00281051': 'WindowWidth',\n    '00281052': 'RescaleIntercept',\n    '00281053': 'RescaleSlope',\n    '00281054': 'RescaleType',\n    '00281055': 'WindowCenterWidthExplanation',\n    '00281056': 'VOILUTFunction',\n    '00281080': 'GrayScale',\n    '00281090': 'RecommendedViewingMode',\n    '00281100': 'GrayLookupTableDescriptor',\n    '00281101': 'RedPaletteColorLookupTableDescriptor',\n    '00281102': 'GreenPaletteColorLookupTableDescriptor',\n    '00281103': 'BluePaletteColorLookupTableDescriptor',\n    '00281104': 'AlphaPaletteColorLookupTableDescriptor',\n    '00281111': 'LargeRedPaletteColorLookupTableDescriptor',\n    '00281112': 'LargeGreenPaletteColorLookupTableDescriptor',\n    '00281113': 'LargeBluePaletteColorLookupTableDescriptor',\n    '00281199': 'PaletteColorLookupTableUID',\n    '00281200': 'GrayLookupTableData',\n    '00281201': 'RedPaletteColorLookupTableData',\n    '00281202': 'GreenPaletteColorLookupTableData',\n    '00281203': 'BluePaletteColorLookupTableData',\n    '00281204': 'AlphaPaletteColorLookupTableData',\n    '00281211': 'LargeRedPaletteColorLookupTableData',\n    '00281212': 'LargeGreenPaletteColorLookupTableData',\n    '00281213': 'LargeBluePaletteColorLookupTableData',\n    '00281214': 'LargePaletteColorLookupTableUID',\n    '00281221': 'SegmentedRedPaletteColorLookupTableData',\n    '00281222': 'SegmentedGreenPaletteColorLookupTableData',\n    '00281223': 'SegmentedBluePaletteColorLookupTableData',\n    '00281224': 'SegmentedAlphaPaletteColorLookupTableData',\n    '00281230': 'StoredValueColorRangeSequence',\n    '00281231': 'MinimumStoredValueMapped',\n    '00281232': 'MaximumStoredValueMapped',\n    '00281300': 'BreastImplantPresent',\n    '00281350': 'PartialView',\n    '00281351': 'PartialViewDescription',\n    '00281352': 'PartialViewCodeSequence',\n    '0028135A': 'SpatialLocationsPreserved',\n    '00281401': 'DataFrameAssignmentSequence',\n    '00281402': 'DataPathAssignment',\n    '00281403': 'BitsMappedToColorLookupTable',\n    '00281404': ('BlendingLUT1Sequence'),\n    '00281405': ('BlendingLUT1TransferFunction'),\n    '00281406': 'BlendingWeightConstant',\n    '00281407': 'BlendingLookupTableDescriptor',\n    '00281408': 'BlendingLookupTableData',\n    '0028140B': 'EnhancedPaletteColorLookupTableSequence',\n    '0028140C': ('BlendingLUT2Sequence'),\n    '0028140D': ('BlendingLUT2TransferFunction'),\n    '0028140E': 'DataPathID',\n    '0028140F': 'RGBLUTTransferFunction',\n    '00281410': 'AlphaLUTTransferFunction',\n    '00282000': 'ICCProfile',\n    '00282002': 'ColorSpace',\n    '00282110': 'LossyImageCompression',\n    '00282112': 'LossyImageCompressionRatio',\n    '00282114': 'LossyImageCompressionMethod',\n    '00283000': 'ModalityLUTSequence',\n    '00283002': 'LUTDescriptor',\n    '00283003': 'LUTExplanation',\n    '00283004': 'ModalityLUTType',\n    '00283006': 'LUTData',\n    '00283010': 'VOILUTSequence',\n    '00283110': 'SoftcopyVOILUTSequence',\n    '00284000': 'ImagePresentationComments',\n    '00285000': 'BiPlaneAcquisitionSequence',\n    '00286010': 'RepresentativeFrameNumber',\n    '00286020': 'FrameNumbersOfInterest',\n    '00286022': 'FrameOfInterestDescription',\n    '00286023': 'FrameOfInterestType',\n    '00286030': 'MaskPointers',\n    '00286040': 'RWavePointer',\n    '00286100': 'MaskSubtractionSequence',\n    '00286101': 'MaskOperation',\n    '00286102': 'ApplicableFrameRange',\n    '00286110': 'MaskFrameNumbers',\n    '00286112': 'ContrastFrameAveraging',\n    '00286114': 'MaskSubPixelShift',\n    '00286120': 'TIDOffset',\n    '00286190': 'MaskOperationExplanation',\n    '00287000': 'EquipmentAdministratorSequence',\n    '00287001': 'NumberOfDisplaySubsystems',\n    '00287002': 'CurrentConfigurationID',\n    '00287003': 'DisplaySubsystemID',\n    '00287004': 'DisplaySubsystemName',\n    '00287005': 'DisplaySubsystemDescription',\n    '00287006': 'SystemStatus',\n    '00287007': 'SystemStatusComment',\n    '00287008': 'TargetLuminanceCharacteristicsSequence',\n    '00287009': 'LuminanceCharacteristicsID',\n    '0028700A': 'DisplaySubsystemConfigurationSequence',\n    '0028700B': 'ConfigurationID',\n    '0028700C': 'ConfigurationName',\n    '0028700D': 'ConfigurationDescription',\n    '0028700E': 'ReferencedTargetLuminanceCharacteristicsID',\n    '0028700F': 'QAResultsSequence',\n    '00287010': 'DisplaySubsystemQAResultsSequence',\n    '00287011': 'ConfigurationQAResultsSequence',\n    '00287012': 'MeasurementEquipmentSequence',\n    '00287013': 'MeasurementFunctions',\n    '00287014': 'MeasurementEquipmentType',\n    '00287015': 'VisualEvaluationResultSequence',\n    '00287016': 'DisplayCalibrationResultSequence',\n    '00287017': 'DDLValue',\n    '00287018': 'CIExyWhitePoint',\n    '00287019': 'DisplayFunctionType',\n    '0028701A': 'GammaValue',\n    '0028701B': 'NumberOfLuminancePoints',\n    '0028701C': 'LuminanceResponseSequence',\n    '0028701D': 'TargetMinimumLuminance',\n    '0028701E': 'TargetMaximumLuminance',\n    '0028701F': 'LuminanceValue',\n    '00287020': 'LuminanceResponseDescription',\n    '00287021': 'WhitePointFlag',\n    '00287022': 'DisplayDeviceTypeCodeSequence',\n    '00287023': 'DisplaySubsystemSequence',\n    '00287024': 'LuminanceResultSequence',\n    '00287025': 'AmbientLightValueSource',\n    '00287026': 'MeasuredCharacteristics',\n    '00287027': 'LuminanceUniformityResultSequence',\n    '00287028': 'VisualEvaluationTestSequence',\n    '00287029': 'TestResult',\n    '0028702A': 'TestResultComment',\n    '0028702B': 'TestImageValidation',\n    '0028702C': 'TestPatternCodeSequence',\n    '0028702D': 'MeasurementPatternCodeSequence',\n    '0028702E': 'VisualEvaluationMethodCodeSequence',\n    '00287FE0': 'PixelDataProviderURL',\n    '00289001': 'DataPointRows',\n    '00289002': 'DataPointColumns',\n    '00289003': 'SignalDomainColumns',\n    '00289099': 'LargestMonochromePixelValue',\n    '00289108': 'DataRepresentation',\n    '00289110': 'PixelMeasuresSequence',\n    '00289132': 'FrameVOILUTSequence',\n    '00289145': 'PixelValueTransformationSequence',\n    '00289235': 'SignalDomainRows',\n    '00289411': 'DisplayFilterPercentage',\n    '00289415': 'FramePixelShiftSequence',\n    '00289416': 'SubtractionItemID',\n    '00289422': 'PixelIntensityRelationshipLUTSequence',\n    '00289443': 'FramePixelDataPropertiesSequence',\n    '00289444': 'GeometricalProperties',\n    '00289445': 'GeometricMaximumDistortion',\n    '00289446': 'ImageProcessingApplied',\n    '00289454': 'MaskSelectionMode',\n    '00289474': 'LUTFunction',\n    '00289478': 'MaskVisibilityPercentage',\n    '00289501': 'PixelShiftSequence',\n    '00289502': 'RegionPixelShiftSequence',\n    '00289503': 'VerticesOfTheRegion',\n    '00289505': 'MultiFramePresentationSequence',\n    '00289506': 'PixelShiftFrameRange',\n    '00289507': 'LUTFrameRange',\n    '00289520': 'ImageToEquipmentMappingMatrix',\n    '00289537': 'EquipmentCoordinateSystemIdentification',\n    '0032000A': 'StudyStatusID',\n    '0032000C': 'StudyPriorityID',\n    '00320012': 'StudyIDIssuer',\n    '00320032': 'StudyVerifiedDate',\n    '00320033': 'StudyVerifiedTime',\n    '00320034': 'StudyReadDate',\n    '00320035': 'StudyReadTime',\n    '00321000': 'ScheduledStudyStartDate',\n    '00321001': 'ScheduledStudyStartTime',\n    '00321010': 'ScheduledStudyStopDate',\n    '00321011': 'ScheduledStudyStopTime',\n    '00321020': 'ScheduledStudyLocation',\n    '00321021': 'ScheduledStudyLocationAETitle',\n    '00321030': 'ReasonForStudy',\n    '00321031': 'RequestingPhysicianIdentificationSequence',\n    '00321032': 'RequestingPhysician',\n    '00321033': 'RequestingService',\n    '00321034': 'RequestingServiceCodeSequence',\n    '00321040': 'StudyArrivalDate',\n    '00321041': 'StudyArrivalTime',\n    '00321050': 'StudyCompletionDate',\n    '00321051': 'StudyCompletionTime',\n    '00321055': 'StudyComponentStatusID',\n    '00321060': 'RequestedProcedureDescription',\n    '00321064': 'RequestedProcedureCodeSequence',\n    '00321070': 'RequestedContrastAgent',\n    '00324000': 'StudyComments',\n    '00380004': 'ReferencedPatientAliasSequence',\n    '00380008': 'VisitStatusID',\n    '00380010': 'AdmissionID',\n    '00380011': 'IssuerOfAdmissionID',\n    '00380014': 'IssuerOfAdmissionIDSequence',\n    '00380016': 'RouteOfAdmissions',\n    '0038001A': 'ScheduledAdmissionDate',\n    '0038001B': 'ScheduledAdmissionTime',\n    '0038001C': 'ScheduledDischargeDate',\n    '0038001D': 'ScheduledDischargeTime',\n    '0038001E': 'ScheduledPatientInstitutionResidence',\n    '00380020': 'AdmittingDate',\n    '00380021': 'AdmittingTime',\n    '00380030': 'DischargeDate',\n    '00380032': 'DischargeTime',\n    '00380040': 'DischargeDiagnosisDescription',\n    '00380044': 'DischargeDiagnosisCodeSequence',\n    '00380050': 'SpecialNeeds',\n    '00380060': 'ServiceEpisodeID',\n    '00380061': 'IssuerOfServiceEpisodeID',\n    '00380062': 'ServiceEpisodeDescription',\n    '00380064': 'IssuerOfServiceEpisodeIDSequence',\n    '00380100': 'PertinentDocumentsSequence',\n    '00380101': 'PertinentResourcesSequence',\n    '00380102': 'ResourceDescription',\n    '00380300': 'CurrentPatientLocation',\n    '00380400': 'PatientInstitutionResidence',\n    '00380500': 'PatientState',\n    '00380502': 'PatientClinicalTrialParticipationSequence',\n    '00384000': 'VisitComments',\n    '003A0004': 'WaveformOriginality',\n    '003A0005': 'NumberOfWaveformChannels',\n    '003A0010': 'NumberOfWaveformSamples',\n    '003A001A': 'SamplingFrequency',\n    '003A0020': 'MultiplexGroupLabel',\n    '003A0200': 'ChannelDefinitionSequence',\n    '003A0202': 'WaveformChannelNumber',\n    '003A0203': 'ChannelLabel',\n    '003A0205': 'ChannelStatus',\n    '003A0208': 'ChannelSourceSequence',\n    '003A0209': 'ChannelSourceModifiersSequence',\n    '003A020A': 'SourceWaveformSequence',\n    '003A020C': 'ChannelDerivationDescription',\n    '003A0210': 'ChannelSensitivity',\n    '003A0211': 'ChannelSensitivityUnitsSequence',\n    '003A0212': 'ChannelSensitivityCorrectionFactor',\n    '003A0213': 'ChannelBaseline',\n    '003A0214': 'ChannelTimeSkew',\n    '003A0215': 'ChannelSampleSkew',\n    '003A0218': 'ChannelOffset',\n    '003A021A': 'WaveformBitsStored',\n    '003A0220': 'FilterLowFrequency',\n    '003A0221': 'FilterHighFrequency',\n    '003A0222': 'NotchFilterFrequency',\n    '003A0223': 'NotchFilterBandwidth',\n    '003A0230': 'WaveformDataDisplayScale',\n    '003A0231': 'WaveformDisplayBackgroundCIELabValue',\n    '003A0240': 'WaveformPresentationGroupSequence',\n    '003A0241': 'PresentationGroupNumber',\n    '003A0242': 'ChannelDisplaySequence',\n    '003A0244': 'ChannelRecommendedDisplayCIELabValue',\n    '003A0245': 'ChannelPosition',\n    '003A0246': 'DisplayShadingFlag',\n    '003A0247': 'FractionalChannelDisplayScale',\n    '003A0248': 'AbsoluteChannelDisplayScale',\n    '003A0300': 'MultiplexedAudioChannelsDescriptionCodeSequence',\n    '003A0301': 'ChannelIdentificationCode',\n    '003A0302': 'ChannelMode',\n    '00400001': 'ScheduledStationAETitle',\n    '00400002': 'ScheduledProcedureStepStartDate',\n    '00400003': 'ScheduledProcedureStepStartTime',\n    '00400004': 'ScheduledProcedureStepEndDate',\n    '00400005': 'ScheduledProcedureStepEndTime',\n    '00400006': 'ScheduledPerformingPhysicianName',\n    '00400007': 'ScheduledProcedureStepDescription',\n    '00400008': 'ScheduledProtocolCodeSequence',\n    '00400009': 'ScheduledProcedureStepID',\n    '0040000A': 'StageCodeSequence',\n    '0040000B': 'ScheduledPerformingPhysicianIdentificationSequence',\n    '00400010': 'ScheduledStationName',\n    '00400011': 'ScheduledProcedureStepLocation',\n    '00400012': 'PreMedication',\n    '00400020': 'ScheduledProcedureStepStatus',\n    '00400026': 'OrderPlacerIdentifierSequence',\n    '00400027': 'OrderFillerIdentifierSequence',\n    '00400031': 'LocalNamespaceEntityID',\n    '00400032': 'UniversalEntityID',\n    '00400033': 'UniversalEntityIDType',\n    '00400035': 'IdentifierTypeCode',\n    '00400036': 'AssigningFacilitySequence',\n    '00400039': 'AssigningJurisdictionCodeSequence',\n    '0040003A': 'AssigningAgencyOrDepartmentCodeSequence',\n    '00400100': 'ScheduledProcedureStepSequence',\n    '00400220': 'ReferencedNonImageCompositeSOPInstanceSequence',\n    '00400241': 'PerformedStationAETitle',\n    '00400242': 'PerformedStationName',\n    '00400243': 'PerformedLocation',\n    '00400244': 'PerformedProcedureStepStartDate',\n    '00400245': 'PerformedProcedureStepStartTime',\n    '00400250': 'PerformedProcedureStepEndDate',\n    '00400251': 'PerformedProcedureStepEndTime',\n    '00400252': 'PerformedProcedureStepStatus',\n    '00400253': 'PerformedProcedureStepID',\n    '00400254': 'PerformedProcedureStepDescription',\n    '00400255': 'PerformedProcedureTypeDescription',\n    '00400260': 'PerformedProtocolCodeSequence',\n    '00400261': 'PerformedProtocolType',\n    '00400270': 'ScheduledStepAttributesSequence',\n    '00400275': 'RequestAttributesSequence',\n    '00400280': 'CommentsOnThePerformedProcedureStep',\n    '00400281': 'PerformedProcedureStepDiscontinuationReasonCodeSequence',\n    '00400293': 'QuantitySequence',\n    '00400294': 'Quantity',\n    '00400295': 'MeasuringUnitsSequence',\n    '00400296': 'BillingItemSequence',\n    '00400300': 'TotalTimeOfFluoroscopy',\n    '00400301': 'TotalNumberOfExposures',\n    '00400302': 'EntranceDose',\n    '00400303': 'ExposedArea',\n    '00400306': 'DistanceSourceToEntrance',\n    '00400307': 'DistanceSourceToSupport',\n    '0040030E': 'ExposureDoseSequence',\n    '00400310': 'CommentsOnRadiationDose',\n    '00400312': 'XRayOutput',\n    '00400314': 'HalfValueLayer',\n    '00400316': 'OrganDose',\n    '00400318': 'OrganExposed',\n    '00400320': 'BillingProcedureStepSequence',\n    '00400321': 'FilmConsumptionSequence',\n    '00400324': 'BillingSuppliesAndDevicesSequence',\n    '00400330': 'ReferencedProcedureStepSequence',\n    '00400340': 'PerformedSeriesSequence',\n    '00400400': 'CommentsOnTheScheduledProcedureStep',\n    '00400440': 'ProtocolContextSequence',\n    '00400441': 'ContentItemModifierSequence',\n    '00400500': 'ScheduledSpecimenSequence',\n    '0040050A': 'SpecimenAccessionNumber',\n    '00400512': 'ContainerIdentifier',\n    '00400513': 'IssuerOfTheContainerIdentifierSequence',\n    '00400515': 'AlternateContainerIdentifierSequence',\n    '00400518': 'ContainerTypeCodeSequence',\n    '0040051A': 'ContainerDescription',\n    '00400520': 'ContainerComponentSequence',\n    '00400550': 'SpecimenSequence',\n    '00400551': 'SpecimenIdentifier',\n    '00400552': 'SpecimenDescriptionSequenceTrial',\n    '00400553': 'SpecimenDescriptionTrial',\n    '00400554': 'SpecimenUID',\n    '00400555': 'AcquisitionContextSequence',\n    '00400556': 'AcquisitionContextDescription',\n    '00400560': 'SpecimenDescriptionSequence',\n    '00400562': 'IssuerOfTheSpecimenIdentifierSequence',\n    '0040059A': 'SpecimenTypeCodeSequence',\n    '00400600': 'SpecimenShortDescription',\n    '00400602': 'SpecimenDetailedDescription',\n    '00400610': 'SpecimenPreparationSequence',\n    '00400612': 'SpecimenPreparationStepContentItemSequence',\n    '00400620': 'SpecimenLocalizationContentItemSequence',\n    '004006FA': 'SlideIdentifier',\n    '00400710': 'WholeSlideMicroscopyImageFrameTypeSequence',\n    '0040071A': 'ImageCenterPointCoordinatesSequence',\n    '0040072A': 'XOffsetInSlideCoordinateSystem',\n    '0040073A': 'YOffsetInSlideCoordinateSystem',\n    '0040074A': 'ZOffsetInSlideCoordinateSystem',\n    '004008D8': 'PixelSpacingSequence',\n    '004008DA': 'CoordinateSystemAxisCodeSequence',\n    '004008EA': 'MeasurementUnitsCodeSequence',\n    '004009F8': 'VitalStainCodeSequenceTrial',\n    '00401001': 'RequestedProcedureID',\n    '00401002': 'ReasonForTheRequestedProcedure',\n    '00401003': 'RequestedProcedurePriority',\n    '00401004': 'PatientTransportArrangements',\n    '00401005': 'RequestedProcedureLocation',\n    '00401006': 'PlacerOrderNumberProcedure',\n    '00401007': 'FillerOrderNumberProcedure',\n    '00401008': 'ConfidentialityCode',\n    '00401009': 'ReportingPriority',\n    '0040100A': 'ReasonForRequestedProcedureCodeSequence',\n    '00401010': 'NamesOfIntendedRecipientsOfResults',\n    '00401011': 'IntendedRecipientsOfResultsIdentificationSequence',\n    '00401012': 'ReasonForPerformedProcedureCodeSequence',\n    '00401060': 'RequestedProcedureDescriptionTrial',\n    '00401101': 'PersonIdentificationCodeSequence',\n    '00401102': 'PersonAddress',\n    '00401103': 'PersonTelephoneNumbers',\n    '00401104': 'PersonTelecomInformation',\n    '00401400': 'RequestedProcedureComments',\n    '00402001': 'ReasonForTheImagingServiceRequest',\n    '00402004': 'IssueDateOfImagingServiceRequest',\n    '00402005': 'IssueTimeOfImagingServiceRequest',\n    '00402006': 'PlacerOrderNumberImagingServiceRequestRetired',\n    '00402007': 'FillerOrderNumberImagingServiceRequestRetired',\n    '00402008': 'OrderEnteredBy',\n    '00402009': 'OrderEntererLocation',\n    '00402010': 'OrderCallbackPhoneNumber',\n    '00402011': 'OrderCallbackTelecomInformation',\n    '00402016': 'PlacerOrderNumberImagingServiceRequest',\n    '00402017': 'FillerOrderNumberImagingServiceRequest',\n    '00402400': 'ImagingServiceRequestComments',\n    '00403001': 'ConfidentialityConstraintOnPatientDataDescription',\n    '00404001': 'GeneralPurposeScheduledProcedureStepStatus',\n    '00404002': 'GeneralPurposePerformedProcedureStepStatus',\n    '00404003': 'GeneralPurposeScheduledProcedureStepPriority',\n    '00404004': 'ScheduledProcessingApplicationsCodeSequence',\n    '00404005': 'ScheduledProcedureStepStartDateTime',\n    '00404006': 'MultipleCopiesFlag',\n    '00404007': 'PerformedProcessingApplicationsCodeSequence',\n    '00404008': 'ScheduledProcedureStepExpirationDateTime',\n    '00404009': 'HumanPerformerCodeSequence',\n    '00404010': 'ScheduledProcedureStepModificationDateTime',\n    '00404011': 'ExpectedCompletionDateTime',\n    '00404015': 'ResultingGeneralPurposePerformedProcedureStepsSequence',\n    '00404016': 'ReferencedGeneralPurposeScheduledProcedureStepSequence',\n    '00404018': 'ScheduledWorkitemCodeSequence',\n    '00404019': 'PerformedWorkitemCodeSequence',\n    '00404020': 'InputAvailabilityFlag',\n    '00404021': 'InputInformationSequence',\n    '00404022': 'RelevantInformationSequence',\n    '00404023': 'ReferencedGeneralPurposeScheduledProcedureStepTransactionUID',\n    '00404025': 'ScheduledStationNameCodeSequence',\n    '00404026': 'ScheduledStationClassCodeSequence',\n    '00404027': 'ScheduledStationGeographicLocationCodeSequence',\n    '00404028': 'PerformedStationNameCodeSequence',\n    '00404029': 'PerformedStationClassCodeSequence',\n    '00404030': 'PerformedStationGeographicLocationCodeSequence',\n    '00404031': 'RequestedSubsequentWorkitemCodeSequence',\n    '00404032': 'NonDICOMOutputCodeSequence',\n    '00404033': 'OutputInformationSequence',\n    '00404034': 'ScheduledHumanPerformersSequence',\n    '00404035': 'ActualHumanPerformersSequence',\n    '00404036': 'HumanPerformerOrganization',\n    '00404037': 'HumanPerformerName',\n    '00404040': 'RawDataHandling',\n    '00404041': 'InputReadinessState',\n    '00404050': 'PerformedProcedureStepStartDateTime',\n    '00404051': 'PerformedProcedureStepEndDateTime',\n    '00404052': 'ProcedureStepCancellationDateTime',\n    '00404070': 'OutputDestinationSequence',\n    '00404071': 'DICOMStorageSequence',\n    '00404072': 'STOWRSStorageSequence',\n    '00404073': 'StorageURL',\n    '00404074': 'XDSStorageSequence',\n    '00408302': 'EntranceDoseInmGy',\n    '00408303': 'EntranceDoseDerivation',\n    '00409092': 'ParametricMapFrameTypeSequence',\n    '00409094': 'ReferencedImageRealWorldValueMappingSequence',\n    '00409096': 'RealWorldValueMappingSequence',\n    '00409098': 'PixelValueMappingCodeSequence',\n    '00409210': 'LUTLabel',\n    '00409211': 'RealWorldValueLastValueMapped',\n    '00409212': 'RealWorldValueLUTData',\n    '00409213': 'DoubleFloatRealWorldValueLastValueMapped',\n    '00409214': 'DoubleFloatRealWorldValueFirstValueMapped',\n    '00409216': 'RealWorldValueFirstValueMapped',\n    '00409220': 'QuantityDefinitionSequence',\n    '00409224': 'RealWorldValueIntercept',\n    '00409225': 'RealWorldValueSlope',\n    '0040A007': 'FindingsFlagTrial',\n    '0040A010': 'RelationshipType',\n    '0040A020': 'FindingsSequenceTrial',\n    '0040A021': 'FindingsGroupUIDTrial',\n    '0040A022': 'ReferencedFindingsGroupUIDTrial',\n    '0040A023': 'FindingsGroupRecordingDateTrial',\n    '0040A024': 'FindingsGroupRecordingTimeTrial',\n    '0040A026': 'FindingsSourceCategoryCodeSequenceTrial',\n    '0040A027': 'VerifyingOrganization',\n    '0040A028': 'DocumentingOrganizationIdentifierCodeSequenceTrial',\n    '0040A030': 'VerificationDateTime',\n    '0040A032': 'ObservationDateTime',\n    '0040A040': 'ValueType',\n    '0040A043': 'ConceptNameCodeSequence',\n    '0040A047': 'MeasurementPrecisionDescriptionTrial',\n    '0040A050': 'ContinuityOfContent',\n    '0040A057': 'UrgencyOrPriorityAlertsTrial',\n    '0040A060': 'SequencingIndicatorTrial',\n    '0040A066': 'DocumentIdentifierCodeSequenceTrial',\n    '0040A067': 'DocumentAuthorTrial',\n    '0040A068': 'DocumentAuthorIdentifierCodeSequenceTrial',\n    '0040A070': 'IdentifierCodeSequenceTrial',\n    '0040A073': 'VerifyingObserverSequence',\n    '0040A074': 'ObjectBinaryIdentifierTrial',\n    '0040A075': 'VerifyingObserverName',\n    '0040A076': 'DocumentingObserverIdentifierCodeSequenceTrial',\n    '0040A078': 'AuthorObserverSequence',\n    '0040A07A': 'ParticipantSequence',\n    '0040A07C': 'CustodialOrganizationSequence',\n    '0040A080': 'ParticipationType',\n    '0040A082': 'ParticipationDateTime',\n    '0040A084': 'ObserverType',\n    '0040A085': 'ProcedureIdentifierCodeSequenceTrial',\n    '0040A088': 'VerifyingObserverIdentificationCodeSequence',\n    '0040A089': 'ObjectDirectoryBinaryIdentifierTrial',\n    '0040A090': 'EquivalentCDADocumentSequence',\n    '0040A0B0': 'ReferencedWaveformChannels',\n    '0040A110': 'DateOfDocumentOrVerbalTransactionTrial',\n    '0040A112': 'TimeOfDocumentCreationOrVerbalTransactionTrial',\n    '0040A120': 'DateTime',\n    '0040A121': 'Date',\n    '0040A122': 'Time',\n    '0040A123': 'PersonName',\n    '0040A124': 'UID',\n    '0040A125': 'ReportStatusIDTrial',\n    '0040A130': 'TemporalRangeType',\n    '0040A132': 'ReferencedSamplePositions',\n    '0040A136': 'ReferencedFrameNumbers',\n    '0040A138': 'ReferencedTimeOffsets',\n    '0040A13A': 'ReferencedDateTime',\n    '0040A160': 'TextValue',\n    '0040A161': 'FloatingPointValue',\n    '0040A162': 'RationalNumeratorValue',\n    '0040A163': 'RationalDenominatorValue',\n    '0040A167': 'ObservationCategoryCodeSequenceTrial',\n    '0040A168': 'ConceptCodeSequence',\n    '0040A16A': 'BibliographicCitationTrial',\n    '0040A170': 'PurposeOfReferenceCodeSequence',\n    '0040A171': 'ObservationUID',\n    '0040A172': 'ReferencedObservationUIDTrial',\n    '0040A173': 'ReferencedObservationClassTrial',\n    '0040A174': 'ReferencedObjectObservationClassTrial',\n    '0040A180': 'AnnotationGroupNumber',\n    '0040A192': 'ObservationDateTrial',\n    '0040A193': 'ObservationTimeTrial',\n    '0040A194': 'MeasurementAutomationTrial',\n    '0040A195': 'ModifierCodeSequence',\n    '0040A224': 'IdentificationDescriptionTrial',\n    '0040A290': 'CoordinatesSetGeometricTypeTrial',\n    '0040A296': 'AlgorithmCodeSequenceTrial',\n    '0040A297': 'AlgorithmDescriptionTrial',\n    '0040A29A': 'PixelCoordinatesSetTrial',\n    '0040A300': 'MeasuredValueSequence',\n    '0040A301': 'NumericValueQualifierCodeSequence',\n    '0040A307': 'CurrentObserverTrial',\n    '0040A30A': 'NumericValue',\n    '0040A313': 'ReferencedAccessionSequenceTrial',\n    '0040A33A': 'ReportStatusCommentTrial',\n    '0040A340': 'ProcedureContextSequenceTrial',\n    '0040A352': 'VerbalSourceTrial',\n    '0040A353': 'AddressTrial',\n    '0040A354': 'TelephoneNumberTrial',\n    '0040A358': 'VerbalSourceIdentifierCodeSequenceTrial',\n    '0040A360': 'PredecessorDocumentsSequence',\n    '0040A370': 'ReferencedRequestSequence',\n    '0040A372': 'PerformedProcedureCodeSequence',\n    '0040A375': 'CurrentRequestedProcedureEvidenceSequence',\n    '0040A380': 'ReportDetailSequenceTrial',\n    '0040A385': 'PertinentOtherEvidenceSequence',\n    '0040A390': ('HL7StructuredDocumentReferenceSequence'),\n    '0040A402': 'ObservationSubjectUIDTrial',\n    '0040A403': 'ObservationSubjectClassTrial',\n    '0040A404': 'ObservationSubjectTypeCodeSequenceTrial',\n    '0040A491': 'CompletionFlag',\n    '0040A492': 'CompletionFlagDescription',\n    '0040A493': 'VerificationFlag',\n    '0040A494': 'ArchiveRequested',\n    '0040A496': 'PreliminaryFlag',\n    '0040A504': 'ContentTemplateSequence',\n    '0040A525': 'IdenticalDocumentsSequence',\n    '0040A600': 'ObservationSubjectContextFlagTrial',\n    '0040A601': 'ObserverContextFlagTrial',\n    '0040A603': 'ProcedureContextFlagTrial',\n    '0040A730': 'ContentSequence',\n    '0040A731': 'RelationshipSequenceTrial',\n    '0040A732': 'RelationshipTypeCodeSequenceTrial',\n    '0040A744': 'LanguageCodeSequenceTrial',\n    '0040A992': 'UniformResourceLocatorTrial',\n    '0040B020': 'WaveformAnnotationSequence',\n    '0040DB00': 'TemplateIdentifier',\n    '0040DB06': 'TemplateVersion',\n    '0040DB07': 'TemplateLocalVersion',\n    '0040DB0B': 'TemplateExtensionFlag',\n    '0040DB0C': 'TemplateExtensionOrganizationUID',\n    '0040DB0D': 'TemplateExtensionCreatorUID',\n    '0040DB73': 'ReferencedContentItemIdentifier',\n    '0040E001': ('HL7InstanceIdentifier'),\n    '0040E004': ('HL7DocumentEffectiveTime'),\n    '0040E006': ('HL7DocumentTypeCodeSequence'),\n    '0040E008': 'DocumentClassCodeSequence',\n    '0040E010': 'RetrieveURI',\n    '0040E011': 'RetrieveLocationUID',\n    '0040E020': 'TypeOfInstances',\n    '0040E021': 'DICOMRetrievalSequence',\n    '0040E022': 'DICOMMediaRetrievalSequence',\n    '0040E023': 'WADORetrievalSequence',\n    '0040E024': 'XDSRetrievalSequence',\n    '0040E025': 'WADORSRetrievalSequence',\n    '0040E030': 'RepositoryUniqueID',\n    '0040E031': 'HomeCommunityID',\n    '00420010': 'DocumentTitle',\n    '00420011': 'EncapsulatedDocument',\n    '00420012': 'MIMETypeOfEncapsulatedDocument',\n    '00420013': 'SourceInstanceSequence',\n    '00420014': 'ListOfMIMETypes',\n    '00440001': 'ProductPackageIdentifier',\n    '00440002': 'SubstanceAdministrationApproval',\n    '00440003': 'ApprovalStatusFurtherDescription',\n    '00440004': 'ApprovalStatusDateTime',\n    '00440007': 'ProductTypeCodeSequence',\n    '00440008': 'ProductName',\n    '00440009': 'ProductDescription',\n    '0044000A': 'ProductLotIdentifier',\n    '0044000B': 'ProductExpirationDateTime',\n    '00440010': 'SubstanceAdministrationDateTime',\n    '00440011': 'SubstanceAdministrationNotes',\n    '00440012': 'SubstanceAdministrationDeviceID',\n    '00440013': 'ProductParameterSequence',\n    '00440019': 'SubstanceAdministrationParameterSequence',\n    '00440100': 'ApprovalSequence',\n    '00440101': 'AssertionCodeSequence',\n    '00440102': 'AssertionUID',\n    '00440103': 'AsserterIdentificationSequence',\n    '00440104': 'AssertionDateTime',\n    '00440105': 'AssertionExpirationDateTime',\n    '00440106': 'AssertionComments',\n    '00440107': 'RelatedAssertionSequence',\n    '00440108': 'ReferencedAssertionUID',\n    '00440109': 'ApprovalSubjectSequence',\n    '0044010A': 'OrganizationalRoleCodeSequence',\n    '00460012': 'LensDescription',\n    '00460014': 'RightLensSequence',\n    '00460015': 'LeftLensSequence',\n    '00460016': 'UnspecifiedLateralityLensSequence',\n    '00460018': 'CylinderSequence',\n    '00460028': 'PrismSequence',\n    '00460030': 'HorizontalPrismPower',\n    '00460032': 'HorizontalPrismBase',\n    '00460034': 'VerticalPrismPower',\n    '00460036': 'VerticalPrismBase',\n    '00460038': 'LensSegmentType',\n    '00460040': 'OpticalTransmittance',\n    '00460042': 'ChannelWidth',\n    '00460044': 'PupilSize',\n    '00460046': 'CornealSize',\n    '00460050': 'AutorefractionRightEyeSequence',\n    '00460052': 'AutorefractionLeftEyeSequence',\n    '00460060': 'DistancePupillaryDistance',\n    '00460062': 'NearPupillaryDistance',\n    '00460063': 'IntermediatePupillaryDistance',\n    '00460064': 'OtherPupillaryDistance',\n    '00460070': 'KeratometryRightEyeSequence',\n    '00460071': 'KeratometryLeftEyeSequence',\n    '00460074': 'SteepKeratometricAxisSequence',\n    '00460075': 'RadiusOfCurvature',\n    '00460076': 'KeratometricPower',\n    '00460077': 'KeratometricAxis',\n    '00460080': 'FlatKeratometricAxisSequence',\n    '00460092': 'BackgroundColor',\n    '00460094': 'Optotype',\n    '00460095': 'OptotypePresentation',\n    '00460097': 'SubjectiveRefractionRightEyeSequence',\n    '00460098': 'SubjectiveRefractionLeftEyeSequence',\n    '00460100': 'AddNearSequence',\n    '00460101': 'AddIntermediateSequence',\n    '00460102': 'AddOtherSequence',\n    '00460104': 'AddPower',\n    '00460106': 'ViewingDistance',\n    '00460121': 'VisualAcuityTypeCodeSequence',\n    '00460122': 'VisualAcuityRightEyeSequence',\n    '00460123': 'VisualAcuityLeftEyeSequence',\n    '00460124': 'VisualAcuityBothEyesOpenSequence',\n    '00460125': 'ViewingDistanceType',\n    '00460135': 'VisualAcuityModifiers',\n    '00460137': 'DecimalVisualAcuity',\n    '00460139': 'OptotypeDetailedDefinition',\n    '00460145': 'ReferencedRefractiveMeasurementsSequence',\n    '00460146': 'SpherePower',\n    '00460147': 'CylinderPower',\n    '00460201': 'CornealTopographySurface',\n    '00460202': 'CornealVertexLocation',\n    '00460203': 'PupilCentroidXCoordinate',\n    '00460204': 'PupilCentroidYCoordinate',\n    '00460205': 'EquivalentPupilRadius',\n    '00460207': 'CornealTopographyMapTypeCodeSequence',\n    '00460208': 'VerticesOfTheOutlineOfPupil',\n    '00460210': 'CornealTopographyMappingNormalsSequence',\n    '00460211': 'MaximumCornealCurvatureSequence',\n    '00460212': 'MaximumCornealCurvature',\n    '00460213': 'MaximumCornealCurvatureLocation',\n    '00460215': 'MinimumKeratometricSequence',\n    '00460218': 'SimulatedKeratometricCylinderSequence',\n    '00460220': 'AverageCornealPower',\n    '00460224': 'CornealISValue',\n    '00460227': 'AnalyzedArea',\n    '00460230': 'SurfaceRegularityIndex',\n    '00460232': 'SurfaceAsymmetryIndex',\n    '00460234': 'CornealEccentricityIndex',\n    '00460236': 'KeratoconusPredictionIndex',\n    '00460238': 'DecimalPotentialVisualAcuity',\n    '00460242': 'CornealTopographyMapQualityEvaluation',\n    '00460244': 'SourceImageCornealProcessedDataSequence',\n    '00460247': 'CornealPointLocation',\n    '00460248': 'CornealPointEstimated',\n    '00460249': 'AxialPower',\n    '00460250': 'TangentialPower',\n    '00460251': 'RefractivePower',\n    '00460252': 'RelativeElevation',\n    '00460253': 'CornealWavefront',\n    '00480001': 'ImagedVolumeWidth',\n    '00480002': 'ImagedVolumeHeight',\n    '00480003': 'ImagedVolumeDepth',\n    '00480006': 'TotalPixelMatrixColumns',\n    '00480007': 'TotalPixelMatrixRows',\n    '00480008': 'TotalPixelMatrixOriginSequence',\n    '00480010': 'SpecimenLabelInImage',\n    '00480011': 'FocusMethod',\n    '00480012': 'ExtendedDepthOfField',\n    '00480013': 'NumberOfFocalPlanes',\n    '00480014': 'DistanceBetweenFocalPlanes',\n    '00480015': 'RecommendedAbsentPixelCIELabValue',\n    '00480100': 'IlluminatorTypeCodeSequence',\n    '00480102': 'ImageOrientationSlide',\n    '00480105': 'OpticalPathSequence',\n    '00480106': 'OpticalPathIdentifier',\n    '00480107': 'OpticalPathDescription',\n    '00480108': 'IlluminationColorCodeSequence',\n    '00480110': 'SpecimenReferenceSequence',\n    '00480111': 'CondenserLensPower',\n    '00480112': 'ObjectiveLensPower',\n    '00480113': 'ObjectiveLensNumericalAperture',\n    '00480120': 'PaletteColorLookupTableSequence',\n    '00480200': 'ReferencedImageNavigationSequence',\n    '00480201': 'TopLeftHandCornerOfLocalizerArea',\n    '00480202': 'BottomRightHandCornerOfLocalizerArea',\n    '00480207': 'OpticalPathIdentificationSequence',\n    '0048021A': 'PlanePositionSlideSequence',\n    '0048021E': 'ColumnPositionInTotalImagePixelMatrix',\n    '0048021F': 'RowPositionInTotalImagePixelMatrix',\n    '00480301': 'PixelOriginInterpretation',\n    '00480302': 'NumberOfOpticalPaths',\n    '00480303': 'TotalPixelMatrixFocalPlanes',\n    '00500004': 'CalibrationImage',\n    '00500010': 'DeviceSequence',\n    '00500012': 'ContainerComponentTypeCodeSequence',\n    '00500013': 'ContainerComponentThickness',\n    '00500014': 'DeviceLength',\n    '00500015': 'ContainerComponentWidth',\n    '00500016': 'DeviceDiameter',\n    '00500017': 'DeviceDiameterUnits',\n    '00500018': 'DeviceVolume',\n    '00500019': 'InterMarkerDistance',\n    '0050001A': 'ContainerComponentMaterial',\n    '0050001B': 'ContainerComponentID',\n    '0050001C': 'ContainerComponentLength',\n    '0050001D': 'ContainerComponentDiameter',\n    '0050001E': 'ContainerComponentDescription',\n    '00500020': 'DeviceDescription',\n    '00520001': 'ContrastBolusIngredientPercentByVolume',\n    '00520002': 'OCTFocalDistance',\n    '00520003': 'BeamSpotSize',\n    '00520004': 'EffectiveRefractiveIndex',\n    '00520006': 'OCTAcquisitionDomain',\n    '00520007': 'OCTOpticalCenterWavelength',\n    '00520008': 'AxialResolution',\n    '00520009': 'RangingDepth',\n    '00520011': 'ALineRate',\n    '00520012': 'ALinesPerFrame',\n    '00520013': 'CatheterRotationalRate',\n    '00520014': 'ALinePixelSpacing',\n    '00520016': 'ModeOfPercutaneousAccessSequence',\n    '00520025': 'IntravascularOCTFrameTypeSequence',\n    '00520026': 'OCTZOffsetApplied',\n    '00520027': 'IntravascularFrameContentSequence',\n    '00520028': 'IntravascularLongitudinalDistance',\n    '00520029': 'IntravascularOCTFrameContentSequence',\n    '00520030': 'OCTZOffsetCorrection',\n    '00520031': 'CatheterDirectionOfRotation',\n    '00520033': 'SeamLineLocation',\n    '00520034': 'FirstALineLocation',\n    '00520036': 'SeamLineIndex',\n    '00520038': 'NumberOfPaddedALines',\n    '00520039': 'InterpolationType',\n    '0052003A': 'RefractiveIndexApplied',\n    '00540010': 'EnergyWindowVector',\n    '00540011': 'NumberOfEnergyWindows',\n    '00540012': 'EnergyWindowInformationSequence',\n    '00540013': 'EnergyWindowRangeSequence',\n    '00540014': 'EnergyWindowLowerLimit',\n    '00540015': 'EnergyWindowUpperLimit',\n    '00540016': 'RadiopharmaceuticalInformationSequence',\n    '00540017': 'ResidualSyringeCounts',\n    '00540018': 'EnergyWindowName',\n    '00540020': 'DetectorVector',\n    '00540021': 'NumberOfDetectors',\n    '00540022': 'DetectorInformationSequence',\n    '00540030': 'PhaseVector',\n    '00540031': 'NumberOfPhases',\n    '00540032': 'PhaseInformationSequence',\n    '00540033': 'NumberOfFramesInPhase',\n    '00540036': 'PhaseDelay',\n    '00540038': 'PauseBetweenFrames',\n    '00540039': 'PhaseDescription',\n    '00540050': 'RotationVector',\n    '00540051': 'NumberOfRotations',\n    '00540052': 'RotationInformationSequence',\n    '00540053': 'NumberOfFramesInRotation',\n    '00540060': 'RRIntervalVector',\n    '00540061': 'NumberOfRRIntervals',\n    '00540062': 'GatedInformationSequence',\n    '00540063': 'DataInformationSequence',\n    '00540070': 'TimeSlotVector',\n    '00540071': 'NumberOfTimeSlots',\n    '00540072': 'TimeSlotInformationSequence',\n    '00540073': 'TimeSlotTime',\n    '00540080': 'SliceVector',\n    '00540081': 'NumberOfSlices',\n    '00540090': 'AngularViewVector',\n    '00540100': 'TimeSliceVector',\n    '00540101': 'NumberOfTimeSlices',\n    '00540200': 'StartAngle',\n    '00540202': 'TypeOfDetectorMotion',\n    '00540210': 'TriggerVector',\n    '00540211': 'NumberOfTriggersInPhase',\n    '00540220': 'ViewCodeSequence',\n    '00540222': 'ViewModifierCodeSequence',\n    '00540300': 'RadionuclideCodeSequence',\n    '00540302': 'AdministrationRouteCodeSequence',\n    '00540304': 'RadiopharmaceuticalCodeSequence',\n    '00540306': 'CalibrationDataSequence',\n    '00540308': 'EnergyWindowNumber',\n    '00540400': 'ImageID',\n    '00540410': 'PatientOrientationCodeSequence',\n    '00540412': 'PatientOrientationModifierCodeSequence',\n    '00540414': 'PatientGantryRelationshipCodeSequence',\n    '00540500': 'SliceProgressionDirection',\n    '00540501': 'ScanProgressionDirection',\n    '00541000': 'SeriesType',\n    '00541001': 'Units',\n    '00541002': 'CountsSource',\n    '00541004': 'ReprojectionMethod',\n    '00541006': 'SUVType',\n    '00541100': 'RandomsCorrectionMethod',\n    '00541101': 'AttenuationCorrectionMethod',\n    '00541102': 'DecayCorrection',\n    '00541103': 'ReconstructionMethod',\n    '00541104': 'DetectorLinesOfResponseUsed',\n    '00541105': 'ScatterCorrectionMethod',\n    '00541200': 'AxialAcceptance',\n    '00541201': 'AxialMash',\n    '00541202': 'TransverseMash',\n    '00541203': 'DetectorElementSize',\n    '00541210': 'CoincidenceWindowWidth',\n    '00541220': 'SecondaryCountsType',\n    '00541300': 'FrameReferenceTime',\n    '00541310': 'PrimaryPromptsCountsAccumulated',\n    '00541311': 'SecondaryCountsAccumulated',\n    '00541320': 'SliceSensitivityFactor',\n    '00541321': 'DecayFactor',\n    '00541322': 'DoseCalibrationFactor',\n    '00541323': 'ScatterFractionFactor',\n    '00541324': 'DeadTimeFactor',\n    '00541330': 'ImageIndex',\n    '00541400': 'CountsIncluded',\n    '00541401': 'DeadTimeCorrectionFlag',\n    '00603000': 'HistogramSequence',\n    '00603002': 'HistogramNumberOfBins',\n    '00603004': 'HistogramFirstBinValue',\n    '00603006': 'HistogramLastBinValue',\n    '00603008': 'HistogramBinWidth',\n    '00603010': 'HistogramExplanation',\n    '00603020': 'HistogramData',\n    '00620001': 'SegmentationType',\n    '00620002': 'SegmentSequence',\n    '00620003': 'SegmentedPropertyCategoryCodeSequence',\n    '00620004': 'SegmentNumber',\n    '00620005': 'SegmentLabel',\n    '00620006': 'SegmentDescription',\n    '00620007': 'SegmentationAlgorithmIdentificationSequence',\n    '00620008': 'SegmentAlgorithmType',\n    '00620009': 'SegmentAlgorithmName',\n    '0062000A': 'SegmentIdentificationSequence',\n    '0062000B': 'ReferencedSegmentNumber',\n    '0062000C': 'RecommendedDisplayGrayscaleValue',\n    '0062000D': 'RecommendedDisplayCIELabValue',\n    '0062000E': 'MaximumFractionalValue',\n    '0062000F': 'SegmentedPropertyTypeCodeSequence',\n    '00620010': 'SegmentationFractionalType',\n    '00620011': 'SegmentedPropertyTypeModifierCodeSequence',\n    '00620012': 'UsedSegmentsSequence',\n    '00620020': 'TrackingID',\n    '00620021': 'TrackingUID',\n    '00640002': 'DeformableRegistrationSequence',\n    '00640003': 'SourceFrameOfReferenceUID',\n    '00640005': 'DeformableRegistrationGridSequence',\n    '00640007': 'GridDimensions',\n    '00640008': 'GridResolution',\n    '00640009': 'VectorGridData',\n    '0064000F': 'PreDeformationMatrixRegistrationSequence',\n    '00640010': 'PostDeformationMatrixRegistrationSequence',\n    '00660001': 'NumberOfSurfaces',\n    '00660002': 'SurfaceSequence',\n    '00660003': 'SurfaceNumber',\n    '00660004': 'SurfaceComments',\n    '00660009': 'SurfaceProcessing',\n    '0066000A': 'SurfaceProcessingRatio',\n    '0066000B': 'SurfaceProcessingDescription',\n    '0066000C': 'RecommendedPresentationOpacity',\n    '0066000D': 'RecommendedPresentationType',\n    '0066000E': 'FiniteVolume',\n    '00660010': 'Manifold',\n    '00660011': 'SurfacePointsSequence',\n    '00660012': 'SurfacePointsNormalsSequence',\n    '00660013': 'SurfaceMeshPrimitivesSequence',\n    '00660015': 'NumberOfSurfacePoints',\n    '00660016': 'PointCoordinatesData',\n    '00660017': 'PointPositionAccuracy',\n    '00660018': 'MeanPointDistance',\n    '00660019': 'MaximumPointDistance',\n    '0066001A': 'PointsBoundingBoxCoordinates',\n    '0066001B': 'AxisOfRotation',\n    '0066001C': 'CenterOfRotation',\n    '0066001E': 'NumberOfVectors',\n    '0066001F': 'VectorDimensionality',\n    '00660020': 'VectorAccuracy',\n    '00660021': 'VectorCoordinateData',\n    '00660023': 'TrianglePointIndexList',\n    '00660024': 'EdgePointIndexList',\n    '00660025': 'VertexPointIndexList',\n    '00660026': 'TriangleStripSequence',\n    '00660027': 'TriangleFanSequence',\n    '00660028': 'LineSequence',\n    '00660029': 'PrimitivePointIndexList',\n    '0066002A': 'SurfaceCount',\n    '0066002B': 'ReferencedSurfaceSequence',\n    '0066002C': 'ReferencedSurfaceNumber',\n    '0066002D': 'SegmentSurfaceGenerationAlgorithmIdentificationSequence',\n    '0066002E': 'SegmentSurfaceSourceInstanceSequence',\n    '0066002F': 'AlgorithmFamilyCodeSequence',\n    '00660030': 'AlgorithmNameCodeSequence',\n    '00660031': 'AlgorithmVersion',\n    '00660032': 'AlgorithmParameters',\n    '00660034': 'FacetSequence',\n    '00660035': 'SurfaceProcessingAlgorithmIdentificationSequence',\n    '00660036': 'AlgorithmName',\n    '00660037': 'RecommendedPointRadius',\n    '00660038': 'RecommendedLineThickness',\n    '00660040': 'LongPrimitivePointIndexList',\n    '00660041': 'LongTrianglePointIndexList',\n    '00660042': 'LongEdgePointIndexList',\n    '00660043': 'LongVertexPointIndexList',\n    '00660101': 'TrackSetSequence',\n    '00660102': 'TrackSequence',\n    '00660103': 'RecommendedDisplayCIELabValueList',\n    '00660104': 'TrackingAlgorithmIdentificationSequence',\n    '00660105': 'TrackSetNumber',\n    '00660106': 'TrackSetLabel',\n    '00660107': 'TrackSetDescription',\n    '00660108': 'TrackSetAnatomicalTypeCodeSequence',\n    '00660121': 'MeasurementsSequence',\n    '00660124': 'TrackSetStatisticsSequence',\n    '00660125': 'FloatingPointValues',\n    '00660129': 'TrackPointIndexList',\n    '00660130': 'TrackStatisticsSequence',\n    '00660132': 'MeasurementValuesSequence',\n    '00660133': 'DiffusionAcquisitionCodeSequence',\n    '00660134': 'DiffusionModelCodeSequence',\n    '00686210': 'ImplantSize',\n    '00686221': 'ImplantTemplateVersion',\n    '00686222': 'ReplacedImplantTemplateSequence',\n    '00686223': 'ImplantType',\n    '00686224': 'DerivationImplantTemplateSequence',\n    '00686225': 'OriginalImplantTemplateSequence',\n    '00686226': 'EffectiveDateTime',\n    '00686230': 'ImplantTargetAnatomySequence',\n    '00686260': 'InformationFromManufacturerSequence',\n    '00686265': 'NotificationFromManufacturerSequence',\n    '00686270': 'InformationIssueDateTime',\n    '00686280': 'InformationSummary',\n    '006862A0': 'ImplantRegulatoryDisapprovalCodeSequence',\n    '006862A5': 'OverallTemplateSpatialTolerance',\n    '006862C0': 'HPGLDocumentSequence',\n    '006862D0': 'HPGLDocumentID',\n    '006862D5': 'HPGLDocumentLabel',\n    '006862E0': 'ViewOrientationCodeSequence',\n    '006862F0': 'ViewOrientationModifierCodeSequence',\n    '006862F2': 'HPGLDocumentScaling',\n    '00686300': 'HPGLDocument',\n    '00686310': 'HPGLContourPenNumber',\n    '00686320': 'HPGLPenSequence',\n    '00686330': 'HPGLPenNumber',\n    '00686340': 'HPGLPenLabel',\n    '00686345': 'HPGLPenDescription',\n    '00686346': 'RecommendedRotationPoint',\n    '00686347': 'BoundingRectangle',\n    '00686350': ('ImplantTemplate3DModelSurfaceNumber'),\n    '00686360': 'SurfaceModelDescriptionSequence',\n    '00686380': 'SurfaceModelLabel',\n    '00686390': 'SurfaceModelScalingFactor',\n    '006863A0': 'MaterialsCodeSequence',\n    '006863A4': 'CoatingMaterialsCodeSequence',\n    '006863A8': 'ImplantTypeCodeSequence',\n    '006863AC': 'FixationMethodCodeSequence',\n    '006863B0': 'MatingFeatureSetsSequence',\n    '006863C0': 'MatingFeatureSetID',\n    '006863D0': 'MatingFeatureSetLabel',\n    '006863E0': 'MatingFeatureSequence',\n    '006863F0': 'MatingFeatureID',\n    '00686400': 'MatingFeatureDegreeOfFreedomSequence',\n    '00686410': 'DegreeOfFreedomID',\n    '00686420': 'DegreeOfFreedomType',\n    '00686430': 'TwoDMatingFeatureCoordinatesSequence',\n    '00686440': 'ReferencedHPGLDocumentID',\n    '00686450': 'TwoDMatingPoint',\n    '00686460': 'TwoDMatingAxes',\n    '00686470': 'TwoDDegreeOfFreedomSequence',\n    '00686490': 'ThreeDDegreeOfFreedomAxis',\n    '006864A0': 'RangeOfFreedom',\n    '006864C0': 'ThreeDMatingPoint',\n    '006864D0': 'ThreeDMatingAxes',\n    '006864F0': 'TwoDDegreeOfFreedomAxis',\n    '00686500': 'PlanningLandmarkPointSequence',\n    '00686510': 'PlanningLandmarkLineSequence',\n    '00686520': 'PlanningLandmarkPlaneSequence',\n    '00686530': 'PlanningLandmarkID',\n    '00686540': 'PlanningLandmarkDescription',\n    '00686545': 'PlanningLandmarkIdentificationCodeSequence',\n    '00686550': 'TwoDPointCoordinatesSequence',\n    '00686560': 'TwoDPointCoordinates',\n    '00686590': 'ThreeDPointCoordinates',\n    '006865A0': 'TwoDLineCoordinatesSequence',\n    '006865B0': 'TwoDLineCoordinates',\n    '006865D0': 'ThreeDLineCoordinates',\n    '006865E0': 'TwoDPlaneCoordinatesSequence',\n    '006865F0': 'TwoDPlaneIntersection',\n    '00686610': 'ThreeDPlaneOrigin',\n    '00686620': 'ThreeDPlaneNormal',\n    '00687001': 'ModelModification',\n    '00687002': 'ModelMirroring',\n    '00687003': 'ModelUsageCodeSequence',\n    '00700001': 'GraphicAnnotationSequence',\n    '00700002': 'GraphicLayer',\n    '00700003': 'BoundingBoxAnnotationUnits',\n    '00700004': 'AnchorPointAnnotationUnits',\n    '00700005': 'GraphicAnnotationUnits',\n    '00700006': 'UnformattedTextValue',\n    '00700008': 'TextObjectSequence',\n    '00700009': 'GraphicObjectSequence',\n    '00700010': 'BoundingBoxTopLeftHandCorner',\n    '00700011': 'BoundingBoxBottomRightHandCorner',\n    '00700012': 'BoundingBoxTextHorizontalJustification',\n    '00700014': 'AnchorPoint',\n    '00700015': 'AnchorPointVisibility',\n    '00700020': 'GraphicDimensions',\n    '00700021': 'NumberOfGraphicPoints',\n    '00700022': 'GraphicData',\n    '00700023': 'GraphicType',\n    '00700024': 'GraphicFilled',\n    '00700040': 'ImageRotationRetired',\n    '00700041': 'ImageHorizontalFlip',\n    '00700042': 'ImageRotation',\n    '00700050': 'DisplayedAreaTopLeftHandCornerTrial',\n    '00700051': 'DisplayedAreaBottomRightHandCornerTrial',\n    '00700052': 'DisplayedAreaTopLeftHandCorner',\n    '00700053': 'DisplayedAreaBottomRightHandCorner',\n    '0070005A': 'DisplayedAreaSelectionSequence',\n    '00700060': 'GraphicLayerSequence',\n    '00700062': 'GraphicLayerOrder',\n    '00700066': 'GraphicLayerRecommendedDisplayGrayscaleValue',\n    '00700067': 'GraphicLayerRecommendedDisplayRGBValue',\n    '00700068': 'GraphicLayerDescription',\n    '00700080': 'ContentLabel',\n    '00700081': 'ContentDescription',\n    '00700082': 'PresentationCreationDate',\n    '00700083': 'PresentationCreationTime',\n    '00700084': 'ContentCreatorName',\n    '00700086': 'ContentCreatorIdentificationCodeSequence',\n    '00700087': 'AlternateContentDescriptionSequence',\n    '00700100': 'PresentationSizeMode',\n    '00700101': 'PresentationPixelSpacing',\n    '00700102': 'PresentationPixelAspectRatio',\n    '00700103': 'PresentationPixelMagnificationRatio',\n    '00700207': 'GraphicGroupLabel',\n    '00700208': 'GraphicGroupDescription',\n    '00700209': 'CompoundGraphicSequence',\n    '00700226': 'CompoundGraphicInstanceID',\n    '00700227': 'FontName',\n    '00700228': 'FontNameType',\n    '00700229': 'CSSFontName',\n    '00700230': 'RotationAngle',\n    '00700231': 'TextStyleSequence',\n    '00700232': 'LineStyleSequence',\n    '00700233': 'FillStyleSequence',\n    '00700234': 'GraphicGroupSequence',\n    '00700241': 'TextColorCIELabValue',\n    '00700242': 'HorizontalAlignment',\n    '00700243': 'VerticalAlignment',\n    '00700244': 'ShadowStyle',\n    '00700245': 'ShadowOffsetX',\n    '00700246': 'ShadowOffsetY',\n    '00700247': 'ShadowColorCIELabValue',\n    '00700248': 'Underlined',\n    '00700249': 'Bold',\n    '00700250': 'Italic',\n    '00700251': 'PatternOnColorCIELabValue',\n    '00700252': 'PatternOffColorCIELabValue',\n    '00700253': 'LineThickness',\n    '00700254': 'LineDashingStyle',\n    '00700255': 'LinePattern',\n    '00700256': 'FillPattern',\n    '00700257': 'FillMode',\n    '00700258': 'ShadowOpacity',\n    '00700261': 'GapLength',\n    '00700262': 'DiameterOfVisibility',\n    '00700273': 'RotationPoint',\n    '00700274': 'TickAlignment',\n    '00700278': 'ShowTickLabel',\n    '00700279': 'TickLabelAlignment',\n    '00700282': 'CompoundGraphicUnits',\n    '00700284': 'PatternOnOpacity',\n    '00700285': 'PatternOffOpacity',\n    '00700287': 'MajorTicksSequence',\n    '00700288': 'TickPosition',\n    '00700289': 'TickLabel',\n    '00700294': 'CompoundGraphicType',\n    '00700295': 'GraphicGroupID',\n    '00700306': 'ShapeType',\n    '00700308': 'RegistrationSequence',\n    '00700309': 'MatrixRegistrationSequence',\n    '0070030A': 'MatrixSequence',\n    '0070030B': 'FrameOfReferenceToDisplayedCoordinateSystemTransformationMatrix',\n    '0070030C': 'FrameOfReferenceTransformationMatrixType',\n    '0070030D': 'RegistrationTypeCodeSequence',\n    '0070030F': 'FiducialDescription',\n    '00700310': 'FiducialIdentifier',\n    '00700311': 'FiducialIdentifierCodeSequence',\n    '00700312': 'ContourUncertaintyRadius',\n    '00700314': 'UsedFiducialsSequence',\n    '00700318': 'GraphicCoordinatesDataSequence',\n    '0070031A': 'FiducialUID',\n    '0070031B': 'ReferencedFiducialUID',\n    '0070031C': 'FiducialSetSequence',\n    '0070031E': 'FiducialSequence',\n    '0070031F': 'FiducialsPropertyCategoryCodeSequence',\n    '00700401': 'GraphicLayerRecommendedDisplayCIELabValue',\n    '00700402': 'BlendingSequence',\n    '00700403': 'RelativeOpacity',\n    '00700404': 'ReferencedSpatialRegistrationSequence',\n    '00700405': 'BlendingPosition',\n    '00701101': 'PresentationDisplayCollectionUID',\n    '00701102': 'PresentationSequenceCollectionUID',\n    '00701103': 'PresentationSequencePositionIndex',\n    '00701104': 'RenderedImageReferenceSequence',\n    '00701201': 'VolumetricPresentationStateInputSequence',\n    '00701202': 'PresentationInputType',\n    '00701203': 'InputSequencePositionIndex',\n    '00701204': 'Crop',\n    '00701205': 'CroppingSpecificationIndex',\n    '00701206': 'CompositingMethod',\n    '00701207': 'VolumetricPresentationInputNumber',\n    '00701208': 'ImageVolumeGeometry',\n    '00701209': 'VolumetricPresentationInputSetUID',\n    '0070120A': 'VolumetricPresentationInputSetSequence',\n    '0070120B': 'GlobalCrop',\n    '0070120C': 'GlobalCroppingSpecificationIndex',\n    '0070120D': 'RenderingMethod',\n    '00701301': 'VolumeCroppingSequence',\n    '00701302': 'VolumeCroppingMethod',\n    '00701303': 'BoundingBoxCrop',\n    '00701304': 'ObliqueCroppingPlaneSequence',\n    '00701305': 'Plane',\n    '00701306': 'PlaneNormal',\n    '00701309': 'CroppingSpecificationNumber',\n    '00701501': 'MultiPlanarReconstructionStyle',\n    '00701502': 'MPRThicknessType',\n    '00701503': 'MPRSlabThickness',\n    '00701505': 'MPRTopLeftHandCorner',\n    '00701507': 'MPRViewWidthDirection',\n    '00701508': 'MPRViewWidth',\n    '0070150C': 'NumberOfVolumetricCurvePoints',\n    '0070150D': 'VolumetricCurvePoints',\n    '00701511': 'MPRViewHeightDirection',\n    '00701512': 'MPRViewHeight',\n    '00701602': 'RenderProjection',\n    '00701603': 'ViewpointPosition',\n    '00701604': 'ViewpointLookAtPoint',\n    '00701605': 'ViewpointUpDirection',\n    '00701606': 'RenderFieldOfView',\n    '00701607': 'SamplingStepSize',\n    '00701701': 'ShadingStyle',\n    '00701702': 'AmbientReflectionIntensity',\n    '00701703': 'LightDirection',\n    '00701704': 'DiffuseReflectionIntensity',\n    '00701705': 'SpecularReflectionIntensity',\n    '00701706': 'Shininess',\n    '00701801': 'PresentationStateClassificationComponentSequence',\n    '00701802': 'ComponentType',\n    '00701803': 'ComponentInputSequence',\n    '00701804': 'VolumetricPresentationInputIndex',\n    '00701805': 'PresentationStateCompositorComponentSequence',\n    '00701806': 'WeightingTransferFunctionSequence',\n    '00701807': 'WeightingLookupTableDescriptor',\n    '00701808': 'WeightingLookupTableData',\n    '00701901': 'VolumetricAnnotationSequence',\n    '00701903': 'ReferencedStructuredContextSequence',\n    '00701904': 'ReferencedContentItem',\n    '00701905': 'VolumetricPresentationInputAnnotationSequence',\n    '00701907': 'AnnotationClipping',\n    '00701A01': 'PresentationAnimationStyle',\n    '00701A03': 'RecommendedAnimationRate',\n    '00701A04': 'AnimationCurveSequence',\n    '00701A05': 'AnimationStepSize',\n    '00701A06': 'SwivelRange',\n    '00701A07': 'VolumetricCurveUpDirections',\n    '00701A08': 'VolumeStreamSequence',\n    '00701A09': 'RGBATransferFunctionDescription',\n    '00701B01': 'AdvancedBlendingSequence',\n    '00701B02': 'BlendingInputNumber',\n    '00701B03': 'BlendingDisplayInputSequence',\n    '00701B04': 'BlendingDisplaySequence',\n    '00701B06': 'BlendingMode',\n    '00701B07': 'TimeSeriesBlending',\n    '00701B08': 'GeometryForDisplay',\n    '00701B11': 'ThresholdSequence',\n    '00701B12': 'ThresholdValueSequence',\n    '00701B13': 'ThresholdType',\n    '00701B14': 'ThresholdValue',\n    '00720002': 'HangingProtocolName',\n    '00720004': 'HangingProtocolDescription',\n    '00720006': 'HangingProtocolLevel',\n    '00720008': 'HangingProtocolCreator',\n    '0072000A': 'HangingProtocolCreationDateTime',\n    '0072000C': 'HangingProtocolDefinitionSequence',\n    '0072000E': 'HangingProtocolUserIdentificationCodeSequence',\n    '00720010': 'HangingProtocolUserGroupName',\n    '00720012': 'SourceHangingProtocolSequence',\n    '00720014': 'NumberOfPriorsReferenced',\n    '00720020': 'ImageSetsSequence',\n    '00720022': 'ImageSetSelectorSequence',\n    '00720024': 'ImageSetSelectorUsageFlag',\n    '00720026': 'SelectorAttribute',\n    '00720028': 'SelectorValueNumber',\n    '00720030': 'TimeBasedImageSetsSequence',\n    '00720032': 'ImageSetNumber',\n    '00720034': 'ImageSetSelectorCategory',\n    '00720038': 'RelativeTime',\n    '0072003A': 'RelativeTimeUnits',\n    '0072003C': 'AbstractPriorValue',\n    '0072003E': 'AbstractPriorCodeSequence',\n    '00720040': 'ImageSetLabel',\n    '00720050': 'SelectorAttributeVR',\n    '00720052': 'SelectorSequencePointer',\n    '00720054': 'SelectorSequencePointerPrivateCreator',\n    '00720056': 'SelectorAttributePrivateCreator',\n    '0072005E': 'SelectorAEValue',\n    '0072005F': 'SelectorASValue',\n    '00720060': 'SelectorATValue',\n    '00720061': 'SelectorDAValue',\n    '00720062': 'SelectorCSValue',\n    '00720063': 'SelectorDTValue',\n    '00720064': 'SelectorISValue',\n    '00720065': 'SelectorOBValue',\n    '00720066': 'SelectorLOValue',\n    '00720067': 'SelectorOFValue',\n    '00720068': 'SelectorLTValue',\n    '00720069': 'SelectorOWValue',\n    '0072006A': 'SelectorPNValue',\n    '0072006B': 'SelectorTMValue',\n    '0072006C': 'SelectorSHValue',\n    '0072006D': 'SelectorUNValue',\n    '0072006E': 'SelectorSTValue',\n    '0072006F': 'SelectorUCValue',\n    '00720070': 'SelectorUTValue',\n    '00720071': 'SelectorURValue',\n    '00720072': 'SelectorDSValue',\n    '00720073': 'SelectorODValue',\n    '00720074': 'SelectorFDValue',\n    '00720075': 'SelectorOLValue',\n    '00720076': 'SelectorFLValue',\n    '00720078': 'SelectorULValue',\n    '0072007A': 'SelectorUSValue',\n    '0072007C': 'SelectorSLValue',\n    '0072007E': 'SelectorSSValue',\n    '0072007F': 'SelectorUIValue',\n    '00720080': 'SelectorCodeSequenceValue',\n    '00720100': 'NumberOfScreens',\n    '00720102': 'NominalScreenDefinitionSequence',\n    '00720104': 'NumberOfVerticalPixels',\n    '00720106': 'NumberOfHorizontalPixels',\n    '00720108': 'DisplayEnvironmentSpatialPosition',\n    '0072010A': 'ScreenMinimumGrayscaleBitDepth',\n    '0072010C': 'ScreenMinimumColorBitDepth',\n    '0072010E': 'ApplicationMaximumRepaintTime',\n    '00720200': 'DisplaySetsSequence',\n    '00720202': 'DisplaySetNumber',\n    '00720203': 'DisplaySetLabel',\n    '00720204': 'DisplaySetPresentationGroup',\n    '00720206': 'DisplaySetPresentationGroupDescription',\n    '00720208': 'PartialDataDisplayHandling',\n    '00720210': 'SynchronizedScrollingSequence',\n    '00720212': 'DisplaySetScrollingGroup',\n    '00720214': 'NavigationIndicatorSequence',\n    '00720216': 'NavigationDisplaySet',\n    '00720218': 'ReferenceDisplaySets',\n    '00720300': 'ImageBoxesSequence',\n    '00720302': 'ImageBoxNumber',\n    '00720304': 'ImageBoxLayoutType',\n    '00720306': 'ImageBoxTileHorizontalDimension',\n    '00720308': 'ImageBoxTileVerticalDimension',\n    '00720310': 'ImageBoxScrollDirection',\n    '00720312': 'ImageBoxSmallScrollType',\n    '00720314': 'ImageBoxSmallScrollAmount',\n    '00720316': 'ImageBoxLargeScrollType',\n    '00720318': 'ImageBoxLargeScrollAmount',\n    '00720320': 'ImageBoxOverlapPriority',\n    '00720330': 'CineRelativeToRealTime',\n    '00720400': 'FilterOperationsSequence',\n    '00720402': 'FilterByCategory',\n    '00720404': 'FilterByAttributePresence',\n    '00720406': 'FilterByOperator',\n    '00720420': 'StructuredDisplayBackgroundCIELabValue',\n    '00720421': 'EmptyImageBoxCIELabValue',\n    '00720422': 'StructuredDisplayImageBoxSequence',\n    '00720424': 'StructuredDisplayTextBoxSequence',\n    '00720427': 'ReferencedFirstFrameSequence',\n    '00720430': 'ImageBoxSynchronizationSequence',\n    '00720432': 'SynchronizedImageBoxList',\n    '00720434': 'TypeOfSynchronization',\n    '00720500': 'BlendingOperationType',\n    '00720510': 'ReformattingOperationType',\n    '00720512': 'ReformattingThickness',\n    '00720514': 'ReformattingInterval',\n    '00720516': 'ReformattingOperationInitialViewDirection',\n    '00720520': 'ThreeDRenderingType',\n    '00720600': 'SortingOperationsSequence',\n    '00720602': 'SortByCategory',\n    '00720604': 'SortingDirection',\n    '00720700': 'DisplaySetPatientOrientation',\n    '00720702': 'VOIType',\n    '00720704': 'PseudoColorType',\n    '00720705': 'PseudoColorPaletteInstanceReferenceSequence',\n    '00720706': 'ShowGrayscaleInverted',\n    '00720710': 'ShowImageTrueSizeFlag',\n    '00720712': 'ShowGraphicAnnotationFlag',\n    '00720714': 'ShowPatientDemographicsFlag',\n    '00720716': 'ShowAcquisitionTechniquesFlag',\n    '00720717': 'DisplaySetHorizontalJustification',\n    '00720718': 'DisplaySetVerticalJustification',\n    '00740120': 'ContinuationStartMeterset',\n    '00740121': 'ContinuationEndMeterset',\n    '00741000': 'ProcedureStepState',\n    '00741002': 'ProcedureStepProgressInformationSequence',\n    '00741004': 'ProcedureStepProgress',\n    '00741006': 'ProcedureStepProgressDescription',\n    '00741007': 'ProcedureStepProgressParametersSequence',\n    '00741008': 'ProcedureStepCommunicationsURISequence',\n    '0074100A': 'ContactURI',\n    '0074100C': 'ContactDisplayName',\n    '0074100E': 'ProcedureStepDiscontinuationReasonCodeSequence',\n    '00741020': 'BeamTaskSequence',\n    '00741022': 'BeamTaskType',\n    '00741024': 'BeamOrderIndexTrial',\n    '00741025': 'AutosequenceFlag',\n    '00741026': 'TableTopVerticalAdjustedPosition',\n    '00741027': 'TableTopLongitudinalAdjustedPosition',\n    '00741028': 'TableTopLateralAdjustedPosition',\n    '0074102A': 'PatientSupportAdjustedAngle',\n    '0074102B': 'TableTopEccentricAdjustedAngle',\n    '0074102C': 'TableTopPitchAdjustedAngle',\n    '0074102D': 'TableTopRollAdjustedAngle',\n    '00741030': 'DeliveryVerificationImageSequence',\n    '00741032': 'VerificationImageTiming',\n    '00741034': 'DoubleExposureFlag',\n    '00741036': 'DoubleExposureOrdering',\n    '00741038': 'DoubleExposureMetersetTrial',\n    '0074103A': 'DoubleExposureFieldDeltaTrial',\n    '00741040': 'RelatedReferenceRTImageSequence',\n    '00741042': 'GeneralMachineVerificationSequence',\n    '00741044': 'ConventionalMachineVerificationSequence',\n    '00741046': 'IonMachineVerificationSequence',\n    '00741048': 'FailedAttributesSequence',\n    '0074104A': 'OverriddenAttributesSequence',\n    '0074104C': 'ConventionalControlPointVerificationSequence',\n    '0074104E': 'IonControlPointVerificationSequence',\n    '00741050': 'AttributeOccurrenceSequence',\n    '00741052': 'AttributeOccurrencePointer',\n    '00741054': 'AttributeItemSelector',\n    '00741056': 'AttributeOccurrencePrivateCreator',\n    '00741057': 'SelectorSequencePointerItems',\n    '00741200': 'ScheduledProcedureStepPriority',\n    '00741202': 'WorklistLabel',\n    '00741204': 'ProcedureStepLabel',\n    '00741210': 'ScheduledProcessingParametersSequence',\n    '00741212': 'PerformedProcessingParametersSequence',\n    '00741216': 'UnifiedProcedureStepPerformedProcedureSequence',\n    '00741220': 'RelatedProcedureStepSequence',\n    '00741222': 'ProcedureStepRelationshipType',\n    '00741224': 'ReplacedProcedureStepSequence',\n    '00741230': 'DeletionLock',\n    '00741234': 'ReceivingAE',\n    '00741236': 'RequestingAE',\n    '00741238': 'ReasonForCancellation',\n    '00741242': 'SCPStatus',\n    '00741244': 'SubscriptionListStatus',\n    '00741246': 'UnifiedProcedureStepListStatus',\n    '00741324': 'BeamOrderIndex',\n    '00741338': 'DoubleExposureMeterset',\n    '0074133A': 'DoubleExposureFieldDelta',\n    '00741401': 'BrachyTaskSequence',\n    '00741402': 'ContinuationStartTotalReferenceAirKerma',\n    '00741403': 'ContinuationEndTotalReferenceAirKerma',\n    '00741404': 'ContinuationPulseNumber',\n    '00741405': 'ChannelDeliveryOrderSequence',\n    '00741406': 'ReferencedChannelNumber',\n    '00741407': 'StartCumulativeTimeWeight',\n    '00741408': 'EndCumulativeTimeWeight',\n    '00741409': 'OmittedChannelSequence',\n    '0074140A': 'ReasonForChannelOmission',\n    '0074140B': 'ReasonForChannelOmissionDescription',\n    '0074140C': 'ChannelDeliveryOrderIndex',\n    '0074140D': 'ChannelDeliveryContinuationSequence',\n    '0074140E': 'OmittedApplicationSetupSequence',\n    '00760001': 'ImplantAssemblyTemplateName',\n    '00760003': 'ImplantAssemblyTemplateIssuer',\n    '00760006': 'ImplantAssemblyTemplateVersion',\n    '00760008': 'ReplacedImplantAssemblyTemplateSequence',\n    '0076000A': 'ImplantAssemblyTemplateType',\n    '0076000C': 'OriginalImplantAssemblyTemplateSequence',\n    '0076000E': 'DerivationImplantAssemblyTemplateSequence',\n    '00760010': 'ImplantAssemblyTemplateTargetAnatomySequence',\n    '00760020': 'ProcedureTypeCodeSequence',\n    '00760030': 'SurgicalTechnique',\n    '00760032': 'ComponentTypesSequence',\n    '00760034': 'ComponentTypeCodeSequence',\n    '00760036': 'ExclusiveComponentType',\n    '00760038': 'MandatoryComponentType',\n    '00760040': 'ComponentSequence',\n    '00760055': 'ComponentID',\n    '00760060': 'ComponentAssemblySequence',\n    '00760070': ('Component1ReferencedID'),\n    '00760080': ('Component1ReferencedMatingFeatureSetID'),\n    '00760090': ('Component1ReferencedMatingFeatureID'),\n    '007600A0': ('Component2ReferencedID'),\n    '007600B0': ('Component2ReferencedMatingFeatureSetID'),\n    '007600C0': ('Component2ReferencedMatingFeatureID'),\n    '00780001': 'ImplantTemplateGroupName',\n    '00780010': 'ImplantTemplateGroupDescription',\n    '00780020': 'ImplantTemplateGroupIssuer',\n    '00780024': 'ImplantTemplateGroupVersion',\n    '00780026': 'ReplacedImplantTemplateGroupSequence',\n    '00780028': 'ImplantTemplateGroupTargetAnatomySequence',\n    '0078002A': 'ImplantTemplateGroupMembersSequence',\n    '0078002E': 'ImplantTemplateGroupMemberID',\n    '00780050': 'ThreeDImplantTemplateGroupMemberMatchingPoint',\n    '00780060': 'ThreeDImplantTemplateGroupMemberMatchingAxes',\n    '00780070': ('ImplantTemplateGroupMemberMatching2DCoordinatesSequence'),\n    '00780090': 'TwoDImplantTemplateGroupMemberMatchingPoint',\n    '007800A0': 'TwoDImplantTemplateGroupMemberMatchingAxes',\n    '007800B0': 'ImplantTemplateGroupVariationDimensionSequence',\n    '007800B2': 'ImplantTemplateGroupVariationDimensionName',\n    '007800B4': 'ImplantTemplateGroupVariationDimensionRankSequence',\n    '007800B6': 'ReferencedImplantTemplateGroupMemberID',\n    '007800B8': 'ImplantTemplateGroupVariationDimensionRank',\n    '00800001': 'SurfaceScanAcquisitionTypeCodeSequence',\n    '00800002': 'SurfaceScanModeCodeSequence',\n    '00800003': 'RegistrationMethodCodeSequence',\n    '00800004': 'ShotDurationTime',\n    '00800005': 'ShotOffsetTime',\n    '00800006': 'SurfacePointPresentationValueData',\n    '00800007': 'SurfacePointColorCIELabValueData',\n    '00800008': 'UVMappingSequence',\n    '00800009': 'TextureLabel',\n    '00800010': 'UValueData',\n    '00800011': 'VValueData',\n    '00800012': 'ReferencedTextureSequence',\n    '00800013': 'ReferencedSurfaceDataSequence',\n    '00820001': 'AssessmentSummary',\n    '00820003': 'AssessmentSummaryDescription',\n    '00820004': 'AssessedSOPInstanceSequence',\n    '00820005': 'ReferencedComparisonSOPInstanceSequence',\n    '00820006': 'NumberOfAssessmentObservations',\n    '00820007': 'AssessmentObservationsSequence',\n    '00820008': 'ObservationSignificance',\n    '0082000A': 'ObservationDescription',\n    '0082000C': 'StructuredConstraintObservationSequence',\n    '00820010': 'AssessedAttributeValueSequence',\n    '00820016': 'AssessmentSetID',\n    '00820017': 'AssessmentRequesterSequence',\n    '00820018': 'SelectorAttributeName',\n    '00820019': 'SelectorAttributeKeyword',\n    '00820021': 'AssessmentTypeCodeSequence',\n    '00820022': 'ObservationBasisCodeSequence',\n    '00820023': 'AssessmentLabel',\n    '00820032': 'ConstraintType',\n    '00820033': 'SpecificationSelectionGuidance',\n    '00820034': 'ConstraintValueSequence',\n    '00820035': 'RecommendedDefaultValueSequence',\n    '00820036': 'ConstraintViolationSignificance',\n    '00820037': 'ConstraintViolationCondition',\n    '00820038': 'ModifiableConstraintFlag',\n    '00880130': 'StorageMediaFileSetID',\n    '00880140': 'StorageMediaFileSetUID',\n    '00880200': 'IconImageSequence',\n    '00880904': 'TopicTitle',\n    '00880906': 'TopicSubject',\n    '00880910': 'TopicAuthor',\n    '00880912': 'TopicKeywords',\n    '01000410': 'SOPInstanceStatus',\n    '01000420': 'SOPAuthorizationDateTime',\n    '01000424': 'SOPAuthorizationComment',\n    '01000426': 'AuthorizationEquipmentCertificationNumber',\n    '04000005': 'MACIDNumber',\n    '04000010': 'MACCalculationTransferSyntaxUID',\n    '04000015': 'MACAlgorithm',\n    '04000020': 'DataElementsSigned',\n    '04000100': 'DigitalSignatureUID',\n    '04000105': 'DigitalSignatureDateTime',\n    '04000110': 'CertificateType',\n    '04000115': 'CertificateOfSigner',\n    '04000120': 'Signature',\n    '04000305': 'CertifiedTimestampType',\n    '04000310': 'CertifiedTimestamp',\n    '04000315': '',\n    '04000401': 'DigitalSignaturePurposeCodeSequence',\n    '04000402': 'ReferencedDigitalSignatureSequence',\n    '04000403': 'ReferencedSOPInstanceMACSequence',\n    '04000404': 'MAC',\n    '04000500': 'EncryptedAttributesSequence',\n    '04000510': 'EncryptedContentTransferSyntaxUID',\n    '04000520': 'EncryptedContent',\n    '04000550': 'ModifiedAttributesSequence',\n    '04000561': 'OriginalAttributesSequence',\n    '04000562': 'AttributeModificationDateTime',\n    '04000563': 'ModifyingSystem',\n    '04000564': 'SourceOfPreviousValues',\n    '04000565': 'ReasonForTheAttributeModification',\n    '04000600': 'InstanceOriginStatus',\n    '20000010': 'NumberOfCopies',\n    '2000001E': 'PrinterConfigurationSequence',\n    '20000020': 'PrintPriority',\n    '20000030': 'MediumType',\n    '20000040': 'FilmDestination',\n    '20000050': 'FilmSessionLabel',\n    '20000060': 'MemoryAllocation',\n    '20000061': 'MaximumMemoryAllocation',\n    '20000062': 'ColorImagePrintingFlag',\n    '20000063': 'CollationFlag',\n    '20000065': 'AnnotationFlag',\n    '20000067': 'ImageOverlayFlag',\n    '20000069': 'PresentationLUTFlag',\n    '2000006A': 'ImageBoxPresentationLUTFlag',\n    '200000A0': 'MemoryBitDepth',\n    '200000A1': 'PrintingBitDepth',\n    '200000A2': 'MediaInstalledSequence',\n    '200000A4': 'OtherMediaAvailableSequence',\n    '200000A8': 'SupportedImageDisplayFormatsSequence',\n    '20000500': 'ReferencedFilmBoxSequence',\n    '20000510': 'ReferencedStoredPrintSequence',\n    '20100010': 'ImageDisplayFormat',\n    '20100030': 'AnnotationDisplayFormatID',\n    '20100040': 'FilmOrientation',\n    '20100050': 'FilmSizeID',\n    '20100052': 'PrinterResolutionID',\n    '20100054': 'DefaultPrinterResolutionID',\n    '20100060': 'MagnificationType',\n    '20100080': 'SmoothingType',\n    '201000A6': 'DefaultMagnificationType',\n    '201000A7': 'OtherMagnificationTypesAvailable',\n    '201000A8': 'DefaultSmoothingType',\n    '201000A9': 'OtherSmoothingTypesAvailable',\n    '20100100': 'BorderDensity',\n    '20100110': 'EmptyImageDensity',\n    '20100120': 'MinDensity',\n    '20100130': 'MaxDensity',\n    '20100140': 'Trim',\n    '20100150': 'ConfigurationInformation',\n    '20100152': 'ConfigurationInformationDescription',\n    '20100154': 'MaximumCollatedFilms',\n    '2010015E': 'Illumination',\n    '20100160': 'ReflectedAmbientLight',\n    '20100376': 'PrinterPixelSpacing',\n    '20100500': 'ReferencedFilmSessionSequence',\n    '20100510': 'ReferencedImageBoxSequence',\n    '20100520': 'ReferencedBasicAnnotationBoxSequence',\n    '20200010': 'ImageBoxPosition',\n    '20200020': 'Polarity',\n    '20200030': 'RequestedImageSize',\n    '20200040': 'RequestedDecimateCropBehavior',\n    '20200050': 'RequestedResolutionID',\n    '202000A0': 'RequestedImageSizeFlag',\n    '202000A2': 'DecimateCropResult',\n    '20200110': 'BasicGrayscaleImageSequence',\n    '20200111': 'BasicColorImageSequence',\n    '20200130': 'ReferencedImageOverlayBoxSequence',\n    '20200140': 'ReferencedVOILUTBoxSequence',\n    '20300010': 'AnnotationPosition',\n    '20300020': 'TextString',\n    '20400010': 'ReferencedOverlayPlaneSequence',\n    '20400011': 'ReferencedOverlayPlaneGroups',\n    '20400020': 'OverlayPixelDataSequence',\n    '20400060': 'OverlayMagnificationType',\n    '20400070': 'OverlaySmoothingType',\n    '20400072': 'OverlayOrImageMagnification',\n    '20400074': 'MagnifyToNumberOfColumns',\n    '20400080': 'OverlayForegroundDensity',\n    '20400082': 'OverlayBackgroundDensity',\n    '20400090': 'OverlayMode',\n    '20400100': 'ThresholdDensity',\n    '20400500': 'ReferencedImageBoxSequenceRetired',\n    '20500010': 'PresentationLUTSequence',\n    '20500020': 'PresentationLUTShape',\n    '20500500': 'ReferencedPresentationLUTSequence',\n    '21000010': 'PrintJobID',\n    '21000020': 'ExecutionStatus',\n    '21000030': 'ExecutionStatusInfo',\n    '21000040': 'CreationDate',\n    '21000050': 'CreationTime',\n    '21000070': 'Originator',\n    '21000140': 'DestinationAE',\n    '21000160': 'OwnerID',\n    '21000170': 'NumberOfFilms',\n    '21000500': 'ReferencedPrintJobSequencePullStoredPrint',\n    '21100010': 'PrinterStatus',\n    '21100020': 'PrinterStatusInfo',\n    '21100030': 'PrinterName',\n    '21100099': 'PrintQueueID',\n    '21200010': 'QueueStatus',\n    '21200050': 'PrintJobDescriptionSequence',\n    '21200070': 'ReferencedPrintJobSequence',\n    '21300010': 'PrintManagementCapabilitiesSequence',\n    '21300015': 'PrinterCharacteristicsSequence',\n    '21300030': 'FilmBoxContentSequence',\n    '21300040': 'ImageBoxContentSequence',\n    '21300050': 'AnnotationContentSequence',\n    '21300060': 'ImageOverlayBoxContentSequence',\n    '21300080': 'PresentationLUTContentSequence',\n    '213000A0': 'ProposedStudySequence',\n    '213000C0': 'OriginalImageSequence',\n    '22000001': 'LabelUsingInformationExtractedFromInstances',\n    '22000002': 'LabelText',\n    '22000003': 'LabelStyleSelection',\n    '22000004': 'MediaDisposition',\n    '22000005': 'BarcodeValue',\n    '22000006': 'BarcodeSymbology',\n    '22000007': 'AllowMediaSplitting',\n    '22000008': 'IncludeNonDICOMObjects',\n    '22000009': 'IncludeDisplayApplication',\n    '2200000A': 'PreserveCompositeInstancesAfterMediaCreation',\n    '2200000B': 'TotalNumberOfPiecesOfMediaCreated',\n    '2200000C': 'RequestedMediaApplicationProfile',\n    '2200000D': 'ReferencedStorageMediaSequence',\n    '2200000E': 'FailureAttributes',\n    '2200000F': 'AllowLossyCompression',\n    '22000020': 'RequestPriority',\n    '30020002': 'RTImageLabel',\n    '30020003': 'RTImageName',\n    '30020004': 'RTImageDescription',\n    '3002000A': 'ReportedValuesOrigin',\n    '3002000C': 'RTImagePlane',\n    '3002000D': 'XRayImageReceptorTranslation',\n    '3002000E': 'XRayImageReceptorAngle',\n    '30020010': 'RTImageOrientation',\n    '30020011': 'ImagePlanePixelSpacing',\n    '30020012': 'RTImagePosition',\n    '30020020': 'RadiationMachineName',\n    '30020022': 'RadiationMachineSAD',\n    '30020024': 'RadiationMachineSSD',\n    '30020026': 'RTImageSID',\n    '30020028': 'SourceToReferenceObjectDistance',\n    '30020029': 'FractionNumber',\n    '30020030': 'ExposureSequence',\n    '30020032': 'MetersetExposure',\n    '30020034': 'DiaphragmPosition',\n    '30020040': 'FluenceMapSequence',\n    '30020041': 'FluenceDataSource',\n    '30020042': 'FluenceDataScale',\n    '30020050': 'PrimaryFluenceModeSequence',\n    '30020051': 'FluenceMode',\n    '30020052': 'FluenceModeID',\n    '30040001': 'DVHType',\n    '30040002': 'DoseUnits',\n    '30040004': 'DoseType',\n    '30040005': 'SpatialTransformOfDose',\n    '30040006': 'DoseComment',\n    '30040008': 'NormalizationPoint',\n    '3004000A': 'DoseSummationType',\n    '3004000C': 'GridFrameOffsetVector',\n    '3004000E': 'DoseGridScaling',\n    '30040010': 'RTDoseROISequence',\n    '30040012': 'DoseValue',\n    '30040014': 'TissueHeterogeneityCorrection',\n    '30040040': 'DVHNormalizationPoint',\n    '30040042': 'DVHNormalizationDoseValue',\n    '30040050': 'DVHSequence',\n    '30040052': 'DVHDoseScaling',\n    '30040054': 'DVHVolumeUnits',\n    '30040056': 'DVHNumberOfBins',\n    '30040058': 'DVHData',\n    '30040060': 'DVHReferencedROISequence',\n    '30040062': 'DVHROIContributionType',\n    '30040070': 'DVHMinimumDose',\n    '30040072': 'DVHMaximumDose',\n    '30040074': 'DVHMeanDose',\n    '30060002': 'StructureSetLabel',\n    '30060004': 'StructureSetName',\n    '30060006': 'StructureSetDescription',\n    '30060008': 'StructureSetDate',\n    '30060009': 'StructureSetTime',\n    '30060010': 'ReferencedFrameOfReferenceSequence',\n    '30060012': 'RTReferencedStudySequence',\n    '30060014': 'RTReferencedSeriesSequence',\n    '30060016': 'ContourImageSequence',\n    '30060018': 'PredecessorStructureSetSequence',\n    '30060020': 'StructureSetROISequence',\n    '30060022': 'ROINumber',\n    '30060024': 'ReferencedFrameOfReferenceUID',\n    '30060026': 'ROIName',\n    '30060028': 'ROIDescription',\n    '3006002A': 'ROIDisplayColor',\n    '3006002C': 'ROIVolume',\n    '30060030': 'RTRelatedROISequence',\n    '30060033': 'RTROIRelationship',\n    '30060036': 'ROIGenerationAlgorithm',\n    '30060038': 'ROIGenerationDescription',\n    '30060039': 'ROIContourSequence',\n    '30060040': 'ContourSequence',\n    '30060042': 'ContourGeometricType',\n    '30060044': 'ContourSlabThickness',\n    '30060045': 'ContourOffsetVector',\n    '30060046': 'NumberOfContourPoints',\n    '30060048': 'ContourNumber',\n    '30060049': 'AttachedContours',\n    '30060050': 'ContourData',\n    '30060080': 'RTROIObservationsSequence',\n    '30060082': 'ObservationNumber',\n    '30060084': 'ReferencedROINumber',\n    '30060085': 'ROIObservationLabel',\n    '30060086': 'RTROIIdentificationCodeSequence',\n    '30060088': 'ROIObservationDescription',\n    '300600A0': 'RelatedRTROIObservationsSequence',\n    '300600A4': 'RTROIInterpretedType',\n    '300600A6': 'ROIInterpreter',\n    '300600B0': 'ROIPhysicalPropertiesSequence',\n    '300600B2': 'ROIPhysicalProperty',\n    '300600B4': 'ROIPhysicalPropertyValue',\n    '300600B6': 'ROIElementalCompositionSequence',\n    '300600B7': 'ROIElementalCompositionAtomicNumber',\n    '300600B8': 'ROIElementalCompositionAtomicMassFraction',\n    '300600B9': 'AdditionalRTROIIdentificationCodeSequence',\n    '300600C0': 'FrameOfReferenceRelationshipSequence',\n    '300600C2': 'RelatedFrameOfReferenceUID',\n    '300600C4': 'FrameOfReferenceTransformationType',\n    '300600C6': 'FrameOfReferenceTransformationMatrix',\n    '300600C8': 'FrameOfReferenceTransformationComment',\n    '30080010': 'MeasuredDoseReferenceSequence',\n    '30080012': 'MeasuredDoseDescription',\n    '30080014': 'MeasuredDoseType',\n    '30080016': 'MeasuredDoseValue',\n    '30080020': 'TreatmentSessionBeamSequence',\n    '30080021': 'TreatmentSessionIonBeamSequence',\n    '30080022': 'CurrentFractionNumber',\n    '30080024': 'TreatmentControlPointDate',\n    '30080025': 'TreatmentControlPointTime',\n    '3008002A': 'TreatmentTerminationStatus',\n    '3008002B': 'TreatmentTerminationCode',\n    '3008002C': 'TreatmentVerificationStatus',\n    '30080030': 'ReferencedTreatmentRecordSequence',\n    '30080032': 'SpecifiedPrimaryMeterset',\n    '30080033': 'SpecifiedSecondaryMeterset',\n    '30080036': 'DeliveredPrimaryMeterset',\n    '30080037': 'DeliveredSecondaryMeterset',\n    '3008003A': 'SpecifiedTreatmentTime',\n    '3008003B': 'DeliveredTreatmentTime',\n    '30080040': 'ControlPointDeliverySequence',\n    '30080041': 'IonControlPointDeliverySequence',\n    '30080042': 'SpecifiedMeterset',\n    '30080044': 'DeliveredMeterset',\n    '30080045': 'MetersetRateSet',\n    '30080046': 'MetersetRateDelivered',\n    '30080047': 'ScanSpotMetersetsDelivered',\n    '30080048': 'DoseRateDelivered',\n    '30080050': 'TreatmentSummaryCalculatedDoseReferenceSequence',\n    '30080052': 'CumulativeDoseToDoseReference',\n    '30080054': 'FirstTreatmentDate',\n    '30080056': 'MostRecentTreatmentDate',\n    '3008005A': 'NumberOfFractionsDelivered',\n    '30080060': 'OverrideSequence',\n    '30080061': 'ParameterSequencePointer',\n    '30080062': 'OverrideParameterPointer',\n    '30080063': 'ParameterItemIndex',\n    '30080064': 'MeasuredDoseReferenceNumber',\n    '30080065': 'ParameterPointer',\n    '30080066': 'OverrideReason',\n    '30080067': 'ParameterValueNumber',\n    '30080068': 'CorrectedParameterSequence',\n    '3008006A': 'CorrectionValue',\n    '30080070': 'CalculatedDoseReferenceSequence',\n    '30080072': 'CalculatedDoseReferenceNumber',\n    '30080074': 'CalculatedDoseReferenceDescription',\n    '30080076': 'CalculatedDoseReferenceDoseValue',\n    '30080078': 'StartMeterset',\n    '3008007A': 'EndMeterset',\n    '30080080': 'ReferencedMeasuredDoseReferenceSequence',\n    '30080082': 'ReferencedMeasuredDoseReferenceNumber',\n    '30080090': 'ReferencedCalculatedDoseReferenceSequence',\n    '30080092': 'ReferencedCalculatedDoseReferenceNumber',\n    '300800A0': 'BeamLimitingDeviceLeafPairsSequence',\n    '300800B0': 'RecordedWedgeSequence',\n    '300800C0': 'RecordedCompensatorSequence',\n    '300800D0': 'RecordedBlockSequence',\n    '300800E0': 'TreatmentSummaryMeasuredDoseReferenceSequence',\n    '300800F0': 'RecordedSnoutSequence',\n    '300800F2': 'RecordedRangeShifterSequence',\n    '300800F4': 'RecordedLateralSpreadingDeviceSequence',\n    '300800F6': 'RecordedRangeModulatorSequence',\n    '30080100': 'RecordedSourceSequence',\n    '30080105': 'SourceSerialNumber',\n    '30080110': 'TreatmentSessionApplicationSetupSequence',\n    '30080116': 'ApplicationSetupCheck',\n    '30080120': 'RecordedBrachyAccessoryDeviceSequence',\n    '30080122': 'ReferencedBrachyAccessoryDeviceNumber',\n    '30080130': 'RecordedChannelSequence',\n    '30080132': 'SpecifiedChannelTotalTime',\n    '30080134': 'DeliveredChannelTotalTime',\n    '30080136': 'SpecifiedNumberOfPulses',\n    '30080138': 'DeliveredNumberOfPulses',\n    '3008013A': 'SpecifiedPulseRepetitionInterval',\n    '3008013C': 'DeliveredPulseRepetitionInterval',\n    '30080140': 'RecordedSourceApplicatorSequence',\n    '30080142': 'ReferencedSourceApplicatorNumber',\n    '30080150': 'RecordedChannelShieldSequence',\n    '30080152': 'ReferencedChannelShieldNumber',\n    '30080160': 'BrachyControlPointDeliveredSequence',\n    '30080162': 'SafePositionExitDate',\n    '30080164': 'SafePositionExitTime',\n    '30080166': 'SafePositionReturnDate',\n    '30080168': 'SafePositionReturnTime',\n    '30080171': 'PulseSpecificBrachyControlPointDeliveredSequence',\n    '30080172': 'PulseNumber',\n    '30080173': 'BrachyPulseControlPointDeliveredSequence',\n    '30080200': 'CurrentTreatmentStatus',\n    '30080202': 'TreatmentStatusComment',\n    '30080220': 'FractionGroupSummarySequence',\n    '30080223': 'ReferencedFractionNumber',\n    '30080224': 'FractionGroupType',\n    '30080230': 'BeamStopperPosition',\n    '30080240': 'FractionStatusSummarySequence',\n    '30080250': 'TreatmentDate',\n    '30080251': 'TreatmentTime',\n    '300A0002': 'RTPlanLabel',\n    '300A0003': 'RTPlanName',\n    '300A0004': 'RTPlanDescription',\n    '300A0006': 'RTPlanDate',\n    '300A0007': 'RTPlanTime',\n    '300A0009': 'TreatmentProtocols',\n    '300A000A': 'PlanIntent',\n    '300A000B': 'TreatmentSites',\n    '300A000C': 'RTPlanGeometry',\n    '300A000E': 'PrescriptionDescription',\n    '300A0010': 'DoseReferenceSequence',\n    '300A0012': 'DoseReferenceNumber',\n    '300A0013': 'DoseReferenceUID',\n    '300A0014': 'DoseReferenceStructureType',\n    '300A0015': 'NominalBeamEnergyUnit',\n    '300A0016': 'DoseReferenceDescription',\n    '300A0018': 'DoseReferencePointCoordinates',\n    '300A001A': 'NominalPriorDose',\n    '300A0020': 'DoseReferenceType',\n    '300A0021': 'ConstraintWeight',\n    '300A0022': 'DeliveryWarningDose',\n    '300A0023': 'DeliveryMaximumDose',\n    '300A0025': 'TargetMinimumDose',\n    '300A0026': 'TargetPrescriptionDose',\n    '300A0027': 'TargetMaximumDose',\n    '300A0028': 'TargetUnderdoseVolumeFraction',\n    '300A002A': 'OrganAtRiskFullVolumeDose',\n    '300A002B': 'OrganAtRiskLimitDose',\n    '300A002C': 'OrganAtRiskMaximumDose',\n    '300A002D': 'OrganAtRiskOverdoseVolumeFraction',\n    '300A0040': 'ToleranceTableSequence',\n    '300A0042': 'ToleranceTableNumber',\n    '300A0043': 'ToleranceTableLabel',\n    '300A0044': 'GantryAngleTolerance',\n    '300A0046': 'BeamLimitingDeviceAngleTolerance',\n    '300A0048': 'BeamLimitingDeviceToleranceSequence',\n    '300A004A': 'BeamLimitingDevicePositionTolerance',\n    '300A004B': 'SnoutPositionTolerance',\n    '300A004C': 'PatientSupportAngleTolerance',\n    '300A004E': 'TableTopEccentricAngleTolerance',\n    '300A004F': 'TableTopPitchAngleTolerance',\n    '300A0050': 'TableTopRollAngleTolerance',\n    '300A0051': 'TableTopVerticalPositionTolerance',\n    '300A0052': 'TableTopLongitudinalPositionTolerance',\n    '300A0053': 'TableTopLateralPositionTolerance',\n    '300A0055': 'RTPlanRelationship',\n    '300A0070': 'FractionGroupSequence',\n    '300A0071': 'FractionGroupNumber',\n    '300A0072': 'FractionGroupDescription',\n    '300A0078': 'NumberOfFractionsPlanned',\n    '300A0079': 'NumberOfFractionPatternDigitsPerDay',\n    '300A007A': 'RepeatFractionCycleLength',\n    '300A007B': 'FractionPattern',\n    '300A0080': 'NumberOfBeams',\n    '300A0082': 'BeamDoseSpecificationPoint',\n    '300A0083': 'ReferencedDoseReferenceUID',\n    '300A0084': 'BeamDose',\n    '300A0086': 'BeamMeterset',\n    '300A0088': 'BeamDosePointDepth',\n    '300A0089': 'BeamDosePointEquivalentDepth',\n    '300A008A': 'BeamDosePointSSD',\n    '300A008B': 'BeamDoseMeaning',\n    '300A008C': 'BeamDoseVerificationControlPointSequence',\n    '300A008D': 'AverageBeamDosePointDepth',\n    '300A008E': 'AverageBeamDosePointEquivalentDepth',\n    '300A008F': 'AverageBeamDosePointSSD',\n    '300A0090': 'BeamDoseType',\n    '300A0091': 'AlternateBeamDose',\n    '300A0092': 'AlternateBeamDoseType',\n    '300A0093': 'DepthValueAveragingFlag',\n    '300A0094': 'BeamDosePointSourceToExternalContourDistance',\n    '300A00A0': 'NumberOfBrachyApplicationSetups',\n    '300A00A2': 'BrachyApplicationSetupDoseSpecificationPoint',\n    '300A00A4': 'BrachyApplicationSetupDose',\n    '300A00B0': 'BeamSequence',\n    '300A00B2': 'TreatmentMachineName',\n    '300A00B3': 'PrimaryDosimeterUnit',\n    '300A00B4': 'SourceAxisDistance',\n    '300A00B6': 'BeamLimitingDeviceSequence',\n    '300A00B8': 'RTBeamLimitingDeviceType',\n    '300A00BA': 'SourceToBeamLimitingDeviceDistance',\n    '300A00BB': 'IsocenterToBeamLimitingDeviceDistance',\n    '300A00BC': 'NumberOfLeafJawPairs',\n    '300A00BE': 'LeafPositionBoundaries',\n    '300A00C0': 'BeamNumber',\n    '300A00C2': 'BeamName',\n    '300A00C3': 'BeamDescription',\n    '300A00C4': 'BeamType',\n    '300A00C5': 'BeamDeliveryDurationLimit',\n    '300A00C6': 'RadiationType',\n    '300A00C7': 'HighDoseTechniqueType',\n    '300A00C8': 'ReferenceImageNumber',\n    '300A00CA': 'PlannedVerificationImageSequence',\n    '300A00CC': 'ImagingDeviceSpecificAcquisitionParameters',\n    '300A00CE': 'TreatmentDeliveryType',\n    '300A00D0': 'NumberOfWedges',\n    '300A00D1': 'WedgeSequence',\n    '300A00D2': 'WedgeNumber',\n    '300A00D3': 'WedgeType',\n    '300A00D4': 'WedgeID',\n    '300A00D5': 'WedgeAngle',\n    '300A00D6': 'WedgeFactor',\n    '300A00D7': 'TotalWedgeTrayWaterEquivalentThickness',\n    '300A00D8': 'WedgeOrientation',\n    '300A00D9': 'IsocenterToWedgeTrayDistance',\n    '300A00DA': 'SourceToWedgeTrayDistance',\n    '300A00DB': 'WedgeThinEdgePosition',\n    '300A00DC': 'BolusID',\n    '300A00DD': 'BolusDescription',\n    '300A00DE': 'EffectiveWedgeAngle',\n    '300A00E0': 'NumberOfCompensators',\n    '300A00E1': 'MaterialID',\n    '300A00E2': 'TotalCompensatorTrayFactor',\n    '300A00E3': 'CompensatorSequence',\n    '300A00E4': 'CompensatorNumber',\n    '300A00E5': 'CompensatorID',\n    '300A00E6': 'SourceToCompensatorTrayDistance',\n    '300A00E7': 'CompensatorRows',\n    '300A00E8': 'CompensatorColumns',\n    '300A00E9': 'CompensatorPixelSpacing',\n    '300A00EA': 'CompensatorPosition',\n    '300A00EB': 'CompensatorTransmissionData',\n    '300A00EC': 'CompensatorThicknessData',\n    '300A00ED': 'NumberOfBoli',\n    '300A00EE': 'CompensatorType',\n    '300A00EF': 'CompensatorTrayID',\n    '300A00F0': 'NumberOfBlocks',\n    '300A00F2': 'TotalBlockTrayFactor',\n    '300A00F3': 'TotalBlockTrayWaterEquivalentThickness',\n    '300A00F4': 'BlockSequence',\n    '300A00F5': 'BlockTrayID',\n    '300A00F6': 'SourceToBlockTrayDistance',\n    '300A00F7': 'IsocenterToBlockTrayDistance',\n    '300A00F8': 'BlockType',\n    '300A00F9': 'AccessoryCode',\n    '300A00FA': 'BlockDivergence',\n    '300A00FB': 'BlockMountingPosition',\n    '300A00FC': 'BlockNumber',\n    '300A00FE': 'BlockName',\n    '300A0100': 'BlockThickness',\n    '300A0102': 'BlockTransmission',\n    '300A0104': 'BlockNumberOfPoints',\n    '300A0106': 'BlockData',\n    '300A0107': 'ApplicatorSequence',\n    '300A0108': 'ApplicatorID',\n    '300A0109': 'ApplicatorType',\n    '300A010A': 'ApplicatorDescription',\n    '300A010C': 'CumulativeDoseReferenceCoefficient',\n    '300A010E': 'FinalCumulativeMetersetWeight',\n    '300A0110': 'NumberOfControlPoints',\n    '300A0111': 'ControlPointSequence',\n    '300A0112': 'ControlPointIndex',\n    '300A0114': 'NominalBeamEnergy',\n    '300A0115': 'DoseRateSet',\n    '300A0116': 'WedgePositionSequence',\n    '300A0118': 'WedgePosition',\n    '300A011A': 'BeamLimitingDevicePositionSequence',\n    '300A011C': 'LeafJawPositions',\n    '300A011E': 'GantryAngle',\n    '300A011F': 'GantryRotationDirection',\n    '300A0120': 'BeamLimitingDeviceAngle',\n    '300A0121': 'BeamLimitingDeviceRotationDirection',\n    '300A0122': 'PatientSupportAngle',\n    '300A0123': 'PatientSupportRotationDirection',\n    '300A0124': 'TableTopEccentricAxisDistance',\n    '300A0125': 'TableTopEccentricAngle',\n    '300A0126': 'TableTopEccentricRotationDirection',\n    '300A0128': 'TableTopVerticalPosition',\n    '300A0129': 'TableTopLongitudinalPosition',\n    '300A012A': 'TableTopLateralPosition',\n    '300A012C': 'IsocenterPosition',\n    '300A012E': 'SurfaceEntryPoint',\n    '300A0130': 'SourceToSurfaceDistance',\n    '300A0131': 'AverageBeamDosePointSourceToExternalContourDistance',\n    '300A0132': 'SourceToExternalContourDistance',\n    '300A0133': 'ExternalContourEntryPoint',\n    '300A0134': 'CumulativeMetersetWeight',\n    '300A0140': 'TableTopPitchAngle',\n    '300A0142': 'TableTopPitchRotationDirection',\n    '300A0144': 'TableTopRollAngle',\n    '300A0146': 'TableTopRollRotationDirection',\n    '300A0148': 'HeadFixationAngle',\n    '300A014A': 'GantryPitchAngle',\n    '300A014C': 'GantryPitchRotationDirection',\n    '300A014E': 'GantryPitchAngleTolerance',\n    '300A0150': 'FixationEye',\n    '300A0151': 'ChairHeadFramePosition',\n    '300A0152': 'HeadFixationAngleTolerance',\n    '300A0153': 'ChairHeadFramePositionTolerance',\n    '300A0154': 'FixationLightAzimuthalAngleTolerance',\n    '300A0155': 'FixationLightPolarAngleTolerance',\n    '300A0180': 'PatientSetupSequence',\n    '300A0182': 'PatientSetupNumber',\n    '300A0183': 'PatientSetupLabel',\n    '300A0184': 'PatientAdditionalPosition',\n    '300A0190': 'FixationDeviceSequence',\n    '300A0192': 'FixationDeviceType',\n    '300A0194': 'FixationDeviceLabel',\n    '300A0196': 'FixationDeviceDescription',\n    '300A0198': 'FixationDevicePosition',\n    '300A0199': 'FixationDevicePitchAngle',\n    '300A019A': 'FixationDeviceRollAngle',\n    '300A01A0': 'ShieldingDeviceSequence',\n    '300A01A2': 'ShieldingDeviceType',\n    '300A01A4': 'ShieldingDeviceLabel',\n    '300A01A6': 'ShieldingDeviceDescription',\n    '300A01A8': 'ShieldingDevicePosition',\n    '300A01B0': 'SetupTechnique',\n    '300A01B2': 'SetupTechniqueDescription',\n    '300A01B4': 'SetupDeviceSequence',\n    '300A01B6': 'SetupDeviceType',\n    '300A01B8': 'SetupDeviceLabel',\n    '300A01BA': 'SetupDeviceDescription',\n    '300A01BC': 'SetupDeviceParameter',\n    '300A01D0': 'SetupReferenceDescription',\n    '300A01D2': 'TableTopVerticalSetupDisplacement',\n    '300A01D4': 'TableTopLongitudinalSetupDisplacement',\n    '300A01D6': 'TableTopLateralSetupDisplacement',\n    '300A0200': 'BrachyTreatmentTechnique',\n    '300A0202': 'BrachyTreatmentType',\n    '300A0206': 'TreatmentMachineSequence',\n    '300A0210': 'SourceSequence',\n    '300A0212': 'SourceNumber',\n    '300A0214': 'SourceType',\n    '300A0216': 'SourceManufacturer',\n    '300A0218': 'ActiveSourceDiameter',\n    '300A021A': 'ActiveSourceLength',\n    '300A021B': 'SourceModelID',\n    '300A021C': 'SourceDescription',\n    '300A0222': 'SourceEncapsulationNominalThickness',\n    '300A0224': 'SourceEncapsulationNominalTransmission',\n    '300A0226': 'SourceIsotopeName',\n    '300A0228': 'SourceIsotopeHalfLife',\n    '300A0229': 'SourceStrengthUnits',\n    '300A022A': 'ReferenceAirKermaRate',\n    '300A022B': 'SourceStrength',\n    '300A022C': 'SourceStrengthReferenceDate',\n    '300A022E': 'SourceStrengthReferenceTime',\n    '300A0230': 'ApplicationSetupSequence',\n    '300A0232': 'ApplicationSetupType',\n    '300A0234': 'ApplicationSetupNumber',\n    '300A0236': 'ApplicationSetupName',\n    '300A0238': 'ApplicationSetupManufacturer',\n    '300A0240': 'TemplateNumber',\n    '300A0242': 'TemplateType',\n    '300A0244': 'TemplateName',\n    '300A0250': 'TotalReferenceAirKerma',\n    '300A0260': 'BrachyAccessoryDeviceSequence',\n    '300A0262': 'BrachyAccessoryDeviceNumber',\n    '300A0263': 'BrachyAccessoryDeviceID',\n    '300A0264': 'BrachyAccessoryDeviceType',\n    '300A0266': 'BrachyAccessoryDeviceName',\n    '300A026A': 'BrachyAccessoryDeviceNominalThickness',\n    '300A026C': 'BrachyAccessoryDeviceNominalTransmission',\n    '300A0271': 'ChannelEffectiveLength',\n    '300A0272': 'ChannelInnerLength',\n    '300A0273': 'AfterloaderChannelID',\n    '300A0274': 'SourceApplicatorTipLength',\n    '300A0280': 'ChannelSequence',\n    '300A0282': 'ChannelNumber',\n    '300A0284': 'ChannelLength',\n    '300A0286': 'ChannelTotalTime',\n    '300A0288': 'SourceMovementType',\n    '300A028A': 'NumberOfPulses',\n    '300A028C': 'PulseRepetitionInterval',\n    '300A0290': 'SourceApplicatorNumber',\n    '300A0291': 'SourceApplicatorID',\n    '300A0292': 'SourceApplicatorType',\n    '300A0294': 'SourceApplicatorName',\n    '300A0296': 'SourceApplicatorLength',\n    '300A0298': 'SourceApplicatorManufacturer',\n    '300A029C': 'SourceApplicatorWallNominalThickness',\n    '300A029E': 'SourceApplicatorWallNominalTransmission',\n    '300A02A0': 'SourceApplicatorStepSize',\n    '300A02A2': 'TransferTubeNumber',\n    '300A02A4': 'TransferTubeLength',\n    '300A02B0': 'ChannelShieldSequence',\n    '300A02B2': 'ChannelShieldNumber',\n    '300A02B3': 'ChannelShieldID',\n    '300A02B4': 'ChannelShieldName',\n    '300A02B8': 'ChannelShieldNominalThickness',\n    '300A02BA': 'ChannelShieldNominalTransmission',\n    '300A02C8': 'FinalCumulativeTimeWeight',\n    '300A02D0': 'BrachyControlPointSequence',\n    '300A02D2': 'ControlPointRelativePosition',\n    '300A02D4': ('ControlPoint3DPosition'),\n    '300A02D6': 'CumulativeTimeWeight',\n    '300A02E0': 'CompensatorDivergence',\n    '300A02E1': 'CompensatorMountingPosition',\n    '300A02E2': 'SourceToCompensatorDistance',\n    '300A02E3': 'TotalCompensatorTrayWaterEquivalentThickness',\n    '300A02E4': 'IsocenterToCompensatorTrayDistance',\n    '300A02E5': 'CompensatorColumnOffset',\n    '300A02E6': 'IsocenterToCompensatorDistances',\n    '300A02E7': 'CompensatorRelativeStoppingPowerRatio',\n    '300A02E8': 'CompensatorMillingToolDiameter',\n    '300A02EA': 'IonRangeCompensatorSequence',\n    '300A02EB': 'CompensatorDescription',\n    '300A0302': 'RadiationMassNumber',\n    '300A0304': 'RadiationAtomicNumber',\n    '300A0306': 'RadiationChargeState',\n    '300A0308': 'ScanMode',\n    '300A0309': 'ModulatedScanModeType',\n    '300A030A': 'VirtualSourceAxisDistances',\n    '300A030C': 'SnoutSequence',\n    '300A030D': 'SnoutPosition',\n    '300A030F': 'SnoutID',\n    '300A0312': 'NumberOfRangeShifters',\n    '300A0314': 'RangeShifterSequence',\n    '300A0316': 'RangeShifterNumber',\n    '300A0318': 'RangeShifterID',\n    '300A0320': 'RangeShifterType',\n    '300A0322': 'RangeShifterDescription',\n    '300A0330': 'NumberOfLateralSpreadingDevices',\n    '300A0332': 'LateralSpreadingDeviceSequence',\n    '300A0334': 'LateralSpreadingDeviceNumber',\n    '300A0336': 'LateralSpreadingDeviceID',\n    '300A0338': 'LateralSpreadingDeviceType',\n    '300A033A': 'LateralSpreadingDeviceDescription',\n    '300A033C': 'LateralSpreadingDeviceWaterEquivalentThickness',\n    '300A0340': 'NumberOfRangeModulators',\n    '300A0342': 'RangeModulatorSequence',\n    '300A0344': 'RangeModulatorNumber',\n    '300A0346': 'RangeModulatorID',\n    '300A0348': 'RangeModulatorType',\n    '300A034A': 'RangeModulatorDescription',\n    '300A034C': 'BeamCurrentModulationID',\n    '300A0350': 'PatientSupportType',\n    '300A0352': 'PatientSupportID',\n    '300A0354': 'PatientSupportAccessoryCode',\n    '300A0355': 'TrayAccessoryCode',\n    '300A0356': 'FixationLightAzimuthalAngle',\n    '300A0358': 'FixationLightPolarAngle',\n    '300A035A': 'MetersetRate',\n    '300A0360': 'RangeShifterSettingsSequence',\n    '300A0362': 'RangeShifterSetting',\n    '300A0364': 'IsocenterToRangeShifterDistance',\n    '300A0366': 'RangeShifterWaterEquivalentThickness',\n    '300A0370': 'LateralSpreadingDeviceSettingsSequence',\n    '300A0372': 'LateralSpreadingDeviceSetting',\n    '300A0374': 'IsocenterToLateralSpreadingDeviceDistance',\n    '300A0380': 'RangeModulatorSettingsSequence',\n    '300A0382': 'RangeModulatorGatingStartValue',\n    '300A0384': 'RangeModulatorGatingStopValue',\n    '300A0386': 'RangeModulatorGatingStartWaterEquivalentThickness',\n    '300A0388': 'RangeModulatorGatingStopWaterEquivalentThickness',\n    '300A038A': 'IsocenterToRangeModulatorDistance',\n    '300A038F': 'ScanSpotTimeOffset',\n    '300A0390': 'ScanSpotTuneID',\n    '300A0391': 'ScanSpotPrescribedIndices',\n    '300A0392': 'NumberOfScanSpotPositions',\n    '300A0393': 'ScanSpotReordered',\n    '300A0394': 'ScanSpotPositionMap',\n    '300A0395': 'ScanSpotReorderingAllowed',\n    '300A0396': 'ScanSpotMetersetWeights',\n    '300A0398': 'ScanningSpotSize',\n    '300A039A': 'NumberOfPaintings',\n    '300A03A0': 'IonToleranceTableSequence',\n    '300A03A2': 'IonBeamSequence',\n    '300A03A4': 'IonBeamLimitingDeviceSequence',\n    '300A03A6': 'IonBlockSequence',\n    '300A03A8': 'IonControlPointSequence',\n    '300A03AA': 'IonWedgeSequence',\n    '300A03AC': 'IonWedgePositionSequence',\n    '300A0401': 'ReferencedSetupImageSequence',\n    '300A0402': 'SetupImageComment',\n    '300A0410': 'MotionSynchronizationSequence',\n    '300A0412': 'ControlPointOrientation',\n    '300A0420': 'GeneralAccessorySequence',\n    '300A0421': 'GeneralAccessoryID',\n    '300A0422': 'GeneralAccessoryDescription',\n    '300A0423': 'GeneralAccessoryType',\n    '300A0424': 'GeneralAccessoryNumber',\n    '300A0425': 'SourceToGeneralAccessoryDistance',\n    '300A0431': 'ApplicatorGeometrySequence',\n    '300A0432': 'ApplicatorApertureShape',\n    '300A0433': 'ApplicatorOpening',\n    '300A0434': 'ApplicatorOpeningX',\n    '300A0435': 'ApplicatorOpeningY',\n    '300A0436': 'SourceToApplicatorMountingPositionDistance',\n    '300A0440': 'NumberOfBlockSlabItems',\n    '300A0441': 'BlockSlabSequence',\n    '300A0442': 'BlockSlabThickness',\n    '300A0443': 'BlockSlabNumber',\n    '300A0450': 'DeviceMotionControlSequence',\n    '300A0451': 'DeviceMotionExecutionMode',\n    '300A0452': 'DeviceMotionObservationMode',\n    '300A0453': 'DeviceMotionParameterCodeSequence',\n    '300A0501': 'DistalDepthFraction',\n    '300A0502': 'DistalDepth',\n    '300A0503': 'NominalRangeModulationFractions',\n    '300A0504': 'NominalRangeModulatedRegionDepths',\n    '300A0505': 'DepthDoseParametersSequence',\n    '300A0506': 'DeliveredDepthDoseParametersSequence',\n    '300A0507': 'DeliveredDistalDepthFraction',\n    '300A0508': 'DeliveredDistalDepth',\n    '300A0509': 'DeliveredNominalRangeModulationFractions',\n    '300A0510': 'DeliveredNominalRangeModulatedRegionDepths',\n    '300A0511': 'DeliveredReferenceDoseDefinition',\n    '300A0512': 'ReferenceDoseDefinition',\n    '300C0002': 'ReferencedRTPlanSequence',\n    '300C0004': 'ReferencedBeamSequence',\n    '300C0006': 'ReferencedBeamNumber',\n    '300C0007': 'ReferencedReferenceImageNumber',\n    '300C0008': 'StartCumulativeMetersetWeight',\n    '300C0009': 'EndCumulativeMetersetWeight',\n    '300C000A': 'ReferencedBrachyApplicationSetupSequence',\n    '300C000C': 'ReferencedBrachyApplicationSetupNumber',\n    '300C000E': 'ReferencedSourceNumber',\n    '300C0020': 'ReferencedFractionGroupSequence',\n    '300C0022': 'ReferencedFractionGroupNumber',\n    '300C0040': 'ReferencedVerificationImageSequence',\n    '300C0042': 'ReferencedReferenceImageSequence',\n    '300C0050': 'ReferencedDoseReferenceSequence',\n    '300C0051': 'ReferencedDoseReferenceNumber',\n    '300C0055': 'BrachyReferencedDoseReferenceSequence',\n    '300C0060': 'ReferencedStructureSetSequence',\n    '300C006A': 'ReferencedPatientSetupNumber',\n    '300C0080': 'ReferencedDoseSequence',\n    '300C00A0': 'ReferencedToleranceTableNumber',\n    '300C00B0': 'ReferencedBolusSequence',\n    '300C00C0': 'ReferencedWedgeNumber',\n    '300C00D0': 'ReferencedCompensatorNumber',\n    '300C00E0': 'ReferencedBlockNumber',\n    '300C00F0': 'ReferencedControlPointIndex',\n    '300C00F2': 'ReferencedControlPointSequence',\n    '300C00F4': 'ReferencedStartControlPointIndex',\n    '300C00F6': 'ReferencedStopControlPointIndex',\n    '300C0100': 'ReferencedRangeShifterNumber',\n    '300C0102': 'ReferencedLateralSpreadingDeviceNumber',\n    '300C0104': 'ReferencedRangeModulatorNumber',\n    '300C0111': 'OmittedBeamTaskSequence',\n    '300C0112': 'ReasonForOmission',\n    '300C0113': 'ReasonForOmissionDescription',\n    '300E0002': 'ApprovalStatus',\n    '300E0004': 'ReviewDate',\n    '300E0005': 'ReviewTime',\n    '300E0008': 'ReviewerName',\n    '40000010': 'Arbitrary',\n    '40004000': 'TextComments',\n    '40080040': 'ResultsID',\n    '40080042': 'ResultsIDIssuer',\n    '40080050': 'ReferencedInterpretationSequence',\n    '400800FF': 'ReportProductionStatusTrial',\n    '40080100': 'InterpretationRecordedDate',\n    '40080101': 'InterpretationRecordedTime',\n    '40080102': 'InterpretationRecorder',\n    '40080103': 'ReferenceToRecordedSound',\n    '40080108': 'InterpretationTranscriptionDate',\n    '40080109': 'InterpretationTranscriptionTime',\n    '4008010A': 'InterpretationTranscriber',\n    '4008010B': 'InterpretationText',\n    '4008010C': 'InterpretationAuthor',\n    '40080111': 'InterpretationApproverSequence',\n    '40080112': 'InterpretationApprovalDate',\n    '40080113': 'InterpretationApprovalTime',\n    '40080114': 'PhysicianApprovingInterpretation',\n    '40080115': 'InterpretationDiagnosisDescription',\n    '40080117': 'InterpretationDiagnosisCodeSequence',\n    '40080118': 'ResultsDistributionListSequence',\n    '40080119': 'DistributionName',\n    '4008011A': 'DistributionAddress',\n    '40080200': 'InterpretationID',\n    '40080202': 'InterpretationIDIssuer',\n    '40080210': 'InterpretationTypeID',\n    '40080212': 'InterpretationStatusID',\n    '40080300': 'Impressions',\n    '40084000': 'ResultsComments',\n    '40100001': 'LowEnergyDetectors',\n    '40100002': 'HighEnergyDetectors',\n    '40100004': 'DetectorGeometrySequence',\n    '40101001': 'ThreatROIVoxelSequence',\n    '40101004': 'ThreatROIBase',\n    '40101005': 'ThreatROIExtents',\n    '40101006': 'ThreatROIBitmap',\n    '40101007': 'RouteSegmentID',\n    '40101008': 'GantryType',\n    '40101009': 'OOIOwnerType',\n    '4010100A': 'RouteSegmentSequence',\n    '40101010': 'PotentialThreatObjectID',\n    '40101011': 'ThreatSequence',\n    '40101012': 'ThreatCategory',\n    '40101013': 'ThreatCategoryDescription',\n    '40101014': 'ATDAbilityAssessment',\n    '40101015': 'ATDAssessmentFlag',\n    '40101016': 'ATDAssessmentProbability',\n    '40101017': 'Mass',\n    '40101018': 'Density',\n    '40101019': 'ZEffective',\n    '4010101A': 'BoardingPassID',\n    '4010101B': 'CenterOfMass',\n    '4010101C': 'CenterOfPTO',\n    '4010101D': 'BoundingPolygon',\n    '4010101E': 'RouteSegmentStartLocationID',\n    '4010101F': 'RouteSegmentEndLocationID',\n    '40101020': 'RouteSegmentLocationIDType',\n    '40101021': 'AbortReason',\n    '40101023': 'VolumeOfPTO',\n    '40101024': 'AbortFlag',\n    '40101025': 'RouteSegmentStartTime',\n    '40101026': 'RouteSegmentEndTime',\n    '40101027': 'TDRType',\n    '40101028': 'InternationalRouteSegment',\n    '40101029': 'ThreatDetectionAlgorithmandVersion',\n    '4010102A': 'AssignedLocation',\n    '4010102B': 'AlarmDecisionTime',\n    '40101031': 'AlarmDecision',\n    '40101033': 'NumberOfTotalObjects',\n    '40101034': 'NumberOfAlarmObjects',\n    '40101037': 'PTORepresentationSequence',\n    '40101038': 'ATDAssessmentSequence',\n    '40101039': 'TIPType',\n    '4010103A': 'DICOSVersion',\n    '40101041': 'OOIOwnerCreationTime',\n    '40101042': 'OOIType',\n    '40101043': 'OOISize',\n    '40101044': 'AcquisitionStatus',\n    '40101045': 'BasisMaterialsCodeSequence',\n    '40101046': 'PhantomType',\n    '40101047': 'OOIOwnerSequence',\n    '40101048': 'ScanType',\n    '40101051': 'ItineraryID',\n    '40101052': 'ItineraryIDType',\n    '40101053': 'ItineraryIDAssigningAuthority',\n    '40101054': 'RouteID',\n    '40101055': 'RouteIDAssigningAuthority',\n    '40101056': 'InboundArrivalType',\n    '40101058': 'CarrierID',\n    '40101059': 'CarrierIDAssigningAuthority',\n    '40101060': 'SourceOrientation',\n    '40101061': 'SourcePosition',\n    '40101062': 'BeltHeight',\n    '40101064': 'AlgorithmRoutingCodeSequence',\n    '40101067': 'TransportClassification',\n    '40101068': 'OOITypeDescriptor',\n    '40101069': 'TotalProcessingTime',\n    '4010106C': 'DetectorCalibrationData',\n    '4010106D': 'AdditionalScreeningPerformed',\n    '4010106E': 'AdditionalInspectionSelectionCriteria',\n    '4010106F': 'AdditionalInspectionMethodSequence',\n    '40101070': 'AITDeviceType',\n    '40101071': 'QRMeasurementsSequence',\n    '40101072': 'TargetMaterialSequence',\n    '40101073': 'SNRThreshold',\n    '40101075': 'ImageScaleRepresentation',\n    '40101076': 'ReferencedPTOSequence',\n    '40101077': 'ReferencedTDRInstanceSequence',\n    '40101078': 'PTOLocationDescription',\n    '40101079': 'AnomalyLocatorIndicatorSequence',\n    '4010107A': 'AnomalyLocatorIndicator',\n    '4010107B': 'PTORegionSequence',\n    '4010107C': 'InspectionSelectionCriteria',\n    '4010107D': 'SecondaryInspectionMethodSequence',\n    '4010107E': 'PRCSToRCSOrientation',\n    '4FFE0001': 'MACParametersSequence',\n    '52009229': 'SharedFunctionalGroupsSequence',\n    '52009230': 'PerFrameFunctionalGroupsSequence',\n    '54000100': 'WaveformSequence',\n    '54000110': 'ChannelMinimumValue',\n    '54000112': 'ChannelMaximumValue',\n    '54001004': 'WaveformBitsAllocated',\n    '54001006': 'WaveformSampleInterpretation',\n    '5400100A': 'WaveformPaddingValue',\n    '54001010': 'WaveformData',\n    '56000010': 'FirstOrderPhaseCorrectionAngle',\n    '56000020': 'SpectroscopyData',\n    '7FE00008': 'FloatPixelData',\n    '7FE00009': 'DoubleFloatPixelData',\n    '7FE00010': 'PixelData',\n    '7FE00020': 'CoefficientsSDVN',\n    '7FE00030': 'CoefficientsSDHN',\n    '7FE00040': 'CoefficientsSDDN',\n    'FFFAFFFA': 'DigitalSignaturesSequence',\n    'FFFCFFFC': 'DataSetTrailingPadding',\n    'FFFEE000': 'Item',\n    'FFFEE00D': 'ItemDelimitationItem',\n    'FFFEE0DD': 'SequenceDelimitationItem',\n  };\n  Object.freeze(tagToKeyword);\n\n  const keywordToTag = {\n    'CommandGroupLength': '00000000',\n    'CommandLengthToEnd': '00000001',\n    'AffectedSOPClassUID': '00000002',\n    'RequestedSOPClassUID': '00000003',\n    'CommandRecognitionCode': '00000010',\n    'CommandField': '00000100',\n    'MessageID': '00000110',\n    'MessageIDBeingRespondedTo': '00000120',\n    'Initiator': '00000200',\n    'Receiver': '00000300',\n    'FindLocation': '00000400',\n    'MoveDestination': '00000600',\n    'Priority': '00000700',\n    'CommandDataSetType': '00000800',\n    'NumberOfMatches': '00000850',\n    'ResponseSequenceNumber': '00000860',\n    'Status': '00000900',\n    'OffendingElement': '00000901',\n    'ErrorComment': '00000902',\n    'ErrorID': '00000903',\n    'AffectedSOPInstanceUID': '00001000',\n    'RequestedSOPInstanceUID': '00001001',\n    'EventTypeID': '00001002',\n    'AttributeIdentifierList': '00001005',\n    'ActionTypeID': '00001008',\n    'NumberOfRemainingSuboperations': '00001020',\n    'NumberOfCompletedSuboperations': '00001021',\n    'NumberOfFailedSuboperations': '00001022',\n    'NumberOfWarningSuboperations': '00001023',\n    'MoveOriginatorApplicationEntityTitle': '00001030',\n    'MoveOriginatorMessageID': '00001031',\n    'DialogReceiver': '00004000',\n    'TerminalType': '00004010',\n    'MessageSetID': '00005010',\n    'EndMessageID': '00005020',\n    'DisplayFormat': '00005110',\n    'PagePositionID': '00005120',\n    'TextFormatID': '00005130',\n    'NormalReverse': '00005140',\n    'AddGrayScale': '00005150',\n    'Borders': '00005160',\n    'Copies': '00005170',\n    'CommandMagnificationType': '00005180',\n    'Erase': '00005190',\n    'Print': '000051A0',\n    'Overlays': '000051B0',\n    'FileMetaInformationGroupLength': '00020000',\n    'FileMetaInformationVersion': '00020001',\n    'MediaStorageSOPClassUID': '00020002',\n    'MediaStorageSOPInstanceUID': '00020003',\n    'TransferSyntaxUID': '00020010',\n    'ImplementationClassUID': '00020012',\n    'ImplementationVersionName': '00020013',\n    'SourceApplicationEntityTitle': '00020016',\n    'SendingApplicationEntityTitle': '00020017',\n    'ReceivingApplicationEntityTitle': '00020018',\n    'PrivateInformationCreatorUID': '00020100',\n    'PrivateInformation': '00020102',\n    'FileSetID': '00041130',\n    'FileSetDescriptorFileID': '00041141',\n    'SpecificCharacterSetOfFileSetDescriptorFile': '00041142',\n    'OffsetOfTheFirstDirectoryRecordOfTheRootDirectoryEntity': '00041200',\n    'OffsetOfTheLastDirectoryRecordOfTheRootDirectoryEntity': '00041202',\n    'FileSetConsistencyFlag': '00041212',\n    'DirectoryRecordSequence': '00041220',\n    'OffsetOfTheNextDirectoryRecord': '00041400',\n    'RecordInUseFlag': '00041410',\n    'OffsetOfReferencedLowerLevelDirectoryEntity': '00041420',\n    'DirectoryRecordType': '00041430',\n    'PrivateRecordUID': '00041432',\n    'ReferencedFileID': '00041500',\n    'MRDRDirectoryRecordOffset': '00041504',\n    'ReferencedSOPClassUIDInFile': '00041510',\n    'ReferencedSOPInstanceUIDInFile': '00041511',\n    'ReferencedTransferSyntaxUIDInFile': '00041512',\n    'ReferencedRelatedGeneralSOPClassUIDInFile': '0004151A',\n    'NumberOfReferences': '00041600',\n    'LengthToEnd': '00080001',\n    'SpecificCharacterSet': '00080005',\n    'LanguageCodeSequence': '00080006',\n    'ImageType': '00080008',\n    'RecognitionCode': '00080010',\n    'InstanceCreationDate': '00080012',\n    'InstanceCreationTime': '00080013',\n    'InstanceCreatorUID': '00080014',\n    'InstanceCoercionDateTime': '00080015',\n    'SOPClassUID': '00080016',\n    'SOPInstanceUID': '00080018',\n    'RelatedGeneralSOPClassUID': '0008001A',\n    'OriginalSpecializedSOPClassUID': '0008001B',\n    'StudyDate': '00080020',\n    'SeriesDate': '00080021',\n    'AcquisitionDate': '00080022',\n    'ContentDate': '00080023',\n    'OverlayDate': '00080024',\n    'CurveDate': '00080025',\n    'AcquisitionDateTime': '0008002A',\n    'StudyTime': '00080030',\n    'SeriesTime': '00080031',\n    'AcquisitionTime': '00080032',\n    'ContentTime': '00080033',\n    'OverlayTime': '00080034',\n    'CurveTime': '00080035',\n    'DataSetType': '00080040',\n    'DataSetSubtype': '00080041',\n    'NuclearMedicineSeriesType': '00080042',\n    'AccessionNumber': '00080050',\n    'IssuerOfAccessionNumberSequence': '00080051',\n    'QueryRetrieveLevel': '00080052',\n    'QueryRetrieveView': '00080053',\n    'RetrieveAETitle': '00080054',\n    'StationAETitle': '00080055',\n    'InstanceAvailability': '00080056',\n    'FailedSOPInstanceUIDList': '00080058',\n    'Modality': '00080060',\n    'ModalitiesInStudy': '00080061',\n    'SOPClassesInStudy': '00080062',\n    'AnatomicRegionsInStudyCodeSequence': '00080063',\n    'ConversionType': '00080064',\n    'PresentationIntentType': '00080068',\n    'Manufacturer': '00080070',\n    'InstitutionName': '00080080',\n    'InstitutionAddress': '00080081',\n    'InstitutionCodeSequence': '00080082',\n    'ReferringPhysicianName': '00080090',\n    'ReferringPhysicianAddress': '00080092',\n    'ReferringPhysicianTelephoneNumbers': '00080094',\n    'ReferringPhysicianIdentificationSequence': '00080096',\n    'ConsultingPhysicianName': '0008009C',\n    'ConsultingPhysicianIdentificationSequence': '0008009D',\n    'CodeValue': '00080100',\n    'ExtendedCodeValue': '00080101',\n    'CodingSchemeDesignator': '00080102',\n    'CodingSchemeVersion': '00080103',\n    'CodeMeaning': '00080104',\n    'MappingResource': '00080105',\n    'ContextGroupVersion': '00080106',\n    'ContextGroupLocalVersion': '00080107',\n    'ExtendedCodeMeaning': '00080108',\n    'CodingSchemeResourcesSequence': '00080109',\n    'CodingSchemeURLType': '0008010A',\n    'ContextGroupExtensionFlag': '0008010B',\n    'CodingSchemeUID': '0008010C',\n    'ContextGroupExtensionCreatorUID': '0008010D',\n    'CodingSchemeURL': '0008010E',\n    'ContextIdentifier': '0008010F',\n    'CodingSchemeIdentificationSequence': '00080110',\n    'CodingSchemeRegistry': '00080112',\n    'CodingSchemeExternalID': '00080114',\n    'CodingSchemeName': '00080115',\n    'CodingSchemeResponsibleOrganization': '00080116',\n    'ContextUID': '00080117',\n    'MappingResourceUID': '00080118',\n    'LongCodeValue': '00080119',\n    'URNCodeValue': '00080120',\n    'EquivalentCodeSequence': '00080121',\n    'MappingResourceName': '00080122',\n    'ContextGroupIdentificationSequence': '00080123',\n    'MappingResourceIdentificationSequence': '00080124',\n    'TimezoneOffsetFromUTC': '00080201',\n    'ResponsibleGroupCodeSequence': '00080220',\n    'EquipmentModality': '00080221',\n    'ManufacturerRelatedModelGroup': '00080222',\n    'PrivateDataElementCharacteristicsSequence': '00080300',\n    'PrivateGroupReference': '00080301',\n    'PrivateCreatorReference': '00080302',\n    'BlockIdentifyingInformationStatus': '00080303',\n    'NonidentifyingPrivateElements': '00080304',\n    'DeidentificationActionSequence': '00080305',\n    'IdentifyingPrivateElements': '00080306',\n    'DeidentificationAction': '00080307',\n    'PrivateDataElement': '00080308',\n    'PrivateDataElementValueMultiplicity': '00080309',\n    'PrivateDataElementValueRepresentation': '0008030A',\n    'PrivateDataElementNumberOfItems': '0008030B',\n    'PrivateDataElementName': '0008030C',\n    'PrivateDataElementKeyword': '0008030D',\n    'PrivateDataElementDescription': '0008030E',\n    'PrivateDataElementEncoding': '0008030F',\n    'PrivateDataElementDefinitionSequence': '00080310',\n    'NetworkID': '00081000',\n    'StationName': '00081010',\n    'StudyDescription': '00081030',\n    'ProcedureCodeSequence': '00081032',\n    'SeriesDescription': '0008103E',\n    'SeriesDescriptionCodeSequence': '0008103F',\n    'InstitutionalDepartmentName': '00081040',\n    'PhysiciansOfRecord': '00081048',\n    'PhysiciansOfRecordIdentificationSequence': '00081049',\n    'PerformingPhysicianName': '00081050',\n    'PerformingPhysicianIdentificationSequence': '00081052',\n    'NameOfPhysiciansReadingStudy': '00081060',\n    'PhysiciansReadingStudyIdentificationSequence': '00081062',\n    'OperatorsName': '00081070',\n    'OperatorIdentificationSequence': '00081072',\n    'AdmittingDiagnosesDescription': '00081080',\n    'AdmittingDiagnosesCodeSequence': '00081084',\n    'ManufacturerModelName': '00081090',\n    'ReferencedResultsSequence': '00081100',\n    'ReferencedStudySequence': '00081110',\n    'ReferencedPerformedProcedureStepSequence': '00081111',\n    'ReferencedSeriesSequence': '00081115',\n    'ReferencedPatientSequence': '00081120',\n    'ReferencedVisitSequence': '00081125',\n    'ReferencedOverlaySequence': '00081130',\n    'ReferencedStereometricInstanceSequence': '00081134',\n    'ReferencedWaveformSequence': '0008113A',\n    'ReferencedImageSequence': '00081140',\n    'ReferencedCurveSequence': '00081145',\n    'ReferencedInstanceSequence': '0008114A',\n    'ReferencedRealWorldValueMappingInstanceSequence': '0008114B',\n    'ReferencedSOPClassUID': '00081150',\n    'ReferencedSOPInstanceUID': '00081155',\n    'DefinitionSourceSequence': '00081156',\n    'SOPClassesSupported': '0008115A',\n    'ReferencedFrameNumber': '00081160',\n    'SimpleFrameList': '00081161',\n    'CalculatedFrameList': '00081162',\n    'TimeRange': '00081163',\n    'FrameExtractionSequence': '00081164',\n    'MultiFrameSourceSOPInstanceUID': '00081167',\n    'RetrieveURL': '00081190',\n    'TransactionUID': '00081195',\n    'WarningReason': '00081196',\n    'FailureReason': '00081197',\n    'FailedSOPSequence': '00081198',\n    'ReferencedSOPSequence': '00081199',\n    'OtherFailuresSequence': '0008119A',\n    'StudiesContainingOtherReferencedInstancesSequence': '00081200',\n    'RelatedSeriesSequence': '00081250',\n    'LossyImageCompressionRetired': '00082110',\n    'DerivationDescription': '00082111',\n    'SourceImageSequence': '00082112',\n    'StageName': '00082120',\n    'StageNumber': '00082122',\n    'NumberOfStages': '00082124',\n    'ViewName': '00082127',\n    'ViewNumber': '00082128',\n    'NumberOfEventTimers': '00082129',\n    'NumberOfViewsInStage': '0008212A',\n    'EventElapsedTimes': '00082130',\n    'EventTimerNames': '00082132',\n    'EventTimerSequence': '00082133',\n    'EventTimeOffset': '00082134',\n    'EventCodeSequence': '00082135',\n    'StartTrim': '00082142',\n    'StopTrim': '00082143',\n    'RecommendedDisplayFrameRate': '00082144',\n    'TransducerPosition': '00082200',\n    'TransducerOrientation': '00082204',\n    'AnatomicStructure': '00082208',\n    'AnatomicRegionSequence': '00082218',\n    'AnatomicRegionModifierSequence': '00082220',\n    'PrimaryAnatomicStructureSequence': '00082228',\n    'AnatomicStructureSpaceOrRegionSequence': '00082229',\n    'PrimaryAnatomicStructureModifierSequence': '00082230',\n    'TransducerPositionSequence': '00082240',\n    'TransducerPositionModifierSequence': '00082242',\n    'TransducerOrientationSequence': '00082244',\n    'TransducerOrientationModifierSequence': '00082246',\n    'AnatomicStructureSpaceOrRegionCodeSequenceTrial': '00082251',\n    'AnatomicPortalOfEntranceCodeSequenceTrial': '00082253',\n    'AnatomicApproachDirectionCodeSequenceTrial': '00082255',\n    'AnatomicPerspectiveDescriptionTrial': '00082256',\n    'AnatomicPerspectiveCodeSequenceTrial': '00082257',\n    'AnatomicLocationOfExaminingInstrumentDescriptionTrial': '00082258',\n    'AnatomicLocationOfExaminingInstrumentCodeSequenceTrial': '00082259',\n    'AnatomicStructureSpaceOrRegionModifierCodeSequenceTrial': '0008225A',\n    'OnAxisBackgroundAnatomicStructureCodeSequenceTrial': '0008225C',\n    'AlternateRepresentationSequence': '00083001',\n    'IrradiationEventUID': '00083010',\n    'SourceIrradiationEventSequence': '00083011',\n    'RadiopharmaceuticalAdministrationEventUID': '00083012',\n    'IdentifyingComments': '00084000',\n    'FrameType': '00089007',\n    'ReferencedImageEvidenceSequence': '00089092',\n    'ReferencedRawDataSequence': '00089121',\n    'CreatorVersionUID': '00089123',\n    'DerivationImageSequence': '00089124',\n    'SourceImageEvidenceSequence': '00089154',\n    'PixelPresentation': '00089205',\n    'VolumetricProperties': '00089206',\n    'VolumeBasedCalculationTechnique': '00089207',\n    'ComplexImageComponent': '00089208',\n    'AcquisitionContrast': '00089209',\n    'DerivationCodeSequence': '00089215',\n    'ReferencedPresentationStateSequence': '00089237',\n    'ReferencedOtherPlaneSequence': '00089410',\n    'FrameDisplaySequence': '00089458',\n    'RecommendedDisplayFrameRateInFloat': '00089459',\n    'SkipFrameRangeFlag': '00089460',\n    'PatientName': '00100010',\n    'PatientID': '00100020',\n    'IssuerOfPatientID': '00100021',\n    'TypeOfPatientID': '00100022',\n    'IssuerOfPatientIDQualifiersSequence': '00100024',\n    'SourcePatientGroupIdentificationSequence': '00100026',\n    'GroupOfPatientsIdentificationSequence': '00100027',\n    'SubjectRelativePositionInImage': '00100028',\n    'PatientBirthDate': '00100030',\n    'PatientBirthTime': '00100032',\n    'PatientBirthDateInAlternativeCalendar': '00100033',\n    'PatientDeathDateInAlternativeCalendar': '00100034',\n    'PatientAlternativeCalendar': '00100035',\n    'PatientSex': '00100040',\n    'PatientInsurancePlanCodeSequence': '00100050',\n    'PatientPrimaryLanguageCodeSequence': '00100101',\n    'PatientPrimaryLanguageModifierCodeSequence': '00100102',\n    'QualityControlSubject': '00100200',\n    'QualityControlSubjectTypeCodeSequence': '00100201',\n    'StrainDescription': '00100212',\n    'StrainNomenclature': '00100213',\n    'StrainStockNumber': '00100214',\n    'StrainSourceRegistryCodeSequence': '00100215',\n    'StrainStockSequence': '00100216',\n    'StrainSource': '00100217',\n    'StrainAdditionalInformation': '00100218',\n    'StrainCodeSequence': '00100219',\n    'GeneticModificationsSequence': '00100221',\n    'GeneticModificationsDescription': '00100222',\n    'GeneticModificationsNomenclature': '00100223',\n    'GeneticModificationsCodeSequence': '00100229',\n    'OtherPatientIDs': '00101000',\n    'OtherPatientNames': '00101001',\n    'OtherPatientIDsSequence': '00101002',\n    'PatientBirthName': '00101005',\n    'PatientAge': '00101010',\n    'PatientSize': '00101020',\n    'PatientSizeCodeSequence': '00101021',\n    'PatientBodyMassIndex': '00101022',\n    'MeasuredAPDimension': '00101023',\n    'MeasuredLateralDimension': '00101024',\n    'PatientWeight': '00101030',\n    'PatientAddress': '00101040',\n    'InsurancePlanIdentification': '00101050',\n    'PatientMotherBirthName': '00101060',\n    'MilitaryRank': '00101080',\n    'BranchOfService': '00101081',\n    'MedicalRecordLocator': '00101090',\n    'ReferencedPatientPhotoSequence': '00101100',\n    'MedicalAlerts': '00102000',\n    'Allergies': '00102110',\n    'CountryOfResidence': '00102150',\n    'RegionOfResidence': '00102152',\n    'PatientTelephoneNumbers': '00102154',\n    'PatientTelecomInformation': '00102155',\n    'EthnicGroup': '00102160',\n    'Occupation': '00102180',\n    'SmokingStatus': '001021A0',\n    'AdditionalPatientHistory': '001021B0',\n    'PregnancyStatus': '001021C0',\n    'LastMenstrualDate': '001021D0',\n    'PatientReligiousPreference': '001021F0',\n    'PatientSpeciesDescription': '00102201',\n    'PatientSpeciesCodeSequence': '00102202',\n    'PatientSexNeutered': '00102203',\n    'AnatomicalOrientationType': '00102210',\n    'PatientBreedDescription': '00102292',\n    'PatientBreedCodeSequence': '00102293',\n    'BreedRegistrationSequence': '00102294',\n    'BreedRegistrationNumber': '00102295',\n    'BreedRegistryCodeSequence': '00102296',\n    'ResponsiblePerson': '00102297',\n    'ResponsiblePersonRole': '00102298',\n    'ResponsibleOrganization': '00102299',\n    'PatientComments': '00104000',\n    'ExaminedBodyThickness': '00109431',\n    'ClinicalTrialSponsorName': '00120010',\n    'ClinicalTrialProtocolID': '00120020',\n    'ClinicalTrialProtocolName': '00120021',\n    'ClinicalTrialSiteID': '00120030',\n    'ClinicalTrialSiteName': '00120031',\n    'ClinicalTrialSubjectID': '00120040',\n    'ClinicalTrialSubjectReadingID': '00120042',\n    'ClinicalTrialTimePointID': '00120050',\n    'ClinicalTrialTimePointDescription': '00120051',\n    'LongitudinalTemporalOffsetFromEvent': '00120052',\n    'LongitudinalTemporalEventType': '00120053',\n    'ClinicalTrialCoordinatingCenterName': '00120060',\n    'PatientIdentityRemoved': '00120062',\n    'DeidentificationMethod': '00120063',\n    'DeidentificationMethodCodeSequence': '00120064',\n    'ClinicalTrialSeriesID': '00120071',\n    'ClinicalTrialSeriesDescription': '00120072',\n    'ClinicalTrialProtocolEthicsCommitteeName': '00120081',\n    'ClinicalTrialProtocolEthicsCommitteeApprovalNumber': '00120082',\n    'ConsentForClinicalTrialUseSequence': '00120083',\n    'DistributionType': '00120084',\n    'ConsentForDistributionFlag': '00120085',\n    'EthicsCommitteeApprovalEffectivenessStartDate': '00120086',\n    'EthicsCommitteeApprovalEffectivenessEndDate': '00120087',\n    'CADFileFormat': '00140023',\n    'ComponentReferenceSystem': '00140024',\n    'ComponentManufacturingProcedure': '00140025',\n    'ComponentManufacturer': '00140028',\n    'MaterialThickness': '00140030',\n    'MaterialPipeDiameter': '00140032',\n    'MaterialIsolationDiameter': '00140034',\n    'MaterialGrade': '00140042',\n    'MaterialPropertiesDescription': '00140044',\n    'MaterialPropertiesFileFormatRetired': '00140045',\n    'MaterialNotes': '00140046',\n    'ComponentShape': '00140050',\n    'CurvatureType': '00140052',\n    'OuterDiameter': '00140054',\n    'InnerDiameter': '00140056',\n    'ComponentWelderIDs': '00140100',\n    'SecondaryApprovalStatus': '00140101',\n    'SecondaryReviewDate': '00140102',\n    'SecondaryReviewTime': '00140103',\n    'SecondaryReviewerName': '00140104',\n    'RepairID': '00140105',\n    'MultipleComponentApprovalSequence': '00140106',\n    'OtherApprovalStatus': '00140107',\n    'OtherSecondaryApprovalStatus': '00140108',\n    'ActualEnvironmentalConditions': '00141010',\n    'ExpiryDate': '00141020',\n    'EnvironmentalConditions': '00141040',\n    'EvaluatorSequence': '00142002',\n    'EvaluatorNumber': '00142004',\n    'EvaluatorName': '00142006',\n    'EvaluationAttempt': '00142008',\n    'IndicationSequence': '00142012',\n    'IndicationNumber': '00142014',\n    'IndicationLabel': '00142016',\n    'IndicationDescription': '00142018',\n    'IndicationType': '0014201A',\n    'IndicationDisposition': '0014201C',\n    'IndicationROISequence': '0014201E',\n    'IndicationPhysicalPropertySequence': '00142030',\n    'PropertyLabel': '00142032',\n    'CoordinateSystemNumberOfAxes': '00142202',\n    'CoordinateSystemAxesSequence': '00142204',\n    'CoordinateSystemAxisDescription': '00142206',\n    'CoordinateSystemDataSetMapping': '00142208',\n    'CoordinateSystemAxisNumber': '0014220A',\n    'CoordinateSystemAxisType': '0014220C',\n    'CoordinateSystemAxisUnits': '0014220E',\n    'CoordinateSystemAxisValues': '00142210',\n    'CoordinateSystemTransformSequence': '00142220',\n    'TransformDescription': '00142222',\n    'TransformNumberOfAxes': '00142224',\n    'TransformOrderOfAxes': '00142226',\n    'TransformedAxisUnits': '00142228',\n    'CoordinateSystemTransformRotationAndScaleMatrix': '0014222A',\n    'CoordinateSystemTransformTranslationMatrix': '0014222C',\n    'InternalDetectorFrameTime': '00143011',\n    'NumberOfFramesIntegrated': '00143012',\n    'DetectorTemperatureSequence': '00143020',\n    'SensorName': '00143022',\n    'HorizontalOffsetOfSensor': '00143024',\n    'VerticalOffsetOfSensor': '00143026',\n    'SensorTemperature': '00143028',\n    'DarkCurrentSequence': '00143040',\n    'DarkCurrentCounts': '00143050',\n    'GainCorrectionReferenceSequence': '00143060',\n    'AirCounts': '00143070',\n    'KVUsedInGainCalibration': '00143071',\n    'MAUsedInGainCalibration': '00143072',\n    'NumberOfFramesUsedForIntegration': '00143073',\n    'FilterMaterialUsedInGainCalibration': '00143074',\n    'FilterThicknessUsedInGainCalibration': '00143075',\n    'DateOfGainCalibration': '00143076',\n    'TimeOfGainCalibration': '00143077',\n    'BadPixelImage': '00143080',\n    'CalibrationNotes': '00143099',\n    'PulserEquipmentSequence': '00144002',\n    'PulserType': '00144004',\n    'PulserNotes': '00144006',\n    'ReceiverEquipmentSequence': '00144008',\n    'AmplifierType': '0014400A',\n    'ReceiverNotes': '0014400C',\n    'PreAmplifierEquipmentSequence': '0014400E',\n    'PreAmplifierNotes': '0014400F',\n    'TransmitTransducerSequence': '00144010',\n    'ReceiveTransducerSequence': '00144011',\n    'NumberOfElements': '00144012',\n    'ElementShape': '00144013',\n    'ElementDimensionA': '00144014',\n    'ElementDimensionB': '00144015',\n    'ElementPitchA': '00144016',\n    'MeasuredBeamDimensionA': '00144017',\n    'MeasuredBeamDimensionB': '00144018',\n    'LocationOfMeasuredBeamDiameter': '00144019',\n    'NominalFrequency': '0014401A',\n    'MeasuredCenterFrequency': '0014401B',\n    'MeasuredBandwidth': '0014401C',\n    'ElementPitchB': '0014401D',\n    'PulserSettingsSequence': '00144020',\n    'PulseWidth': '00144022',\n    'ExcitationFrequency': '00144024',\n    'ModulationType': '00144026',\n    'Damping': '00144028',\n    'ReceiverSettingsSequence': '00144030',\n    'AcquiredSoundpathLength': '00144031',\n    'AcquisitionCompressionType': '00144032',\n    'AcquisitionSampleSize': '00144033',\n    'RectifierSmoothing': '00144034',\n    'DACSequence': '00144035',\n    'DACType': '00144036',\n    'DACGainPoints': '00144038',\n    'DACTimePoints': '0014403A',\n    'DACAmplitude': '0014403C',\n    'PreAmplifierSettingsSequence': '00144040',\n    'TransmitTransducerSettingsSequence': '00144050',\n    'ReceiveTransducerSettingsSequence': '00144051',\n    'IncidentAngle': '00144052',\n    'CouplingTechnique': '00144054',\n    'CouplingMedium': '00144056',\n    'CouplingVelocity': '00144057',\n    'ProbeCenterLocationX': '00144058',\n    'ProbeCenterLocationZ': '00144059',\n    'SoundPathLength': '0014405A',\n    'DelayLawIdentifier': '0014405C',\n    'GateSettingsSequence': '00144060',\n    'GateThreshold': '00144062',\n    'VelocityOfSound': '00144064',\n    'CalibrationSettingsSequence': '00144070',\n    'CalibrationProcedure': '00144072',\n    'ProcedureVersion': '00144074',\n    'ProcedureCreationDate': '00144076',\n    'ProcedureExpirationDate': '00144078',\n    'ProcedureLastModifiedDate': '0014407A',\n    'CalibrationTime': '0014407C',\n    'CalibrationDate': '0014407E',\n    'ProbeDriveEquipmentSequence': '00144080',\n    'DriveType': '00144081',\n    'ProbeDriveNotes': '00144082',\n    'DriveProbeSequence': '00144083',\n    'ProbeInductance': '00144084',\n    'ProbeResistance': '00144085',\n    'ReceiveProbeSequence': '00144086',\n    'ProbeDriveSettingsSequence': '00144087',\n    'BridgeResistors': '00144088',\n    'ProbeOrientationAngle': '00144089',\n    'UserSelectedGainY': '0014408B',\n    'UserSelectedPhase': '0014408C',\n    'UserSelectedOffsetX': '0014408D',\n    'UserSelectedOffsetY': '0014408E',\n    'ChannelSettingsSequence': '00144091',\n    'ChannelThreshold': '00144092',\n    'ScannerSettingsSequence': '0014409A',\n    'ScanProcedure': '0014409B',\n    'TranslationRateX': '0014409C',\n    'TranslationRateY': '0014409D',\n    'ChannelOverlap': '0014409F',\n    'ImageQualityIndicatorType': '001440A0',\n    'ImageQualityIndicatorMaterial': '001440A1',\n    'ImageQualityIndicatorSize': '001440A2',\n    'LINACEnergy': '00145002',\n    'LINACOutput': '00145004',\n    'ActiveAperture': '00145100',\n    'TotalAperture': '00145101',\n    'ApertureElevation': '00145102',\n    'MainLobeAngle': '00145103',\n    'MainRoofAngle': '00145104',\n    'ConnectorType': '00145105',\n    'WedgeModelNumber': '00145106',\n    'WedgeAngleFloat': '00145107',\n    'WedgeRoofAngle': '00145108',\n    '00145109': ('WedgeElement1Position'),\n    'WedgeMaterialVelocity': '0014510A',\n    'WedgeMaterial': '0014510B',\n    'WedgeOffsetZ': '0014510C',\n    'WedgeOriginOffsetX': '0014510D',\n    'WedgeTimeDelay': '0014510E',\n    'WedgeName': '0014510F',\n    'WedgeManufacturerName': '00145110',\n    'WedgeDescription': '00145111',\n    'NominalBeamAngle': '00145112',\n    'WedgeOffsetX': '00145113',\n    'WedgeOffsetY': '00145114',\n    'WedgeTotalLength': '00145115',\n    'WedgeInContactLength': '00145116',\n    'WedgeFrontGap': '00145117',\n    'WedgeTotalHeight': '00145118',\n    'WedgeFrontHeight': '00145119',\n    'WedgeRearHeight': '0014511A',\n    'WedgeTotalWidth': '0014511B',\n    'WedgeInContactWidth': '0014511C',\n    'WedgeChamferHeight': '0014511D',\n    'WedgeCurve': '0014511E',\n    'RadiusAlongWedge': '0014511F',\n    'ContrastBolusAgent': '00180010',\n    'ContrastBolusAgentSequence': '00180012',\n    '00180013': ('ContrastBolusT1Relaxivity'),\n    'ContrastBolusAdministrationRouteSequence': '00180014',\n    'BodyPartExamined': '00180015',\n    'ScanningSequence': '00180020',\n    'SequenceVariant': '00180021',\n    'ScanOptions': '00180022',\n    'MRAcquisitionType': '00180023',\n    'SequenceName': '00180024',\n    'AngioFlag': '00180025',\n    'InterventionDrugInformationSequence': '00180026',\n    'InterventionDrugStopTime': '00180027',\n    'InterventionDrugDose': '00180028',\n    'InterventionDrugCodeSequence': '00180029',\n    'AdditionalDrugSequence': '0018002A',\n    'Radionuclide': '00180030',\n    'Radiopharmaceutical': '00180031',\n    'EnergyWindowCenterline': '00180032',\n    'EnergyWindowTotalWidth': '00180033',\n    'InterventionDrugName': '00180034',\n    'InterventionDrugStartTime': '00180035',\n    'InterventionSequence': '00180036',\n    'TherapyType': '00180037',\n    'InterventionStatus': '00180038',\n    'TherapyDescription': '00180039',\n    'InterventionDescription': '0018003A',\n    'CineRate': '00180040',\n    'InitialCineRunState': '00180042',\n    'SliceThickness': '00180050',\n    'KVP': '00180060',\n    '': '00180061',\n    'CountsAccumulated': '00180070',\n    'AcquisitionTerminationCondition': '00180071',\n    'EffectiveDuration': '00180072',\n    'AcquisitionStartCondition': '00180073',\n    'AcquisitionStartConditionData': '00180074',\n    'AcquisitionTerminationConditionData': '00180075',\n    'RepetitionTime': '00180080',\n    'EchoTime': '00180081',\n    'InversionTime': '00180082',\n    'NumberOfAverages': '00180083',\n    'ImagingFrequency': '00180084',\n    'ImagedNucleus': '00180085',\n    'EchoNumbers': '00180086',\n    'MagneticFieldStrength': '00180087',\n    'SpacingBetweenSlices': '00180088',\n    'NumberOfPhaseEncodingSteps': '00180089',\n    'DataCollectionDiameter': '00180090',\n    'EchoTrainLength': '00180091',\n    'PercentSampling': '00180093',\n    'PercentPhaseFieldOfView': '00180094',\n    'PixelBandwidth': '00180095',\n    'DeviceSerialNumber': '00181000',\n    'DeviceUID': '00181002',\n    'DeviceID': '00181003',\n    'PlateID': '00181004',\n    'GeneratorID': '00181005',\n    'GridID': '00181006',\n    'CassetteID': '00181007',\n    'GantryID': '00181008',\n    'UniqueDeviceIdentifier': '00181009',\n    'UDISequence': '0018100A',\n    'SecondaryCaptureDeviceID': '00181010',\n    'HardcopyCreationDeviceID': '00181011',\n    'DateOfSecondaryCapture': '00181012',\n    'TimeOfSecondaryCapture': '00181014',\n    'SecondaryCaptureDeviceManufacturer': '00181016',\n    'HardcopyDeviceManufacturer': '00181017',\n    'SecondaryCaptureDeviceManufacturerModelName': '00181018',\n    'SecondaryCaptureDeviceSoftwareVersions': '00181019',\n    'HardcopyDeviceSoftwareVersion': '0018101A',\n    'HardcopyDeviceManufacturerModelName': '0018101B',\n    'SoftwareVersions': '00181020',\n    'VideoImageFormatAcquired': '00181022',\n    'DigitalImageFormatAcquired': '00181023',\n    'ProtocolName': '00181030',\n    'ContrastBolusRoute': '00181040',\n    'ContrastBolusVolume': '00181041',\n    'ContrastBolusStartTime': '00181042',\n    'ContrastBolusStopTime': '00181043',\n    'ContrastBolusTotalDose': '00181044',\n    'SyringeCounts': '00181045',\n    'ContrastFlowRate': '00181046',\n    'ContrastFlowDuration': '00181047',\n    'ContrastBolusIngredient': '00181048',\n    'ContrastBolusIngredientConcentration': '00181049',\n    'SpatialResolution': '00181050',\n    'TriggerTime': '00181060',\n    'TriggerSourceOrType': '00181061',\n    'NominalInterval': '00181062',\n    'FrameTime': '00181063',\n    'CardiacFramingType': '00181064',\n    'FrameTimeVector': '00181065',\n    'FrameDelay': '00181066',\n    'ImageTriggerDelay': '00181067',\n    'MultiplexGroupTimeOffset': '00181068',\n    'TriggerTimeOffset': '00181069',\n    'SynchronizationTrigger': '0018106A',\n    'SynchronizationChannel': '0018106C',\n    'TriggerSamplePosition': '0018106E',\n    'RadiopharmaceuticalRoute': '00181070',\n    'RadiopharmaceuticalVolume': '00181071',\n    'RadiopharmaceuticalStartTime': '00181072',\n    'RadiopharmaceuticalStopTime': '00181073',\n    'RadionuclideTotalDose': '00181074',\n    'RadionuclideHalfLife': '00181075',\n    'RadionuclidePositronFraction': '00181076',\n    'RadiopharmaceuticalSpecificActivity': '00181077',\n    'RadiopharmaceuticalStartDateTime': '00181078',\n    'RadiopharmaceuticalStopDateTime': '00181079',\n    'BeatRejectionFlag': '00181080',\n    'LowRRValue': '00181081',\n    'HighRRValue': '00181082',\n    'IntervalsAcquired': '00181083',\n    'IntervalsRejected': '00181084',\n    'PVCRejection': '00181085',\n    'SkipBeats': '00181086',\n    'HeartRate': '00181088',\n    'CardiacNumberOfImages': '00181090',\n    'TriggerWindow': '00181094',\n    'ReconstructionDiameter': '00181100',\n    'DistanceSourceToDetector': '00181110',\n    'DistanceSourceToPatient': '00181111',\n    'EstimatedRadiographicMagnificationFactor': '00181114',\n    'GantryDetectorTilt': '00181120',\n    'GantryDetectorSlew': '00181121',\n    'TableHeight': '00181130',\n    'TableTraverse': '00181131',\n    'TableMotion': '00181134',\n    'TableVerticalIncrement': '00181135',\n    'TableLateralIncrement': '00181136',\n    'TableLongitudinalIncrement': '00181137',\n    'TableAngle': '00181138',\n    'TableType': '0018113A',\n    'RotationDirection': '00181140',\n    'AngularPosition': '00181141',\n    'RadialPosition': '00181142',\n    'ScanArc': '00181143',\n    'AngularStep': '00181144',\n    'CenterOfRotationOffset': '00181145',\n    'RotationOffset': '00181146',\n    'FieldOfViewShape': '00181147',\n    'FieldOfViewDimensions': '00181149',\n    'ExposureTime': '00181150',\n    'XRayTubeCurrent': '00181151',\n    'Exposure': '00181152',\n    'ExposureInuAs': '00181153',\n    'AveragePulseWidth': '00181154',\n    'RadiationSetting': '00181155',\n    'RectificationType': '00181156',\n    'RadiationMode': '0018115A',\n    'ImageAndFluoroscopyAreaDoseProduct': '0018115E',\n    'FilterType': '00181160',\n    'TypeOfFilters': '00181161',\n    'IntensifierSize': '00181162',\n    'ImagerPixelSpacing': '00181164',\n    'Grid': '00181166',\n    'GeneratorPower': '00181170',\n    'CollimatorGridName': '00181180',\n    'CollimatorType': '00181181',\n    'FocalDistance': '00181182',\n    'XFocusCenter': '00181183',\n    'YFocusCenter': '00181184',\n    'FocalSpots': '00181190',\n    'AnodeTargetMaterial': '00181191',\n    'BodyPartThickness': '001811A0',\n    'CompressionForce': '001811A2',\n    'CompressionPressure': '001811A3',\n    'PaddleDescription': '001811A4',\n    'CompressionContactArea': '001811A5',\n    'DateOfLastCalibration': '00181200',\n    'TimeOfLastCalibration': '00181201',\n    'DateTimeOfLastCalibration': '00181202',\n    'ConvolutionKernel': '00181210',\n    'UpperLowerPixelValues': '00181240',\n    'ActualFrameDuration': '00181242',\n    'CountRate': '00181243',\n    'PreferredPlaybackSequencing': '00181244',\n    'ReceiveCoilName': '00181250',\n    'TransmitCoilName': '00181251',\n    'PlateType': '00181260',\n    'PhosphorType': '00181261',\n    'WaterEquivalentDiameter': '00181271',\n    'WaterEquivalentDiameterCalculationMethodCodeSequence': '00181272',\n    'ScanVelocity': '00181300',\n    'WholeBodyTechnique': '00181301',\n    'ScanLength': '00181302',\n    'AcquisitionMatrix': '00181310',\n    'InPlanePhaseEncodingDirection': '00181312',\n    'FlipAngle': '00181314',\n    'VariableFlipAngleFlag': '00181315',\n    'SAR': '00181316',\n    'dBdt': '00181318',\n    '00181320': ('B1rms'),\n    'AcquisitionDeviceProcessingDescription': '00181400',\n    'AcquisitionDeviceProcessingCode': '00181401',\n    'CassetteOrientation': '00181402',\n    'CassetteSize': '00181403',\n    'ExposuresOnPlate': '00181404',\n    'RelativeXRayExposure': '00181405',\n    'ExposureIndex': '00181411',\n    'TargetExposureIndex': '00181412',\n    'DeviationIndex': '00181413',\n    'ColumnAngulation': '00181450',\n    'TomoLayerHeight': '00181460',\n    'TomoAngle': '00181470',\n    'TomoTime': '00181480',\n    'TomoType': '00181490',\n    'TomoClass': '00181491',\n    'NumberOfTomosynthesisSourceImages': '00181495',\n    'PositionerMotion': '00181500',\n    'PositionerType': '00181508',\n    'PositionerPrimaryAngle': '00181510',\n    'PositionerSecondaryAngle': '00181511',\n    'PositionerPrimaryAngleIncrement': '00181520',\n    'PositionerSecondaryAngleIncrement': '00181521',\n    'DetectorPrimaryAngle': '00181530',\n    'DetectorSecondaryAngle': '00181531',\n    'ShutterShape': '00181600',\n    'ShutterLeftVerticalEdge': '00181602',\n    'ShutterRightVerticalEdge': '00181604',\n    'ShutterUpperHorizontalEdge': '00181606',\n    'ShutterLowerHorizontalEdge': '00181608',\n    'CenterOfCircularShutter': '00181610',\n    'RadiusOfCircularShutter': '00181612',\n    'VerticesOfThePolygonalShutter': '00181620',\n    'ShutterPresentationValue': '00181622',\n    'ShutterOverlayGroup': '00181623',\n    'ShutterPresentationColorCIELabValue': '00181624',\n    'CollimatorShape': '00181700',\n    'CollimatorLeftVerticalEdge': '00181702',\n    'CollimatorRightVerticalEdge': '00181704',\n    'CollimatorUpperHorizontalEdge': '00181706',\n    'CollimatorLowerHorizontalEdge': '00181708',\n    'CenterOfCircularCollimator': '00181710',\n    'RadiusOfCircularCollimator': '00181712',\n    'VerticesOfThePolygonalCollimator': '00181720',\n    'AcquisitionTimeSynchronized': '00181800',\n    'TimeSource': '00181801',\n    'TimeDistributionProtocol': '00181802',\n    'NTPSourceAddress': '00181803',\n    'PageNumberVector': '00182001',\n    'FrameLabelVector': '00182002',\n    'FramePrimaryAngleVector': '00182003',\n    'FrameSecondaryAngleVector': '00182004',\n    'SliceLocationVector': '00182005',\n    'DisplayWindowLabelVector': '00182006',\n    'NominalScannedPixelSpacing': '00182010',\n    'DigitizingDeviceTransportDirection': '00182020',\n    'RotationOfScannedFilm': '00182030',\n    'BiopsyTargetSequence': '00182041',\n    'TargetUID': '00182042',\n    'LocalizingCursorPosition': '00182043',\n    'CalculatedTargetPosition': '00182044',\n    'TargetLabel': '00182045',\n    'DisplayedZValue': '00182046',\n    'IVUSAcquisition': '00183100',\n    'IVUSPullbackRate': '00183101',\n    'IVUSGatedRate': '00183102',\n    'IVUSPullbackStartFrameNumber': '00183103',\n    'IVUSPullbackStopFrameNumber': '00183104',\n    'LesionNumber': '00183105',\n    'AcquisitionComments': '00184000',\n    'OutputPower': '00185000',\n    'TransducerData': '00185010',\n    'FocusDepth': '00185012',\n    'ProcessingFunction': '00185020',\n    'PostprocessingFunction': '00185021',\n    'MechanicalIndex': '00185022',\n    'BoneThermalIndex': '00185024',\n    'CranialThermalIndex': '00185026',\n    'SoftTissueThermalIndex': '00185027',\n    'SoftTissueFocusThermalIndex': '00185028',\n    'SoftTissueSurfaceThermalIndex': '00185029',\n    'DynamicRange': '00185030',\n    'TotalGain': '00185040',\n    'DepthOfScanField': '00185050',\n    'PatientPosition': '00185100',\n    'ViewPosition': '00185101',\n    'ProjectionEponymousNameCodeSequence': '00185104',\n    'ImageTransformationMatrix': '00185210',\n    'ImageTranslationVector': '00185212',\n    'Sensitivity': '00186000',\n    'SequenceOfUltrasoundRegions': '00186011',\n    'RegionSpatialFormat': '00186012',\n    'RegionDataType': '00186014',\n    'RegionFlags': '00186016',\n    '00186018': ('RegionLocationMinX0'),\n    '0018601A': ('RegionLocationMinY0'),\n    '0018601C': ('RegionLocationMaxX1'),\n    '0018601E': ('RegionLocationMaxY1'),\n    '00186020': ('ReferencePixelX0'),\n    '00186022': ('ReferencePixelY0'),\n    'PhysicalUnitsXDirection': '00186024',\n    'PhysicalUnitsYDirection': '00186026',\n    'ReferencePixelPhysicalValueX': '00186028',\n    'ReferencePixelPhysicalValueY': '0018602A',\n    'PhysicalDeltaX': '0018602C',\n    'PhysicalDeltaY': '0018602E',\n    'TransducerFrequency': '00186030',\n    'TransducerType': '00186031',\n    'PulseRepetitionFrequency': '00186032',\n    'DopplerCorrectionAngle': '00186034',\n    'SteeringAngle': '00186036',\n    'DopplerSampleVolumeXPositionRetired': '00186038',\n    'DopplerSampleVolumeXPosition': '00186039',\n    'DopplerSampleVolumeYPositionRetired': '0018603A',\n    'DopplerSampleVolumeYPosition': '0018603B',\n    '0018603C': ('TMLinePositionX0Retired'),\n    '0018603D': ('TMLinePositionX0'),\n    '0018603E': ('TMLinePositionY0Retired'),\n    '0018603F': ('TMLinePositionY0'),\n    '00186040': ('TMLinePositionX1Retired'),\n    '00186041': ('TMLinePositionX1'),\n    '00186042': ('TMLinePositionY1Retired'),\n    '00186043': ('TMLinePositionY1'),\n    'PixelComponentOrganization': '00186044',\n    'PixelComponentMask': '00186046',\n    'PixelComponentRangeStart': '00186048',\n    'PixelComponentRangeStop': '0018604A',\n    'PixelComponentPhysicalUnits': '0018604C',\n    'PixelComponentDataType': '0018604E',\n    'NumberOfTableBreakPoints': '00186050',\n    'TableOfXBreakPoints': '00186052',\n    'TableOfYBreakPoints': '00186054',\n    'NumberOfTableEntries': '00186056',\n    'TableOfPixelValues': '00186058',\n    'TableOfParameterValues': '0018605A',\n    'RWaveTimeVector': '00186060',\n    'DetectorConditionsNominalFlag': '00187000',\n    'DetectorTemperature': '00187001',\n    'DetectorType': '00187004',\n    'DetectorConfiguration': '00187005',\n    'DetectorDescription': '00187006',\n    'DetectorMode': '00187008',\n    'DetectorID': '0018700A',\n    'DateOfLastDetectorCalibration': '0018700C',\n    'TimeOfLastDetectorCalibration': '0018700E',\n    'ExposuresOnDetectorSinceLastCalibration': '00187010',\n    'ExposuresOnDetectorSinceManufactured': '00187011',\n    'DetectorTimeSinceLastExposure': '00187012',\n    'DetectorActiveTime': '00187014',\n    'DetectorActivationOffsetFromExposure': '00187016',\n    'DetectorBinning': '0018701A',\n    'DetectorElementPhysicalSize': '00187020',\n    'DetectorElementSpacing': '00187022',\n    'DetectorActiveShape': '00187024',\n    'DetectorActiveDimensions': '00187026',\n    'DetectorActiveOrigin': '00187028',\n    'DetectorManufacturerName': '0018702A',\n    'DetectorManufacturerModelName': '0018702B',\n    'FieldOfViewOrigin': '00187030',\n    'FieldOfViewRotation': '00187032',\n    'FieldOfViewHorizontalFlip': '00187034',\n    'PixelDataAreaOriginRelativeToFOV': '00187036',\n    'PixelDataAreaRotationAngleRelativeToFOV': '00187038',\n    'GridAbsorbingMaterial': '00187040',\n    'GridSpacingMaterial': '00187041',\n    'GridThickness': '00187042',\n    'GridPitch': '00187044',\n    'GridAspectRatio': '00187046',\n    'GridPeriod': '00187048',\n    'GridFocalDistance': '0018704C',\n    'FilterMaterial': '00187050',\n    'FilterThicknessMinimum': '00187052',\n    'FilterThicknessMaximum': '00187054',\n    'FilterBeamPathLengthMinimum': '00187056',\n    'FilterBeamPathLengthMaximum': '00187058',\n    'ExposureControlMode': '00187060',\n    'ExposureControlModeDescription': '00187062',\n    'ExposureStatus': '00187064',\n    'PhototimerSetting': '00187065',\n    'ExposureTimeInuS': '00188150',\n    'XRayTubeCurrentInuA': '00188151',\n    'ContentQualification': '00189004',\n    'PulseSequenceName': '00189005',\n    'MRImagingModifierSequence': '00189006',\n    'EchoPulseSequence': '00189008',\n    'InversionRecovery': '00189009',\n    'FlowCompensation': '00189010',\n    'MultipleSpinEcho': '00189011',\n    'MultiPlanarExcitation': '00189012',\n    'PhaseContrast': '00189014',\n    'TimeOfFlightContrast': '00189015',\n    'Spoiling': '00189016',\n    'SteadyStatePulseSequence': '00189017',\n    'EchoPlanarPulseSequence': '00189018',\n    'TagAngleFirstAxis': '00189019',\n    'MagnetizationTransfer': '00189020',\n    '00189021': ('T2Preparation'),\n    'BloodSignalNulling': '00189022',\n    'SaturationRecovery': '00189024',\n    'SpectrallySelectedSuppression': '00189025',\n    'SpectrallySelectedExcitation': '00189026',\n    'SpatialPresaturation': '00189027',\n    'Tagging': '00189028',\n    'OversamplingPhase': '00189029',\n    'TagSpacingFirstDimension': '00189030',\n    'GeometryOfKSpaceTraversal': '00189032',\n    'SegmentedKSpaceTraversal': '00189033',\n    'RectilinearPhaseEncodeReordering': '00189034',\n    'TagThickness': '00189035',\n    'PartialFourierDirection': '00189036',\n    'CardiacSynchronizationTechnique': '00189037',\n    'ReceiveCoilManufacturerName': '00189041',\n    'MRReceiveCoilSequence': '00189042',\n    'ReceiveCoilType': '00189043',\n    'QuadratureReceiveCoil': '00189044',\n    'MultiCoilDefinitionSequence': '00189045',\n    'MultiCoilConfiguration': '00189046',\n    'MultiCoilElementName': '00189047',\n    'MultiCoilElementUsed': '00189048',\n    'MRTransmitCoilSequence': '00189049',\n    'TransmitCoilManufacturerName': '00189050',\n    'TransmitCoilType': '00189051',\n    'SpectralWidth': '00189052',\n    'ChemicalShiftReference': '00189053',\n    'VolumeLocalizationTechnique': '00189054',\n    'MRAcquisitionFrequencyEncodingSteps': '00189058',\n    'Decoupling': '00189059',\n    'DecoupledNucleus': '00189060',\n    'DecouplingFrequency': '00189061',\n    'DecouplingMethod': '00189062',\n    'DecouplingChemicalShiftReference': '00189063',\n    'KSpaceFiltering': '00189064',\n    'TimeDomainFiltering': '00189065',\n    'NumberOfZeroFills': '00189066',\n    'BaselineCorrection': '00189067',\n    'ParallelReductionFactorInPlane': '00189069',\n    'CardiacRRIntervalSpecified': '00189070',\n    'AcquisitionDuration': '00189073',\n    'FrameAcquisitionDateTime': '00189074',\n    'DiffusionDirectionality': '00189075',\n    'DiffusionGradientDirectionSequence': '00189076',\n    'ParallelAcquisition': '00189077',\n    'ParallelAcquisitionTechnique': '00189078',\n    'InversionTimes': '00189079',\n    'MetaboliteMapDescription': '00189080',\n    'PartialFourier': '00189081',\n    'EffectiveEchoTime': '00189082',\n    'MetaboliteMapCodeSequence': '00189083',\n    'ChemicalShiftSequence': '00189084',\n    'CardiacSignalSource': '00189085',\n    'DiffusionBValue': '00189087',\n    'DiffusionGradientOrientation': '00189089',\n    'VelocityEncodingDirection': '00189090',\n    'VelocityEncodingMinimumValue': '00189091',\n    'VelocityEncodingAcquisitionSequence': '00189092',\n    'NumberOfKSpaceTrajectories': '00189093',\n    'CoverageOfKSpace': '00189094',\n    'SpectroscopyAcquisitionPhaseRows': '00189095',\n    'ParallelReductionFactorInPlaneRetired': '00189096',\n    'TransmitterFrequency': '00189098',\n    'ResonantNucleus': '00189100',\n    'FrequencyCorrection': '00189101',\n    'MRSpectroscopyFOVGeometrySequence': '00189103',\n    'SlabThickness': '00189104',\n    'SlabOrientation': '00189105',\n    'MidSlabPosition': '00189106',\n    'MRSpatialSaturationSequence': '00189107',\n    'MRTimingAndRelatedParametersSequence': '00189112',\n    'MREchoSequence': '00189114',\n    'MRModifierSequence': '00189115',\n    'MRDiffusionSequence': '00189117',\n    'CardiacSynchronizationSequence': '00189118',\n    'MRAveragesSequence': '00189119',\n    'MRFOVGeometrySequence': '00189125',\n    'VolumeLocalizationSequence': '00189126',\n    'SpectroscopyAcquisitionDataColumns': '00189127',\n    'DiffusionAnisotropyType': '00189147',\n    'FrameReferenceDateTime': '00189151',\n    'MRMetaboliteMapSequence': '00189152',\n    'ParallelReductionFactorOutOfPlane': '00189155',\n    'SpectroscopyAcquisitionOutOfPlanePhaseSteps': '00189159',\n    'BulkMotionStatus': '00189166',\n    'ParallelReductionFactorSecondInPlane': '00189168',\n    'CardiacBeatRejectionTechnique': '00189169',\n    'RespiratoryMotionCompensationTechnique': '00189170',\n    'RespiratorySignalSource': '00189171',\n    'BulkMotionCompensationTechnique': '00189172',\n    'BulkMotionSignalSource': '00189173',\n    'ApplicableSafetyStandardAgency': '00189174',\n    'ApplicableSafetyStandardDescription': '00189175',\n    'OperatingModeSequence': '00189176',\n    'OperatingModeType': '00189177',\n    'OperatingMode': '00189178',\n    'SpecificAbsorptionRateDefinition': '00189179',\n    'GradientOutputType': '00189180',\n    'SpecificAbsorptionRateValue': '00189181',\n    'GradientOutput': '00189182',\n    'FlowCompensationDirection': '00189183',\n    'TaggingDelay': '00189184',\n    'RespiratoryMotionCompensationTechniqueDescription': '00189185',\n    'RespiratorySignalSourceID': '00189186',\n    'ChemicalShiftMinimumIntegrationLimitInHz': '00189195',\n    'ChemicalShiftMaximumIntegrationLimitInHz': '00189196',\n    'MRVelocityEncodingSequence': '00189197',\n    'FirstOrderPhaseCorrection': '00189198',\n    'WaterReferencedPhaseCorrection': '00189199',\n    'MRSpectroscopyAcquisitionType': '00189200',\n    'RespiratoryCyclePosition': '00189214',\n    'VelocityEncodingMaximumValue': '00189217',\n    'TagSpacingSecondDimension': '00189218',\n    'TagAngleSecondAxis': '00189219',\n    'FrameAcquisitionDuration': '00189220',\n    'MRImageFrameTypeSequence': '00189226',\n    'MRSpectroscopyFrameTypeSequence': '00189227',\n    'MRAcquisitionPhaseEncodingStepsInPlane': '00189231',\n    'MRAcquisitionPhaseEncodingStepsOutOfPlane': '00189232',\n    'SpectroscopyAcquisitionPhaseColumns': '00189234',\n    'CardiacCyclePosition': '00189236',\n    'SpecificAbsorptionRateSequence': '00189239',\n    'RFEchoTrainLength': '00189240',\n    'GradientEchoTrainLength': '00189241',\n    'ArterialSpinLabelingContrast': '00189250',\n    'MRArterialSpinLabelingSequence': '00189251',\n    'ASLTechniqueDescription': '00189252',\n    'ASLSlabNumber': '00189253',\n    'ASLSlabThickness': '00189254',\n    'ASLSlabOrientation': '00189255',\n    'ASLMidSlabPosition': '00189256',\n    'ASLContext': '00189257',\n    'ASLPulseTrainDuration': '00189258',\n    'ASLCrusherFlag': '00189259',\n    'ASLCrusherFlowLimit': '0018925A',\n    'ASLCrusherDescription': '0018925B',\n    'ASLBolusCutoffFlag': '0018925C',\n    'ASLBolusCutoffTimingSequence': '0018925D',\n    'ASLBolusCutoffTechnique': '0018925E',\n    'ASLBolusCutoffDelayTime': '0018925F',\n    'ASLSlabSequence': '00189260',\n    'ChemicalShiftMinimumIntegrationLimitInppm': '00189295',\n    'ChemicalShiftMaximumIntegrationLimitInppm': '00189296',\n    'WaterReferenceAcquisition': '00189297',\n    'EchoPeakPosition': '00189298',\n    'CTAcquisitionTypeSequence': '00189301',\n    'AcquisitionType': '00189302',\n    'TubeAngle': '00189303',\n    'CTAcquisitionDetailsSequence': '00189304',\n    'RevolutionTime': '00189305',\n    'SingleCollimationWidth': '00189306',\n    'TotalCollimationWidth': '00189307',\n    'CTTableDynamicsSequence': '00189308',\n    'TableSpeed': '00189309',\n    'TableFeedPerRotation': '00189310',\n    'SpiralPitchFactor': '00189311',\n    'CTGeometrySequence': '00189312',\n    'DataCollectionCenterPatient': '00189313',\n    'CTReconstructionSequence': '00189314',\n    'ReconstructionAlgorithm': '00189315',\n    'ConvolutionKernelGroup': '00189316',\n    'ReconstructionFieldOfView': '00189317',\n    'ReconstructionTargetCenterPatient': '00189318',\n    'ReconstructionAngle': '00189319',\n    'ImageFilter': '00189320',\n    'CTExposureSequence': '00189321',\n    'ReconstructionPixelSpacing': '00189322',\n    'ExposureModulationType': '00189323',\n    'EstimatedDoseSaving': '00189324',\n    'CTXRayDetailsSequence': '00189325',\n    'CTPositionSequence': '00189326',\n    'TablePosition': '00189327',\n    'ExposureTimeInms': '00189328',\n    'CTImageFrameTypeSequence': '00189329',\n    'XRayTubeCurrentInmA': '00189330',\n    'ExposureInmAs': '00189332',\n    'ConstantVolumeFlag': '00189333',\n    'FluoroscopyFlag': '00189334',\n    'DistanceSourceToDataCollectionCenter': '00189335',\n    'ContrastBolusAgentNumber': '00189337',\n    'ContrastBolusIngredientCodeSequence': '00189338',\n    'ContrastAdministrationProfileSequence': '00189340',\n    'ContrastBolusUsageSequence': '00189341',\n    'ContrastBolusAgentAdministered': '00189342',\n    'ContrastBolusAgentDetected': '00189343',\n    'ContrastBolusAgentPhase': '00189344',\n    'CTDIvol': '00189345',\n    'CTDIPhantomTypeCodeSequence': '00189346',\n    'CalciumScoringMassFactorPatient': '00189351',\n    'CalciumScoringMassFactorDevice': '00189352',\n    'EnergyWeightingFactor': '00189353',\n    'CTAdditionalXRaySourceSequence': '00189360',\n    'ProjectionPixelCalibrationSequence': '00189401',\n    'DistanceSourceToIsocenter': '00189402',\n    'DistanceObjectToTableTop': '00189403',\n    'ObjectPixelSpacingInCenterOfBeam': '00189404',\n    'PositionerPositionSequence': '00189405',\n    'TablePositionSequence': '00189406',\n    'CollimatorShapeSequence': '00189407',\n    'PlanesInAcquisition': '00189410',\n    'XAXRFFrameCharacteristicsSequence': '00189412',\n    'FrameAcquisitionSequence': '00189417',\n    'XRayReceptorType': '00189420',\n    'AcquisitionProtocolName': '00189423',\n    'AcquisitionProtocolDescription': '00189424',\n    'ContrastBolusIngredientOpaque': '00189425',\n    'DistanceReceptorPlaneToDetectorHousing': '00189426',\n    'IntensifierActiveShape': '00189427',\n    'IntensifierActiveDimensions': '00189428',\n    'PhysicalDetectorSize': '00189429',\n    'PositionOfIsocenterProjection': '00189430',\n    'FieldOfViewSequence': '00189432',\n    'FieldOfViewDescription': '00189433',\n    'ExposureControlSensingRegionsSequence': '00189434',\n    'ExposureControlSensingRegionShape': '00189435',\n    'ExposureControlSensingRegionLeftVerticalEdge': '00189436',\n    'ExposureControlSensingRegionRightVerticalEdge': '00189437',\n    'ExposureControlSensingRegionUpperHorizontalEdge': '00189438',\n    'ExposureControlSensingRegionLowerHorizontalEdge': '00189439',\n    'CenterOfCircularExposureControlSensingRegion': '00189440',\n    'RadiusOfCircularExposureControlSensingRegion': '00189441',\n    'VerticesOfThePolygonalExposureControlSensingRegion': '00189442',\n    '': '00189445',\n    'ColumnAngulationPatient': '00189447',\n    'BeamAngle': '00189449',\n    'FrameDetectorParametersSequence': '00189451',\n    'CalculatedAnatomyThickness': '00189452',\n    'CalibrationSequence': '00189455',\n    'ObjectThicknessSequence': '00189456',\n    'PlaneIdentification': '00189457',\n    'FieldOfViewDimensionsInFloat': '00189461',\n    'IsocenterReferenceSystemSequence': '00189462',\n    'PositionerIsocenterPrimaryAngle': '00189463',\n    'PositionerIsocenterSecondaryAngle': '00189464',\n    'PositionerIsocenterDetectorRotationAngle': '00189465',\n    'TableXPositionToIsocenter': '00189466',\n    'TableYPositionToIsocenter': '00189467',\n    'TableZPositionToIsocenter': '00189468',\n    'TableHorizontalRotationAngle': '00189469',\n    'TableHeadTiltAngle': '00189470',\n    'TableCradleTiltAngle': '00189471',\n    'FrameDisplayShutterSequence': '00189472',\n    'AcquiredImageAreaDoseProduct': '00189473',\n    'CArmPositionerTabletopRelationship': '00189474',\n    'XRayGeometrySequence': '00189476',\n    'IrradiationEventIdentificationSequence': '00189477',\n    '00189504': ('XRay3DFrameTypeSequence'),\n    'ContributingSourcesSequence': '00189506',\n    '00189507': ('XRay3DAcquisitionSequence'),\n    'PrimaryPositionerScanArc': '00189508',\n    'SecondaryPositionerScanArc': '00189509',\n    'PrimaryPositionerScanStartAngle': '00189510',\n    'SecondaryPositionerScanStartAngle': '00189511',\n    'PrimaryPositionerIncrement': '00189514',\n    'SecondaryPositionerIncrement': '00189515',\n    'StartAcquisitionDateTime': '00189516',\n    'EndAcquisitionDateTime': '00189517',\n    'PrimaryPositionerIncrementSign': '00189518',\n    'SecondaryPositionerIncrementSign': '00189519',\n    'ApplicationName': '00189524',\n    'ApplicationVersion': '00189525',\n    'ApplicationManufacturer': '00189526',\n    'AlgorithmType': '00189527',\n    'AlgorithmDescription': '00189528',\n    '00189530': ('XRay3DReconstructionSequence'),\n    'ReconstructionDescription': '00189531',\n    'PerProjectionAcquisitionSequence': '00189538',\n    'DetectorPositionSequence': '00189541',\n    'XRayAcquisitionDoseSequence': '00189542',\n    'XRaySourceIsocenterPrimaryAngle': '00189543',\n    'XRaySourceIsocenterSecondaryAngle': '00189544',\n    'BreastSupportIsocenterPrimaryAngle': '00189545',\n    'BreastSupportIsocenterSecondaryAngle': '00189546',\n    'BreastSupportXPositionToIsocenter': '00189547',\n    'BreastSupportYPositionToIsocenter': '00189548',\n    'BreastSupportZPositionToIsocenter': '00189549',\n    'DetectorIsocenterPrimaryAngle': '00189550',\n    'DetectorIsocenterSecondaryAngle': '00189551',\n    'DetectorXPositionToIsocenter': '00189552',\n    'DetectorYPositionToIsocenter': '00189553',\n    'DetectorZPositionToIsocenter': '00189554',\n    'XRayGridSequence': '00189555',\n    'XRayFilterSequence': '00189556',\n    'DetectorActiveAreaTLHCPosition': '00189557',\n    'DetectorActiveAreaOrientation': '00189558',\n    'PositionerPrimaryAngleDirection': '00189559',\n    'DiffusionBMatrixSequence': '00189601',\n    'DiffusionBValueXX': '00189602',\n    'DiffusionBValueXY': '00189603',\n    'DiffusionBValueXZ': '00189604',\n    'DiffusionBValueYY': '00189605',\n    'DiffusionBValueYZ': '00189606',\n    'DiffusionBValueZZ': '00189607',\n    'FunctionalMRSequence': '00189621',\n    'FunctionalSettlingPhaseFramesPresent': '00189622',\n    'FunctionalSyncPulse': '00189623',\n    'SettlingPhaseFrame': '00189624',\n    'DecayCorrectionDateTime': '00189701',\n    'StartDensityThreshold': '00189715',\n    'StartRelativeDensityDifferenceThreshold': '00189716',\n    'StartCardiacTriggerCountThreshold': '00189717',\n    'StartRespiratoryTriggerCountThreshold': '00189718',\n    'TerminationCountsThreshold': '00189719',\n    'TerminationDensityThreshold': '00189720',\n    'TerminationRelativeDensityThreshold': '00189721',\n    'TerminationTimeThreshold': '00189722',\n    'TerminationCardiacTriggerCountThreshold': '00189723',\n    'TerminationRespiratoryTriggerCountThreshold': '00189724',\n    'DetectorGeometry': '00189725',\n    'TransverseDetectorSeparation': '00189726',\n    'AxialDetectorDimension': '00189727',\n    'RadiopharmaceuticalAgentNumber': '00189729',\n    'PETFrameAcquisitionSequence': '00189732',\n    'PETDetectorMotionDetailsSequence': '00189733',\n    'PETTableDynamicsSequence': '00189734',\n    'PETPositionSequence': '00189735',\n    'PETFrameCorrectionFactorsSequence': '00189736',\n    'RadiopharmaceuticalUsageSequence': '00189737',\n    'AttenuationCorrectionSource': '00189738',\n    'NumberOfIterations': '00189739',\n    'NumberOfSubsets': '00189740',\n    'PETReconstructionSequence': '00189749',\n    'PETFrameTypeSequence': '00189751',\n    'TimeOfFlightInformationUsed': '00189755',\n    'ReconstructionType': '00189756',\n    'DecayCorrected': '00189758',\n    'AttenuationCorrected': '00189759',\n    'ScatterCorrected': '00189760',\n    'DeadTimeCorrected': '00189761',\n    'GantryMotionCorrected': '00189762',\n    'PatientMotionCorrected': '00189763',\n    'CountLossNormalizationCorrected': '00189764',\n    'RandomsCorrected': '00189765',\n    'NonUniformRadialSamplingCorrected': '00189766',\n    'SensitivityCalibrated': '00189767',\n    'DetectorNormalizationCorrection': '00189768',\n    'IterativeReconstructionMethod': '00189769',\n    'AttenuationCorrectionTemporalRelationship': '00189770',\n    'PatientPhysiologicalStateSequence': '00189771',\n    'PatientPhysiologicalStateCodeSequence': '00189772',\n    'DepthsOfFocus': '00189801',\n    'ExcludedIntervalsSequence': '00189803',\n    'ExclusionStartDateTime': '00189804',\n    'ExclusionDuration': '00189805',\n    'USImageDescriptionSequence': '00189806',\n    'ImageDataTypeSequence': '00189807',\n    'DataType': '00189808',\n    'TransducerScanPatternCodeSequence': '00189809',\n    'AliasedDataType': '0018980B',\n    'PositionMeasuringDeviceUsed': '0018980C',\n    'TransducerGeometryCodeSequence': '0018980D',\n    'TransducerBeamSteeringCodeSequence': '0018980E',\n    'TransducerApplicationCodeSequence': '0018980F',\n    'ZeroVelocityPixelValue': '00189810',\n    'ReferenceLocationLabel': '00189900',\n    'ReferenceLocationDescription': '00189901',\n    'ReferenceBasisCodeSequence': '00189902',\n    'ReferenceGeometryCodeSequence': '00189903',\n    'OffsetDistance': '00189904',\n    'OffsetDirection': '00189905',\n    'PotentialScheduledProtocolCodeSequence': '00189906',\n    'PotentialRequestedProcedureCodeSequence': '00189907',\n    'PotentialReasonsForProcedure': '00189908',\n    'PotentialReasonsForProcedureCodeSequence': '00189909',\n    'PotentialDiagnosticTasks': '0018990A',\n    'ContraindicationsCodeSequence': '0018990B',\n    'ReferencedDefinedProtocolSequence': '0018990C',\n    'ReferencedPerformedProtocolSequence': '0018990D',\n    'PredecessorProtocolSequence': '0018990E',\n    'ProtocolPlanningInformation': '0018990F',\n    'ProtocolDesignRationale': '00189910',\n    'PatientSpecificationSequence': '00189911',\n    'ModelSpecificationSequence': '00189912',\n    'ParametersSpecificationSequence': '00189913',\n    'InstructionSequence': '00189914',\n    'InstructionIndex': '00189915',\n    'InstructionText': '00189916',\n    'InstructionDescription': '00189917',\n    'InstructionPerformedFlag': '00189918',\n    'InstructionPerformedDateTime': '00189919',\n    'InstructionPerformanceComment': '0018991A',\n    'PatientPositioningInstructionSequence': '0018991B',\n    'PositioningMethodCodeSequence': '0018991C',\n    'PositioningLandmarkSequence': '0018991D',\n    'TargetFrameOfReferenceUID': '0018991E',\n    'AcquisitionProtocolElementSpecificationSequence': '0018991F',\n    'AcquisitionProtocolElementSequence': '00189920',\n    'ProtocolElementNumber': '00189921',\n    'ProtocolElementName': '00189922',\n    'ProtocolElementCharacteristicsSummary': '00189923',\n    'ProtocolElementPurpose': '00189924',\n    'AcquisitionMotion': '00189930',\n    'AcquisitionStartLocationSequence': '00189931',\n    'AcquisitionEndLocationSequence': '00189932',\n    'ReconstructionProtocolElementSpecificationSequence': '00189933',\n    'ReconstructionProtocolElementSequence': '00189934',\n    'StorageProtocolElementSpecificationSequence': '00189935',\n    'StorageProtocolElementSequence': '00189936',\n    'RequestedSeriesDescription': '00189937',\n    'SourceAcquisitionProtocolElementNumber': '00189938',\n    'SourceAcquisitionBeamNumber': '00189939',\n    'SourceReconstructionProtocolElementNumber': '0018993A',\n    'ReconstructionStartLocationSequence': '0018993B',\n    'ReconstructionEndLocationSequence': '0018993C',\n    'ReconstructionAlgorithmSequence': '0018993D',\n    'ReconstructionTargetCenterLocationSequence': '0018993E',\n    'ImageFilterDescription': '00189941',\n    'CTDIvolNotificationTrigger': '00189942',\n    'DLPNotificationTrigger': '00189943',\n    'AutoKVPSelectionType': '00189944',\n    'AutoKVPUpperBound': '00189945',\n    'AutoKVPLowerBound': '00189946',\n    'ProtocolDefinedPatientPosition': '00189947',\n    'ContributingEquipmentSequence': '0018A001',\n    'ContributionDateTime': '0018A002',\n    'ContributionDescription': '0018A003',\n    'StudyInstanceUID': '0020000D',\n    'SeriesInstanceUID': '0020000E',\n    'StudyID': '00200010',\n    'SeriesNumber': '00200011',\n    'AcquisitionNumber': '00200012',\n    'InstanceNumber': '00200013',\n    'IsotopeNumber': '00200014',\n    'PhaseNumber': '00200015',\n    'IntervalNumber': '00200016',\n    'TimeSlotNumber': '00200017',\n    'AngleNumber': '00200018',\n    'ItemNumber': '00200019',\n    'PatientOrientation': '00200020',\n    'OverlayNumber': '00200022',\n    'CurveNumber': '00200024',\n    'LUTNumber': '00200026',\n    'ImagePosition': '00200030',\n    'ImagePositionPatient': '00200032',\n    'ImageOrientation': '00200035',\n    'ImageOrientationPatient': '00200037',\n    'Location': '00200050',\n    'FrameOfReferenceUID': '00200052',\n    'Laterality': '00200060',\n    'ImageLaterality': '00200062',\n    'ImageGeometryType': '00200070',\n    'MaskingImage': '00200080',\n    'ReportNumber': '002000AA',\n    'TemporalPositionIdentifier': '00200100',\n    'NumberOfTemporalPositions': '00200105',\n    'TemporalResolution': '00200110',\n    'SynchronizationFrameOfReferenceUID': '00200200',\n    'SOPInstanceUIDOfConcatenationSource': '00200242',\n    'SeriesInStudy': '00201000',\n    'AcquisitionsInSeries': '00201001',\n    'ImagesInAcquisition': '00201002',\n    'ImagesInSeries': '00201003',\n    'AcquisitionsInStudy': '00201004',\n    'ImagesInStudy': '00201005',\n    'Reference': '00201020',\n    'TargetPositionReferenceIndicator': '0020103F',\n    'PositionReferenceIndicator': '00201040',\n    'SliceLocation': '00201041',\n    'OtherStudyNumbers': '00201070',\n    'NumberOfPatientRelatedStudies': '00201200',\n    'NumberOfPatientRelatedSeries': '00201202',\n    'NumberOfPatientRelatedInstances': '00201204',\n    'NumberOfStudyRelatedSeries': '00201206',\n    'NumberOfStudyRelatedInstances': '00201208',\n    'NumberOfSeriesRelatedInstances': '00201209',\n    'ModifyingDeviceID': '00203401',\n    'ModifiedImageID': '00203402',\n    'ModifiedImageDate': '00203403',\n    'ModifyingDeviceManufacturer': '00203404',\n    'ModifiedImageTime': '00203405',\n    'ModifiedImageDescription': '00203406',\n    'ImageComments': '00204000',\n    'OriginalImageIdentification': '00205000',\n    'OriginalImageIdentificationNomenclature': '00205002',\n    'StackID': '00209056',\n    'InStackPositionNumber': '00209057',\n    'FrameAnatomySequence': '00209071',\n    'FrameLaterality': '00209072',\n    'FrameContentSequence': '00209111',\n    'PlanePositionSequence': '00209113',\n    'PlaneOrientationSequence': '00209116',\n    'TemporalPositionIndex': '00209128',\n    'NominalCardiacTriggerDelayTime': '00209153',\n    'NominalCardiacTriggerTimePriorToRPeak': '00209154',\n    'ActualCardiacTriggerTimePriorToRPeak': '00209155',\n    'FrameAcquisitionNumber': '00209156',\n    'DimensionIndexValues': '00209157',\n    'FrameComments': '00209158',\n    'ConcatenationUID': '00209161',\n    'InConcatenationNumber': '00209162',\n    'InConcatenationTotalNumber': '00209163',\n    'DimensionOrganizationUID': '00209164',\n    'DimensionIndexPointer': '00209165',\n    'FunctionalGroupPointer': '00209167',\n    'UnassignedSharedConvertedAttributesSequence': '00209170',\n    'UnassignedPerFrameConvertedAttributesSequence': '00209171',\n    'ConversionSourceAttributesSequence': '00209172',\n    'DimensionIndexPrivateCreator': '00209213',\n    'DimensionOrganizationSequence': '00209221',\n    'DimensionIndexSequence': '00209222',\n    'ConcatenationFrameOffsetNumber': '00209228',\n    'FunctionalGroupPrivateCreator': '00209238',\n    'NominalPercentageOfCardiacPhase': '00209241',\n    'NominalPercentageOfRespiratoryPhase': '00209245',\n    'StartingRespiratoryAmplitude': '00209246',\n    'StartingRespiratoryPhase': '00209247',\n    'EndingRespiratoryAmplitude': '00209248',\n    'EndingRespiratoryPhase': '00209249',\n    'RespiratoryTriggerType': '00209250',\n    'RRIntervalTimeNominal': '00209251',\n    'ActualCardiacTriggerDelayTime': '00209252',\n    'RespiratorySynchronizationSequence': '00209253',\n    'RespiratoryIntervalTime': '00209254',\n    'NominalRespiratoryTriggerDelayTime': '00209255',\n    'RespiratoryTriggerDelayThreshold': '00209256',\n    'ActualRespiratoryTriggerDelayTime': '00209257',\n    'ImagePositionVolume': '00209301',\n    'ImageOrientationVolume': '00209302',\n    'UltrasoundAcquisitionGeometry': '00209307',\n    'ApexPosition': '00209308',\n    'VolumeToTransducerMappingMatrix': '00209309',\n    'VolumeToTableMappingMatrix': '0020930A',\n    'VolumeToTransducerRelationship': '0020930B',\n    'PatientFrameOfReferenceSource': '0020930C',\n    'TemporalPositionTimeOffset': '0020930D',\n    'PlanePositionVolumeSequence': '0020930E',\n    'PlaneOrientationVolumeSequence': '0020930F',\n    'TemporalPositionSequence': '00209310',\n    'DimensionOrganizationType': '00209311',\n    'VolumeFrameOfReferenceUID': '00209312',\n    'TableFrameOfReferenceUID': '00209313',\n    'DimensionDescriptionLabel': '00209421',\n    'PatientOrientationInFrameSequence': '00209450',\n    'FrameLabel': '00209453',\n    'AcquisitionIndex': '00209518',\n    'ContributingSOPInstancesReferenceSequence': '00209529',\n    'ReconstructionIndex': '00209536',\n    'LightPathFilterPassThroughWavelength': '00220001',\n    'LightPathFilterPassBand': '00220002',\n    'ImagePathFilterPassThroughWavelength': '00220003',\n    'ImagePathFilterPassBand': '00220004',\n    'PatientEyeMovementCommanded': '00220005',\n    'PatientEyeMovementCommandCodeSequence': '00220006',\n    'SphericalLensPower': '00220007',\n    'CylinderLensPower': '00220008',\n    'CylinderAxis': '00220009',\n    'EmmetropicMagnification': '0022000A',\n    'IntraOcularPressure': '0022000B',\n    'HorizontalFieldOfView': '0022000C',\n    'PupilDilated': '0022000D',\n    'DegreeOfDilation': '0022000E',\n    'StereoBaselineAngle': '00220010',\n    'StereoBaselineDisplacement': '00220011',\n    'StereoHorizontalPixelOffset': '00220012',\n    'StereoVerticalPixelOffset': '00220013',\n    'StereoRotation': '00220014',\n    'AcquisitionDeviceTypeCodeSequence': '00220015',\n    'IlluminationTypeCodeSequence': '00220016',\n    'LightPathFilterTypeStackCodeSequence': '00220017',\n    'ImagePathFilterTypeStackCodeSequence': '00220018',\n    'LensesCodeSequence': '00220019',\n    'ChannelDescriptionCodeSequence': '0022001A',\n    'RefractiveStateSequence': '0022001B',\n    'MydriaticAgentCodeSequence': '0022001C',\n    'RelativeImagePositionCodeSequence': '0022001D',\n    'CameraAngleOfView': '0022001E',\n    'StereoPairsSequence': '00220020',\n    'LeftImageSequence': '00220021',\n    'RightImageSequence': '00220022',\n    'StereoPairsPresent': '00220028',\n    'AxialLengthOfTheEye': '00220030',\n    'OphthalmicFrameLocationSequence': '00220031',\n    'ReferenceCoordinates': '00220032',\n    'DepthSpatialResolution': '00220035',\n    'MaximumDepthDistortion': '00220036',\n    'AlongScanSpatialResolution': '00220037',\n    'MaximumAlongScanDistortion': '00220038',\n    'OphthalmicImageOrientation': '00220039',\n    'DepthOfTransverseImage': '00220041',\n    'MydriaticAgentConcentrationUnitsSequence': '00220042',\n    'AcrossScanSpatialResolution': '00220048',\n    'MaximumAcrossScanDistortion': '00220049',\n    'MydriaticAgentConcentration': '0022004E',\n    'IlluminationWaveLength': '00220055',\n    'IlluminationPower': '00220056',\n    'IlluminationBandwidth': '00220057',\n    'MydriaticAgentSequence': '00220058',\n    'OphthalmicAxialMeasurementsRightEyeSequence': '00221007',\n    'OphthalmicAxialMeasurementsLeftEyeSequence': '00221008',\n    'OphthalmicAxialMeasurementsDeviceType': '00221009',\n    'OphthalmicAxialLengthMeasurementsType': '00221010',\n    'OphthalmicAxialLengthSequence': '00221012',\n    'OphthalmicAxialLength': '00221019',\n    'LensStatusCodeSequence': '00221024',\n    'VitreousStatusCodeSequence': '00221025',\n    'IOLFormulaCodeSequence': '00221028',\n    'IOLFormulaDetail': '00221029',\n    'KeratometerIndex': '00221033',\n    'SourceOfOphthalmicAxialLengthCodeSequence': '00221035',\n    'TargetRefraction': '00221037',\n    'RefractiveProcedureOccurred': '00221039',\n    'RefractiveSurgeryTypeCodeSequence': '00221040',\n    'OphthalmicUltrasoundMethodCodeSequence': '00221044',\n    'OphthalmicAxialLengthMeasurementsSequence': '00221050',\n    'IOLPower': '00221053',\n    'PredictedRefractiveError': '00221054',\n    'OphthalmicAxialLengthVelocity': '00221059',\n    'LensStatusDescription': '00221065',\n    'VitreousStatusDescription': '00221066',\n    'IOLPowerSequence': '00221090',\n    'LensConstantSequence': '00221092',\n    'IOLManufacturer': '00221093',\n    'LensConstantDescription': '00221094',\n    'ImplantName': '00221095',\n    'KeratometryMeasurementTypeCodeSequence': '00221096',\n    'ImplantPartNumber': '00221097',\n    'ReferencedOphthalmicAxialMeasurementsSequence': '00221100',\n    'OphthalmicAxialLengthMeasurementsSegmentNameCodeSequence': '00221101',\n    'RefractiveErrorBeforeRefractiveSurgeryCodeSequence': '00221103',\n    'IOLPowerForExactEmmetropia': '00221121',\n    'IOLPowerForExactTargetRefraction': '00221122',\n    'AnteriorChamberDepthDefinitionCodeSequence': '00221125',\n    'LensThicknessSequence': '00221127',\n    'AnteriorChamberDepthSequence': '00221128',\n    'LensThickness': '00221130',\n    'AnteriorChamberDepth': '00221131',\n    'SourceOfLensThicknessDataCodeSequence': '00221132',\n    'SourceOfAnteriorChamberDepthDataCodeSequence': '00221133',\n    'SourceOfRefractiveMeasurementsSequence': '00221134',\n    'SourceOfRefractiveMeasurementsCodeSequence': '00221135',\n    'OphthalmicAxialLengthMeasurementModified': '00221140',\n    'OphthalmicAxialLengthDataSourceCodeSequence': '00221150',\n    'OphthalmicAxialLengthAcquisitionMethodCodeSequence': '00221153',\n    'SignalToNoiseRatio': '00221155',\n    'OphthalmicAxialLengthDataSourceDescription': '00221159',\n    'OphthalmicAxialLengthMeasurementsTotalLengthSequence': '00221210',\n    'OphthalmicAxialLengthMeasurementsSegmentalLengthSequence': '00221211',\n    'OphthalmicAxialLengthMeasurementsLengthSummationSequence': '00221212',\n    'UltrasoundOphthalmicAxialLengthMeasurementsSequence': '00221220',\n    'OpticalOphthalmicAxialLengthMeasurementsSequence': '00221225',\n    'UltrasoundSelectedOphthalmicAxialLengthSequence': '00221230',\n    'OphthalmicAxialLengthSelectionMethodCodeSequence': '00221250',\n    'OpticalSelectedOphthalmicAxialLengthSequence': '00221255',\n    'SelectedSegmentalOphthalmicAxialLengthSequence': '00221257',\n    'SelectedTotalOphthalmicAxialLengthSequence': '00221260',\n    'OphthalmicAxialLengthQualityMetricSequence': '00221262',\n    'OphthalmicAxialLengthQualityMetricTypeCodeSequence': '00221265',\n    'OphthalmicAxialLengthQualityMetricTypeDescription': '00221273',\n    'IntraocularLensCalculationsRightEyeSequence': '00221300',\n    'IntraocularLensCalculationsLeftEyeSequence': '00221310',\n    'ReferencedOphthalmicAxialLengthMeasurementQCImageSequence': '00221330',\n    'OphthalmicMappingDeviceType': '00221415',\n    'AcquisitionMethodCodeSequence': '00221420',\n    'AcquisitionMethodAlgorithmSequence': '00221423',\n    'OphthalmicThicknessMapTypeCodeSequence': '00221436',\n    'OphthalmicThicknessMappingNormalsSequence': '00221443',\n    'RetinalThicknessDefinitionCodeSequence': '00221445',\n    'PixelValueMappingToCodedConceptSequence': '00221450',\n    'MappedPixelValue': '00221452',\n    'PixelValueMappingExplanation': '00221454',\n    'OphthalmicThicknessMapQualityThresholdSequence': '00221458',\n    'OphthalmicThicknessMapThresholdQualityRating': '00221460',\n    'AnatomicStructureReferencePoint': '00221463',\n    'RegistrationToLocalizerSequence': '00221465',\n    'RegisteredLocalizerUnits': '00221466',\n    'RegisteredLocalizerTopLeftHandCorner': '00221467',\n    'RegisteredLocalizerBottomRightHandCorner': '00221468',\n    'OphthalmicThicknessMapQualityRatingSequence': '00221470',\n    'RelevantOPTAttributesSequence': '00221472',\n    'TransformationMethodCodeSequence': '00221512',\n    'TransformationAlgorithmSequence': '00221513',\n    'OphthalmicAxialLengthMethod': '00221515',\n    'OphthalmicFOV': '00221517',\n    'TwoDimensionalToThreeDimensionalMapSequence': '00221518',\n    'WideFieldOphthalmicPhotographyQualityRatingSequence': '00221525',\n    'WideFieldOphthalmicPhotographyQualityThresholdSequence': '00221526',\n    'WideFieldOphthalmicPhotographyThresholdQualityRating': '00221527',\n    'XCoordinatesCenterPixelViewAngle': '00221528',\n    'YCoordinatesCenterPixelViewAngle': '00221529',\n    'NumberOfMapPoints': '00221530',\n    'TwoDimensionalToThreeDimensionalMapData': '00221531',\n    'DerivationAlgorithmSequence': '00221612',\n    'OphthalmicImageTypeCodeSequence': '00221615',\n    'OphthalmicImageTypeDescription': '00221616',\n    'ScanPatternTypeCodeSequence': '00221618',\n    'ReferencedSurfaceMeshIdentificationSequence': '00221620',\n    'OphthalmicVolumetricPropertiesFlag': '00221622',\n    'OphthalmicAnatomicReferencePointXCoordinate': '00221624',\n    'OphthalmicAnatomicReferencePointYCoordinate': '00221626',\n    'OphthalmicEnFaceImageQualityRatingSequence': '00221628',\n    'QualityThreshold': '00221630',\n    'OCTBscanAnalysisAcquisitionParametersSequence': '00221640',\n    'NumberofBscansPerFrame': '00221642',\n    'BscanSlabThickness': '00221643',\n    'DistanceBetweenBscanSlabs': '00221644',\n    'BscanCycleTime': '00221645',\n    'BscanCycleTimeVector': '00221646',\n    'AscanRate': '00221649',\n    'BscanRate': '00221650',\n    'SurfaceMeshZPixelOffset': '00221658',\n    'VisualFieldHorizontalExtent': '00240010',\n    'VisualFieldVerticalExtent': '00240011',\n    'VisualFieldShape': '00240012',\n    'ScreeningTestModeCodeSequence': '00240016',\n    'MaximumStimulusLuminance': '00240018',\n    'BackgroundLuminance': '00240020',\n    'StimulusColorCodeSequence': '00240021',\n    'BackgroundIlluminationColorCodeSequence': '00240024',\n    'StimulusArea': '00240025',\n    'StimulusPresentationTime': '00240028',\n    'FixationSequence': '00240032',\n    'FixationMonitoringCodeSequence': '00240033',\n    'VisualFieldCatchTrialSequence': '00240034',\n    'FixationCheckedQuantity': '00240035',\n    'PatientNotProperlyFixatedQuantity': '00240036',\n    'PresentedVisualStimuliDataFlag': '00240037',\n    'NumberOfVisualStimuli': '00240038',\n    'ExcessiveFixationLossesDataFlag': '00240039',\n    'ExcessiveFixationLosses': '00240040',\n    'StimuliRetestingQuantity': '00240042',\n    'CommentsOnPatientPerformanceOfVisualField': '00240044',\n    'FalseNegativesEstimateFlag': '00240045',\n    'FalseNegativesEstimate': '00240046',\n    'NegativeCatchTrialsQuantity': '00240048',\n    'FalseNegativesQuantity': '00240050',\n    'ExcessiveFalseNegativesDataFlag': '00240051',\n    'ExcessiveFalseNegatives': '00240052',\n    'FalsePositivesEstimateFlag': '00240053',\n    'FalsePositivesEstimate': '00240054',\n    'CatchTrialsDataFlag': '00240055',\n    'PositiveCatchTrialsQuantity': '00240056',\n    'TestPointNormalsDataFlag': '00240057',\n    'TestPointNormalsSequence': '00240058',\n    'GlobalDeviationProbabilityNormalsFlag': '00240059',\n    'FalsePositivesQuantity': '00240060',\n    'ExcessiveFalsePositivesDataFlag': '00240061',\n    'ExcessiveFalsePositives': '00240062',\n    'VisualFieldTestNormalsFlag': '00240063',\n    'ResultsNormalsSequence': '00240064',\n    'AgeCorrectedSensitivityDeviationAlgorithmSequence': '00240065',\n    'GlobalDeviationFromNormal': '00240066',\n    'GeneralizedDefectSensitivityDeviationAlgorithmSequence': '00240067',\n    'LocalizedDeviationFromNormal': '00240068',\n    'PatientReliabilityIndicator': '00240069',\n    'VisualFieldMeanSensitivity': '00240070',\n    'GlobalDeviationProbability': '00240071',\n    'LocalDeviationProbabilityNormalsFlag': '00240072',\n    'LocalizedDeviationProbability': '00240073',\n    'ShortTermFluctuationCalculated': '00240074',\n    'ShortTermFluctuation': '00240075',\n    'ShortTermFluctuationProbabilityCalculated': '00240076',\n    'ShortTermFluctuationProbability': '00240077',\n    'CorrectedLocalizedDeviationFromNormalCalculated': '00240078',\n    'CorrectedLocalizedDeviationFromNormal': '00240079',\n    'CorrectedLocalizedDeviationFromNormalProbabilityCalculated': '00240080',\n    'CorrectedLocalizedDeviationFromNormalProbability': '00240081',\n    'GlobalDeviationProbabilitySequence': '00240083',\n    'LocalizedDeviationProbabilitySequence': '00240085',\n    'FovealSensitivityMeasured': '00240086',\n    'FovealSensitivity': '00240087',\n    'VisualFieldTestDuration': '00240088',\n    'VisualFieldTestPointSequence': '00240089',\n    'VisualFieldTestPointXCoordinate': '00240090',\n    'VisualFieldTestPointYCoordinate': '00240091',\n    'AgeCorrectedSensitivityDeviationValue': '00240092',\n    'StimulusResults': '00240093',\n    'SensitivityValue': '00240094',\n    'RetestStimulusSeen': '00240095',\n    'RetestSensitivityValue': '00240096',\n    'VisualFieldTestPointNormalsSequence': '00240097',\n    'QuantifiedDefect': '00240098',\n    'AgeCorrectedSensitivityDeviationProbabilityValue': '00240100',\n    'GeneralizedDefectCorrectedSensitivityDeviationFlag': '00240102',\n    'GeneralizedDefectCorrectedSensitivityDeviationValue': '00240103',\n    'GeneralizedDefectCorrectedSensitivityDeviationProbabilityValue': '00240104',\n    'MinimumSensitivityValue': '00240105',\n    'BlindSpotLocalized': '00240106',\n    'BlindSpotXCoordinate': '00240107',\n    'BlindSpotYCoordinate': '00240108',\n    'VisualAcuityMeasurementSequence': '00240110',\n    'RefractiveParametersUsedOnPatientSequence': '00240112',\n    'MeasurementLaterality': '00240113',\n    'OphthalmicPatientClinicalInformationLeftEyeSequence': '00240114',\n    'OphthalmicPatientClinicalInformationRightEyeSequence': '00240115',\n    'FovealPointNormativeDataFlag': '00240117',\n    'FovealPointProbabilityValue': '00240118',\n    'ScreeningBaselineMeasured': '00240120',\n    'ScreeningBaselineMeasuredSequence': '00240122',\n    'ScreeningBaselineType': '00240124',\n    'ScreeningBaselineValue': '00240126',\n    'AlgorithmSource': '00240202',\n    'DataSetName': '00240306',\n    'DataSetVersion': '00240307',\n    'DataSetSource': '00240308',\n    'DataSetDescription': '00240309',\n    'VisualFieldTestReliabilityGlobalIndexSequence': '00240317',\n    'VisualFieldGlobalResultsIndexSequence': '00240320',\n    'DataObservationSequence': '00240325',\n    'IndexNormalsFlag': '00240338',\n    'IndexProbability': '00240341',\n    'IndexProbabilitySequence': '00240344',\n    'SamplesPerPixel': '00280002',\n    'SamplesPerPixelUsed': '00280003',\n    'PhotometricInterpretation': '00280004',\n    'ImageDimensions': '00280005',\n    'PlanarConfiguration': '00280006',\n    'NumberOfFrames': '00280008',\n    'FrameIncrementPointer': '00280009',\n    'FrameDimensionPointer': '0028000A',\n    'Rows': '00280010',\n    'Columns': '00280011',\n    'Planes': '00280012',\n    'UltrasoundColorDataPresent': '00280014',\n    '': '00280020',\n    'PixelSpacing': '00280030',\n    'ZoomFactor': '00280031',\n    'ZoomCenter': '00280032',\n    'PixelAspectRatio': '00280034',\n    'ImageFormat': '00280040',\n    'ManipulatedImage': '00280050',\n    'CorrectedImage': '00280051',\n    'CompressionRecognitionCode': '0028005F',\n    'CompressionCode': '00280060',\n    'CompressionOriginator': '00280061',\n    'CompressionLabel': '00280062',\n    'CompressionDescription': '00280063',\n    'CompressionSequence': '00280065',\n    'CompressionStepPointers': '00280066',\n    'RepeatInterval': '00280068',\n    'BitsGrouped': '00280069',\n    'PerimeterTable': '00280070',\n    'PerimeterValue': '00280071',\n    'PredictorRows': '00280080',\n    'PredictorColumns': '00280081',\n    'PredictorConstants': '00280082',\n    'BlockedPixels': '00280090',\n    'BlockRows': '00280091',\n    'BlockColumns': '00280092',\n    'RowOverlap': '00280093',\n    'ColumnOverlap': '00280094',\n    'BitsAllocated': '00280100',\n    'BitsStored': '00280101',\n    'HighBit': '00280102',\n    'PixelRepresentation': '00280103',\n    'SmallestValidPixelValue': '00280104',\n    'LargestValidPixelValue': '00280105',\n    'SmallestImagePixelValue': '00280106',\n    'LargestImagePixelValue': '00280107',\n    'SmallestPixelValueInSeries': '00280108',\n    'LargestPixelValueInSeries': '00280109',\n    'SmallestImagePixelValueInPlane': '00280110',\n    'LargestImagePixelValueInPlane': '00280111',\n    'PixelPaddingValue': '00280120',\n    'PixelPaddingRangeLimit': '00280121',\n    'FloatPixelPaddingValue': '00280122',\n    'DoubleFloatPixelPaddingValue': '00280123',\n    'FloatPixelPaddingRangeLimit': '00280124',\n    'DoubleFloatPixelPaddingRangeLimit': '00280125',\n    'ImageLocation': '00280200',\n    'QualityControlImage': '00280300',\n    'BurnedInAnnotation': '00280301',\n    'RecognizableVisualFeatures': '00280302',\n    'LongitudinalTemporalInformationModified': '00280303',\n    'ReferencedColorPaletteInstanceUID': '00280304',\n    'TransformLabel': '00280400',\n    'TransformVersionNumber': '00280401',\n    'NumberOfTransformSteps': '00280402',\n    'SequenceOfCompressedData': '00280403',\n    'DetailsOfCoefficients': '00280404',\n    'DCTLabel': '00280700',\n    'DataBlockDescription': '00280701',\n    'DataBlock': '00280702',\n    'NormalizationFactorFormat': '00280710',\n    'ZonalMapNumberFormat': '00280720',\n    'ZonalMapLocation': '00280721',\n    'ZonalMapFormat': '00280722',\n    'AdaptiveMapFormat': '00280730',\n    'CodeNumberFormat': '00280740',\n    'PixelSpacingCalibrationType': '00280A02',\n    'PixelSpacingCalibrationDescription': '00280A04',\n    'PixelIntensityRelationship': '00281040',\n    'PixelIntensityRelationshipSign': '00281041',\n    'WindowCenter': '00281050',\n    'WindowWidth': '00281051',\n    'RescaleIntercept': '00281052',\n    'RescaleSlope': '00281053',\n    'RescaleType': '00281054',\n    'WindowCenterWidthExplanation': '00281055',\n    'VOILUTFunction': '00281056',\n    'GrayScale': '00281080',\n    'RecommendedViewingMode': '00281090',\n    'GrayLookupTableDescriptor': '00281100',\n    'RedPaletteColorLookupTableDescriptor': '00281101',\n    'GreenPaletteColorLookupTableDescriptor': '00281102',\n    'BluePaletteColorLookupTableDescriptor': '00281103',\n    'AlphaPaletteColorLookupTableDescriptor': '00281104',\n    'LargeRedPaletteColorLookupTableDescriptor': '00281111',\n    'LargeGreenPaletteColorLookupTableDescriptor': '00281112',\n    'LargeBluePaletteColorLookupTableDescriptor': '00281113',\n    'PaletteColorLookupTableUID': '00281199',\n    'GrayLookupTableData': '00281200',\n    'RedPaletteColorLookupTableData': '00281201',\n    'GreenPaletteColorLookupTableData': '00281202',\n    'BluePaletteColorLookupTableData': '00281203',\n    'AlphaPaletteColorLookupTableData': '00281204',\n    'LargeRedPaletteColorLookupTableData': '00281211',\n    'LargeGreenPaletteColorLookupTableData': '00281212',\n    'LargeBluePaletteColorLookupTableData': '00281213',\n    'LargePaletteColorLookupTableUID': '00281214',\n    'SegmentedRedPaletteColorLookupTableData': '00281221',\n    'SegmentedGreenPaletteColorLookupTableData': '00281222',\n    'SegmentedBluePaletteColorLookupTableData': '00281223',\n    'SegmentedAlphaPaletteColorLookupTableData': '00281224',\n    'StoredValueColorRangeSequence': '00281230',\n    'MinimumStoredValueMapped': '00281231',\n    'MaximumStoredValueMapped': '00281232',\n    'BreastImplantPresent': '00281300',\n    'PartialView': '00281350',\n    'PartialViewDescription': '00281351',\n    'PartialViewCodeSequence': '00281352',\n    'SpatialLocationsPreserved': '0028135A',\n    'DataFrameAssignmentSequence': '00281401',\n    'DataPathAssignment': '00281402',\n    'BitsMappedToColorLookupTable': '00281403',\n    '00281404': ('BlendingLUT1Sequence'),\n    '00281405': ('BlendingLUT1TransferFunction'),\n    'BlendingWeightConstant': '00281406',\n    'BlendingLookupTableDescriptor': '00281407',\n    'BlendingLookupTableData': '00281408',\n    'EnhancedPaletteColorLookupTableSequence': '0028140B',\n    '0028140C': ('BlendingLUT2Sequence'),\n    '0028140D': ('BlendingLUT2TransferFunction'),\n    'DataPathID': '0028140E',\n    'RGBLUTTransferFunction': '0028140F',\n    'AlphaLUTTransferFunction': '00281410',\n    'ICCProfile': '00282000',\n    'ColorSpace': '00282002',\n    'LossyImageCompression': '00282110',\n    'LossyImageCompressionRatio': '00282112',\n    'LossyImageCompressionMethod': '00282114',\n    'ModalityLUTSequence': '00283000',\n    'LUTDescriptor': '00283002',\n    'LUTExplanation': '00283003',\n    'ModalityLUTType': '00283004',\n    'LUTData': '00283006',\n    'VOILUTSequence': '00283010',\n    'SoftcopyVOILUTSequence': '00283110',\n    'ImagePresentationComments': '00284000',\n    'BiPlaneAcquisitionSequence': '00285000',\n    'RepresentativeFrameNumber': '00286010',\n    'FrameNumbersOfInterest': '00286020',\n    'FrameOfInterestDescription': '00286022',\n    'FrameOfInterestType': '00286023',\n    'MaskPointers': '00286030',\n    'RWavePointer': '00286040',\n    'MaskSubtractionSequence': '00286100',\n    'MaskOperation': '00286101',\n    'ApplicableFrameRange': '00286102',\n    'MaskFrameNumbers': '00286110',\n    'ContrastFrameAveraging': '00286112',\n    'MaskSubPixelShift': '00286114',\n    'TIDOffset': '00286120',\n    'MaskOperationExplanation': '00286190',\n    'EquipmentAdministratorSequence': '00287000',\n    'NumberOfDisplaySubsystems': '00287001',\n    'CurrentConfigurationID': '00287002',\n    'DisplaySubsystemID': '00287003',\n    'DisplaySubsystemName': '00287004',\n    'DisplaySubsystemDescription': '00287005',\n    'SystemStatus': '00287006',\n    'SystemStatusComment': '00287007',\n    'TargetLuminanceCharacteristicsSequence': '00287008',\n    'LuminanceCharacteristicsID': '00287009',\n    'DisplaySubsystemConfigurationSequence': '0028700A',\n    'ConfigurationID': '0028700B',\n    'ConfigurationName': '0028700C',\n    'ConfigurationDescription': '0028700D',\n    'ReferencedTargetLuminanceCharacteristicsID': '0028700E',\n    'QAResultsSequence': '0028700F',\n    'DisplaySubsystemQAResultsSequence': '00287010',\n    'ConfigurationQAResultsSequence': '00287011',\n    'MeasurementEquipmentSequence': '00287012',\n    'MeasurementFunctions': '00287013',\n    'MeasurementEquipmentType': '00287014',\n    'VisualEvaluationResultSequence': '00287015',\n    'DisplayCalibrationResultSequence': '00287016',\n    'DDLValue': '00287017',\n    'CIExyWhitePoint': '00287018',\n    'DisplayFunctionType': '00287019',\n    'GammaValue': '0028701A',\n    'NumberOfLuminancePoints': '0028701B',\n    'LuminanceResponseSequence': '0028701C',\n    'TargetMinimumLuminance': '0028701D',\n    'TargetMaximumLuminance': '0028701E',\n    'LuminanceValue': '0028701F',\n    'LuminanceResponseDescription': '00287020',\n    'WhitePointFlag': '00287021',\n    'DisplayDeviceTypeCodeSequence': '00287022',\n    'DisplaySubsystemSequence': '00287023',\n    'LuminanceResultSequence': '00287024',\n    'AmbientLightValueSource': '00287025',\n    'MeasuredCharacteristics': '00287026',\n    'LuminanceUniformityResultSequence': '00287027',\n    'VisualEvaluationTestSequence': '00287028',\n    'TestResult': '00287029',\n    'TestResultComment': '0028702A',\n    'TestImageValidation': '0028702B',\n    'TestPatternCodeSequence': '0028702C',\n    'MeasurementPatternCodeSequence': '0028702D',\n    'VisualEvaluationMethodCodeSequence': '0028702E',\n    'PixelDataProviderURL': '00287FE0',\n    'DataPointRows': '00289001',\n    'DataPointColumns': '00289002',\n    'SignalDomainColumns': '00289003',\n    'LargestMonochromePixelValue': '00289099',\n    'DataRepresentation': '00289108',\n    'PixelMeasuresSequence': '00289110',\n    'FrameVOILUTSequence': '00289132',\n    'PixelValueTransformationSequence': '00289145',\n    'SignalDomainRows': '00289235',\n    'DisplayFilterPercentage': '00289411',\n    'FramePixelShiftSequence': '00289415',\n    'SubtractionItemID': '00289416',\n    'PixelIntensityRelationshipLUTSequence': '00289422',\n    'FramePixelDataPropertiesSequence': '00289443',\n    'GeometricalProperties': '00289444',\n    'GeometricMaximumDistortion': '00289445',\n    'ImageProcessingApplied': '00289446',\n    'MaskSelectionMode': '00289454',\n    'LUTFunction': '00289474',\n    'MaskVisibilityPercentage': '00289478',\n    'PixelShiftSequence': '00289501',\n    'RegionPixelShiftSequence': '00289502',\n    'VerticesOfTheRegion': '00289503',\n    'MultiFramePresentationSequence': '00289505',\n    'PixelShiftFrameRange': '00289506',\n    'LUTFrameRange': '00289507',\n    'ImageToEquipmentMappingMatrix': '00289520',\n    'EquipmentCoordinateSystemIdentification': '00289537',\n    'StudyStatusID': '0032000A',\n    'StudyPriorityID': '0032000C',\n    'StudyIDIssuer': '00320012',\n    'StudyVerifiedDate': '00320032',\n    'StudyVerifiedTime': '00320033',\n    'StudyReadDate': '00320034',\n    'StudyReadTime': '00320035',\n    'ScheduledStudyStartDate': '00321000',\n    'ScheduledStudyStartTime': '00321001',\n    'ScheduledStudyStopDate': '00321010',\n    'ScheduledStudyStopTime': '00321011',\n    'ScheduledStudyLocation': '00321020',\n    'ScheduledStudyLocationAETitle': '00321021',\n    'ReasonForStudy': '00321030',\n    'RequestingPhysicianIdentificationSequence': '00321031',\n    'RequestingPhysician': '00321032',\n    'RequestingService': '00321033',\n    'RequestingServiceCodeSequence': '00321034',\n    'StudyArrivalDate': '00321040',\n    'StudyArrivalTime': '00321041',\n    'StudyCompletionDate': '00321050',\n    'StudyCompletionTime': '00321051',\n    'StudyComponentStatusID': '00321055',\n    'RequestedProcedureDescription': '00321060',\n    'RequestedProcedureCodeSequence': '00321064',\n    'RequestedContrastAgent': '00321070',\n    'StudyComments': '00324000',\n    'ReferencedPatientAliasSequence': '00380004',\n    'VisitStatusID': '00380008',\n    'AdmissionID': '00380010',\n    'IssuerOfAdmissionID': '00380011',\n    'IssuerOfAdmissionIDSequence': '00380014',\n    'RouteOfAdmissions': '00380016',\n    'ScheduledAdmissionDate': '0038001A',\n    'ScheduledAdmissionTime': '0038001B',\n    'ScheduledDischargeDate': '0038001C',\n    'ScheduledDischargeTime': '0038001D',\n    'ScheduledPatientInstitutionResidence': '0038001E',\n    'AdmittingDate': '00380020',\n    'AdmittingTime': '00380021',\n    'DischargeDate': '00380030',\n    'DischargeTime': '00380032',\n    'DischargeDiagnosisDescription': '00380040',\n    'DischargeDiagnosisCodeSequence': '00380044',\n    'SpecialNeeds': '00380050',\n    'ServiceEpisodeID': '00380060',\n    'IssuerOfServiceEpisodeID': '00380061',\n    'ServiceEpisodeDescription': '00380062',\n    'IssuerOfServiceEpisodeIDSequence': '00380064',\n    'PertinentDocumentsSequence': '00380100',\n    'PertinentResourcesSequence': '00380101',\n    'ResourceDescription': '00380102',\n    'CurrentPatientLocation': '00380300',\n    'PatientInstitutionResidence': '00380400',\n    'PatientState': '00380500',\n    'PatientClinicalTrialParticipationSequence': '00380502',\n    'VisitComments': '00384000',\n    'WaveformOriginality': '003A0004',\n    'NumberOfWaveformChannels': '003A0005',\n    'NumberOfWaveformSamples': '003A0010',\n    'SamplingFrequency': '003A001A',\n    'MultiplexGroupLabel': '003A0020',\n    'ChannelDefinitionSequence': '003A0200',\n    'WaveformChannelNumber': '003A0202',\n    'ChannelLabel': '003A0203',\n    'ChannelStatus': '003A0205',\n    'ChannelSourceSequence': '003A0208',\n    'ChannelSourceModifiersSequence': '003A0209',\n    'SourceWaveformSequence': '003A020A',\n    'ChannelDerivationDescription': '003A020C',\n    'ChannelSensitivity': '003A0210',\n    'ChannelSensitivityUnitsSequence': '003A0211',\n    'ChannelSensitivityCorrectionFactor': '003A0212',\n    'ChannelBaseline': '003A0213',\n    'ChannelTimeSkew': '003A0214',\n    'ChannelSampleSkew': '003A0215',\n    'ChannelOffset': '003A0218',\n    'WaveformBitsStored': '003A021A',\n    'FilterLowFrequency': '003A0220',\n    'FilterHighFrequency': '003A0221',\n    'NotchFilterFrequency': '003A0222',\n    'NotchFilterBandwidth': '003A0223',\n    'WaveformDataDisplayScale': '003A0230',\n    'WaveformDisplayBackgroundCIELabValue': '003A0231',\n    'WaveformPresentationGroupSequence': '003A0240',\n    'PresentationGroupNumber': '003A0241',\n    'ChannelDisplaySequence': '003A0242',\n    'ChannelRecommendedDisplayCIELabValue': '003A0244',\n    'ChannelPosition': '003A0245',\n    'DisplayShadingFlag': '003A0246',\n    'FractionalChannelDisplayScale': '003A0247',\n    'AbsoluteChannelDisplayScale': '003A0248',\n    'MultiplexedAudioChannelsDescriptionCodeSequence': '003A0300',\n    'ChannelIdentificationCode': '003A0301',\n    'ChannelMode': '003A0302',\n    'ScheduledStationAETitle': '00400001',\n    'ScheduledProcedureStepStartDate': '00400002',\n    'ScheduledProcedureStepStartTime': '00400003',\n    'ScheduledProcedureStepEndDate': '00400004',\n    'ScheduledProcedureStepEndTime': '00400005',\n    'ScheduledPerformingPhysicianName': '00400006',\n    'ScheduledProcedureStepDescription': '00400007',\n    'ScheduledProtocolCodeSequence': '00400008',\n    'ScheduledProcedureStepID': '00400009',\n    'StageCodeSequence': '0040000A',\n    'ScheduledPerformingPhysicianIdentificationSequence': '0040000B',\n    'ScheduledStationName': '00400010',\n    'ScheduledProcedureStepLocation': '00400011',\n    'PreMedication': '00400012',\n    'ScheduledProcedureStepStatus': '00400020',\n    'OrderPlacerIdentifierSequence': '00400026',\n    'OrderFillerIdentifierSequence': '00400027',\n    'LocalNamespaceEntityID': '00400031',\n    'UniversalEntityID': '00400032',\n    'UniversalEntityIDType': '00400033',\n    'IdentifierTypeCode': '00400035',\n    'AssigningFacilitySequence': '00400036',\n    'AssigningJurisdictionCodeSequence': '00400039',\n    'AssigningAgencyOrDepartmentCodeSequence': '0040003A',\n    'ScheduledProcedureStepSequence': '00400100',\n    'ReferencedNonImageCompositeSOPInstanceSequence': '00400220',\n    'PerformedStationAETitle': '00400241',\n    'PerformedStationName': '00400242',\n    'PerformedLocation': '00400243',\n    'PerformedProcedureStepStartDate': '00400244',\n    'PerformedProcedureStepStartTime': '00400245',\n    'PerformedProcedureStepEndDate': '00400250',\n    'PerformedProcedureStepEndTime': '00400251',\n    'PerformedProcedureStepStatus': '00400252',\n    'PerformedProcedureStepID': '00400253',\n    'PerformedProcedureStepDescription': '00400254',\n    'PerformedProcedureTypeDescription': '00400255',\n    'PerformedProtocolCodeSequence': '00400260',\n    'PerformedProtocolType': '00400261',\n    'ScheduledStepAttributesSequence': '00400270',\n    'RequestAttributesSequence': '00400275',\n    'CommentsOnThePerformedProcedureStep': '00400280',\n    'PerformedProcedureStepDiscontinuationReasonCodeSequence': '00400281',\n    'QuantitySequence': '00400293',\n    'Quantity': '00400294',\n    'MeasuringUnitsSequence': '00400295',\n    'BillingItemSequence': '00400296',\n    'TotalTimeOfFluoroscopy': '00400300',\n    'TotalNumberOfExposures': '00400301',\n    'EntranceDose': '00400302',\n    'ExposedArea': '00400303',\n    'DistanceSourceToEntrance': '00400306',\n    'DistanceSourceToSupport': '00400307',\n    'ExposureDoseSequence': '0040030E',\n    'CommentsOnRadiationDose': '00400310',\n    'XRayOutput': '00400312',\n    'HalfValueLayer': '00400314',\n    'OrganDose': '00400316',\n    'OrganExposed': '00400318',\n    'BillingProcedureStepSequence': '00400320',\n    'FilmConsumptionSequence': '00400321',\n    'BillingSuppliesAndDevicesSequence': '00400324',\n    'ReferencedProcedureStepSequence': '00400330',\n    'PerformedSeriesSequence': '00400340',\n    'CommentsOnTheScheduledProcedureStep': '00400400',\n    'ProtocolContextSequence': '00400440',\n    'ContentItemModifierSequence': '00400441',\n    'ScheduledSpecimenSequence': '00400500',\n    'SpecimenAccessionNumber': '0040050A',\n    'ContainerIdentifier': '00400512',\n    'IssuerOfTheContainerIdentifierSequence': '00400513',\n    'AlternateContainerIdentifierSequence': '00400515',\n    'ContainerTypeCodeSequence': '00400518',\n    'ContainerDescription': '0040051A',\n    'ContainerComponentSequence': '00400520',\n    'SpecimenSequence': '00400550',\n    'SpecimenIdentifier': '00400551',\n    'SpecimenDescriptionSequenceTrial': '00400552',\n    'SpecimenDescriptionTrial': '00400553',\n    'SpecimenUID': '00400554',\n    'AcquisitionContextSequence': '00400555',\n    'AcquisitionContextDescription': '00400556',\n    'SpecimenDescriptionSequence': '00400560',\n    'IssuerOfTheSpecimenIdentifierSequence': '00400562',\n    'SpecimenTypeCodeSequence': '0040059A',\n    'SpecimenShortDescription': '00400600',\n    'SpecimenDetailedDescription': '00400602',\n    'SpecimenPreparationSequence': '00400610',\n    'SpecimenPreparationStepContentItemSequence': '00400612',\n    'SpecimenLocalizationContentItemSequence': '00400620',\n    'SlideIdentifier': '004006FA',\n    'WholeSlideMicroscopyImageFrameTypeSequence': '00400710',\n    'ImageCenterPointCoordinatesSequence': '0040071A',\n    'XOffsetInSlideCoordinateSystem': '0040072A',\n    'YOffsetInSlideCoordinateSystem': '0040073A',\n    'ZOffsetInSlideCoordinateSystem': '0040074A',\n    'PixelSpacingSequence': '004008D8',\n    'CoordinateSystemAxisCodeSequence': '004008DA',\n    'MeasurementUnitsCodeSequence': '004008EA',\n    'VitalStainCodeSequenceTrial': '004009F8',\n    'RequestedProcedureID': '00401001',\n    'ReasonForTheRequestedProcedure': '00401002',\n    'RequestedProcedurePriority': '00401003',\n    'PatientTransportArrangements': '00401004',\n    'RequestedProcedureLocation': '00401005',\n    'PlacerOrderNumberProcedure': '00401006',\n    'FillerOrderNumberProcedure': '00401007',\n    'ConfidentialityCode': '00401008',\n    'ReportingPriority': '00401009',\n    'ReasonForRequestedProcedureCodeSequence': '0040100A',\n    'NamesOfIntendedRecipientsOfResults': '00401010',\n    'IntendedRecipientsOfResultsIdentificationSequence': '00401011',\n    'ReasonForPerformedProcedureCodeSequence': '00401012',\n    'RequestedProcedureDescriptionTrial': '00401060',\n    'PersonIdentificationCodeSequence': '00401101',\n    'PersonAddress': '00401102',\n    'PersonTelephoneNumbers': '00401103',\n    'PersonTelecomInformation': '00401104',\n    'RequestedProcedureComments': '00401400',\n    'ReasonForTheImagingServiceRequest': '00402001',\n    'IssueDateOfImagingServiceRequest': '00402004',\n    'IssueTimeOfImagingServiceRequest': '00402005',\n    'PlacerOrderNumberImagingServiceRequestRetired': '00402006',\n    'FillerOrderNumberImagingServiceRequestRetired': '00402007',\n    'OrderEnteredBy': '00402008',\n    'OrderEntererLocation': '00402009',\n    'OrderCallbackPhoneNumber': '00402010',\n    'OrderCallbackTelecomInformation': '00402011',\n    'PlacerOrderNumberImagingServiceRequest': '00402016',\n    'FillerOrderNumberImagingServiceRequest': '00402017',\n    'ImagingServiceRequestComments': '00402400',\n    'ConfidentialityConstraintOnPatientDataDescription': '00403001',\n    'GeneralPurposeScheduledProcedureStepStatus': '00404001',\n    'GeneralPurposePerformedProcedureStepStatus': '00404002',\n    'GeneralPurposeScheduledProcedureStepPriority': '00404003',\n    'ScheduledProcessingApplicationsCodeSequence': '00404004',\n    'ScheduledProcedureStepStartDateTime': '00404005',\n    'MultipleCopiesFlag': '00404006',\n    'PerformedProcessingApplicationsCodeSequence': '00404007',\n    'ScheduledProcedureStepExpirationDateTime': '00404008',\n    'HumanPerformerCodeSequence': '00404009',\n    'ScheduledProcedureStepModificationDateTime': '00404010',\n    'ExpectedCompletionDateTime': '00404011',\n    'ResultingGeneralPurposePerformedProcedureStepsSequence': '00404015',\n    'ReferencedGeneralPurposeScheduledProcedureStepSequence': '00404016',\n    'ScheduledWorkitemCodeSequence': '00404018',\n    'PerformedWorkitemCodeSequence': '00404019',\n    'InputAvailabilityFlag': '00404020',\n    'InputInformationSequence': '00404021',\n    'RelevantInformationSequence': '00404022',\n    'ReferencedGeneralPurposeScheduledProcedureStepTransactionUID': '00404023',\n    'ScheduledStationNameCodeSequence': '00404025',\n    'ScheduledStationClassCodeSequence': '00404026',\n    'ScheduledStationGeographicLocationCodeSequence': '00404027',\n    'PerformedStationNameCodeSequence': '00404028',\n    'PerformedStationClassCodeSequence': '00404029',\n    'PerformedStationGeographicLocationCodeSequence': '00404030',\n    'RequestedSubsequentWorkitemCodeSequence': '00404031',\n    'NonDICOMOutputCodeSequence': '00404032',\n    'OutputInformationSequence': '00404033',\n    'ScheduledHumanPerformersSequence': '00404034',\n    'ActualHumanPerformersSequence': '00404035',\n    'HumanPerformerOrganization': '00404036',\n    'HumanPerformerName': '00404037',\n    'RawDataHandling': '00404040',\n    'InputReadinessState': '00404041',\n    'PerformedProcedureStepStartDateTime': '00404050',\n    'PerformedProcedureStepEndDateTime': '00404051',\n    'ProcedureStepCancellationDateTime': '00404052',\n    'OutputDestinationSequence': '00404070',\n    'DICOMStorageSequence': '00404071',\n    'STOWRSStorageSequence': '00404072',\n    'StorageURL': '00404073',\n    'XDSStorageSequence': '00404074',\n    'EntranceDoseInmGy': '00408302',\n    'EntranceDoseDerivation': '00408303',\n    'ParametricMapFrameTypeSequence': '00409092',\n    'ReferencedImageRealWorldValueMappingSequence': '00409094',\n    'RealWorldValueMappingSequence': '00409096',\n    'PixelValueMappingCodeSequence': '00409098',\n    'LUTLabel': '00409210',\n    'RealWorldValueLastValueMapped': '00409211',\n    'RealWorldValueLUTData': '00409212',\n    'DoubleFloatRealWorldValueLastValueMapped': '00409213',\n    'DoubleFloatRealWorldValueFirstValueMapped': '00409214',\n    'RealWorldValueFirstValueMapped': '00409216',\n    'QuantityDefinitionSequence': '00409220',\n    'RealWorldValueIntercept': '00409224',\n    'RealWorldValueSlope': '00409225',\n    'FindingsFlagTrial': '0040A007',\n    'RelationshipType': '0040A010',\n    'FindingsSequenceTrial': '0040A020',\n    'FindingsGroupUIDTrial': '0040A021',\n    'ReferencedFindingsGroupUIDTrial': '0040A022',\n    'FindingsGroupRecordingDateTrial': '0040A023',\n    'FindingsGroupRecordingTimeTrial': '0040A024',\n    'FindingsSourceCategoryCodeSequenceTrial': '0040A026',\n    'VerifyingOrganization': '0040A027',\n    'DocumentingOrganizationIdentifierCodeSequenceTrial': '0040A028',\n    'VerificationDateTime': '0040A030',\n    'ObservationDateTime': '0040A032',\n    'ValueType': '0040A040',\n    'ConceptNameCodeSequence': '0040A043',\n    'MeasurementPrecisionDescriptionTrial': '0040A047',\n    'ContinuityOfContent': '0040A050',\n    'UrgencyOrPriorityAlertsTrial': '0040A057',\n    'SequencingIndicatorTrial': '0040A060',\n    'DocumentIdentifierCodeSequenceTrial': '0040A066',\n    'DocumentAuthorTrial': '0040A067',\n    'DocumentAuthorIdentifierCodeSequenceTrial': '0040A068',\n    'IdentifierCodeSequenceTrial': '0040A070',\n    'VerifyingObserverSequence': '0040A073',\n    'ObjectBinaryIdentifierTrial': '0040A074',\n    'VerifyingObserverName': '0040A075',\n    'DocumentingObserverIdentifierCodeSequenceTrial': '0040A076',\n    'AuthorObserverSequence': '0040A078',\n    'ParticipantSequence': '0040A07A',\n    'CustodialOrganizationSequence': '0040A07C',\n    'ParticipationType': '0040A080',\n    'ParticipationDateTime': '0040A082',\n    'ObserverType': '0040A084',\n    'ProcedureIdentifierCodeSequenceTrial': '0040A085',\n    'VerifyingObserverIdentificationCodeSequence': '0040A088',\n    'ObjectDirectoryBinaryIdentifierTrial': '0040A089',\n    'EquivalentCDADocumentSequence': '0040A090',\n    'ReferencedWaveformChannels': '0040A0B0',\n    'DateOfDocumentOrVerbalTransactionTrial': '0040A110',\n    'TimeOfDocumentCreationOrVerbalTransactionTrial': '0040A112',\n    'DateTime': '0040A120',\n    'Date': '0040A121',\n    'Time': '0040A122',\n    'PersonName': '0040A123',\n    'UID': '0040A124',\n    'ReportStatusIDTrial': '0040A125',\n    'TemporalRangeType': '0040A130',\n    'ReferencedSamplePositions': '0040A132',\n    'ReferencedFrameNumbers': '0040A136',\n    'ReferencedTimeOffsets': '0040A138',\n    'ReferencedDateTime': '0040A13A',\n    'TextValue': '0040A160',\n    'FloatingPointValue': '0040A161',\n    'RationalNumeratorValue': '0040A162',\n    'RationalDenominatorValue': '0040A163',\n    'ObservationCategoryCodeSequenceTrial': '0040A167',\n    'ConceptCodeSequence': '0040A168',\n    'BibliographicCitationTrial': '0040A16A',\n    'PurposeOfReferenceCodeSequence': '0040A170',\n    'ObservationUID': '0040A171',\n    'ReferencedObservationUIDTrial': '0040A172',\n    'ReferencedObservationClassTrial': '0040A173',\n    'ReferencedObjectObservationClassTrial': '0040A174',\n    'AnnotationGroupNumber': '0040A180',\n    'ObservationDateTrial': '0040A192',\n    'ObservationTimeTrial': '0040A193',\n    'MeasurementAutomationTrial': '0040A194',\n    'ModifierCodeSequence': '0040A195',\n    'IdentificationDescriptionTrial': '0040A224',\n    'CoordinatesSetGeometricTypeTrial': '0040A290',\n    'AlgorithmCodeSequenceTrial': '0040A296',\n    'AlgorithmDescriptionTrial': '0040A297',\n    'PixelCoordinatesSetTrial': '0040A29A',\n    'MeasuredValueSequence': '0040A300',\n    'NumericValueQualifierCodeSequence': '0040A301',\n    'CurrentObserverTrial': '0040A307',\n    'NumericValue': '0040A30A',\n    'ReferencedAccessionSequenceTrial': '0040A313',\n    'ReportStatusCommentTrial': '0040A33A',\n    'ProcedureContextSequenceTrial': '0040A340',\n    'VerbalSourceTrial': '0040A352',\n    'AddressTrial': '0040A353',\n    'TelephoneNumberTrial': '0040A354',\n    'VerbalSourceIdentifierCodeSequenceTrial': '0040A358',\n    'PredecessorDocumentsSequence': '0040A360',\n    'ReferencedRequestSequence': '0040A370',\n    'PerformedProcedureCodeSequence': '0040A372',\n    'CurrentRequestedProcedureEvidenceSequence': '0040A375',\n    'ReportDetailSequenceTrial': '0040A380',\n    'PertinentOtherEvidenceSequence': '0040A385',\n    '0040A390': ('HL7StructuredDocumentReferenceSequence'),\n    'ObservationSubjectUIDTrial': '0040A402',\n    'ObservationSubjectClassTrial': '0040A403',\n    'ObservationSubjectTypeCodeSequenceTrial': '0040A404',\n    'CompletionFlag': '0040A491',\n    'CompletionFlagDescription': '0040A492',\n    'VerificationFlag': '0040A493',\n    'ArchiveRequested': '0040A494',\n    'PreliminaryFlag': '0040A496',\n    'ContentTemplateSequence': '0040A504',\n    'IdenticalDocumentsSequence': '0040A525',\n    'ObservationSubjectContextFlagTrial': '0040A600',\n    'ObserverContextFlagTrial': '0040A601',\n    'ProcedureContextFlagTrial': '0040A603',\n    'ContentSequence': '0040A730',\n    'RelationshipSequenceTrial': '0040A731',\n    'RelationshipTypeCodeSequenceTrial': '0040A732',\n    'LanguageCodeSequenceTrial': '0040A744',\n    'UniformResourceLocatorTrial': '0040A992',\n    'WaveformAnnotationSequence': '0040B020',\n    'TemplateIdentifier': '0040DB00',\n    'TemplateVersion': '0040DB06',\n    'TemplateLocalVersion': '0040DB07',\n    'TemplateExtensionFlag': '0040DB0B',\n    'TemplateExtensionOrganizationUID': '0040DB0C',\n    'TemplateExtensionCreatorUID': '0040DB0D',\n    'ReferencedContentItemIdentifier': '0040DB73',\n    '0040E001': ('HL7InstanceIdentifier'),\n    '0040E004': ('HL7DocumentEffectiveTime'),\n    '0040E006': ('HL7DocumentTypeCodeSequence'),\n    'DocumentClassCodeSequence': '0040E008',\n    'RetrieveURI': '0040E010',\n    'RetrieveLocationUID': '0040E011',\n    'TypeOfInstances': '0040E020',\n    'DICOMRetrievalSequence': '0040E021',\n    'DICOMMediaRetrievalSequence': '0040E022',\n    'WADORetrievalSequence': '0040E023',\n    'XDSRetrievalSequence': '0040E024',\n    'WADORSRetrievalSequence': '0040E025',\n    'RepositoryUniqueID': '0040E030',\n    'HomeCommunityID': '0040E031',\n    'DocumentTitle': '00420010',\n    'EncapsulatedDocument': '00420011',\n    'MIMETypeOfEncapsulatedDocument': '00420012',\n    'SourceInstanceSequence': '00420013',\n    'ListOfMIMETypes': '00420014',\n    'ProductPackageIdentifier': '00440001',\n    'SubstanceAdministrationApproval': '00440002',\n    'ApprovalStatusFurtherDescription': '00440003',\n    'ApprovalStatusDateTime': '00440004',\n    'ProductTypeCodeSequence': '00440007',\n    'ProductName': '00440008',\n    'ProductDescription': '00440009',\n    'ProductLotIdentifier': '0044000A',\n    'ProductExpirationDateTime': '0044000B',\n    'SubstanceAdministrationDateTime': '00440010',\n    'SubstanceAdministrationNotes': '00440011',\n    'SubstanceAdministrationDeviceID': '00440012',\n    'ProductParameterSequence': '00440013',\n    'SubstanceAdministrationParameterSequence': '00440019',\n    'ApprovalSequence': '00440100',\n    'AssertionCodeSequence': '00440101',\n    'AssertionUID': '00440102',\n    'AsserterIdentificationSequence': '00440103',\n    'AssertionDateTime': '00440104',\n    'AssertionExpirationDateTime': '00440105',\n    'AssertionComments': '00440106',\n    'RelatedAssertionSequence': '00440107',\n    'ReferencedAssertionUID': '00440108',\n    'ApprovalSubjectSequence': '00440109',\n    'OrganizationalRoleCodeSequence': '0044010A',\n    'LensDescription': '00460012',\n    'RightLensSequence': '00460014',\n    'LeftLensSequence': '00460015',\n    'UnspecifiedLateralityLensSequence': '00460016',\n    'CylinderSequence': '00460018',\n    'PrismSequence': '00460028',\n    'HorizontalPrismPower': '00460030',\n    'HorizontalPrismBase': '00460032',\n    'VerticalPrismPower': '00460034',\n    'VerticalPrismBase': '00460036',\n    'LensSegmentType': '00460038',\n    'OpticalTransmittance': '00460040',\n    'ChannelWidth': '00460042',\n    'PupilSize': '00460044',\n    'CornealSize': '00460046',\n    'AutorefractionRightEyeSequence': '00460050',\n    'AutorefractionLeftEyeSequence': '00460052',\n    'DistancePupillaryDistance': '00460060',\n    'NearPupillaryDistance': '00460062',\n    'IntermediatePupillaryDistance': '00460063',\n    'OtherPupillaryDistance': '00460064',\n    'KeratometryRightEyeSequence': '00460070',\n    'KeratometryLeftEyeSequence': '00460071',\n    'SteepKeratometricAxisSequence': '00460074',\n    'RadiusOfCurvature': '00460075',\n    'KeratometricPower': '00460076',\n    'KeratometricAxis': '00460077',\n    'FlatKeratometricAxisSequence': '00460080',\n    'BackgroundColor': '00460092',\n    'Optotype': '00460094',\n    'OptotypePresentation': '00460095',\n    'SubjectiveRefractionRightEyeSequence': '00460097',\n    'SubjectiveRefractionLeftEyeSequence': '00460098',\n    'AddNearSequence': '00460100',\n    'AddIntermediateSequence': '00460101',\n    'AddOtherSequence': '00460102',\n    'AddPower': '00460104',\n    'ViewingDistance': '00460106',\n    'VisualAcuityTypeCodeSequence': '00460121',\n    'VisualAcuityRightEyeSequence': '00460122',\n    'VisualAcuityLeftEyeSequence': '00460123',\n    'VisualAcuityBothEyesOpenSequence': '00460124',\n    'ViewingDistanceType': '00460125',\n    'VisualAcuityModifiers': '00460135',\n    'DecimalVisualAcuity': '00460137',\n    'OptotypeDetailedDefinition': '00460139',\n    'ReferencedRefractiveMeasurementsSequence': '00460145',\n    'SpherePower': '00460146',\n    'CylinderPower': '00460147',\n    'CornealTopographySurface': '00460201',\n    'CornealVertexLocation': '00460202',\n    'PupilCentroidXCoordinate': '00460203',\n    'PupilCentroidYCoordinate': '00460204',\n    'EquivalentPupilRadius': '00460205',\n    'CornealTopographyMapTypeCodeSequence': '00460207',\n    'VerticesOfTheOutlineOfPupil': '00460208',\n    'CornealTopographyMappingNormalsSequence': '00460210',\n    'MaximumCornealCurvatureSequence': '00460211',\n    'MaximumCornealCurvature': '00460212',\n    'MaximumCornealCurvatureLocation': '00460213',\n    'MinimumKeratometricSequence': '00460215',\n    'SimulatedKeratometricCylinderSequence': '00460218',\n    'AverageCornealPower': '00460220',\n    'CornealISValue': '00460224',\n    'AnalyzedArea': '00460227',\n    'SurfaceRegularityIndex': '00460230',\n    'SurfaceAsymmetryIndex': '00460232',\n    'CornealEccentricityIndex': '00460234',\n    'KeratoconusPredictionIndex': '00460236',\n    'DecimalPotentialVisualAcuity': '00460238',\n    'CornealTopographyMapQualityEvaluation': '00460242',\n    'SourceImageCornealProcessedDataSequence': '00460244',\n    'CornealPointLocation': '00460247',\n    'CornealPointEstimated': '00460248',\n    'AxialPower': '00460249',\n    'TangentialPower': '00460250',\n    'RefractivePower': '00460251',\n    'RelativeElevation': '00460252',\n    'CornealWavefront': '00460253',\n    'ImagedVolumeWidth': '00480001',\n    'ImagedVolumeHeight': '00480002',\n    'ImagedVolumeDepth': '00480003',\n    'TotalPixelMatrixColumns': '00480006',\n    'TotalPixelMatrixRows': '00480007',\n    'TotalPixelMatrixOriginSequence': '00480008',\n    'SpecimenLabelInImage': '00480010',\n    'FocusMethod': '00480011',\n    'ExtendedDepthOfField': '00480012',\n    'NumberOfFocalPlanes': '00480013',\n    'DistanceBetweenFocalPlanes': '00480014',\n    'RecommendedAbsentPixelCIELabValue': '00480015',\n    'IlluminatorTypeCodeSequence': '00480100',\n    'ImageOrientationSlide': '00480102',\n    'OpticalPathSequence': '00480105',\n    'OpticalPathIdentifier': '00480106',\n    'OpticalPathDescription': '00480107',\n    'IlluminationColorCodeSequence': '00480108',\n    'SpecimenReferenceSequence': '00480110',\n    'CondenserLensPower': '00480111',\n    'ObjectiveLensPower': '00480112',\n    'ObjectiveLensNumericalAperture': '00480113',\n    'PaletteColorLookupTableSequence': '00480120',\n    'ReferencedImageNavigationSequence': '00480200',\n    'TopLeftHandCornerOfLocalizerArea': '00480201',\n    'BottomRightHandCornerOfLocalizerArea': '00480202',\n    'OpticalPathIdentificationSequence': '00480207',\n    'PlanePositionSlideSequence': '0048021A',\n    'ColumnPositionInTotalImagePixelMatrix': '0048021E',\n    'RowPositionInTotalImagePixelMatrix': '0048021F',\n    'PixelOriginInterpretation': '00480301',\n    'NumberOfOpticalPaths': '00480302',\n    'TotalPixelMatrixFocalPlanes': '00480303',\n    'CalibrationImage': '00500004',\n    'DeviceSequence': '00500010',\n    'ContainerComponentTypeCodeSequence': '00500012',\n    'ContainerComponentThickness': '00500013',\n    'DeviceLength': '00500014',\n    'ContainerComponentWidth': '00500015',\n    'DeviceDiameter': '00500016',\n    'DeviceDiameterUnits': '00500017',\n    'DeviceVolume': '00500018',\n    'InterMarkerDistance': '00500019',\n    'ContainerComponentMaterial': '0050001A',\n    'ContainerComponentID': '0050001B',\n    'ContainerComponentLength': '0050001C',\n    'ContainerComponentDiameter': '0050001D',\n    'ContainerComponentDescription': '0050001E',\n    'DeviceDescription': '00500020',\n    'ContrastBolusIngredientPercentByVolume': '00520001',\n    'OCTFocalDistance': '00520002',\n    'BeamSpotSize': '00520003',\n    'EffectiveRefractiveIndex': '00520004',\n    'OCTAcquisitionDomain': '00520006',\n    'OCTOpticalCenterWavelength': '00520007',\n    'AxialResolution': '00520008',\n    'RangingDepth': '00520009',\n    'ALineRate': '00520011',\n    'ALinesPerFrame': '00520012',\n    'CatheterRotationalRate': '00520013',\n    'ALinePixelSpacing': '00520014',\n    'ModeOfPercutaneousAccessSequence': '00520016',\n    'IntravascularOCTFrameTypeSequence': '00520025',\n    'OCTZOffsetApplied': '00520026',\n    'IntravascularFrameContentSequence': '00520027',\n    'IntravascularLongitudinalDistance': '00520028',\n    'IntravascularOCTFrameContentSequence': '00520029',\n    'OCTZOffsetCorrection': '00520030',\n    'CatheterDirectionOfRotation': '00520031',\n    'SeamLineLocation': '00520033',\n    'FirstALineLocation': '00520034',\n    'SeamLineIndex': '00520036',\n    'NumberOfPaddedALines': '00520038',\n    'InterpolationType': '00520039',\n    'RefractiveIndexApplied': '0052003A',\n    'EnergyWindowVector': '00540010',\n    'NumberOfEnergyWindows': '00540011',\n    'EnergyWindowInformationSequence': '00540012',\n    'EnergyWindowRangeSequence': '00540013',\n    'EnergyWindowLowerLimit': '00540014',\n    'EnergyWindowUpperLimit': '00540015',\n    'RadiopharmaceuticalInformationSequence': '00540016',\n    'ResidualSyringeCounts': '00540017',\n    'EnergyWindowName': '00540018',\n    'DetectorVector': '00540020',\n    'NumberOfDetectors': '00540021',\n    'DetectorInformationSequence': '00540022',\n    'PhaseVector': '00540030',\n    'NumberOfPhases': '00540031',\n    'PhaseInformationSequence': '00540032',\n    'NumberOfFramesInPhase': '00540033',\n    'PhaseDelay': '00540036',\n    'PauseBetweenFrames': '00540038',\n    'PhaseDescription': '00540039',\n    'RotationVector': '00540050',\n    'NumberOfRotations': '00540051',\n    'RotationInformationSequence': '00540052',\n    'NumberOfFramesInRotation': '00540053',\n    'RRIntervalVector': '00540060',\n    'NumberOfRRIntervals': '00540061',\n    'GatedInformationSequence': '00540062',\n    'DataInformationSequence': '00540063',\n    'TimeSlotVector': '00540070',\n    'NumberOfTimeSlots': '00540071',\n    'TimeSlotInformationSequence': '00540072',\n    'TimeSlotTime': '00540073',\n    'SliceVector': '00540080',\n    'NumberOfSlices': '00540081',\n    'AngularViewVector': '00540090',\n    'TimeSliceVector': '00540100',\n    'NumberOfTimeSlices': '00540101',\n    'StartAngle': '00540200',\n    'TypeOfDetectorMotion': '00540202',\n    'TriggerVector': '00540210',\n    'NumberOfTriggersInPhase': '00540211',\n    'ViewCodeSequence': '00540220',\n    'ViewModifierCodeSequence': '00540222',\n    'RadionuclideCodeSequence': '00540300',\n    'AdministrationRouteCodeSequence': '00540302',\n    'RadiopharmaceuticalCodeSequence': '00540304',\n    'CalibrationDataSequence': '00540306',\n    'EnergyWindowNumber': '00540308',\n    'ImageID': '00540400',\n    'PatientOrientationCodeSequence': '00540410',\n    'PatientOrientationModifierCodeSequence': '00540412',\n    'PatientGantryRelationshipCodeSequence': '00540414',\n    'SliceProgressionDirection': '00540500',\n    'ScanProgressionDirection': '00540501',\n    'SeriesType': '00541000',\n    'Units': '00541001',\n    'CountsSource': '00541002',\n    'ReprojectionMethod': '00541004',\n    'SUVType': '00541006',\n    'RandomsCorrectionMethod': '00541100',\n    'AttenuationCorrectionMethod': '00541101',\n    'DecayCorrection': '00541102',\n    'ReconstructionMethod': '00541103',\n    'DetectorLinesOfResponseUsed': '00541104',\n    'ScatterCorrectionMethod': '00541105',\n    'AxialAcceptance': '00541200',\n    'AxialMash': '00541201',\n    'TransverseMash': '00541202',\n    'DetectorElementSize': '00541203',\n    'CoincidenceWindowWidth': '00541210',\n    'SecondaryCountsType': '00541220',\n    'FrameReferenceTime': '00541300',\n    'PrimaryPromptsCountsAccumulated': '00541310',\n    'SecondaryCountsAccumulated': '00541311',\n    'SliceSensitivityFactor': '00541320',\n    'DecayFactor': '00541321',\n    'DoseCalibrationFactor': '00541322',\n    'ScatterFractionFactor': '00541323',\n    'DeadTimeFactor': '00541324',\n    'ImageIndex': '00541330',\n    'CountsIncluded': '00541400',\n    'DeadTimeCorrectionFlag': '00541401',\n    'HistogramSequence': '00603000',\n    'HistogramNumberOfBins': '00603002',\n    'HistogramFirstBinValue': '00603004',\n    'HistogramLastBinValue': '00603006',\n    'HistogramBinWidth': '00603008',\n    'HistogramExplanation': '00603010',\n    'HistogramData': '00603020',\n    'SegmentationType': '00620001',\n    'SegmentSequence': '00620002',\n    'SegmentedPropertyCategoryCodeSequence': '00620003',\n    'SegmentNumber': '00620004',\n    'SegmentLabel': '00620005',\n    'SegmentDescription': '00620006',\n    'SegmentationAlgorithmIdentificationSequence': '00620007',\n    'SegmentAlgorithmType': '00620008',\n    'SegmentAlgorithmName': '00620009',\n    'SegmentIdentificationSequence': '0062000A',\n    'ReferencedSegmentNumber': '0062000B',\n    'RecommendedDisplayGrayscaleValue': '0062000C',\n    'RecommendedDisplayCIELabValue': '0062000D',\n    'MaximumFractionalValue': '0062000E',\n    'SegmentedPropertyTypeCodeSequence': '0062000F',\n    'SegmentationFractionalType': '00620010',\n    'SegmentedPropertyTypeModifierCodeSequence': '00620011',\n    'UsedSegmentsSequence': '00620012',\n    'TrackingID': '00620020',\n    'TrackingUID': '00620021',\n    'DeformableRegistrationSequence': '00640002',\n    'SourceFrameOfReferenceUID': '00640003',\n    'DeformableRegistrationGridSequence': '00640005',\n    'GridDimensions': '00640007',\n    'GridResolution': '00640008',\n    'VectorGridData': '00640009',\n    'PreDeformationMatrixRegistrationSequence': '0064000F',\n    'PostDeformationMatrixRegistrationSequence': '00640010',\n    'NumberOfSurfaces': '00660001',\n    'SurfaceSequence': '00660002',\n    'SurfaceNumber': '00660003',\n    'SurfaceComments': '00660004',\n    'SurfaceProcessing': '00660009',\n    'SurfaceProcessingRatio': '0066000A',\n    'SurfaceProcessingDescription': '0066000B',\n    'RecommendedPresentationOpacity': '0066000C',\n    'RecommendedPresentationType': '0066000D',\n    'FiniteVolume': '0066000E',\n    'Manifold': '00660010',\n    'SurfacePointsSequence': '00660011',\n    'SurfacePointsNormalsSequence': '00660012',\n    'SurfaceMeshPrimitivesSequence': '00660013',\n    'NumberOfSurfacePoints': '00660015',\n    'PointCoordinatesData': '00660016',\n    'PointPositionAccuracy': '00660017',\n    'MeanPointDistance': '00660018',\n    'MaximumPointDistance': '00660019',\n    'PointsBoundingBoxCoordinates': '0066001A',\n    'AxisOfRotation': '0066001B',\n    'CenterOfRotation': '0066001C',\n    'NumberOfVectors': '0066001E',\n    'VectorDimensionality': '0066001F',\n    'VectorAccuracy': '00660020',\n    'VectorCoordinateData': '00660021',\n    'TrianglePointIndexList': '00660023',\n    'EdgePointIndexList': '00660024',\n    'VertexPointIndexList': '00660025',\n    'TriangleStripSequence': '00660026',\n    'TriangleFanSequence': '00660027',\n    'LineSequence': '00660028',\n    'PrimitivePointIndexList': '00660029',\n    'SurfaceCount': '0066002A',\n    'ReferencedSurfaceSequence': '0066002B',\n    'ReferencedSurfaceNumber': '0066002C',\n    'SegmentSurfaceGenerationAlgorithmIdentificationSequence': '0066002D',\n    'SegmentSurfaceSourceInstanceSequence': '0066002E',\n    'AlgorithmFamilyCodeSequence': '0066002F',\n    'AlgorithmNameCodeSequence': '00660030',\n    'AlgorithmVersion': '00660031',\n    'AlgorithmParameters': '00660032',\n    'FacetSequence': '00660034',\n    'SurfaceProcessingAlgorithmIdentificationSequence': '00660035',\n    'AlgorithmName': '00660036',\n    'RecommendedPointRadius': '00660037',\n    'RecommendedLineThickness': '00660038',\n    'LongPrimitivePointIndexList': '00660040',\n    'LongTrianglePointIndexList': '00660041',\n    'LongEdgePointIndexList': '00660042',\n    'LongVertexPointIndexList': '00660043',\n    'TrackSetSequence': '00660101',\n    'TrackSequence': '00660102',\n    'RecommendedDisplayCIELabValueList': '00660103',\n    'TrackingAlgorithmIdentificationSequence': '00660104',\n    'TrackSetNumber': '00660105',\n    'TrackSetLabel': '00660106',\n    'TrackSetDescription': '00660107',\n    'TrackSetAnatomicalTypeCodeSequence': '00660108',\n    'MeasurementsSequence': '00660121',\n    'TrackSetStatisticsSequence': '00660124',\n    'FloatingPointValues': '00660125',\n    'TrackPointIndexList': '00660129',\n    'TrackStatisticsSequence': '00660130',\n    'MeasurementValuesSequence': '00660132',\n    'DiffusionAcquisitionCodeSequence': '00660133',\n    'DiffusionModelCodeSequence': '00660134',\n    'ImplantSize': '00686210',\n    'ImplantTemplateVersion': '00686221',\n    'ReplacedImplantTemplateSequence': '00686222',\n    'ImplantType': '00686223',\n    'DerivationImplantTemplateSequence': '00686224',\n    'OriginalImplantTemplateSequence': '00686225',\n    'EffectiveDateTime': '00686226',\n    'ImplantTargetAnatomySequence': '00686230',\n    'InformationFromManufacturerSequence': '00686260',\n    'NotificationFromManufacturerSequence': '00686265',\n    'InformationIssueDateTime': '00686270',\n    'InformationSummary': '00686280',\n    'ImplantRegulatoryDisapprovalCodeSequence': '006862A0',\n    'OverallTemplateSpatialTolerance': '006862A5',\n    'HPGLDocumentSequence': '006862C0',\n    'HPGLDocumentID': '006862D0',\n    'HPGLDocumentLabel': '006862D5',\n    'ViewOrientationCodeSequence': '006862E0',\n    'ViewOrientationModifierCodeSequence': '006862F0',\n    'HPGLDocumentScaling': '006862F2',\n    'HPGLDocument': '00686300',\n    'HPGLContourPenNumber': '00686310',\n    'HPGLPenSequence': '00686320',\n    'HPGLPenNumber': '00686330',\n    'HPGLPenLabel': '00686340',\n    'HPGLPenDescription': '00686345',\n    'RecommendedRotationPoint': '00686346',\n    'BoundingRectangle': '00686347',\n    '00686350': ('ImplantTemplate3DModelSurfaceNumber'),\n    'SurfaceModelDescriptionSequence': '00686360',\n    'SurfaceModelLabel': '00686380',\n    'SurfaceModelScalingFactor': '00686390',\n    'MaterialsCodeSequence': '006863A0',\n    'CoatingMaterialsCodeSequence': '006863A4',\n    'ImplantTypeCodeSequence': '006863A8',\n    'FixationMethodCodeSequence': '006863AC',\n    'MatingFeatureSetsSequence': '006863B0',\n    'MatingFeatureSetID': '006863C0',\n    'MatingFeatureSetLabel': '006863D0',\n    'MatingFeatureSequence': '006863E0',\n    'MatingFeatureID': '006863F0',\n    'MatingFeatureDegreeOfFreedomSequence': '00686400',\n    'DegreeOfFreedomID': '00686410',\n    'DegreeOfFreedomType': '00686420',\n    'TwoDMatingFeatureCoordinatesSequence': '00686430',\n    'ReferencedHPGLDocumentID': '00686440',\n    'TwoDMatingPoint': '00686450',\n    'TwoDMatingAxes': '00686460',\n    'TwoDDegreeOfFreedomSequence': '00686470',\n    'ThreeDDegreeOfFreedomAxis': '00686490',\n    'RangeOfFreedom': '006864A0',\n    'ThreeDMatingPoint': '006864C0',\n    'ThreeDMatingAxes': '006864D0',\n    'TwoDDegreeOfFreedomAxis': '006864F0',\n    'PlanningLandmarkPointSequence': '00686500',\n    'PlanningLandmarkLineSequence': '00686510',\n    'PlanningLandmarkPlaneSequence': '00686520',\n    'PlanningLandmarkID': '00686530',\n    'PlanningLandmarkDescription': '00686540',\n    'PlanningLandmarkIdentificationCodeSequence': '00686545',\n    'TwoDPointCoordinatesSequence': '00686550',\n    'TwoDPointCoordinates': '00686560',\n    'ThreeDPointCoordinates': '00686590',\n    'TwoDLineCoordinatesSequence': '006865A0',\n    'TwoDLineCoordinates': '006865B0',\n    'ThreeDLineCoordinates': '006865D0',\n    'TwoDPlaneCoordinatesSequence': '006865E0',\n    'TwoDPlaneIntersection': '006865F0',\n    'ThreeDPlaneOrigin': '00686610',\n    'ThreeDPlaneNormal': '00686620',\n    'ModelModification': '00687001',\n    'ModelMirroring': '00687002',\n    'ModelUsageCodeSequence': '00687003',\n    'GraphicAnnotationSequence': '00700001',\n    'GraphicLayer': '00700002',\n    'BoundingBoxAnnotationUnits': '00700003',\n    'AnchorPointAnnotationUnits': '00700004',\n    'GraphicAnnotationUnits': '00700005',\n    'UnformattedTextValue': '00700006',\n    'TextObjectSequence': '00700008',\n    'GraphicObjectSequence': '00700009',\n    'BoundingBoxTopLeftHandCorner': '00700010',\n    'BoundingBoxBottomRightHandCorner': '00700011',\n    'BoundingBoxTextHorizontalJustification': '00700012',\n    'AnchorPoint': '00700014',\n    'AnchorPointVisibility': '00700015',\n    'GraphicDimensions': '00700020',\n    'NumberOfGraphicPoints': '00700021',\n    'GraphicData': '00700022',\n    'GraphicType': '00700023',\n    'GraphicFilled': '00700024',\n    'ImageRotationRetired': '00700040',\n    'ImageHorizontalFlip': '00700041',\n    'ImageRotation': '00700042',\n    'DisplayedAreaTopLeftHandCornerTrial': '00700050',\n    'DisplayedAreaBottomRightHandCornerTrial': '00700051',\n    'DisplayedAreaTopLeftHandCorner': '00700052',\n    'DisplayedAreaBottomRightHandCorner': '00700053',\n    'DisplayedAreaSelectionSequence': '0070005A',\n    'GraphicLayerSequence': '00700060',\n    'GraphicLayerOrder': '00700062',\n    'GraphicLayerRecommendedDisplayGrayscaleValue': '00700066',\n    'GraphicLayerRecommendedDisplayRGBValue': '00700067',\n    'GraphicLayerDescription': '00700068',\n    'ContentLabel': '00700080',\n    'ContentDescription': '00700081',\n    'PresentationCreationDate': '00700082',\n    'PresentationCreationTime': '00700083',\n    'ContentCreatorName': '00700084',\n    'ContentCreatorIdentificationCodeSequence': '00700086',\n    'AlternateContentDescriptionSequence': '00700087',\n    'PresentationSizeMode': '00700100',\n    'PresentationPixelSpacing': '00700101',\n    'PresentationPixelAspectRatio': '00700102',\n    'PresentationPixelMagnificationRatio': '00700103',\n    'GraphicGroupLabel': '00700207',\n    'GraphicGroupDescription': '00700208',\n    'CompoundGraphicSequence': '00700209',\n    'CompoundGraphicInstanceID': '00700226',\n    'FontName': '00700227',\n    'FontNameType': '00700228',\n    'CSSFontName': '00700229',\n    'RotationAngle': '00700230',\n    'TextStyleSequence': '00700231',\n    'LineStyleSequence': '00700232',\n    'FillStyleSequence': '00700233',\n    'GraphicGroupSequence': '00700234',\n    'TextColorCIELabValue': '00700241',\n    'HorizontalAlignment': '00700242',\n    'VerticalAlignment': '00700243',\n    'ShadowStyle': '00700244',\n    'ShadowOffsetX': '00700245',\n    'ShadowOffsetY': '00700246',\n    'ShadowColorCIELabValue': '00700247',\n    'Underlined': '00700248',\n    'Bold': '00700249',\n    'Italic': '00700250',\n    'PatternOnColorCIELabValue': '00700251',\n    'PatternOffColorCIELabValue': '00700252',\n    'LineThickness': '00700253',\n    'LineDashingStyle': '00700254',\n    'LinePattern': '00700255',\n    'FillPattern': '00700256',\n    'FillMode': '00700257',\n    'ShadowOpacity': '00700258',\n    'GapLength': '00700261',\n    'DiameterOfVisibility': '00700262',\n    'RotationPoint': '00700273',\n    'TickAlignment': '00700274',\n    'ShowTickLabel': '00700278',\n    'TickLabelAlignment': '00700279',\n    'CompoundGraphicUnits': '00700282',\n    'PatternOnOpacity': '00700284',\n    'PatternOffOpacity': '00700285',\n    'MajorTicksSequence': '00700287',\n    'TickPosition': '00700288',\n    'TickLabel': '00700289',\n    'CompoundGraphicType': '00700294',\n    'GraphicGroupID': '00700295',\n    'ShapeType': '00700306',\n    'RegistrationSequence': '00700308',\n    'MatrixRegistrationSequence': '00700309',\n    'MatrixSequence': '0070030A',\n    'FrameOfReferenceToDisplayedCoordinateSystemTransformationMatrix': '0070030B',\n    'FrameOfReferenceTransformationMatrixType': '0070030C',\n    'RegistrationTypeCodeSequence': '0070030D',\n    'FiducialDescription': '0070030F',\n    'FiducialIdentifier': '00700310',\n    'FiducialIdentifierCodeSequence': '00700311',\n    'ContourUncertaintyRadius': '00700312',\n    'UsedFiducialsSequence': '00700314',\n    'GraphicCoordinatesDataSequence': '00700318',\n    'FiducialUID': '0070031A',\n    'ReferencedFiducialUID': '0070031B',\n    'FiducialSetSequence': '0070031C',\n    'FiducialSequence': '0070031E',\n    'FiducialsPropertyCategoryCodeSequence': '0070031F',\n    'GraphicLayerRecommendedDisplayCIELabValue': '00700401',\n    'BlendingSequence': '00700402',\n    'RelativeOpacity': '00700403',\n    'ReferencedSpatialRegistrationSequence': '00700404',\n    'BlendingPosition': '00700405',\n    'PresentationDisplayCollectionUID': '00701101',\n    'PresentationSequenceCollectionUID': '00701102',\n    'PresentationSequencePositionIndex': '00701103',\n    'RenderedImageReferenceSequence': '00701104',\n    'VolumetricPresentationStateInputSequence': '00701201',\n    'PresentationInputType': '00701202',\n    'InputSequencePositionIndex': '00701203',\n    'Crop': '00701204',\n    'CroppingSpecificationIndex': '00701205',\n    'CompositingMethod': '00701206',\n    'VolumetricPresentationInputNumber': '00701207',\n    'ImageVolumeGeometry': '00701208',\n    'VolumetricPresentationInputSetUID': '00701209',\n    'VolumetricPresentationInputSetSequence': '0070120A',\n    'GlobalCrop': '0070120B',\n    'GlobalCroppingSpecificationIndex': '0070120C',\n    'RenderingMethod': '0070120D',\n    'VolumeCroppingSequence': '00701301',\n    'VolumeCroppingMethod': '00701302',\n    'BoundingBoxCrop': '00701303',\n    'ObliqueCroppingPlaneSequence': '00701304',\n    'Plane': '00701305',\n    'PlaneNormal': '00701306',\n    'CroppingSpecificationNumber': '00701309',\n    'MultiPlanarReconstructionStyle': '00701501',\n    'MPRThicknessType': '00701502',\n    'MPRSlabThickness': '00701503',\n    'MPRTopLeftHandCorner': '00701505',\n    'MPRViewWidthDirection': '00701507',\n    'MPRViewWidth': '00701508',\n    'NumberOfVolumetricCurvePoints': '0070150C',\n    'VolumetricCurvePoints': '0070150D',\n    'MPRViewHeightDirection': '00701511',\n    'MPRViewHeight': '00701512',\n    'RenderProjection': '00701602',\n    'ViewpointPosition': '00701603',\n    'ViewpointLookAtPoint': '00701604',\n    'ViewpointUpDirection': '00701605',\n    'RenderFieldOfView': '00701606',\n    'SamplingStepSize': '00701607',\n    'ShadingStyle': '00701701',\n    'AmbientReflectionIntensity': '00701702',\n    'LightDirection': '00701703',\n    'DiffuseReflectionIntensity': '00701704',\n    'SpecularReflectionIntensity': '00701705',\n    'Shininess': '00701706',\n    'PresentationStateClassificationComponentSequence': '00701801',\n    'ComponentType': '00701802',\n    'ComponentInputSequence': '00701803',\n    'VolumetricPresentationInputIndex': '00701804',\n    'PresentationStateCompositorComponentSequence': '00701805',\n    'WeightingTransferFunctionSequence': '00701806',\n    'WeightingLookupTableDescriptor': '00701807',\n    'WeightingLookupTableData': '00701808',\n    'VolumetricAnnotationSequence': '00701901',\n    'ReferencedStructuredContextSequence': '00701903',\n    'ReferencedContentItem': '00701904',\n    'VolumetricPresentationInputAnnotationSequence': '00701905',\n    'AnnotationClipping': '00701907',\n    'PresentationAnimationStyle': '00701A01',\n    'RecommendedAnimationRate': '00701A03',\n    'AnimationCurveSequence': '00701A04',\n    'AnimationStepSize': '00701A05',\n    'SwivelRange': '00701A06',\n    'VolumetricCurveUpDirections': '00701A07',\n    'VolumeStreamSequence': '00701A08',\n    'RGBATransferFunctionDescription': '00701A09',\n    'AdvancedBlendingSequence': '00701B01',\n    'BlendingInputNumber': '00701B02',\n    'BlendingDisplayInputSequence': '00701B03',\n    'BlendingDisplaySequence': '00701B04',\n    'BlendingMode': '00701B06',\n    'TimeSeriesBlending': '00701B07',\n    'GeometryForDisplay': '00701B08',\n    'ThresholdSequence': '00701B11',\n    'ThresholdValueSequence': '00701B12',\n    'ThresholdType': '00701B13',\n    'ThresholdValue': '00701B14',\n    'HangingProtocolName': '00720002',\n    'HangingProtocolDescription': '00720004',\n    'HangingProtocolLevel': '00720006',\n    'HangingProtocolCreator': '00720008',\n    'HangingProtocolCreationDateTime': '0072000A',\n    'HangingProtocolDefinitionSequence': '0072000C',\n    'HangingProtocolUserIdentificationCodeSequence': '0072000E',\n    'HangingProtocolUserGroupName': '00720010',\n    'SourceHangingProtocolSequence': '00720012',\n    'NumberOfPriorsReferenced': '00720014',\n    'ImageSetsSequence': '00720020',\n    'ImageSetSelectorSequence': '00720022',\n    'ImageSetSelectorUsageFlag': '00720024',\n    'SelectorAttribute': '00720026',\n    'SelectorValueNumber': '00720028',\n    'TimeBasedImageSetsSequence': '00720030',\n    'ImageSetNumber': '00720032',\n    'ImageSetSelectorCategory': '00720034',\n    'RelativeTime': '00720038',\n    'RelativeTimeUnits': '0072003A',\n    'AbstractPriorValue': '0072003C',\n    'AbstractPriorCodeSequence': '0072003E',\n    'ImageSetLabel': '00720040',\n    'SelectorAttributeVR': '00720050',\n    'SelectorSequencePointer': '00720052',\n    'SelectorSequencePointerPrivateCreator': '00720054',\n    'SelectorAttributePrivateCreator': '00720056',\n    'SelectorAEValue': '0072005E',\n    'SelectorASValue': '0072005F',\n    'SelectorATValue': '00720060',\n    'SelectorDAValue': '00720061',\n    'SelectorCSValue': '00720062',\n    'SelectorDTValue': '00720063',\n    'SelectorISValue': '00720064',\n    'SelectorOBValue': '00720065',\n    'SelectorLOValue': '00720066',\n    'SelectorOFValue': '00720067',\n    'SelectorLTValue': '00720068',\n    'SelectorOWValue': '00720069',\n    'SelectorPNValue': '0072006A',\n    'SelectorTMValue': '0072006B',\n    'SelectorSHValue': '0072006C',\n    'SelectorUNValue': '0072006D',\n    'SelectorSTValue': '0072006E',\n    'SelectorUCValue': '0072006F',\n    'SelectorUTValue': '00720070',\n    'SelectorURValue': '00720071',\n    'SelectorDSValue': '00720072',\n    'SelectorODValue': '00720073',\n    'SelectorFDValue': '00720074',\n    'SelectorOLValue': '00720075',\n    'SelectorFLValue': '00720076',\n    'SelectorULValue': '00720078',\n    'SelectorUSValue': '0072007A',\n    'SelectorSLValue': '0072007C',\n    'SelectorSSValue': '0072007E',\n    'SelectorUIValue': '0072007F',\n    'SelectorCodeSequenceValue': '00720080',\n    'NumberOfScreens': '00720100',\n    'NominalScreenDefinitionSequence': '00720102',\n    'NumberOfVerticalPixels': '00720104',\n    'NumberOfHorizontalPixels': '00720106',\n    'DisplayEnvironmentSpatialPosition': '00720108',\n    'ScreenMinimumGrayscaleBitDepth': '0072010A',\n    'ScreenMinimumColorBitDepth': '0072010C',\n    'ApplicationMaximumRepaintTime': '0072010E',\n    'DisplaySetsSequence': '00720200',\n    'DisplaySetNumber': '00720202',\n    'DisplaySetLabel': '00720203',\n    'DisplaySetPresentationGroup': '00720204',\n    'DisplaySetPresentationGroupDescription': '00720206',\n    'PartialDataDisplayHandling': '00720208',\n    'SynchronizedScrollingSequence': '00720210',\n    'DisplaySetScrollingGroup': '00720212',\n    'NavigationIndicatorSequence': '00720214',\n    'NavigationDisplaySet': '00720216',\n    'ReferenceDisplaySets': '00720218',\n    'ImageBoxesSequence': '00720300',\n    'ImageBoxNumber': '00720302',\n    'ImageBoxLayoutType': '00720304',\n    'ImageBoxTileHorizontalDimension': '00720306',\n    'ImageBoxTileVerticalDimension': '00720308',\n    'ImageBoxScrollDirection': '00720310',\n    'ImageBoxSmallScrollType': '00720312',\n    'ImageBoxSmallScrollAmount': '00720314',\n    'ImageBoxLargeScrollType': '00720316',\n    'ImageBoxLargeScrollAmount': '00720318',\n    'ImageBoxOverlapPriority': '00720320',\n    'CineRelativeToRealTime': '00720330',\n    'FilterOperationsSequence': '00720400',\n    'FilterByCategory': '00720402',\n    'FilterByAttributePresence': '00720404',\n    'FilterByOperator': '00720406',\n    'StructuredDisplayBackgroundCIELabValue': '00720420',\n    'EmptyImageBoxCIELabValue': '00720421',\n    'StructuredDisplayImageBoxSequence': '00720422',\n    'StructuredDisplayTextBoxSequence': '00720424',\n    'ReferencedFirstFrameSequence': '00720427',\n    'ImageBoxSynchronizationSequence': '00720430',\n    'SynchronizedImageBoxList': '00720432',\n    'TypeOfSynchronization': '00720434',\n    'BlendingOperationType': '00720500',\n    'ReformattingOperationType': '00720510',\n    'ReformattingThickness': '00720512',\n    'ReformattingInterval': '00720514',\n    'ReformattingOperationInitialViewDirection': '00720516',\n    'ThreeDRenderingType': '00720520',\n    'SortingOperationsSequence': '00720600',\n    'SortByCategory': '00720602',\n    'SortingDirection': '00720604',\n    'DisplaySetPatientOrientation': '00720700',\n    'VOIType': '00720702',\n    'PseudoColorType': '00720704',\n    'PseudoColorPaletteInstanceReferenceSequence': '00720705',\n    'ShowGrayscaleInverted': '00720706',\n    'ShowImageTrueSizeFlag': '00720710',\n    'ShowGraphicAnnotationFlag': '00720712',\n    'ShowPatientDemographicsFlag': '00720714',\n    'ShowAcquisitionTechniquesFlag': '00720716',\n    'DisplaySetHorizontalJustification': '00720717',\n    'DisplaySetVerticalJustification': '00720718',\n    'ContinuationStartMeterset': '00740120',\n    'ContinuationEndMeterset': '00740121',\n    'ProcedureStepState': '00741000',\n    'ProcedureStepProgressInformationSequence': '00741002',\n    'ProcedureStepProgress': '00741004',\n    'ProcedureStepProgressDescription': '00741006',\n    'ProcedureStepProgressParametersSequence': '00741007',\n    'ProcedureStepCommunicationsURISequence': '00741008',\n    'ContactURI': '0074100A',\n    'ContactDisplayName': '0074100C',\n    'ProcedureStepDiscontinuationReasonCodeSequence': '0074100E',\n    'BeamTaskSequence': '00741020',\n    'BeamTaskType': '00741022',\n    'BeamOrderIndexTrial': '00741024',\n    'AutosequenceFlag': '00741025',\n    'TableTopVerticalAdjustedPosition': '00741026',\n    'TableTopLongitudinalAdjustedPosition': '00741027',\n    'TableTopLateralAdjustedPosition': '00741028',\n    'PatientSupportAdjustedAngle': '0074102A',\n    'TableTopEccentricAdjustedAngle': '0074102B',\n    'TableTopPitchAdjustedAngle': '0074102C',\n    'TableTopRollAdjustedAngle': '0074102D',\n    'DeliveryVerificationImageSequence': '00741030',\n    'VerificationImageTiming': '00741032',\n    'DoubleExposureFlag': '00741034',\n    'DoubleExposureOrdering': '00741036',\n    'DoubleExposureMetersetTrial': '00741038',\n    'DoubleExposureFieldDeltaTrial': '0074103A',\n    'RelatedReferenceRTImageSequence': '00741040',\n    'GeneralMachineVerificationSequence': '00741042',\n    'ConventionalMachineVerificationSequence': '00741044',\n    'IonMachineVerificationSequence': '00741046',\n    'FailedAttributesSequence': '00741048',\n    'OverriddenAttributesSequence': '0074104A',\n    'ConventionalControlPointVerificationSequence': '0074104C',\n    'IonControlPointVerificationSequence': '0074104E',\n    'AttributeOccurrenceSequence': '00741050',\n    'AttributeOccurrencePointer': '00741052',\n    'AttributeItemSelector': '00741054',\n    'AttributeOccurrencePrivateCreator': '00741056',\n    'SelectorSequencePointerItems': '00741057',\n    'ScheduledProcedureStepPriority': '00741200',\n    'WorklistLabel': '00741202',\n    'ProcedureStepLabel': '00741204',\n    'ScheduledProcessingParametersSequence': '00741210',\n    'PerformedProcessingParametersSequence': '00741212',\n    'UnifiedProcedureStepPerformedProcedureSequence': '00741216',\n    'RelatedProcedureStepSequence': '00741220',\n    'ProcedureStepRelationshipType': '00741222',\n    'ReplacedProcedureStepSequence': '00741224',\n    'DeletionLock': '00741230',\n    'ReceivingAE': '00741234',\n    'RequestingAE': '00741236',\n    'ReasonForCancellation': '00741238',\n    'SCPStatus': '00741242',\n    'SubscriptionListStatus': '00741244',\n    'UnifiedProcedureStepListStatus': '00741246',\n    'BeamOrderIndex': '00741324',\n    'DoubleExposureMeterset': '00741338',\n    'DoubleExposureFieldDelta': '0074133A',\n    'BrachyTaskSequence': '00741401',\n    'ContinuationStartTotalReferenceAirKerma': '00741402',\n    'ContinuationEndTotalReferenceAirKerma': '00741403',\n    'ContinuationPulseNumber': '00741404',\n    'ChannelDeliveryOrderSequence': '00741405',\n    'ReferencedChannelNumber': '00741406',\n    'StartCumulativeTimeWeight': '00741407',\n    'EndCumulativeTimeWeight': '00741408',\n    'OmittedChannelSequence': '00741409',\n    'ReasonForChannelOmission': '0074140A',\n    'ReasonForChannelOmissionDescription': '0074140B',\n    'ChannelDeliveryOrderIndex': '0074140C',\n    'ChannelDeliveryContinuationSequence': '0074140D',\n    'OmittedApplicationSetupSequence': '0074140E',\n    'ImplantAssemblyTemplateName': '00760001',\n    'ImplantAssemblyTemplateIssuer': '00760003',\n    'ImplantAssemblyTemplateVersion': '00760006',\n    'ReplacedImplantAssemblyTemplateSequence': '00760008',\n    'ImplantAssemblyTemplateType': '0076000A',\n    'OriginalImplantAssemblyTemplateSequence': '0076000C',\n    'DerivationImplantAssemblyTemplateSequence': '0076000E',\n    'ImplantAssemblyTemplateTargetAnatomySequence': '00760010',\n    'ProcedureTypeCodeSequence': '00760020',\n    'SurgicalTechnique': '00760030',\n    'ComponentTypesSequence': '00760032',\n    'ComponentTypeCodeSequence': '00760034',\n    'ExclusiveComponentType': '00760036',\n    'MandatoryComponentType': '00760038',\n    'ComponentSequence': '00760040',\n    'ComponentID': '00760055',\n    'ComponentAssemblySequence': '00760060',\n    '00760070': ('Component1ReferencedID'),\n    '00760080': ('Component1ReferencedMatingFeatureSetID'),\n    '00760090': ('Component1ReferencedMatingFeatureID'),\n    '007600A0': ('Component2ReferencedID'),\n    '007600B0': ('Component2ReferencedMatingFeatureSetID'),\n    '007600C0': ('Component2ReferencedMatingFeatureID'),\n    'ImplantTemplateGroupName': '00780001',\n    'ImplantTemplateGroupDescription': '00780010',\n    'ImplantTemplateGroupIssuer': '00780020',\n    'ImplantTemplateGroupVersion': '00780024',\n    'ReplacedImplantTemplateGroupSequence': '00780026',\n    'ImplantTemplateGroupTargetAnatomySequence': '00780028',\n    'ImplantTemplateGroupMembersSequence': '0078002A',\n    'ImplantTemplateGroupMemberID': '0078002E',\n    'ThreeDImplantTemplateGroupMemberMatchingPoint': '00780050',\n    'ThreeDImplantTemplateGroupMemberMatchingAxes': '00780060',\n    '00780070': ('ImplantTemplateGroupMemberMatching2DCoordinatesSequence'),\n    'TwoDImplantTemplateGroupMemberMatchingPoint': '00780090',\n    'TwoDImplantTemplateGroupMemberMatchingAxes': '007800A0',\n    'ImplantTemplateGroupVariationDimensionSequence': '007800B0',\n    'ImplantTemplateGroupVariationDimensionName': '007800B2',\n    'ImplantTemplateGroupVariationDimensionRankSequence': '007800B4',\n    'ReferencedImplantTemplateGroupMemberID': '007800B6',\n    'ImplantTemplateGroupVariationDimensionRank': '007800B8',\n    'SurfaceScanAcquisitionTypeCodeSequence': '00800001',\n    'SurfaceScanModeCodeSequence': '00800002',\n    'RegistrationMethodCodeSequence': '00800003',\n    'ShotDurationTime': '00800004',\n    'ShotOffsetTime': '00800005',\n    'SurfacePointPresentationValueData': '00800006',\n    'SurfacePointColorCIELabValueData': '00800007',\n    'UVMappingSequence': '00800008',\n    'TextureLabel': '00800009',\n    'UValueData': '00800010',\n    'VValueData': '00800011',\n    'ReferencedTextureSequence': '00800012',\n    'ReferencedSurfaceDataSequence': '00800013',\n    'AssessmentSummary': '00820001',\n    'AssessmentSummaryDescription': '00820003',\n    'AssessedSOPInstanceSequence': '00820004',\n    'ReferencedComparisonSOPInstanceSequence': '00820005',\n    'NumberOfAssessmentObservations': '00820006',\n    'AssessmentObservationsSequence': '00820007',\n    'ObservationSignificance': '00820008',\n    'ObservationDescription': '0082000A',\n    'StructuredConstraintObservationSequence': '0082000C',\n    'AssessedAttributeValueSequence': '00820010',\n    'AssessmentSetID': '00820016',\n    'AssessmentRequesterSequence': '00820017',\n    'SelectorAttributeName': '00820018',\n    'SelectorAttributeKeyword': '00820019',\n    'AssessmentTypeCodeSequence': '00820021',\n    'ObservationBasisCodeSequence': '00820022',\n    'AssessmentLabel': '00820023',\n    'ConstraintType': '00820032',\n    'SpecificationSelectionGuidance': '00820033',\n    'ConstraintValueSequence': '00820034',\n    'RecommendedDefaultValueSequence': '00820035',\n    'ConstraintViolationSignificance': '00820036',\n    'ConstraintViolationCondition': '00820037',\n    'ModifiableConstraintFlag': '00820038',\n    'StorageMediaFileSetID': '00880130',\n    'StorageMediaFileSetUID': '00880140',\n    'IconImageSequence': '00880200',\n    'TopicTitle': '00880904',\n    'TopicSubject': '00880906',\n    'TopicAuthor': '00880910',\n    'TopicKeywords': '00880912',\n    'SOPInstanceStatus': '01000410',\n    'SOPAuthorizationDateTime': '01000420',\n    'SOPAuthorizationComment': '01000424',\n    'AuthorizationEquipmentCertificationNumber': '01000426',\n    'MACIDNumber': '04000005',\n    'MACCalculationTransferSyntaxUID': '04000010',\n    'MACAlgorithm': '04000015',\n    'DataElementsSigned': '04000020',\n    'DigitalSignatureUID': '04000100',\n    'DigitalSignatureDateTime': '04000105',\n    'CertificateType': '04000110',\n    'CertificateOfSigner': '04000115',\n    'Signature': '04000120',\n    'CertifiedTimestampType': '04000305',\n    'CertifiedTimestamp': '04000310',\n    '': '04000315',\n    'DigitalSignaturePurposeCodeSequence': '04000401',\n    'ReferencedDigitalSignatureSequence': '04000402',\n    'ReferencedSOPInstanceMACSequence': '04000403',\n    'MAC': '04000404',\n    'EncryptedAttributesSequence': '04000500',\n    'EncryptedContentTransferSyntaxUID': '04000510',\n    'EncryptedContent': '04000520',\n    'ModifiedAttributesSequence': '04000550',\n    'OriginalAttributesSequence': '04000561',\n    'AttributeModificationDateTime': '04000562',\n    'ModifyingSystem': '04000563',\n    'SourceOfPreviousValues': '04000564',\n    'ReasonForTheAttributeModification': '04000565',\n    'InstanceOriginStatus': '04000600',\n    'NumberOfCopies': '20000010',\n    'PrinterConfigurationSequence': '2000001E',\n    'PrintPriority': '20000020',\n    'MediumType': '20000030',\n    'FilmDestination': '20000040',\n    'FilmSessionLabel': '20000050',\n    'MemoryAllocation': '20000060',\n    'MaximumMemoryAllocation': '20000061',\n    'ColorImagePrintingFlag': '20000062',\n    'CollationFlag': '20000063',\n    'AnnotationFlag': '20000065',\n    'ImageOverlayFlag': '20000067',\n    'PresentationLUTFlag': '20000069',\n    'ImageBoxPresentationLUTFlag': '2000006A',\n    'MemoryBitDepth': '200000A0',\n    'PrintingBitDepth': '200000A1',\n    'MediaInstalledSequence': '200000A2',\n    'OtherMediaAvailableSequence': '200000A4',\n    'SupportedImageDisplayFormatsSequence': '200000A8',\n    'ReferencedFilmBoxSequence': '20000500',\n    'ReferencedStoredPrintSequence': '20000510',\n    'ImageDisplayFormat': '20100010',\n    'AnnotationDisplayFormatID': '20100030',\n    'FilmOrientation': '20100040',\n    'FilmSizeID': '20100050',\n    'PrinterResolutionID': '20100052',\n    'DefaultPrinterResolutionID': '20100054',\n    'MagnificationType': '20100060',\n    'SmoothingType': '20100080',\n    'DefaultMagnificationType': '201000A6',\n    'OtherMagnificationTypesAvailable': '201000A7',\n    'DefaultSmoothingType': '201000A8',\n    'OtherSmoothingTypesAvailable': '201000A9',\n    'BorderDensity': '20100100',\n    'EmptyImageDensity': '20100110',\n    'MinDensity': '20100120',\n    'MaxDensity': '20100130',\n    'Trim': '20100140',\n    'ConfigurationInformation': '20100150',\n    'ConfigurationInformationDescription': '20100152',\n    'MaximumCollatedFilms': '20100154',\n    'Illumination': '2010015E',\n    'ReflectedAmbientLight': '20100160',\n    'PrinterPixelSpacing': '20100376',\n    'ReferencedFilmSessionSequence': '20100500',\n    'ReferencedImageBoxSequence': '20100510',\n    'ReferencedBasicAnnotationBoxSequence': '20100520',\n    'ImageBoxPosition': '20200010',\n    'Polarity': '20200020',\n    'RequestedImageSize': '20200030',\n    'RequestedDecimateCropBehavior': '20200040',\n    'RequestedResolutionID': '20200050',\n    'RequestedImageSizeFlag': '202000A0',\n    'DecimateCropResult': '202000A2',\n    'BasicGrayscaleImageSequence': '20200110',\n    'BasicColorImageSequence': '20200111',\n    'ReferencedImageOverlayBoxSequence': '20200130',\n    'ReferencedVOILUTBoxSequence': '20200140',\n    'AnnotationPosition': '20300010',\n    'TextString': '20300020',\n    'ReferencedOverlayPlaneSequence': '20400010',\n    'ReferencedOverlayPlaneGroups': '20400011',\n    'OverlayPixelDataSequence': '20400020',\n    'OverlayMagnificationType': '20400060',\n    'OverlaySmoothingType': '20400070',\n    'OverlayOrImageMagnification': '20400072',\n    'MagnifyToNumberOfColumns': '20400074',\n    'OverlayForegroundDensity': '20400080',\n    'OverlayBackgroundDensity': '20400082',\n    'OverlayMode': '20400090',\n    'ThresholdDensity': '20400100',\n    'ReferencedImageBoxSequenceRetired': '20400500',\n    'PresentationLUTSequence': '20500010',\n    'PresentationLUTShape': '20500020',\n    'ReferencedPresentationLUTSequence': '20500500',\n    'PrintJobID': '21000010',\n    'ExecutionStatus': '21000020',\n    'ExecutionStatusInfo': '21000030',\n    'CreationDate': '21000040',\n    'CreationTime': '21000050',\n    'Originator': '21000070',\n    'DestinationAE': '21000140',\n    'OwnerID': '21000160',\n    'NumberOfFilms': '21000170',\n    'ReferencedPrintJobSequencePullStoredPrint': '21000500',\n    'PrinterStatus': '21100010',\n    'PrinterStatusInfo': '21100020',\n    'PrinterName': '21100030',\n    'PrintQueueID': '21100099',\n    'QueueStatus': '21200010',\n    'PrintJobDescriptionSequence': '21200050',\n    'ReferencedPrintJobSequence': '21200070',\n    'PrintManagementCapabilitiesSequence': '21300010',\n    'PrinterCharacteristicsSequence': '21300015',\n    'FilmBoxContentSequence': '21300030',\n    'ImageBoxContentSequence': '21300040',\n    'AnnotationContentSequence': '21300050',\n    'ImageOverlayBoxContentSequence': '21300060',\n    'PresentationLUTContentSequence': '21300080',\n    'ProposedStudySequence': '213000A0',\n    'OriginalImageSequence': '213000C0',\n    'LabelUsingInformationExtractedFromInstances': '22000001',\n    'LabelText': '22000002',\n    'LabelStyleSelection': '22000003',\n    'MediaDisposition': '22000004',\n    'BarcodeValue': '22000005',\n    'BarcodeSymbology': '22000006',\n    'AllowMediaSplitting': '22000007',\n    'IncludeNonDICOMObjects': '22000008',\n    'IncludeDisplayApplication': '22000009',\n    'PreserveCompositeInstancesAfterMediaCreation': '2200000A',\n    'TotalNumberOfPiecesOfMediaCreated': '2200000B',\n    'RequestedMediaApplicationProfile': '2200000C',\n    'ReferencedStorageMediaSequence': '2200000D',\n    'FailureAttributes': '2200000E',\n    'AllowLossyCompression': '2200000F',\n    'RequestPriority': '22000020',\n    'RTImageLabel': '30020002',\n    'RTImageName': '30020003',\n    'RTImageDescription': '30020004',\n    'ReportedValuesOrigin': '3002000A',\n    'RTImagePlane': '3002000C',\n    'XRayImageReceptorTranslation': '3002000D',\n    'XRayImageReceptorAngle': '3002000E',\n    'RTImageOrientation': '30020010',\n    'ImagePlanePixelSpacing': '30020011',\n    'RTImagePosition': '30020012',\n    'RadiationMachineName': '30020020',\n    'RadiationMachineSAD': '30020022',\n    'RadiationMachineSSD': '30020024',\n    'RTImageSID': '30020026',\n    'SourceToReferenceObjectDistance': '30020028',\n    'FractionNumber': '30020029',\n    'ExposureSequence': '30020030',\n    'MetersetExposure': '30020032',\n    'DiaphragmPosition': '30020034',\n    'FluenceMapSequence': '30020040',\n    'FluenceDataSource': '30020041',\n    'FluenceDataScale': '30020042',\n    'PrimaryFluenceModeSequence': '30020050',\n    'FluenceMode': '30020051',\n    'FluenceModeID': '30020052',\n    'DVHType': '30040001',\n    'DoseUnits': '30040002',\n    'DoseType': '30040004',\n    'SpatialTransformOfDose': '30040005',\n    'DoseComment': '30040006',\n    'NormalizationPoint': '30040008',\n    'DoseSummationType': '3004000A',\n    'GridFrameOffsetVector': '3004000C',\n    'DoseGridScaling': '3004000E',\n    'RTDoseROISequence': '30040010',\n    'DoseValue': '30040012',\n    'TissueHeterogeneityCorrection': '30040014',\n    'DVHNormalizationPoint': '30040040',\n    'DVHNormalizationDoseValue': '30040042',\n    'DVHSequence': '30040050',\n    'DVHDoseScaling': '30040052',\n    'DVHVolumeUnits': '30040054',\n    'DVHNumberOfBins': '30040056',\n    'DVHData': '30040058',\n    'DVHReferencedROISequence': '30040060',\n    'DVHROIContributionType': '30040062',\n    'DVHMinimumDose': '30040070',\n    'DVHMaximumDose': '30040072',\n    'DVHMeanDose': '30040074',\n    'StructureSetLabel': '30060002',\n    'StructureSetName': '30060004',\n    'StructureSetDescription': '30060006',\n    'StructureSetDate': '30060008',\n    'StructureSetTime': '30060009',\n    'ReferencedFrameOfReferenceSequence': '30060010',\n    'RTReferencedStudySequence': '30060012',\n    'RTReferencedSeriesSequence': '30060014',\n    'ContourImageSequence': '30060016',\n    'PredecessorStructureSetSequence': '30060018',\n    'StructureSetROISequence': '30060020',\n    'ROINumber': '30060022',\n    'ReferencedFrameOfReferenceUID': '30060024',\n    'ROIName': '30060026',\n    'ROIDescription': '30060028',\n    'ROIDisplayColor': '3006002A',\n    'ROIVolume': '3006002C',\n    'RTRelatedROISequence': '30060030',\n    'RTROIRelationship': '30060033',\n    'ROIGenerationAlgorithm': '30060036',\n    'ROIGenerationDescription': '30060038',\n    'ROIContourSequence': '30060039',\n    'ContourSequence': '30060040',\n    'ContourGeometricType': '30060042',\n    'ContourSlabThickness': '30060044',\n    'ContourOffsetVector': '30060045',\n    'NumberOfContourPoints': '30060046',\n    'ContourNumber': '30060048',\n    'AttachedContours': '30060049',\n    'ContourData': '30060050',\n    'RTROIObservationsSequence': '30060080',\n    'ObservationNumber': '30060082',\n    'ReferencedROINumber': '30060084',\n    'ROIObservationLabel': '30060085',\n    'RTROIIdentificationCodeSequence': '30060086',\n    'ROIObservationDescription': '30060088',\n    'RelatedRTROIObservationsSequence': '300600A0',\n    'RTROIInterpretedType': '300600A4',\n    'ROIInterpreter': '300600A6',\n    'ROIPhysicalPropertiesSequence': '300600B0',\n    'ROIPhysicalProperty': '300600B2',\n    'ROIPhysicalPropertyValue': '300600B4',\n    'ROIElementalCompositionSequence': '300600B6',\n    'ROIElementalCompositionAtomicNumber': '300600B7',\n    'ROIElementalCompositionAtomicMassFraction': '300600B8',\n    'AdditionalRTROIIdentificationCodeSequence': '300600B9',\n    'FrameOfReferenceRelationshipSequence': '300600C0',\n    'RelatedFrameOfReferenceUID': '300600C2',\n    'FrameOfReferenceTransformationType': '300600C4',\n    'FrameOfReferenceTransformationMatrix': '300600C6',\n    'FrameOfReferenceTransformationComment': '300600C8',\n    'MeasuredDoseReferenceSequence': '30080010',\n    'MeasuredDoseDescription': '30080012',\n    'MeasuredDoseType': '30080014',\n    'MeasuredDoseValue': '30080016',\n    'TreatmentSessionBeamSequence': '30080020',\n    'TreatmentSessionIonBeamSequence': '30080021',\n    'CurrentFractionNumber': '30080022',\n    'TreatmentControlPointDate': '30080024',\n    'TreatmentControlPointTime': '30080025',\n    'TreatmentTerminationStatus': '3008002A',\n    'TreatmentTerminationCode': '3008002B',\n    'TreatmentVerificationStatus': '3008002C',\n    'ReferencedTreatmentRecordSequence': '30080030',\n    'SpecifiedPrimaryMeterset': '30080032',\n    'SpecifiedSecondaryMeterset': '30080033',\n    'DeliveredPrimaryMeterset': '30080036',\n    'DeliveredSecondaryMeterset': '30080037',\n    'SpecifiedTreatmentTime': '3008003A',\n    'DeliveredTreatmentTime': '3008003B',\n    'ControlPointDeliverySequence': '30080040',\n    'IonControlPointDeliverySequence': '30080041',\n    'SpecifiedMeterset': '30080042',\n    'DeliveredMeterset': '30080044',\n    'MetersetRateSet': '30080045',\n    'MetersetRateDelivered': '30080046',\n    'ScanSpotMetersetsDelivered': '30080047',\n    'DoseRateDelivered': '30080048',\n    'TreatmentSummaryCalculatedDoseReferenceSequence': '30080050',\n    'CumulativeDoseToDoseReference': '30080052',\n    'FirstTreatmentDate': '30080054',\n    'MostRecentTreatmentDate': '30080056',\n    'NumberOfFractionsDelivered': '3008005A',\n    'OverrideSequence': '30080060',\n    'ParameterSequencePointer': '30080061',\n    'OverrideParameterPointer': '30080062',\n    'ParameterItemIndex': '30080063',\n    'MeasuredDoseReferenceNumber': '30080064',\n    'ParameterPointer': '30080065',\n    'OverrideReason': '30080066',\n    'ParameterValueNumber': '30080067',\n    'CorrectedParameterSequence': '30080068',\n    'CorrectionValue': '3008006A',\n    'CalculatedDoseReferenceSequence': '30080070',\n    'CalculatedDoseReferenceNumber': '30080072',\n    'CalculatedDoseReferenceDescription': '30080074',\n    'CalculatedDoseReferenceDoseValue': '30080076',\n    'StartMeterset': '30080078',\n    'EndMeterset': '3008007A',\n    'ReferencedMeasuredDoseReferenceSequence': '30080080',\n    'ReferencedMeasuredDoseReferenceNumber': '30080082',\n    'ReferencedCalculatedDoseReferenceSequence': '30080090',\n    'ReferencedCalculatedDoseReferenceNumber': '30080092',\n    'BeamLimitingDeviceLeafPairsSequence': '300800A0',\n    'RecordedWedgeSequence': '300800B0',\n    'RecordedCompensatorSequence': '300800C0',\n    'RecordedBlockSequence': '300800D0',\n    'TreatmentSummaryMeasuredDoseReferenceSequence': '300800E0',\n    'RecordedSnoutSequence': '300800F0',\n    'RecordedRangeShifterSequence': '300800F2',\n    'RecordedLateralSpreadingDeviceSequence': '300800F4',\n    'RecordedRangeModulatorSequence': '300800F6',\n    'RecordedSourceSequence': '30080100',\n    'SourceSerialNumber': '30080105',\n    'TreatmentSessionApplicationSetupSequence': '30080110',\n    'ApplicationSetupCheck': '30080116',\n    'RecordedBrachyAccessoryDeviceSequence': '30080120',\n    'ReferencedBrachyAccessoryDeviceNumber': '30080122',\n    'RecordedChannelSequence': '30080130',\n    'SpecifiedChannelTotalTime': '30080132',\n    'DeliveredChannelTotalTime': '30080134',\n    'SpecifiedNumberOfPulses': '30080136',\n    'DeliveredNumberOfPulses': '30080138',\n    'SpecifiedPulseRepetitionInterval': '3008013A',\n    'DeliveredPulseRepetitionInterval': '3008013C',\n    'RecordedSourceApplicatorSequence': '30080140',\n    'ReferencedSourceApplicatorNumber': '30080142',\n    'RecordedChannelShieldSequence': '30080150',\n    'ReferencedChannelShieldNumber': '30080152',\n    'BrachyControlPointDeliveredSequence': '30080160',\n    'SafePositionExitDate': '30080162',\n    'SafePositionExitTime': '30080164',\n    'SafePositionReturnDate': '30080166',\n    'SafePositionReturnTime': '30080168',\n    'PulseSpecificBrachyControlPointDeliveredSequence': '30080171',\n    'PulseNumber': '30080172',\n    'BrachyPulseControlPointDeliveredSequence': '30080173',\n    'CurrentTreatmentStatus': '30080200',\n    'TreatmentStatusComment': '30080202',\n    'FractionGroupSummarySequence': '30080220',\n    'ReferencedFractionNumber': '30080223',\n    'FractionGroupType': '30080224',\n    'BeamStopperPosition': '30080230',\n    'FractionStatusSummarySequence': '30080240',\n    'TreatmentDate': '30080250',\n    'TreatmentTime': '30080251',\n    'RTPlanLabel': '300A0002',\n    'RTPlanName': '300A0003',\n    'RTPlanDescription': '300A0004',\n    'RTPlanDate': '300A0006',\n    'RTPlanTime': '300A0007',\n    'TreatmentProtocols': '300A0009',\n    'PlanIntent': '300A000A',\n    'TreatmentSites': '300A000B',\n    'RTPlanGeometry': '300A000C',\n    'PrescriptionDescription': '300A000E',\n    'DoseReferenceSequence': '300A0010',\n    'DoseReferenceNumber': '300A0012',\n    'DoseReferenceUID': '300A0013',\n    'DoseReferenceStructureType': '300A0014',\n    'NominalBeamEnergyUnit': '300A0015',\n    'DoseReferenceDescription': '300A0016',\n    'DoseReferencePointCoordinates': '300A0018',\n    'NominalPriorDose': '300A001A',\n    'DoseReferenceType': '300A0020',\n    'ConstraintWeight': '300A0021',\n    'DeliveryWarningDose': '300A0022',\n    'DeliveryMaximumDose': '300A0023',\n    'TargetMinimumDose': '300A0025',\n    'TargetPrescriptionDose': '300A0026',\n    'TargetMaximumDose': '300A0027',\n    'TargetUnderdoseVolumeFraction': '300A0028',\n    'OrganAtRiskFullVolumeDose': '300A002A',\n    'OrganAtRiskLimitDose': '300A002B',\n    'OrganAtRiskMaximumDose': '300A002C',\n    'OrganAtRiskOverdoseVolumeFraction': '300A002D',\n    'ToleranceTableSequence': '300A0040',\n    'ToleranceTableNumber': '300A0042',\n    'ToleranceTableLabel': '300A0043',\n    'GantryAngleTolerance': '300A0044',\n    'BeamLimitingDeviceAngleTolerance': '300A0046',\n    'BeamLimitingDeviceToleranceSequence': '300A0048',\n    'BeamLimitingDevicePositionTolerance': '300A004A',\n    'SnoutPositionTolerance': '300A004B',\n    'PatientSupportAngleTolerance': '300A004C',\n    'TableTopEccentricAngleTolerance': '300A004E',\n    'TableTopPitchAngleTolerance': '300A004F',\n    'TableTopRollAngleTolerance': '300A0050',\n    'TableTopVerticalPositionTolerance': '300A0051',\n    'TableTopLongitudinalPositionTolerance': '300A0052',\n    'TableTopLateralPositionTolerance': '300A0053',\n    'RTPlanRelationship': '300A0055',\n    'FractionGroupSequence': '300A0070',\n    'FractionGroupNumber': '300A0071',\n    'FractionGroupDescription': '300A0072',\n    'NumberOfFractionsPlanned': '300A0078',\n    'NumberOfFractionPatternDigitsPerDay': '300A0079',\n    'RepeatFractionCycleLength': '300A007A',\n    'FractionPattern': '300A007B',\n    'NumberOfBeams': '300A0080',\n    'BeamDoseSpecificationPoint': '300A0082',\n    'ReferencedDoseReferenceUID': '300A0083',\n    'BeamDose': '300A0084',\n    'BeamMeterset': '300A0086',\n    'BeamDosePointDepth': '300A0088',\n    'BeamDosePointEquivalentDepth': '300A0089',\n    'BeamDosePointSSD': '300A008A',\n    'BeamDoseMeaning': '300A008B',\n    'BeamDoseVerificationControlPointSequence': '300A008C',\n    'AverageBeamDosePointDepth': '300A008D',\n    'AverageBeamDosePointEquivalentDepth': '300A008E',\n    'AverageBeamDosePointSSD': '300A008F',\n    'BeamDoseType': '300A0090',\n    'AlternateBeamDose': '300A0091',\n    'AlternateBeamDoseType': '300A0092',\n    'DepthValueAveragingFlag': '300A0093',\n    'BeamDosePointSourceToExternalContourDistance': '300A0094',\n    'NumberOfBrachyApplicationSetups': '300A00A0',\n    'BrachyApplicationSetupDoseSpecificationPoint': '300A00A2',\n    'BrachyApplicationSetupDose': '300A00A4',\n    'BeamSequence': '300A00B0',\n    'TreatmentMachineName': '300A00B2',\n    'PrimaryDosimeterUnit': '300A00B3',\n    'SourceAxisDistance': '300A00B4',\n    'BeamLimitingDeviceSequence': '300A00B6',\n    'RTBeamLimitingDeviceType': '300A00B8',\n    'SourceToBeamLimitingDeviceDistance': '300A00BA',\n    'IsocenterToBeamLimitingDeviceDistance': '300A00BB',\n    'NumberOfLeafJawPairs': '300A00BC',\n    'LeafPositionBoundaries': '300A00BE',\n    'BeamNumber': '300A00C0',\n    'BeamName': '300A00C2',\n    'BeamDescription': '300A00C3',\n    'BeamType': '300A00C4',\n    'BeamDeliveryDurationLimit': '300A00C5',\n    'RadiationType': '300A00C6',\n    'HighDoseTechniqueType': '300A00C7',\n    'ReferenceImageNumber': '300A00C8',\n    'PlannedVerificationImageSequence': '300A00CA',\n    'ImagingDeviceSpecificAcquisitionParameters': '300A00CC',\n    'TreatmentDeliveryType': '300A00CE',\n    'NumberOfWedges': '300A00D0',\n    'WedgeSequence': '300A00D1',\n    'WedgeNumber': '300A00D2',\n    'WedgeType': '300A00D3',\n    'WedgeID': '300A00D4',\n    'WedgeAngle': '300A00D5',\n    'WedgeFactor': '300A00D6',\n    'TotalWedgeTrayWaterEquivalentThickness': '300A00D7',\n    'WedgeOrientation': '300A00D8',\n    'IsocenterToWedgeTrayDistance': '300A00D9',\n    'SourceToWedgeTrayDistance': '300A00DA',\n    'WedgeThinEdgePosition': '300A00DB',\n    'BolusID': '300A00DC',\n    'BolusDescription': '300A00DD',\n    'EffectiveWedgeAngle': '300A00DE',\n    'NumberOfCompensators': '300A00E0',\n    'MaterialID': '300A00E1',\n    'TotalCompensatorTrayFactor': '300A00E2',\n    'CompensatorSequence': '300A00E3',\n    'CompensatorNumber': '300A00E4',\n    'CompensatorID': '300A00E5',\n    'SourceToCompensatorTrayDistance': '300A00E6',\n    'CompensatorRows': '300A00E7',\n    'CompensatorColumns': '300A00E8',\n    'CompensatorPixelSpacing': '300A00E9',\n    'CompensatorPosition': '300A00EA',\n    'CompensatorTransmissionData': '300A00EB',\n    'CompensatorThicknessData': '300A00EC',\n    'NumberOfBoli': '300A00ED',\n    'CompensatorType': '300A00EE',\n    'CompensatorTrayID': '300A00EF',\n    'NumberOfBlocks': '300A00F0',\n    'TotalBlockTrayFactor': '300A00F2',\n    'TotalBlockTrayWaterEquivalentThickness': '300A00F3',\n    'BlockSequence': '300A00F4',\n    'BlockTrayID': '300A00F5',\n    'SourceToBlockTrayDistance': '300A00F6',\n    'IsocenterToBlockTrayDistance': '300A00F7',\n    'BlockType': '300A00F8',\n    'AccessoryCode': '300A00F9',\n    'BlockDivergence': '300A00FA',\n    'BlockMountingPosition': '300A00FB',\n    'BlockNumber': '300A00FC',\n    'BlockName': '300A00FE',\n    'BlockThickness': '300A0100',\n    'BlockTransmission': '300A0102',\n    'BlockNumberOfPoints': '300A0104',\n    'BlockData': '300A0106',\n    'ApplicatorSequence': '300A0107',\n    'ApplicatorID': '300A0108',\n    'ApplicatorType': '300A0109',\n    'ApplicatorDescription': '300A010A',\n    'CumulativeDoseReferenceCoefficient': '300A010C',\n    'FinalCumulativeMetersetWeight': '300A010E',\n    'NumberOfControlPoints': '300A0110',\n    'ControlPointSequence': '300A0111',\n    'ControlPointIndex': '300A0112',\n    'NominalBeamEnergy': '300A0114',\n    'DoseRateSet': '300A0115',\n    'WedgePositionSequence': '300A0116',\n    'WedgePosition': '300A0118',\n    'BeamLimitingDevicePositionSequence': '300A011A',\n    'LeafJawPositions': '300A011C',\n    'GantryAngle': '300A011E',\n    'GantryRotationDirection': '300A011F',\n    'BeamLimitingDeviceAngle': '300A0120',\n    'BeamLimitingDeviceRotationDirection': '300A0121',\n    'PatientSupportAngle': '300A0122',\n    'PatientSupportRotationDirection': '300A0123',\n    'TableTopEccentricAxisDistance': '300A0124',\n    'TableTopEccentricAngle': '300A0125',\n    'TableTopEccentricRotationDirection': '300A0126',\n    'TableTopVerticalPosition': '300A0128',\n    'TableTopLongitudinalPosition': '300A0129',\n    'TableTopLateralPosition': '300A012A',\n    'IsocenterPosition': '300A012C',\n    'SurfaceEntryPoint': '300A012E',\n    'SourceToSurfaceDistance': '300A0130',\n    'AverageBeamDosePointSourceToExternalContourDistance': '300A0131',\n    'SourceToExternalContourDistance': '300A0132',\n    'ExternalContourEntryPoint': '300A0133',\n    'CumulativeMetersetWeight': '300A0134',\n    'TableTopPitchAngle': '300A0140',\n    'TableTopPitchRotationDirection': '300A0142',\n    'TableTopRollAngle': '300A0144',\n    'TableTopRollRotationDirection': '300A0146',\n    'HeadFixationAngle': '300A0148',\n    'GantryPitchAngle': '300A014A',\n    'GantryPitchRotationDirection': '300A014C',\n    'GantryPitchAngleTolerance': '300A014E',\n    'FixationEye': '300A0150',\n    'ChairHeadFramePosition': '300A0151',\n    'HeadFixationAngleTolerance': '300A0152',\n    'ChairHeadFramePositionTolerance': '300A0153',\n    'FixationLightAzimuthalAngleTolerance': '300A0154',\n    'FixationLightPolarAngleTolerance': '300A0155',\n    'PatientSetupSequence': '300A0180',\n    'PatientSetupNumber': '300A0182',\n    'PatientSetupLabel': '300A0183',\n    'PatientAdditionalPosition': '300A0184',\n    'FixationDeviceSequence': '300A0190',\n    'FixationDeviceType': '300A0192',\n    'FixationDeviceLabel': '300A0194',\n    'FixationDeviceDescription': '300A0196',\n    'FixationDevicePosition': '300A0198',\n    'FixationDevicePitchAngle': '300A0199',\n    'FixationDeviceRollAngle': '300A019A',\n    'ShieldingDeviceSequence': '300A01A0',\n    'ShieldingDeviceType': '300A01A2',\n    'ShieldingDeviceLabel': '300A01A4',\n    'ShieldingDeviceDescription': '300A01A6',\n    'ShieldingDevicePosition': '300A01A8',\n    'SetupTechnique': '300A01B0',\n    'SetupTechniqueDescription': '300A01B2',\n    'SetupDeviceSequence': '300A01B4',\n    'SetupDeviceType': '300A01B6',\n    'SetupDeviceLabel': '300A01B8',\n    'SetupDeviceDescription': '300A01BA',\n    'SetupDeviceParameter': '300A01BC',\n    'SetupReferenceDescription': '300A01D0',\n    'TableTopVerticalSetupDisplacement': '300A01D2',\n    'TableTopLongitudinalSetupDisplacement': '300A01D4',\n    'TableTopLateralSetupDisplacement': '300A01D6',\n    'BrachyTreatmentTechnique': '300A0200',\n    'BrachyTreatmentType': '300A0202',\n    'TreatmentMachineSequence': '300A0206',\n    'SourceSequence': '300A0210',\n    'SourceNumber': '300A0212',\n    'SourceType': '300A0214',\n    'SourceManufacturer': '300A0216',\n    'ActiveSourceDiameter': '300A0218',\n    'ActiveSourceLength': '300A021A',\n    'SourceModelID': '300A021B',\n    'SourceDescription': '300A021C',\n    'SourceEncapsulationNominalThickness': '300A0222',\n    'SourceEncapsulationNominalTransmission': '300A0224',\n    'SourceIsotopeName': '300A0226',\n    'SourceIsotopeHalfLife': '300A0228',\n    'SourceStrengthUnits': '300A0229',\n    'ReferenceAirKermaRate': '300A022A',\n    'SourceStrength': '300A022B',\n    'SourceStrengthReferenceDate': '300A022C',\n    'SourceStrengthReferenceTime': '300A022E',\n    'ApplicationSetupSequence': '300A0230',\n    'ApplicationSetupType': '300A0232',\n    'ApplicationSetupNumber': '300A0234',\n    'ApplicationSetupName': '300A0236',\n    'ApplicationSetupManufacturer': '300A0238',\n    'TemplateNumber': '300A0240',\n    'TemplateType': '300A0242',\n    'TemplateName': '300A0244',\n    'TotalReferenceAirKerma': '300A0250',\n    'BrachyAccessoryDeviceSequence': '300A0260',\n    'BrachyAccessoryDeviceNumber': '300A0262',\n    'BrachyAccessoryDeviceID': '300A0263',\n    'BrachyAccessoryDeviceType': '300A0264',\n    'BrachyAccessoryDeviceName': '300A0266',\n    'BrachyAccessoryDeviceNominalThickness': '300A026A',\n    'BrachyAccessoryDeviceNominalTransmission': '300A026C',\n    'ChannelEffectiveLength': '300A0271',\n    'ChannelInnerLength': '300A0272',\n    'AfterloaderChannelID': '300A0273',\n    'SourceApplicatorTipLength': '300A0274',\n    'ChannelSequence': '300A0280',\n    'ChannelNumber': '300A0282',\n    'ChannelLength': '300A0284',\n    'ChannelTotalTime': '300A0286',\n    'SourceMovementType': '300A0288',\n    'NumberOfPulses': '300A028A',\n    'PulseRepetitionInterval': '300A028C',\n    'SourceApplicatorNumber': '300A0290',\n    'SourceApplicatorID': '300A0291',\n    'SourceApplicatorType': '300A0292',\n    'SourceApplicatorName': '300A0294',\n    'SourceApplicatorLength': '300A0296',\n    'SourceApplicatorManufacturer': '300A0298',\n    'SourceApplicatorWallNominalThickness': '300A029C',\n    'SourceApplicatorWallNominalTransmission': '300A029E',\n    'SourceApplicatorStepSize': '300A02A0',\n    'TransferTubeNumber': '300A02A2',\n    'TransferTubeLength': '300A02A4',\n    'ChannelShieldSequence': '300A02B0',\n    'ChannelShieldNumber': '300A02B2',\n    'ChannelShieldID': '300A02B3',\n    'ChannelShieldName': '300A02B4',\n    'ChannelShieldNominalThickness': '300A02B8',\n    'ChannelShieldNominalTransmission': '300A02BA',\n    'FinalCumulativeTimeWeight': '300A02C8',\n    'BrachyControlPointSequence': '300A02D0',\n    'ControlPointRelativePosition': '300A02D2',\n    '300A02D4': ('ControlPoint3DPosition'),\n    'CumulativeTimeWeight': '300A02D6',\n    'CompensatorDivergence': '300A02E0',\n    'CompensatorMountingPosition': '300A02E1',\n    'SourceToCompensatorDistance': '300A02E2',\n    'TotalCompensatorTrayWaterEquivalentThickness': '300A02E3',\n    'IsocenterToCompensatorTrayDistance': '300A02E4',\n    'CompensatorColumnOffset': '300A02E5',\n    'IsocenterToCompensatorDistances': '300A02E6',\n    'CompensatorRelativeStoppingPowerRatio': '300A02E7',\n    'CompensatorMillingToolDiameter': '300A02E8',\n    'IonRangeCompensatorSequence': '300A02EA',\n    'CompensatorDescription': '300A02EB',\n    'RadiationMassNumber': '300A0302',\n    'RadiationAtomicNumber': '300A0304',\n    'RadiationChargeState': '300A0306',\n    'ScanMode': '300A0308',\n    'ModulatedScanModeType': '300A0309',\n    'VirtualSourceAxisDistances': '300A030A',\n    'SnoutSequence': '300A030C',\n    'SnoutPosition': '300A030D',\n    'SnoutID': '300A030F',\n    'NumberOfRangeShifters': '300A0312',\n    'RangeShifterSequence': '300A0314',\n    'RangeShifterNumber': '300A0316',\n    'RangeShifterID': '300A0318',\n    'RangeShifterType': '300A0320',\n    'RangeShifterDescription': '300A0322',\n    'NumberOfLateralSpreadingDevices': '300A0330',\n    'LateralSpreadingDeviceSequence': '300A0332',\n    'LateralSpreadingDeviceNumber': '300A0334',\n    'LateralSpreadingDeviceID': '300A0336',\n    'LateralSpreadingDeviceType': '300A0338',\n    'LateralSpreadingDeviceDescription': '300A033A',\n    'LateralSpreadingDeviceWaterEquivalentThickness': '300A033C',\n    'NumberOfRangeModulators': '300A0340',\n    'RangeModulatorSequence': '300A0342',\n    'RangeModulatorNumber': '300A0344',\n    'RangeModulatorID': '300A0346',\n    'RangeModulatorType': '300A0348',\n    'RangeModulatorDescription': '300A034A',\n    'BeamCurrentModulationID': '300A034C',\n    'PatientSupportType': '300A0350',\n    'PatientSupportID': '300A0352',\n    'PatientSupportAccessoryCode': '300A0354',\n    'TrayAccessoryCode': '300A0355',\n    'FixationLightAzimuthalAngle': '300A0356',\n    'FixationLightPolarAngle': '300A0358',\n    'MetersetRate': '300A035A',\n    'RangeShifterSettingsSequence': '300A0360',\n    'RangeShifterSetting': '300A0362',\n    'IsocenterToRangeShifterDistance': '300A0364',\n    'RangeShifterWaterEquivalentThickness': '300A0366',\n    'LateralSpreadingDeviceSettingsSequence': '300A0370',\n    'LateralSpreadingDeviceSetting': '300A0372',\n    'IsocenterToLateralSpreadingDeviceDistance': '300A0374',\n    'RangeModulatorSettingsSequence': '300A0380',\n    'RangeModulatorGatingStartValue': '300A0382',\n    'RangeModulatorGatingStopValue': '300A0384',\n    'RangeModulatorGatingStartWaterEquivalentThickness': '300A0386',\n    'RangeModulatorGatingStopWaterEquivalentThickness': '300A0388',\n    'IsocenterToRangeModulatorDistance': '300A038A',\n    'ScanSpotTimeOffset': '300A038F',\n    'ScanSpotTuneID': '300A0390',\n    'ScanSpotPrescribedIndices': '300A0391',\n    'NumberOfScanSpotPositions': '300A0392',\n    'ScanSpotReordered': '300A0393',\n    'ScanSpotPositionMap': '300A0394',\n    'ScanSpotReorderingAllowed': '300A0395',\n    'ScanSpotMetersetWeights': '300A0396',\n    'ScanningSpotSize': '300A0398',\n    'NumberOfPaintings': '300A039A',\n    'IonToleranceTableSequence': '300A03A0',\n    'IonBeamSequence': '300A03A2',\n    'IonBeamLimitingDeviceSequence': '300A03A4',\n    'IonBlockSequence': '300A03A6',\n    'IonControlPointSequence': '300A03A8',\n    'IonWedgeSequence': '300A03AA',\n    'IonWedgePositionSequence': '300A03AC',\n    'ReferencedSetupImageSequence': '300A0401',\n    'SetupImageComment': '300A0402',\n    'MotionSynchronizationSequence': '300A0410',\n    'ControlPointOrientation': '300A0412',\n    'GeneralAccessorySequence': '300A0420',\n    'GeneralAccessoryID': '300A0421',\n    'GeneralAccessoryDescription': '300A0422',\n    'GeneralAccessoryType': '300A0423',\n    'GeneralAccessoryNumber': '300A0424',\n    'SourceToGeneralAccessoryDistance': '300A0425',\n    'ApplicatorGeometrySequence': '300A0431',\n    'ApplicatorApertureShape': '300A0432',\n    'ApplicatorOpening': '300A0433',\n    'ApplicatorOpeningX': '300A0434',\n    'ApplicatorOpeningY': '300A0435',\n    'SourceToApplicatorMountingPositionDistance': '300A0436',\n    'NumberOfBlockSlabItems': '300A0440',\n    'BlockSlabSequence': '300A0441',\n    'BlockSlabThickness': '300A0442',\n    'BlockSlabNumber': '300A0443',\n    'DeviceMotionControlSequence': '300A0450',\n    'DeviceMotionExecutionMode': '300A0451',\n    'DeviceMotionObservationMode': '300A0452',\n    'DeviceMotionParameterCodeSequence': '300A0453',\n    'DistalDepthFraction': '300A0501',\n    'DistalDepth': '300A0502',\n    'NominalRangeModulationFractions': '300A0503',\n    'NominalRangeModulatedRegionDepths': '300A0504',\n    'DepthDoseParametersSequence': '300A0505',\n    'DeliveredDepthDoseParametersSequence': '300A0506',\n    'DeliveredDistalDepthFraction': '300A0507',\n    'DeliveredDistalDepth': '300A0508',\n    'DeliveredNominalRangeModulationFractions': '300A0509',\n    'DeliveredNominalRangeModulatedRegionDepths': '300A0510',\n    'DeliveredReferenceDoseDefinition': '300A0511',\n    'ReferenceDoseDefinition': '300A0512',\n    'ReferencedRTPlanSequence': '300C0002',\n    'ReferencedBeamSequence': '300C0004',\n    'ReferencedBeamNumber': '300C0006',\n    'ReferencedReferenceImageNumber': '300C0007',\n    'StartCumulativeMetersetWeight': '300C0008',\n    'EndCumulativeMetersetWeight': '300C0009',\n    'ReferencedBrachyApplicationSetupSequence': '300C000A',\n    'ReferencedBrachyApplicationSetupNumber': '300C000C',\n    'ReferencedSourceNumber': '300C000E',\n    'ReferencedFractionGroupSequence': '300C0020',\n    'ReferencedFractionGroupNumber': '300C0022',\n    'ReferencedVerificationImageSequence': '300C0040',\n    'ReferencedReferenceImageSequence': '300C0042',\n    'ReferencedDoseReferenceSequence': '300C0050',\n    'ReferencedDoseReferenceNumber': '300C0051',\n    'BrachyReferencedDoseReferenceSequence': '300C0055',\n    'ReferencedStructureSetSequence': '300C0060',\n    'ReferencedPatientSetupNumber': '300C006A',\n    'ReferencedDoseSequence': '300C0080',\n    'ReferencedToleranceTableNumber': '300C00A0',\n    'ReferencedBolusSequence': '300C00B0',\n    'ReferencedWedgeNumber': '300C00C0',\n    'ReferencedCompensatorNumber': '300C00D0',\n    'ReferencedBlockNumber': '300C00E0',\n    'ReferencedControlPointIndex': '300C00F0',\n    'ReferencedControlPointSequence': '300C00F2',\n    'ReferencedStartControlPointIndex': '300C00F4',\n    'ReferencedStopControlPointIndex': '300C00F6',\n    'ReferencedRangeShifterNumber': '300C0100',\n    'ReferencedLateralSpreadingDeviceNumber': '300C0102',\n    'ReferencedRangeModulatorNumber': '300C0104',\n    'OmittedBeamTaskSequence': '300C0111',\n    'ReasonForOmission': '300C0112',\n    'ReasonForOmissionDescription': '300C0113',\n    'ApprovalStatus': '300E0002',\n    'ReviewDate': '300E0004',\n    'ReviewTime': '300E0005',\n    'ReviewerName': '300E0008',\n    'Arbitrary': '40000010',\n    'TextComments': '40004000',\n    'ResultsID': '40080040',\n    'ResultsIDIssuer': '40080042',\n    'ReferencedInterpretationSequence': '40080050',\n    'ReportProductionStatusTrial': '400800FF',\n    'InterpretationRecordedDate': '40080100',\n    'InterpretationRecordedTime': '40080101',\n    'InterpretationRecorder': '40080102',\n    'ReferenceToRecordedSound': '40080103',\n    'InterpretationTranscriptionDate': '40080108',\n    'InterpretationTranscriptionTime': '40080109',\n    'InterpretationTranscriber': '4008010A',\n    'InterpretationText': '4008010B',\n    'InterpretationAuthor': '4008010C',\n    'InterpretationApproverSequence': '40080111',\n    'InterpretationApprovalDate': '40080112',\n    'InterpretationApprovalTime': '40080113',\n    'PhysicianApprovingInterpretation': '40080114',\n    'InterpretationDiagnosisDescription': '40080115',\n    'InterpretationDiagnosisCodeSequence': '40080117',\n    'ResultsDistributionListSequence': '40080118',\n    'DistributionName': '40080119',\n    'DistributionAddress': '4008011A',\n    'InterpretationID': '40080200',\n    'InterpretationIDIssuer': '40080202',\n    'InterpretationTypeID': '40080210',\n    'InterpretationStatusID': '40080212',\n    'Impressions': '40080300',\n    'ResultsComments': '40084000',\n    'LowEnergyDetectors': '40100001',\n    'HighEnergyDetectors': '40100002',\n    'DetectorGeometrySequence': '40100004',\n    'ThreatROIVoxelSequence': '40101001',\n    'ThreatROIBase': '40101004',\n    'ThreatROIExtents': '40101005',\n    'ThreatROIBitmap': '40101006',\n    'RouteSegmentID': '40101007',\n    'GantryType': '40101008',\n    'OOIOwnerType': '40101009',\n    'RouteSegmentSequence': '4010100A',\n    'PotentialThreatObjectID': '40101010',\n    'ThreatSequence': '40101011',\n    'ThreatCategory': '40101012',\n    'ThreatCategoryDescription': '40101013',\n    'ATDAbilityAssessment': '40101014',\n    'ATDAssessmentFlag': '40101015',\n    'ATDAssessmentProbability': '40101016',\n    'Mass': '40101017',\n    'Density': '40101018',\n    'ZEffective': '40101019',\n    'BoardingPassID': '4010101A',\n    'CenterOfMass': '4010101B',\n    'CenterOfPTO': '4010101C',\n    'BoundingPolygon': '4010101D',\n    'RouteSegmentStartLocationID': '4010101E',\n    'RouteSegmentEndLocationID': '4010101F',\n    'RouteSegmentLocationIDType': '40101020',\n    'AbortReason': '40101021',\n    'VolumeOfPTO': '40101023',\n    'AbortFlag': '40101024',\n    'RouteSegmentStartTime': '40101025',\n    'RouteSegmentEndTime': '40101026',\n    'TDRType': '40101027',\n    'InternationalRouteSegment': '40101028',\n    'ThreatDetectionAlgorithmandVersion': '40101029',\n    'AssignedLocation': '4010102A',\n    'AlarmDecisionTime': '4010102B',\n    'AlarmDecision': '40101031',\n    'NumberOfTotalObjects': '40101033',\n    'NumberOfAlarmObjects': '40101034',\n    'PTORepresentationSequence': '40101037',\n    'ATDAssessmentSequence': '40101038',\n    'TIPType': '40101039',\n    'DICOSVersion': '4010103A',\n    'OOIOwnerCreationTime': '40101041',\n    'OOIType': '40101042',\n    'OOISize': '40101043',\n    'AcquisitionStatus': '40101044',\n    'BasisMaterialsCodeSequence': '40101045',\n    'PhantomType': '40101046',\n    'OOIOwnerSequence': '40101047',\n    'ScanType': '40101048',\n    'ItineraryID': '40101051',\n    'ItineraryIDType': '40101052',\n    'ItineraryIDAssigningAuthority': '40101053',\n    'RouteID': '40101054',\n    'RouteIDAssigningAuthority': '40101055',\n    'InboundArrivalType': '40101056',\n    'CarrierID': '40101058',\n    'CarrierIDAssigningAuthority': '40101059',\n    'SourceOrientation': '40101060',\n    'SourcePosition': '40101061',\n    'BeltHeight': '40101062',\n    'AlgorithmRoutingCodeSequence': '40101064',\n    'TransportClassification': '40101067',\n    'OOITypeDescriptor': '40101068',\n    'TotalProcessingTime': '40101069',\n    'DetectorCalibrationData': '4010106C',\n    'AdditionalScreeningPerformed': '4010106D',\n    'AdditionalInspectionSelectionCriteria': '4010106E',\n    'AdditionalInspectionMethodSequence': '4010106F',\n    'AITDeviceType': '40101070',\n    'QRMeasurementsSequence': '40101071',\n    'TargetMaterialSequence': '40101072',\n    'SNRThreshold': '40101073',\n    'ImageScaleRepresentation': '40101075',\n    'ReferencedPTOSequence': '40101076',\n    'ReferencedTDRInstanceSequence': '40101077',\n    'PTOLocationDescription': '40101078',\n    'AnomalyLocatorIndicatorSequence': '40101079',\n    'AnomalyLocatorIndicator': '4010107A',\n    'PTORegionSequence': '4010107B',\n    'InspectionSelectionCriteria': '4010107C',\n    'SecondaryInspectionMethodSequence': '4010107D',\n    'PRCSToRCSOrientation': '4010107E',\n    'MACParametersSequence': '4FFE0001',\n    'SharedFunctionalGroupsSequence': '52009229',\n    'PerFrameFunctionalGroupsSequence': '52009230',\n    'WaveformSequence': '54000100',\n    'ChannelMinimumValue': '54000110',\n    'ChannelMaximumValue': '54000112',\n    'WaveformBitsAllocated': '54001004',\n    'WaveformSampleInterpretation': '54001006',\n    'WaveformPaddingValue': '5400100A',\n    'WaveformData': '54001010',\n    'FirstOrderPhaseCorrectionAngle': '56000010',\n    'SpectroscopyData': '56000020',\n    'FloatPixelData': '7FE00008',\n    'DoubleFloatPixelData': '7FE00009',\n    'PixelData': '7FE00010',\n    'CoefficientsSDVN': '7FE00020',\n    'CoefficientsSDHN': '7FE00030',\n    'CoefficientsSDDN': '7FE00040',\n    'DigitalSignaturesSequence': 'FFFAFFFA',\n    'DataSetTrailingPadding': 'FFFCFFFC',\n    'Item': 'FFFEE000',\n    'ItemDelimitationItem': 'FFFEE00D',\n    'SequenceDelimitationItem': 'FFFEE0DD',\n  };\n  Object.freeze(keywordToTag);\n\n  function getFrameMapping(metadata) {\n    const rows = metadata.Rows;\n    const columns = metadata.Columns;\n    const totalPixelMatrixColumns = metadata.TotalPixelMatrixColumns;\n    const totalPixelMatrixRows = metadata.TotalPixelMatrixRows;\n    const sopInstanceUID = metadata.SOPInstanceUID;\n    let numberOfFrames = metadata.NumberOfFrames || 1;\n    numberOfFrames = Number(numberOfFrames);\n    let frameOffsetNumber = metadata.ConcatenationFrameOffsetNumber || 0;\n    frameOffsetNumber = Number(frameOffsetNumber);\n    /*\n     * The values \"TILED_SPARSE\" and \"TILED_FULL\" were introduced in the 2018\n     * of the standard. Older datasets are equivalent to \"TILED_SPARSE\"\n     * even though they may not have a value or a different value.\n    */\n    const dimensionOrganizationType = metadata.DimensionOrganizationType || 'TILED_SPARSE';\n    const tilesPerRow = Math.ceil(totalPixelMatrixColumns / columns);\n    const frameMapping = {};\n    if (dimensionOrganizationType === 'TILED_FULL') {\n      let offset = frameOffsetNumber + 1;\n      let limit = frameOffsetNumber + numberOfFrames;\n      for (let j = offset; j <= limit; j++) {\n        let rowFraction = j / tilesPerRow;\n        let rowIndex = Math.ceil(rowFraction);\n        let colIndex = j - (rowIndex * tilesPerRow) + tilesPerRow;\n        let index = rowIndex + '-' + colIndex;\n        let frameNumber = j - offset + 1;\n        frameMapping[index] = `${sopInstanceUID}/frames/${frameNumber}`;\n      }\n    } else {\n      const functionalGroups = metadata.PerFrameFunctionalGroupsSequence;\n      for (let j = 0; j < numberOfFrames; j++) {\n        let planePositions = functionalGroups[j].PlanePositionSlideSequence[0];\n        let rowPosition = planePositions.RowPositionInTotalImagePixelMatrix;\n        let columnPosition = planePositions.ColumnPositionInTotalImagePixelMatrix;\n        let rowIndex = Math.ceil(rowPosition / columns);\n        let colIndex = Math.ceil(columnPosition / rows);\n        let index = rowIndex + '-' + colIndex;\n        let frameNumber = j + 1;\n        frameMapping[index] = `${sopInstanceUID}/frames/${frameNumber}`;\n      }\n    }\n    return frameMapping;\n  }\n\n\n  function formatImageMetadata(metadata) {\n\n    const sopClassUID = metadata['00080016']['Value'][0];\n    if (sopClassUID !== '1.2.840.10008.5.1.4.1.1.77.1.6') {\n      throw new Error('SOP Class UID \"' + sopClassUID + '\" is not supported');\n    }\n\n    const imageType = metadata['00080008']['Value'];\n    if ( imageType[2] !== 'VOLUME' ) {\n      throw new Error(\n        'expected image type value 3 to be \"VOLUME\", is \"' + imageType[2] + '\" instead'\n      );\n    }\n\n    const loadJSONDataset = (elements) => {\n      const dataset = {};\n      Object.keys(elements).forEach(tag => {\n        const keyword = tagToKeyword[tag];\n        const vr = elements[tag]['vr'];\n        if ('BulkDataURI' in elements[tag]) {\n          console.log(`skip bulk data element \"${keyword}\"`);\n        } else if ('Value' in elements[tag]) {\n          const value = elements[tag]['Value'];\n          if (vr === 'SQ') {\n            dataset[keyword] = value.map(item => {\n              return loadJSONDataset(item);\n            });\n          } else {\n            // Handle value multiplicity.\n            if (value.length === 1) {\n              dataset[keyword] = value[0];\n            } else {\n              dataset[keyword] = value;\n            }\n          }\n        } else {\n          if (vr === 'SQ') {\n            dataset[keyword] = [];\n          } else {\n            dataset[keyword] = \"\";  // TODO: should rather be null?\n          }\n        }\n      });\n      return dataset;\n    };\n\n    const dataset = loadJSONDataset(metadata);\n\n    // The top level (lowest resolution) image may be a single frame image in\n    // which case the \"NumberOfFrames\" attribute is optional. We include it for\n    // consistency.\n    if (!('NumberOfFrames' in dataset)) {\n      dataset.NumberOfFrames = 1;\n    }\n\n    return dataset;\n  }\n\n  function generateUID() {\n    /*\n     * http://dicom.nema.org/medical/dicom/current/output/chtml/part05/sect_B.2.html\n     * https://www.itu.int/rec/T-REC-X.667-201210-I/en\n     *  A UUID can be represented as a single integer value.\n     * To obtain the single integer value of the UUID, the 16 octets of the\n     * binary representation shall be treated as an unsigned integer encoding\n     * with the most significant bit of the integer encoding as the most\n     * significant bit (bit 7) of the first of the sixteen octets (octet 15) and\n     * the least significant bit as the least significant bit (bit 0) of the last\n     * of the sixteen octets (octet 0).\n    */\n    // FIXME: This is not a valid UUID!\n    let uid = '2.25.' + Math.floor(1 + Math.random() * 9);\n    while (uid.length < 44) {\n      uid += Math.floor(1 + Math.random() * 10);\n    }\n    return uid;\n  }\n\n  const _uid = Symbol('uid');\n  const _scoord3d = Symbol('scoord3d');\n\n  /* Region of interest.\n   */\n  class ROI {\n\n    /* @constructor\n     * @param{Scoord3D} scoord3d spatial coordinates\n     * @param{Object} properties qualititative evaluations\n     */\n    constructor(options) {\n      if (!('scoord3d' in options)) {\n        throw new Error('spatial coordinates are required for ROI')\n      }\n      if (!(typeof(options.scoord3d) === 'object' || options.scoord3d !== null)) {\n        throw new Error('scoord3d of ROI must be a Scoord3D object')\n      }\n      if (!('uid' in options)) {\n        this[_uid] = generateUID();\n      } else {\n        if (!(typeof(options.uid) === 'string' || options.uid instanceof String)) {\n          throw new Error('uid of ROI must be a string')\n        }\n        this[_uid] = options.uid;\n      }\n      this[_scoord3d] = options.scoord3d;\n      // TODO: store SOPInstanceUID, SOPClassUID and FrameNumbers as reference\n    }\n\n    get uid() {\n      return this[_uid];\n    }\n\n    get scoord3d() {\n      return this[_scoord3d];\n    }\n\n  }\n\n  const _coordinates = Symbol('coordinates');\n  const _frameOfReferenceUID = Symbol('frameOfReferenceUID');\n  const _fiducialUID = Symbol('fiducialUID');\n\n\n  /*\n   * Spatial coordinates of geometric region(s) of interest (ROI) in the DICOM\n   * slide coordinate system in millimeter unit.\n   */\n  class Scoord3D {\n\n    constructor(options) {\n      if (!(typeof options.frameOfReferenceUID === 'string' ||\n            options.frameOfReferenceUID instanceof String)) {\n        throw new Error('frameOfReferenceUID of Scoord3D must be a string')\n      }\n      this[_frameOfReferenceUID] = options.frameOfReferenceUID;\n      options.fiducialUID = options.fiducialUID || generateUID();\n      if (!(typeof options.fiducialUID === 'string' ||\n            options.fiducialUID instanceof String)) {\n        throw new Error('fiducialUID of Scoord3D must be a string')\n      }\n      this[_fiducialUID] = options.fiducialUID;\n      if (!Array.isArray(options.coordinates)) {\n        throw new Error('coordinates of Scoord3D must be an array')\n      }\n      this[_coordinates] = options.coordinates;\n    }\n\n    get graphicData() {\n      return this[_coordinates]\n    }\n\n    get graphicType() {\n      throw new Error('Prototype property \"graphicType\" must be implemented')\n    }\n\n    get frameOfReferenceUID() {\n      return this[_frameOfReferenceUID]\n    }\n\n    get fiducialUID() {\n      return this[_fiducialUID]\n    }\n\n  }\n\n  class Point$1 extends Scoord3D {\n\n    /*\n     * Single location denoted by a single (x,y,z) triplet.\n     */\n    constructor(options) {\n      if (!Array.isArray(options.coordinates)) {\n        throw new Error('coordinates of Point must be an array')\n      }\n      if (options.coordinates.length !== 3) {\n        throw new Error('coordinates of Point must be an array of length 3')\n      }\n      if (options.coordinates.some((c => c < 0))) {\n        throw new Error('coordinates of Point must be positive numbers')\n      }\n      super({\n        coordinates: options.coordinates,\n        frameOfReferenceUID: options.frameOfReferenceUID,\n        fiducialUID: options.fiducialUID\n      });\n    }\n\n    get graphicType() {\n      return 'POINT'\n    }\n\n  }\n\n  class Multipoint extends Scoord3D {\n\n    /*\n     * Multiple points each denoted by an (x,y,z) triplet.\n     * Points need not be coplanar.\n     */\n    constructor(options) {\n      if (!Array.isArray(options.coordinates)) {\n        throw new Error('coordinates of Multipoint must be an array')\n      }\n      if(options.coordinates.find(c => c.length !== 3)!== undefined) {\n        throw new Error('coordinates of Multipoint must be an array of (x,y,z) triplets')\n      }\n      if(options.coordinates.find(c => c.some((item => item < 0)))) {\n        throw new Error('coordinates of Multipoint must be positive numbers')\n      }\n      super({\n        coordinates: options.coordinates,\n        frameOfReferenceUID: options.frameOfReferenceUID,\n        fiducialUID: options.fiducialUID\n      });\n    }\n\n    get graphicType() {\n      return 'MULTIPOINT'\n    }\n\n  }\n\n  class Polyline extends Scoord3D {\n\n    /*\n     * Multiple points denoted by (x,y,z) triplets that represent\n     * connected line segments with ordered vertices\n     * Points need not be coplanar.\n     */\n    constructor(options) {\n      if (!Array.isArray(options.coordinates)) {\n        throw new Error('coordinates of Polyline must be an array')\n      }\n      if(options.coordinates.find(c => c.length !== 3)!== undefined) {\n        throw new Error('coordinates of Polyline must be an array of (x,y,z) triplets')\n      }\n      if(options.coordinates.find(c => c.some((item => item < 0)))) {\n        throw new Error('coordinates of Polyline must be positive numbers')\n      }\n      super({\n        coordinates: options.coordinates,\n        frameOfReferenceUID: options.frameOfReferenceUID,\n        fiducialUID: options.fiducialUID\n      });\n    }\n\n    get graphicType() {\n      return 'POLYLINE'\n    }\n  }\n\n\n  class Polygon$1 extends Scoord3D {\n\n    /*\n     * Multiple points denoted by (x,y,z) triplets that represent\n     * connected line segments with ordered vertices.\n     * First and last point shall be the same.\n     * Points shall be coplanar.\n     */\n    constructor(options) {\n      if (!Array.isArray(options.coordinates)) {\n        throw new Error('coordinates of Polygon must be an array')\n      }\n      if(options.coordinates.find(c => c.length !== 3)!== undefined) {\n        throw new Error('coordinates of Polygon must be an array of (x,y,z) triplets')\n      }\n      if(options.coordinates.find(c => c.some((item => item < 0)))) {\n        throw new Error('coordinates of Polygon must be positive numbers')\n      }\n      const n = options.coordinates.length;\n      if((options.coordinates[0][0] !== options.coordinates[n-1][0]) ||\n         (options.coordinates[0][1] !== options.coordinates[n-1][1]) ||\n         (options.coordinates[0][2] !== options.coordinates[n-1][2])) {\n        throw new Error('first and last coordinate of Polygon must be the same')\n      }\n      super({\n        coordinates: options.coordinates,\n        frameOfReferenceUID: options.frameOfReferenceUID,\n        fiducialUID: options.fiducialUID\n      });\n    }\n\n    get graphicType() {\n      return 'POLYGON'\n    }\n\n  }\n\n  class Ellipsoid extends Scoord3D {\n\n    /*\n     * Six points denoted by (x,y,z) triplets, where the first two points represent\n     * the endpoints of the first axis and the second two points represent the\n     * endpoints of the second axis and the third two points represent the\n     * endpoints of the third axis. respectively.\n     */\n    constructor(options) {\n      if (!Array.isArray(options.coordinates)) {\n        throw new Error('coordinates of Ellipsoid must be an array')\n      }\n      if (options.coordinates.length !== 6) {\n        throw new Error('coordinates of Ellipsoid must be an array of length 6')\n      }\n      if(options.coordinates.find(c => c.length !== 3)!== undefined) {\n        throw new Error('coordinates of Ellipsoid must be an array of (x,y,z) triplets')\n      }\n      if(options.coordinates.find(c => c.some((item => item < 0)))) {\n        throw new Error('coordinates of Ellipsoid must be positive numbers')\n      }\n      super({\n        coordinates: options.coordinates,\n        frameOfReferenceUID: options.frameOfReferenceUID,\n        fiducialUID: options.fiducialUID\n      });\n    }\n\n    get graphicType() {\n      return 'ELLIPSOID'\n    }\n\n  }\n\n  class Ellipse extends Scoord3D {\n\n    /*\n     * Four points denoted by (x,y,z) triplets, where the first two points represent\n     * the endpoints of the major axis and the second two points represent the\n     * endpoints of the minor axis.\n     */\n    constructor(options) {\n      if (!Array.isArray(options.coordinates)) {\n        throw new Error('coordinates of Ellipse must be an array')\n      }\n      if (options.coordinates.length !== 4) {\n        throw new Error('coordinates of Ellipse must be an array of length 4')\n      }\n      if(options.coordinates.find(c => c.length !== 3)!== undefined) {\n        throw new Error('coordinates of Ellipse must be an array of (x,y,z) triplets')\n      }\n      if(options.coordinates.find(c => c.some((item => item < 0)))) {\n        throw new Error('coordinates of Ellipse must be positive numbers')\n      }\n      // TODO: assert major and minor axes are in right angle\n      super({\n        coordinates: options.coordinates,\n        frameOfReferenceUID: options.frameOfReferenceUID,\n        fiducialUID: options.fiducialUID\n      });\n    }\n\n    get graphicType() {\n      return 'ELLIPSE'\n    }\n\n  }\n\n  var dicomwebClient = createCommonjsModule(function (module, exports) {\n  (function (global, factory) {\n    factory(exports);\n  }(commonjsGlobal, (function (exports) {\n    function _typeof(obj) {\n      if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n        _typeof = function (obj) {\n          return typeof obj;\n        };\n      } else {\n        _typeof = function (obj) {\n          return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n        };\n      }\n\n      return _typeof(obj);\n    }\n\n    function _classCallCheck(instance, Constructor) {\n      if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n      }\n    }\n\n    function _defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    function _createClass(Constructor, protoProps, staticProps) {\n      if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) _defineProperties(Constructor, staticProps);\n      return Constructor;\n    }\n\n    /**\n     * Converts a Uint8Array to a String.\n     * @param {Uint8Array} array that should be converted\n     * @param {Number} offset array offset in case only subset of array items should\n                       be extracted (default: 0)\n     * @param {Number} limit maximum number of array items that should be extracted\n                       (defaults to length of array)\n     * @returns {String}\n     */\n    function uint8ArrayToString(arr) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var limit = arguments.length > 2 ? arguments[2] : undefined;\n      var itemLimit = limit || arr.length - offset;\n      var str = \"\";\n\n      for (var i = offset; i < offset + itemLimit; i++) {\n        str += String.fromCharCode(arr[i]);\n      }\n\n      return str;\n    }\n    /**\n     * Converts a String to a Uint8Array.\n     * @param {String} str string that should be converted\n     * @returns {Uint8Array}\n     */\n\n\n    function stringToUint8Array(str) {\n      var arr = new Uint8Array(str.length);\n\n      for (var i = 0, j = str.length; i < j; i++) {\n        arr[i] = str.charCodeAt(i);\n      }\n\n      return arr;\n    }\n    /**\n     * Identifies the boundary in a multipart/related message header.\n     * @param {String} header message header\n     * @returns {String} boundary\n     */\n\n\n    function identifyBoundary(header) {\n      var parts = header.split(\"\\r\\n\");\n\n      for (var i = 0; i < parts.length; i++) {\n        if (parts[i].substr(0, 2) === \"--\") {\n          return parts[i];\n        }\n      }\n\n      return null;\n    }\n    /**\n     * Checks whether a given token is contained by a message at a given offset.\n     * @param {Uint8Array} message message content\n     * @param {Uint8Array} token substring that should be present\n     * @param {Number} offset offset in message content from where search should start\n     * @returns {Boolean} whether message contains token at offset\n     */\n\n\n    function containsToken(message, token) {\n      var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n      if (offset + token.length > message.length) {\n        return false;\n      }\n\n      var index = offset;\n\n      for (var i = 0; i < token.length; i++) {\n        if (token[i] !== message[index]) {\n          return false;\n        }\n\n        index += 1;\n      }\n\n      return true;\n    }\n    /**\n     * Finds a given token in a message at a given offset.\n     * @param {Uint8Array} message message content\n     * @param {Uint8Array} token substring that should be found\n     * @param {String} offset message body offset from where search should start\n     * @returns {Boolean} whether message has a part at given offset or not\n     */\n\n\n    function findToken(message, token) {\n      var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var maxSearchLength = arguments.length > 3 ? arguments[3] : undefined;\n      var searchLength = message.length;\n\n      if (maxSearchLength) {\n        searchLength = Math.min(offset + maxSearchLength, message.length);\n      }\n\n      for (var i = offset; i < searchLength; i++) {\n        // If the first value of the message matches\n        // the first value of the token, check if\n        // this is the full token.\n        if (message[i] === token[0]) {\n          if (containsToken(message, token, i)) {\n            return i;\n          }\n        }\n      }\n\n      return -1;\n    }\n    /**\n     * Create a random GUID\n     *\n     * @return {string}\n     */\n\n\n    function guid() {\n      function s4() {\n        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n      }\n\n      return \"\".concat(s4() + s4(), \"-\").concat(s4(), \"-\").concat(s4(), \"-\").concat(s4(), \"-\").concat(s4()).concat(s4()).concat(s4());\n    }\n    /**\n     * @typedef {Object} MultipartEncodedData\n     * @property {ArrayBuffer} data The encoded Multipart Data\n     * @property {String} boundary The boundary used to divide pieces of the encoded data\n     */\n\n    /**\n     * Encode one or more DICOM datasets into a single body so it can be\n     * sent using the Multipart Content-Type.\n     *\n     * @param {ArrayBuffer[]} datasets Array containing each file to be encoded in the\n                              multipart body, passed as ArrayBuffers.\n     * @param {String} [boundary] Optional string to define a boundary between each part\n                                  of the multipart body. If this is not specified, a random\n                                  GUID will be generated.\n     * @return {MultipartEncodedData} The Multipart encoded data returned as an Object. This\n                                      contains both the data itself, and the boundary string\n                                      used to divide it.\n     */\n\n\n    function multipartEncode(datasets) {\n      var boundary = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : guid();\n      var contentType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"application/dicom\";\n      var contentTypeString = \"Content-Type: \".concat(contentType);\n      var header = \"\\r\\n--\".concat(boundary, \"\\r\\n\").concat(contentTypeString, \"\\r\\n\\r\\n\");\n      var footer = \"\\r\\n--\".concat(boundary, \"--\");\n      var headerArray = stringToUint8Array(header);\n      var footerArray = stringToUint8Array(footer);\n      var headerLength = headerArray.length;\n      var footerLength = footerArray.length;\n      var length = 0; // Calculate the total length for the final array\n\n      var contentArrays = datasets.map(function (datasetBuffer) {\n        var contentArray = new Uint8Array(datasetBuffer);\n        var contentLength = contentArray.length;\n        length += headerLength + contentLength + footerLength;\n        return contentArray;\n      }); // Allocate the array\n\n      var multipartArray = new Uint8Array(length); // Set the initial header\n\n      multipartArray.set(headerArray, 0); // Write each dataset into the multipart array\n\n      var position = 0;\n      contentArrays.forEach(function (contentArray) {\n        multipartArray.set(headerArray, position);\n        multipartArray.set(contentArray, position + headerLength);\n        position += headerLength + contentArray.length;\n      });\n      multipartArray.set(footerArray, position);\n      return {\n        data: multipartArray.buffer,\n        boundary: boundary\n      };\n    }\n    /**\n     * Decode a Multipart encoded ArrayBuffer and return the components as an Array.\n     *\n     * @param {ArrayBuffer} response Data encoded as a 'multipart/related' message\n     * @returns {Array} The content\n     */\n\n\n    function multipartDecode(response) {\n      var message = new Uint8Array(response);\n      /* Set a maximum length to search for the header boundaries, otherwise\n           findToken can run for a long time\n        */\n\n      var maxSearchLength = 1000; // First look for the multipart mime header\n\n      var separator = stringToUint8Array(\"\\r\\n\\r\\n\");\n      var headerIndex = findToken(message, separator, 0, maxSearchLength);\n\n      if (headerIndex === -1) {\n        throw new Error(\"Response message has no multipart mime header\");\n      }\n\n      var header = uint8ArrayToString(message, 0, headerIndex);\n      var boundaryString = identifyBoundary(header);\n\n      if (!boundaryString) {\n        throw new Error(\"Header of response message does not specify boundary\");\n      }\n\n      var boundary = stringToUint8Array(boundaryString);\n      var boundaryLength = boundary.length;\n      var components = [];\n      var offset = boundaryLength; // Loop until we cannot find any more boundaries\n\n      var boundaryIndex;\n\n      while (boundaryIndex !== -1) {\n        // Search for the next boundary in the message, starting\n        // from the current offset position\n        boundaryIndex = findToken(message, boundary, offset); // If no further boundaries are found, stop here.\n\n        if (boundaryIndex === -1) {\n          break;\n        }\n\n        var headerTokenIndex = findToken(message, separator, offset, maxSearchLength);\n\n        if (headerTokenIndex === -1) {\n          throw new Error(\"Response message part has no mime header\");\n        }\n\n        offset = headerTokenIndex + separator.length; // Extract data from response message, excluding \"\\r\\n\"\n\n        var spacingLength = 2;\n        var data = response.slice(offset, boundaryIndex - spacingLength); // Add the data to the array of results\n\n        components.push(data); // Move the offset to the end of the current section,\n        // plus the identified boundary\n\n        offset = boundaryIndex + boundaryLength;\n      }\n\n      return components;\n    }\n\n    function isObject(obj) {\n      return _typeof(obj) === \"object\" && obj !== null;\n    }\n\n    function isEmptyObject(obj) {\n      return Object.keys(obj).length === 0 && obj.constructor === Object;\n    }\n\n    var getFirstResult = function getFirstResult(result) {\n      return result[0];\n    };\n\n    var getFirstResultIfLengthGtOne = function getFirstResultIfLengthGtOne(result) {\n      if (result.length > 1) {\n        return result;\n      }\n\n      return result[0];\n    };\n\n    var MEDIATYPES = {\n      DICOM: \"application/dicom\",\n      DICOM_JSON: \"application/dicom+json\",\n      OCTET_STREAM: \"application/octet-stream\",\n      PDF: \"application/pdf\",\n      JPEG: \"image/jpeg\",\n      PNG: \"image/png\"\n    };\n    /**\n     * Class for interacting with DICOMweb RESTful services.\n     */\n\n    var DICOMwebClient =\n    /*#__PURE__*/\n    function () {\n      /**\n       * @constructor\n       * @param {Object} options (choices: \"url\", \"username\", \"password\", \"headers\")\n       */\n      function DICOMwebClient(options) {\n        _classCallCheck(this, DICOMwebClient);\n\n        this.baseURL = options.url;\n\n        if (!this.baseURL) {\n          console.error(\"no DICOMweb base url provided - calls will fail\");\n        }\n\n        if (\"username\" in options) {\n          this.username = options.username;\n\n          if (!(\"password\" in options)) {\n            console.error(\"no password provided to authenticate with DICOMweb service\");\n          }\n\n          this.password = options.password;\n        }\n\n        if (\"qidoURLPrefix\" in options) {\n          console.log(\"use URL prefix for QIDO-RS: \".concat(options.qidoURLPrefix));\n          this.qidoURL = \"\".concat(this.baseURL, \"/\").concat(options.qidoURLPrefix);\n        } else {\n          this.qidoURL = this.baseURL;\n        }\n\n        if (\"wadoURLPrefix\" in options) {\n          console.log(\"use URL prefix for WADO-RS: \".concat(options.wadoURLPrefix));\n          this.wadoURL = \"\".concat(this.baseURL, \"/\").concat(options.wadoURLPrefix);\n        } else {\n          this.wadoURL = this.baseURL;\n        }\n\n        if (\"stowURLPrefix\" in options) {\n          console.log(\"use URL prefix for STOW-RS: \".concat(options.stowURLPrefix));\n          this.stowURL = \"\".concat(this.baseURL, \"/\").concat(options.stowURLPrefix);\n        } else {\n          this.stowURL = this.baseURL;\n        }\n\n        this.headers = options.headers || {};\n      }\n\n      _createClass(DICOMwebClient, [{\n        key: \"_httpRequest\",\n        value: function _httpRequest(url, method, headers) {\n          var _this = this;\n\n          var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n          return new Promise(function (resolve, reject) {\n            var request = new XMLHttpRequest();\n            request.open(method, url, true);\n\n            if (\"responseType\" in options) {\n              request.responseType = options.responseType;\n            }\n\n            if (_typeof(headers) === \"object\") {\n              Object.keys(headers).forEach(function (key) {\n                request.setRequestHeader(key, headers[key]);\n              });\n            } // now add custom headers from the user\n            // (e.g. access tokens)\n\n\n            var userHeaders = _this.headers;\n            Object.keys(userHeaders).forEach(function (key) {\n              request.setRequestHeader(key, userHeaders[key]);\n            }); // Event triggered when upload starts\n\n            request.onloadstart = function onloadstart() {// console.log('upload started: ', url)\n            }; // Event triggered when upload ends\n\n\n            request.onloadend = function onloadend() {// console.log('upload finished')\n            }; // Handle response message\n\n\n            request.onreadystatechange = function onreadystatechange() {\n              if (request.readyState === 4) {\n                if (request.status === 200) {\n                  resolve(request.response);\n                } else if (request.status === 202) {\n                  console.warn(\"some resources already existed: \", request);\n                  resolve(request.response);\n                } else if (request.status === 204) {\n                  console.warn(\"empty response for request: \", request);\n                  resolve([]);\n                } else {\n                  console.error(\"request failed: \", request);\n                  var error = new Error(\"request failed\");\n                  error.request = request;\n                  error.response = request.response;\n                  error.status = request.status;\n                  console.error(error);\n                  console.error(error.response);\n                  reject(error);\n                }\n              }\n            }; // Event triggered while download progresses\n\n\n            if (\"progressCallback\" in options) {\n              if (typeof options.progressCallback === \"function\") {\n                request.onprogress = options.progressCallback;\n              }\n            } // request.onprogress = function (event) {\n            //   const loaded = progress.loaded;\n            //   let total;\n            //   let percentComplete;\n            //   if (progress.lengthComputable) {\n            //     total = progress.total;\n            //     percentComplete = Math.round((loaded / total) * 100);\n            //   j\n            //   // console.log('download progress: ', percentComplete, ' %');\n            //   return(percentComplete);\n            // };\n\n\n            if (\"data\" in options) {\n              request.send(options.data);\n            } else {\n              request.send();\n            }\n          });\n        }\n      }, {\n        key: \"_httpGet\",\n        value: function _httpGet(url, headers, responseType, progressCallback) {\n          return this._httpRequest(url, \"get\", headers, {\n            responseType: responseType,\n            progressCallback: progressCallback\n          });\n        }\n      }, {\n        key: \"_httpGetApplicationJson\",\n        value: function _httpGetApplicationJson(url) {\n          var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n          var progressCallback = arguments.length > 2 ? arguments[2] : undefined;\n          var urlWithQueryParams = url;\n\n          if (_typeof(params) === \"object\") {\n            if (!isEmptyObject(params)) {\n              urlWithQueryParams += DICOMwebClient._parseQueryParameters(params);\n            }\n          }\n\n          var headers = {\n            Accept: MEDIATYPES.DICOM_JSON\n          };\n          var responseType = \"json\";\n          return this._httpGet(urlWithQueryParams, headers, responseType, progressCallback);\n        }\n        /**\n         * Performs an HTTP GET request that accepts a message with\n         \"application/pdf\" media type.\n         * @param {String} url\n         * @param {Object[]} mediaTypes\n         * @param {Object} params\n         * @param {Function} progressCallback\n         * @return {*}\n         * @private\n         */\n\n      }, {\n        key: \"_httpGetApplicationPdf\",\n        value: function _httpGetApplicationPdf(url) {\n          var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n          var progressCallback = arguments.length > 2 ? arguments[2] : undefined;\n          var urlWithQueryParams = url;\n\n          if (_typeof(params) === \"object\") {\n            if (!isEmptyObject(params)) {\n              urlWithQueryParams += DICOMwebClient._parseQueryParameters(params);\n            }\n          }\n\n          var headers = {\n            Accept: MEDIATYPES.PDF\n          };\n          var responseType = \"json\";\n          return this._httpGet(urlWithQueryParams, headers, responseType, progressCallback);\n        }\n        /**\n         * Performs an HTTP GET request that accepts a message with an image\n         media type.\n         *\n         * @param {String} url\n         * @param {Object[]} mediaTypes\n         * @param {Object} params\n         * @param {Function} progressCallback\n         * @return {*}\n         * @private\n         */\n\n      }, {\n        key: \"_httpGetImage\",\n        value: function _httpGetImage(url, mediaTypes) {\n          var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n          var progressCallback = arguments.length > 3 ? arguments[3] : undefined;\n          var urlWithQueryParams = url;\n\n          if (_typeof(params) === \"object\") {\n            if (!isEmptyObject(params)) {\n              urlWithQueryParams += DICOMwebClient._parseQueryParameters(params);\n            }\n          }\n\n          var supportedMediaTypes = [\"image/\", \"image/*\", \"image/jpeg\", \"image/jp2\", \"image/gif\", \"image/png\"];\n\n          var acceptHeaderFieldValue = DICOMwebClient._buildAcceptHeaderFieldValue(mediaTypes, supportedMediaTypes);\n\n          var headers = {\n            Accept: acceptHeaderFieldValue\n          };\n          var responseType = \"arraybuffer\";\n          return this._httpGet(urlWithQueryParams, headers, responseType, progressCallback);\n        }\n        /**\n         * Performs an HTTP GET request that accepts a message with a text\n         media type.\n         *\n         * @param {String} url\n         * @param {Object[]} mediaTypes\n         * @param {Object} params\n         * @param {Function} progressCallback\n         * @return {*}\n         * @private\n         */\n\n      }, {\n        key: \"_httpGetText\",\n        value: function _httpGetText(url, mediaTypes) {\n          var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n          var progressCallback = arguments.length > 3 ? arguments[3] : undefined;\n          var urlWithQueryParams = url;\n\n          if (_typeof(params) === \"object\") {\n            if (!isEmptyObject(params)) {\n              urlWithQueryParams += DICOMwebClient._parseQueryParameters(params);\n            }\n          }\n\n          var supportedMediaTypes = [\"text/\", \"text/*\", \"text/html\", \"text/plain\", \"text/rtf\", \"text/xml\"];\n\n          var acceptHeaderFieldValue = DICOMwebClient._buildAcceptHeaderFieldValue(mediaTypes, supportedMediaTypes);\n\n          var headers = {\n            Accept: acceptHeaderFieldValue\n          };\n          var responseType = \"arraybuffer\";\n          return this._httpGet(urlWithQueryParams, headers, responseType, progressCallback);\n        }\n        /**\n         * Performs an HTTP GET request that accepts a message with a video\n         media type.\n         *\n         * @param {String} url\n         * @param {Object[]} mediaTypes\n         * @param {Object} params\n         * @param {Function} progressCallback\n         * @return {*}\n         * @private\n         */\n\n      }, {\n        key: \"_httpGetVideo\",\n        value: function _httpGetVideo(url, mediaTypes) {\n          var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n          var progressCallback = arguments.length > 3 ? arguments[3] : undefined;\n          var urlWithQueryParams = url;\n\n          if (_typeof(params) === \"object\") {\n            if (!isEmptyObject(params)) {\n              urlWithQueryParams += DICOMwebClient._parseQueryParameters(params);\n            }\n          }\n\n          var supportedMediaTypes = [\"video/\", \"video/*\", \"video/mpeg\", \"video/mp4\", \"video/H265\"];\n\n          var acceptHeaderFieldValue = DICOMwebClient._buildAcceptHeaderFieldValue(mediaTypes, supportedMediaTypes);\n\n          var headers = {\n            Accept: acceptHeaderFieldValue\n          };\n          var responseType = \"arraybuffer\";\n          return this._httpGet(urlWithQueryParams, headers, responseType, progressCallback);\n        }\n        /**\n         * Asserts that a given media type is valid.\n         *\n         * @params {String} mediaType media type\n         */\n\n      }, {\n        key: \"_httpGetMultipartImage\",\n\n        /**\n         * Performs an HTTP GET request that accepts a multipart message with an image media type.\n         *\n         * @param {String} url unique resource locator\n         * @param {Object[]} mediaTypes acceptable media types and optionally the UIDs of the\n         corresponding transfer syntaxes\n         * @param {Array} byteRange start and end of byte range\n         * @param {Object} params additional HTTP GET query parameters\n         * @param {Boolean} rendered whether resource should be requested using rendered media types\n         * @param {Function} progressCallback\n         * @private\n         * @returns {Array} content of HTTP message body parts\n         */\n        value: function _httpGetMultipartImage(url, mediaTypes, byteRange, params) {\n          var rendered = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n          var progressCallback = arguments.length > 5 ? arguments[5] : undefined;\n          var headers = {};\n          var supportedMediaTypes;\n\n          if (rendered) {\n            supportedMediaTypes = [\"image/jpeg\", \"image/gif\", \"image/png\", \"image/jp2\"];\n          } else {\n            supportedMediaTypes = {\n              \"1.2.840.10008.1.2.5\": [\"image/x-dicom-rle\"],\n              \"1.2.840.10008.1.2.4.50\": [\"image/jpeg\"],\n              \"1.2.840.10008.1.2.4.51\": [\"image/jpeg\"],\n              \"1.2.840.10008.1.2.4.57\": [\"image/jpeg\"],\n              \"1.2.840.10008.1.2.4.70\": [\"image/jpeg\"],\n              \"1.2.840.10008.1.2.4.80\": [\"image/x-jls\", \"image/jls\"],\n              \"1.2.840.10008.1.2.4.81\": [\"image/x-jls\", \"image/jls\"],\n              \"1.2.840.10008.1.2.4.90\": [\"image/jp2\"],\n              \"1.2.840.10008.1.2.4.91\": [\"image/jp2\"],\n              \"1.2.840.10008.1.2.4.92\": [\"image/jpx\"],\n              \"1.2.840.10008.1.2.4.93\": [\"image/jpx\"]\n            };\n\n            if (byteRange) {\n              headers.Range = DICOMwebClient._buildRangeHeaderFieldValue(byteRange);\n            }\n          }\n\n          headers.Accept = DICOMwebClient._buildMultipartAcceptHeaderFieldValue(mediaTypes, supportedMediaTypes);\n          return this._httpGet(url, headers, \"arraybuffer\", progressCallback).then(multipartDecode);\n        }\n        /**\n         * Performs an HTTP GET request that accepts a multipart message with a video media type.\n         *\n         * @param {String} url unique resource locator\n         * @param {Object[]} mediaTypes acceptable media types and optionally the UIDs of the\n         corresponding transfer syntaxes\n         * @param {Array} byteRange start and end of byte range\n         * @param {Object} params additional HTTP GET query parameters\n         * @param {Boolean} rendered whether resource should be requested using rendered media types\n         * @param {Function} progressCallback\n         * @private\n         * @returns {Array} content of HTTP message body parts\n         */\n\n      }, {\n        key: \"_httpGetMultipartVideo\",\n        value: function _httpGetMultipartVideo(url, mediaTypes, byteRange, params) {\n          var rendered = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n          var progressCallback = arguments.length > 5 ? arguments[5] : undefined;\n          var headers = {};\n          var supportedMediaTypes;\n\n          if (rendered) {\n            supportedMediaTypes = [\"video/\", \"video/*\", \"video/mpeg2\", \"video/mp4\", \"video/H265\"];\n          } else {\n            supportedMediaTypes = {\n              \"1.2.840.10008.1.2.4.100\": [\"video/mpeg2\"],\n              \"1.2.840.10008.1.2.4.101\": [\"video/mpeg2\"],\n              \"1.2.840.10008.1.2.4.102\": [\"video/mp4\"],\n              \"1.2.840.10008.1.2.4.103\": [\"video/mp4\"],\n              \"1.2.840.10008.1.2.4.104\": [\"video/mp4\"],\n              \"1.2.840.10008.1.2.4.105\": [\"video/mp4\"],\n              \"1.2.840.10008.1.2.4.106\": [\"video/mp4\"]\n            };\n\n            if (byteRange) {\n              headers.Range = DICOMwebClient._buildRangeHeaderFieldValue(byteRange);\n            }\n          }\n\n          headers.Accept = DICOMwebClient._buildMultipartAcceptHeaderFieldValue(mediaTypes, supportedMediaTypes);\n          return this._httpGet(url, headers, \"arraybuffer\", progressCallback).then(multipartDecode);\n        }\n        /**\n         * Performs a HTTP GET request that accepts a multipart message with \"application/dicom\" media type\n         *\n         * @param {String} url unique resource locator\n         * @param {Object[]} mediaTypes acceptable media types and optionally the UIDs of the\n         corresponding transfer syntaxes\n         * @param {Object} params additional HTTP GET query parameters\n         * @param {Function} progressCallback\n         * @private\n         * @returns {Array} content of HTTP message body parts\n         */\n\n      }, {\n        key: \"_httpGetMultipartApplicationDicom\",\n        value: function _httpGetMultipartApplicationDicom(url, mediaTypes, params, progressCallback) {\n          var headers = {};\n          var defaultMediaType = \"application/dicom\";\n          var supportedMediaTypes = {\n            \"1.2.840.10008.1.2.1\": [defaultMediaType],\n            \"1.2.840.10008.1.2.5\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.50\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.51\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.57\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.70\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.80\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.81\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.90\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.91\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.92\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.93\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.100\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.101\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.102\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.103\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.104\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.105\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.106\": [defaultMediaType]\n          };\n          var acceptableMediaTypes = mediaTypes;\n\n          if (!mediaTypes) {\n            acceptableMediaTypes = [{\n              mediaType: defaultMediaType\n            }];\n          }\n\n          headers.Accept = DICOMwebClient._buildMultipartAcceptHeaderFieldValue(acceptableMediaTypes, supportedMediaTypes);\n          return this._httpGet(url, headers, \"arraybuffer\", progressCallback).then(multipartDecode);\n        }\n        /**\n         * Performs a HTTP GET request that accepts a multipart message with \"application/octet-stream\" media type\n         *\n         * @param {String} url unique resource locator\n         * @param {Object[]} mediaTypes acceptable media types and optionally the UIDs of the\n         corresponding transfer syntaxes\n         * @param {Array} byteRange start and end of byte range\n         * @param {Object} params additional HTTP GET query parameters\n         * @param {Function} progressCallback\n         * @private\n         * @returns {Array} content of HTTP message body parts\n         */\n\n      }, {\n        key: \"_httpGetMultipartApplicationOctetStream\",\n        value: function _httpGetMultipartApplicationOctetStream(url, mediaTypes, byteRange, params, progressCallback) {\n          var headers = {};\n          var defaultMediaType = \"application/octet-stream\";\n          var supportedMediaTypes = {\n            \"1.2.840.10008.1.2.1\": [defaultMediaType]\n          };\n          var acceptableMediaTypes = mediaTypes;\n\n          if (!mediaTypes) {\n            acceptableMediaTypes = [{\n              mediaType: defaultMediaType\n            }];\n          }\n\n          if (byteRange) {\n            headers.Range = DICOMwebClient._buildRangeHeaderFieldValue(byteRange);\n          }\n\n          headers.Accept = DICOMwebClient._buildMultipartAcceptHeaderFieldValue(acceptableMediaTypes, supportedMediaTypes);\n          return this._httpGet(url, headers, \"arraybuffer\", progressCallback).then(multipartDecode);\n        }\n      }, {\n        key: \"_httpPost\",\n        value: function _httpPost(url, headers, data, progressCallback) {\n          return this._httpRequest(url, \"post\", headers, {\n            data: data,\n            progressCallback: progressCallback\n          });\n        }\n      }, {\n        key: \"_httpPostApplicationJson\",\n        value: function _httpPostApplicationJson(url, data, progressCallback) {\n          var headers = {\n            \"Content-Type\": MEDIATYPES.DICOM_JSON\n          };\n          return this._httpPost(url, headers, data, progressCallback);\n        }\n        /**\n         * Parses media type and extracts its type and subtype.\n         *\n         * @param mediaType e.g. image/jpeg\n         * @private\n         */\n\n      }, {\n        key: \"searchForStudies\",\n\n        /**\n         * Searches for DICOM studies.\n         * @param {Object} options options object\n         * @return {Array} study representations (http://dicom.nema.org/medical/dicom/current/output/chtml/part18/sect_6.7.html#table_6.7.1-2)\n         */\n        value: function searchForStudies() {\n          var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          console.log(\"search for studies\");\n          var url = \"\".concat(this.qidoURL, \"/studies\");\n\n          if (\"queryParams\" in options) {\n            url += DICOMwebClient._parseQueryParameters(options.queryParams);\n          }\n\n          return this._httpGetApplicationJson(url);\n        }\n        /**\n         * Retrieves metadata for a DICOM study.\n         * @param {Object} options options object\n         * @returns {Array} metadata elements in DICOM JSON format for each instance\n                            belonging to the study\n         */\n\n      }, {\n        key: \"retrieveStudyMetadata\",\n        value: function retrieveStudyMetadata(options) {\n          if (!(\"studyInstanceUID\" in options)) {\n            throw new Error(\"Study Instance UID is required for retrieval of study metadata\");\n          }\n\n          console.log(\"retrieve metadata of study \".concat(options.studyInstanceUID));\n          var url = \"\".concat(this.wadoURL, \"/studies/\").concat(options.studyInstanceUID, \"/metadata\");\n          return this._httpGetApplicationJson(url);\n        }\n        /**\n         * Searches for DICOM series.\n         * @param {Object} options options object\n         * @returns {Array} series representations (http://dicom.nema.org/medical/dicom/current/output/chtml/part18/sect_6.7.html#table_6.7.1-2a)\n         */\n\n      }, {\n        key: \"searchForSeries\",\n        value: function searchForSeries() {\n          var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          var url = this.qidoURL;\n\n          if (\"studyInstanceUID\" in options) {\n            console.log(\"search series of study \".concat(options.studyInstanceUID));\n            url += \"/studies/\".concat(options.studyInstanceUID);\n          }\n\n          url += \"/series\";\n\n          if (\"queryParams\" in options) {\n            url += DICOMwebClient._parseQueryParameters(options.queryParams);\n          }\n\n          return this._httpGetApplicationJson(url);\n        }\n        /**\n         * Retrieves metadata for a DICOM series.\n         * @param {Object} options options object\n         * @returns {Array} metadata elements in DICOM JSON format for each instance\n                            belonging to the series\n         */\n\n      }, {\n        key: \"retrieveSeriesMetadata\",\n        value: function retrieveSeriesMetadata(options) {\n          if (!(\"studyInstanceUID\" in options)) {\n            throw new Error(\"Study Instance UID is required for retrieval of series metadata\");\n          }\n\n          if (!(\"seriesInstanceUID\" in options)) {\n            throw new Error(\"Series Instance UID is required for retrieval of series metadata\");\n          }\n\n          console.log(\"retrieve metadata of series \".concat(options.seriesInstanceUID));\n          var url = \"\".concat(this.wadoURL, \"/studies/\").concat(options.studyInstanceUID, \"/series/\").concat(options.seriesInstanceUID, \"/metadata\");\n          return this._httpGetApplicationJson(url);\n        }\n        /**\n         * Searches for DICOM instances.\n         * @param {Object} options options object\n         * @returns {Array} instance representations (http://dicom.nema.org/medical/dicom/current/output/chtml/part18/sect_6.7.html#table_6.7.1-2b)\n         */\n\n      }, {\n        key: \"searchForInstances\",\n        value: function searchForInstances() {\n          var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          var url = this.qidoURL;\n\n          if (\"studyInstanceUID\" in options) {\n            url += \"/studies/\".concat(options.studyInstanceUID);\n\n            if (\"seriesInstanceUID\" in options) {\n              console.log(\"search for instances of series \".concat(options.seriesInstanceUID));\n              url += \"/series/\".concat(options.seriesInstanceUID);\n            } else {\n              console.log(\"search for instances of study \".concat(options.studyInstanceUID));\n            }\n          } else {\n            console.log(\"search for instances\");\n          }\n\n          url += \"/instances\";\n\n          if (\"queryParams\" in options) {\n            url += DICOMwebClient._parseQueryParameters(options.queryParams);\n          }\n\n          return this._httpGetApplicationJson(url);\n        }\n        /** Returns a WADO-URI URL for an instance\n         * @param {Object} options options object\n         * @returns {String} WADO-URI URL\n         */\n\n      }, {\n        key: \"buildInstanceWadoURIUrl\",\n        value: function buildInstanceWadoURIUrl(options) {\n          if (!(\"studyInstanceUID\" in options)) {\n            throw new Error(\"Study Instance UID is required.\");\n          }\n\n          if (!(\"seriesInstanceUID\" in options)) {\n            throw new Error(\"Series Instance UID is required.\");\n          }\n\n          if (!(\"sopInstanceUID\" in options)) {\n            throw new Error(\"SOP Instance UID is required.\");\n          }\n\n          var contentType = options.contentType || MEDIATYPES.DICOM;\n          var transferSyntax = options.transferSyntax || \"*\";\n          var params = [];\n          params.push(\"requestType=WADO\");\n          params.push(\"studyUID=\".concat(options.studyInstanceUID));\n          params.push(\"seriesUID=\".concat(options.seriesInstanceUID));\n          params.push(\"objectUID=\".concat(options.sopInstanceUID));\n          params.push(\"contentType=\".concat(contentType));\n          params.push(\"transferSyntax=\".concat(transferSyntax));\n          var paramString = params.join(\"&\");\n          return \"\".concat(this.wadoURL, \"?\").concat(paramString);\n        }\n        /**\n         * Retrieves metadata for a DICOM instance.\n         *\n         * @param {Object} options object\n         * @returns {Object} metadata elements in DICOM JSON format\n         */\n\n      }, {\n        key: \"retrieveInstanceMetadata\",\n        value: function retrieveInstanceMetadata(options) {\n          if (!(\"studyInstanceUID\" in options)) {\n            throw new Error(\"Study Instance UID is required for retrieval of instance metadata\");\n          }\n\n          if (!(\"seriesInstanceUID\" in options)) {\n            throw new Error(\"Series Instance UID is required for retrieval of instance metadata\");\n          }\n\n          if (!(\"sopInstanceUID\" in options)) {\n            throw new Error(\"SOP Instance UID is required for retrieval of instance metadata\");\n          }\n\n          console.log(\"retrieve metadata of instance \".concat(options.sopInstanceUID));\n          var url = \"\".concat(this.wadoURL, \"/studies/\").concat(options.studyInstanceUID, \"/series/\").concat(options.seriesInstanceUID, \"/instances/\").concat(options.sopInstanceUID, \"/metadata\");\n          return this._httpGetApplicationJson(url);\n        }\n        /**\n         * Retrieves frames for a DICOM instance.\n         * @param {Object} options options object\n         * @returns {Array} frame items as byte arrays of the pixel data element\n         */\n\n      }, {\n        key: \"retrieveInstanceFrames\",\n        value: function retrieveInstanceFrames(options) {\n          if (!(\"studyInstanceUID\" in options)) {\n            throw new Error(\"Study Instance UID is required for retrieval of instance frames\");\n          }\n\n          if (!(\"seriesInstanceUID\" in options)) {\n            throw new Error(\"Series Instance UID is required for retrieval of instance frames\");\n          }\n\n          if (!(\"sopInstanceUID\" in options)) {\n            throw new Error(\"SOP Instance UID is required for retrieval of instance frames\");\n          }\n\n          if (!(\"frameNumbers\" in options)) {\n            throw new Error(\"frame numbers are required for retrieval of instance frames\");\n          }\n\n          console.log(\"retrieve frames \".concat(options.frameNumbers.toString(), \" of instance \").concat(options.sopInstanceUID));\n          var url = \"\".concat(this.wadoURL, \"/studies/\").concat(options.studyInstanceUID, \"/series/\").concat(options.seriesInstanceUID, \"/instances/\").concat(options.sopInstanceUID, \"/frames/\").concat(options.frameNumbers.toString());\n          var mediaTypes = options.mediaTypes;\n\n          if (!mediaTypes) {\n            return this._httpGetMultipartApplicationOctetStream(url);\n          }\n\n          var commonMediaType = DICOMwebClient._getCommonMediaType(mediaTypes);\n\n          if (commonMediaType === MEDIATYPES.OCTET_STREAM) {\n            return this._httpGetMultipartApplicationOctetStream(url, mediaTypes);\n          } else if (commonMediaType.startsWith(\"image\")) {\n            return this._httpGetMultipartImage(url, mediaTypes);\n          } else if (commonMediaType.startsWith(\"video\")) {\n            return this._httpGetMultipartVideo(url, mediaTypes);\n          }\n\n          throw new Error(\"Media type \".concat(commonMediaType, \" is not supported for retrieval of frames.\"));\n        }\n        /**\n         * Retrieves an individual, server-side rendered DICOM instance.\n         *\n         * @param {Object} options options object\n         * @returns {Array} frame items as byte arrays of the pixel data element\n         */\n\n      }, {\n        key: \"retrieveInstanceRendered\",\n        value: function retrieveInstanceRendered(options) {\n          if (!(\"studyInstanceUID\" in options)) {\n            throw new Error(\"Study Instance UID is required for retrieval of rendered instance\");\n          }\n\n          if (!(\"seriesInstanceUID\" in options)) {\n            throw new Error(\"Series Instance UID is required for retrieval of rendered instance\");\n          }\n\n          if (!(\"sopInstanceUID\" in options)) {\n            throw new Error(\"SOP Instance UID is required for retrieval of rendered instance\");\n          }\n\n          var url = \"\".concat(this.wadoURL, \"/studies/\").concat(options.studyInstanceUID, \"/series/\").concat(options.seriesInstanceUID, \"/instances/\").concat(options.sopInstanceUID, \"/rendered\");\n          var mediaTypes = options.mediaTypes,\n              params = options.params;\n          var headers = {};\n\n          if (!mediaTypes) {\n            var responseType = \"arraybuffer\";\n            return this._httpGet(url, headers, responseType);\n          }\n\n          var commonMediaType = DICOMwebClient._getCommonMediaType(mediaTypes);\n\n          if (commonMediaType.startsWith(\"image\")) {\n            return this._httpGetImage(url, mediaTypes, params);\n          } else if (commonMediaType.startsWith(\"video\")) {\n            return this._httpGetVideo(url, mediaTypes, params);\n          } else if (commonMediaType.startsWith(\"text\")) {\n            return this._httpGetText(url, mediaTypes, params);\n          } else if (commonMediaType === MEDIATYPES.PDF) {\n            return this._httpGetApplicationPdf(url, params);\n          }\n\n          throw new Error(\"Media type \".concat(commonMediaType, \" is not supported for retrieval of rendered instance.\"));\n        }\n        /**\n         * Retrieves rendered frames for a DICOM instance.\n         * @param {Object} options options object\n         * @returns {Array} frame items as byte arrays of the pixel data element\n         */\n\n      }, {\n        key: \"retrieveInstanceFramesRendered\",\n        value: function retrieveInstanceFramesRendered(options) {\n          if (!(\"studyInstanceUID\" in options)) {\n            throw new Error(\"Study Instance UID is required for retrieval of rendered instance frames\");\n          }\n\n          if (!(\"seriesInstanceUID\" in options)) {\n            throw new Error(\"Series Instance UID is required for retrieval of rendered instance frames\");\n          }\n\n          if (!(\"sopInstanceUID\" in options)) {\n            throw new Error(\"SOP Instance UID is required for retrieval of rendered instance frames\");\n          }\n\n          if (!(\"frameNumbers\" in options)) {\n            throw new Error(\"frame numbers are required for retrieval of rendered instance frames\");\n          }\n\n          console.debug(\"retrieve rendered frames \".concat(options.frameNumbers.toString(), \" of instance \").concat(options.sopInstanceUID));\n          var url = \"\".concat(this.wadoURL, \"/studies/\").concat(options.studyInstanceUID, \"/series/\").concat(options.seriesInstanceUID, \"/instances/\").concat(options.sopInstanceUID, \"/frames/\").concat(options.frameNumbers.toString(), \"/rendered\");\n          var mediaTypes = options.mediaTypes;\n          var headers = {};\n\n          if (!mediaTypes) {\n            var responseType = \"arraybuffer\";\n            return this._httpGet(url, headers, responseType);\n          }\n\n          var commonMediaType = DICOMwebClient._getCommonMediaType(mediaTypes);\n\n          if (commonMediaType.startsWith(\"image\")) {\n            return this._httpGetImage(url, mediaTypes);\n          } else if (commonMediaType.startsWith(\"video\")) {\n            return this._httpGetVideo(url, mediaTypes);\n          }\n\n          throw new Error(\"Media type \".concat(commonMediaType, \" is not supported for retrieval of rendered frame.\"));\n        }\n        /**\n         * Retrieves a DICOM instance.\n         * @param {Object} options options object\n         * @returns {ArrayBuffer} DICOM Part 10 file as Arraybuffer\n         */\n\n      }, {\n        key: \"retrieveInstance\",\n        value: function retrieveInstance(options) {\n          if (!(\"studyInstanceUID\" in options)) {\n            throw new Error(\"Study Instance UID is required\");\n          }\n\n          if (!(\"seriesInstanceUID\" in options)) {\n            throw new Error(\"Series Instance UID is required\");\n          }\n\n          if (!(\"sopInstanceUID\" in options)) {\n            throw new Error(\"SOP Instance UID is required\");\n          }\n\n          var url = \"\".concat(this.wadoURL, \"/studies/\").concat(options.studyInstanceUID, \"/series/\").concat(options.seriesInstanceUID, \"/instances/\").concat(options.sopInstanceUID);\n          var mediaTypes = options.mediaTypes;\n\n          if (!mediaTypes) {\n            return this._httpGetMultipartApplicationDicom(url).then(getFirstResult);\n          }\n\n          var commonMediaType = DICOMwebClient._getCommonMediaType(mediaTypes);\n\n          if (commonMediaType === MEDIATYPES.DICOM) {\n            return this._httpGetMultipartApplicationDicom(url, mediaTypes).then(getFirstResult);\n          } else if (commonMediaType === MEDIATYPES.OCTET_STREAM) {\n            return this._httpGetMultipartApplicationOctetStream(url, mediaTypes).then(getFirstResult);\n          } else if (commonMediaType.startsWith(\"image\")) {\n            return this._httpGetMultipartImage(url, mediaTypes).then(getFirstResultIfLengthGtOne);\n          } else if (commonMediaType.startsWith(\"video\")) {\n            return this._httpGetMultipartVideo(url, mediaTypes).then(getFirstResultIfLengthGtOne);\n          }\n\n          throw new Error(\"Media type \".concat(commonMediaType, \" is not supported for retrieval of instance.\"));\n        }\n        /**\n         * Retrieves a set of DICOM instance for a series.\n         * @param {Object} options options object\n         * @returns {ArrayBuffer[]} Array of DICOM Part 10 files as Arraybuffers\n         */\n\n      }, {\n        key: \"retrieveSeries\",\n        value: function retrieveSeries(options) {\n          if (!(\"studyInstanceUID\" in options)) {\n            throw new Error(\"Study Instance UID is required\");\n          }\n\n          if (!(\"seriesInstanceUID\" in options)) {\n            throw new Error(\"Series Instance UID is required\");\n          }\n\n          var url = \"\".concat(this.wadoURL, \"/studies/\").concat(options.studyInstanceUID, \"/series/\").concat(options.seriesInstanceUID);\n          var mediaTypes = options.mediaTypes;\n\n          if (!mediaTypes) {\n            return this._httpGetMultipartApplicationDicom(url);\n          }\n\n          var commonMediaType = DICOMwebClient._getCommonMediaType(mediaTypes);\n\n          if (commonMediaType === MEDIATYPES.DICOM) {\n            return this._httpGetMultipartApplicationDicom(url, mediaTypes);\n          } else if (commonMediaType === MEDIATYPES.OCTET_STREAM) {\n            return this._httpGetMultipartApplicationOctetStream(url, mediaTypes);\n          } else if (commonMediaType.startsWith(\"image\")) {\n            return this._httpGetMultipartImage(url, mediaTypes);\n          } else if (commonMediaType.startsWith(\"video\")) {\n            return this._httpGetMultipartVideo(url, mediaTypes);\n          }\n\n          throw new Error(\"Media type \".concat(commonMediaType, \" is not supported for retrieval of series.\"));\n        }\n        /**\n         * Retrieves a set of DICOM instance for a study.\n         * @param {Object} options options object\n         * @returns {ArrayBuffer[]} Array of DICOM Part 10 files as Arraybuffers\n         */\n\n      }, {\n        key: \"retrieveStudy\",\n        value: function retrieveStudy(options) {\n          if (!(\"studyInstanceUID\" in options)) {\n            throw new Error(\"Study Instance UID is required\");\n          }\n\n          var url = \"\".concat(this.wadoURL, \"/studies/\").concat(options.studyInstanceUID);\n          var mediaTypes = options.mediaTypes;\n\n          if (!mediaTypes) {\n            return this._httpGetMultipartApplicationDicom(url);\n          }\n\n          var commonMediaType = DICOMwebClient._getCommonMediaType(mediaTypes);\n\n          if (commonMediaType === MEDIATYPES.DICOM) {\n            return this._httpGetMultipartApplicationDicom(url, mediaTypes);\n          } else if (commonMediaType === MEDIATYPES.OCTET_STREAM) {\n            return this._httpGetMultipartApplicationOctetStream(url, mediaTypes);\n          } else if (commonMediaType.startsWith(\"image\")) {\n            return this._httpGetMultipartImage(url, mediaTypes);\n          } else if (commonMediaType.startsWith(\"video\")) {\n            return this._httpGetMultipartVideo(url, mediaTypes);\n          }\n\n          throw new Error(\"Media type \".concat(commonMediaType, \" is not supported for retrieval of study.\"));\n        }\n        /**\n         * Retrieves and parses BulkData from a BulkDataURI location.\n         * Decodes the multipart encoded data and returns the resulting data\n         * as an ArrayBuffer.\n         *\n         * See http://dicom.nema.org/medical/dicom/current/output/chtml/part18/sect_6.5.5.html\n         *\n         * @param {Object} options options object\n         * @return {Promise}\n         */\n\n      }, {\n        key: \"retrieveBulkData\",\n        value: function retrieveBulkData(options) {\n          if (!(\"BulkDataURI\" in options)) {\n            throw new Error(\"BulkDataURI is required.\");\n          }\n\n          var url = options.BulkDataURI;\n          var mediaTypes = options.mediaTypes,\n              byteRange = options.byteRange;\n\n          if (!mediaTypes) {\n            return this._httpGetMultipartApplicationOctetStream(url, mediaTypes, byteRange);\n          }\n\n          var commonMediaType = DICOMwebClient._getCommonMediaType(mediaTypes);\n\n          if (commonMediaType === MEDIATYPES.OCTET_STREAM) {\n            return this._httpGetMultipartApplicationOctetStream(url, mediaTypes, byteRange);\n          } else if (commonMediaType.startsWith(\"image\")) {\n            return this._httpGetMultipartImage(url, mediaTypes, byteRange);\n          }\n\n          throw new Error(\"Media type \".concat(commonMediaType, \" is not supported for retrieval of bulk data.\"));\n        }\n        /**\n         * Stores DICOM instances.\n         *\n         * @param {Object} options options object\n         */\n\n      }, {\n        key: \"storeInstances\",\n        value: function storeInstances(options) {\n          if (!(\"datasets\" in options)) {\n            throw new Error(\"datasets are required for storing\");\n          }\n\n          var url = \"\".concat(this.stowURL, \"/studies\");\n\n          if (\"studyInstanceUID\" in options) {\n            url += \"/\".concat(options.studyInstanceUID);\n          }\n\n          var _multipartEncode = multipartEncode(options.datasets),\n              data = _multipartEncode.data,\n              boundary = _multipartEncode.boundary;\n\n          var headers = {\n            \"Content-Type\": \"multipart/related; type=application/dicom; boundary=\".concat(boundary)\n          };\n          return this._httpPost(url, headers, data, options.progressCallback);\n        }\n      }], [{\n        key: \"_parseQueryParameters\",\n        value: function _parseQueryParameters() {\n          var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          var queryString = \"?\";\n          Object.keys(params).forEach(function (key, index) {\n            if (index !== 0) {\n              queryString += \"&\";\n            }\n\n            queryString += \"\".concat(key, \"=\").concat(encodeURIComponent(params[key]));\n          });\n          return queryString;\n        }\n      }, {\n        key: \"_assertMediaTypeIsValid\",\n        value: function _assertMediaTypeIsValid(mediaType) {\n          if (!mediaType) {\n            throw new Error(\"Not a valid media type: \".concat(mediaType));\n          }\n\n          var sepIndex = mediaType.indexOf(\"/\");\n\n          if (sepIndex === -1) {\n            throw new Error(\"Not a valid media type: \".concat(mediaType));\n          }\n\n          var mediaTypeType = mediaType.slice(0, sepIndex);\n          var types = [\"application\", \"image\", \"text\", \"video\"];\n\n          if (!types.includes(mediaTypeType)) {\n            throw new Error(\"Not a valid media type: \".concat(mediaType));\n          }\n\n          if (mediaType.slice(sepIndex + 1).includes(\"/\")) {\n            throw new Error(\"Not a valid media type: \".concat(mediaType));\n          }\n        }\n      }, {\n        key: \"_parseMediaType\",\n        value: function _parseMediaType(mediaType) {\n          DICOMwebClient._assertMediaTypeIsValid(mediaType);\n\n          return mediaType.split(\"/\");\n        }\n        /**\n         * Builds an accept header field value for HTTP GET request messages.\n         *\n         * @param {Object[]} mediaTypes Acceptable media types\n         * @param {Object[]} supportedMediaTypes Supported media types\n         * @return {*}\n         * @private\n         */\n\n      }, {\n        key: \"_buildAcceptHeaderFieldValue\",\n        value: function _buildAcceptHeaderFieldValue(mediaTypes, supportedMediaTypes) {\n          if (!Array.isArray(mediaTypes)) {\n            throw new Error(\"Acceptable media types must be provided as an Array\");\n          }\n\n          var fieldValueParts = mediaTypes.map(function (item) {\n            var mediaType = item.mediaType;\n\n            DICOMwebClient._assertMediaTypeIsValid(mediaType);\n\n            if (!supportedMediaTypes.includes(mediaType)) {\n              throw new Error(\"Media type \".concat(mediaType, \" is not supported for requested resource\"));\n            }\n\n            return mediaType;\n          });\n          return fieldValueParts.join(\", \");\n        }\n        /**\n           * Builds an accept header field value for HTTP GET multipart request\n           messages.\n           *\n           * @param {Object[]} mediaTypes Acceptable media types\n           * @param {Object[]} supportedMediaTypes Supported media types\n           * @private\n           */\n\n      }, {\n        key: \"_buildMultipartAcceptHeaderFieldValue\",\n        value: function _buildMultipartAcceptHeaderFieldValue(mediaTypes, supportedMediaTypes) {\n          if (!Array.isArray(mediaTypes)) {\n            throw new Error(\"Acceptable media types must be provided as an Array\");\n          }\n\n          if (!Array.isArray(supportedMediaTypes) && !isObject(supportedMediaTypes)) {\n            throw new Error(\"Supported media types must be provided as an Array or an Object\");\n          }\n\n          var fieldValueParts = [];\n          mediaTypes.forEach(function (item) {\n            var transferSyntaxUID = item.transferSyntaxUID,\n                mediaType = item.mediaType;\n\n            DICOMwebClient._assertMediaTypeIsValid(mediaType);\n\n            var fieldValue = \"multipart/related; type=\\\"\".concat(mediaType, \"\\\"\");\n\n            if (isObject(supportedMediaTypes)) {\n              // SupportedMediaTypes is a lookup table that maps Transfer Syntax UID\n              // to one or more Media Types\n              if (!Object.values(supportedMediaTypes).flat(1).includes(mediaType)) {\n                if (!mediaType.endsWith(\"/*\") || !mediaType.endsWith(\"/\")) {\n                  throw new Error(\"Media type \".concat(mediaType, \" is not supported for requested resource\"));\n                }\n              }\n\n              if (transferSyntaxUID) {\n                if (transferSyntaxUID !== \"*\") {\n                  if (!Object.keys(supportedMediaTypes).includes(transferSyntaxUID)) {\n                    throw new Error(\"Transfer syntax \".concat(transferSyntaxUID, \" is not supported for requested resource\"));\n                  }\n\n                  var expectedMediaTypes = supportedMediaTypes[transferSyntaxUID];\n\n                  if (!expectedMediaTypes.includes(mediaType)) {\n                    var actualType = DICOMwebClient._parseMediaType(mediaType)[0];\n\n                    expectedMediaTypes.map(function (expectedMediaType) {\n                      var expectedType = DICOMwebClient._parseMediaType(expectedMediaType)[0];\n\n                      var haveSameType = actualType === expectedType;\n\n                      if (haveSameType && (mediaType.endsWith(\"/*\") || mediaType.endsWith(\"/\"))) {\n                        return;\n                      }\n\n                      throw new Error(\"Transfer syntax \".concat(transferSyntaxUID, \" is not supported for requested resource\"));\n                    });\n                  }\n                }\n\n                fieldValue += \"; transfer-syntax=\".concat(transferSyntaxUID);\n              }\n            } else if (Array.isArray(supportedMediaTypes) && !supportedMediaTypes.includes(mediaType)) {\n              throw new Error(\"Media type \".concat(mediaType, \" is not supported for requested resource\"));\n            }\n\n            fieldValueParts.push(fieldValue);\n          });\n          return fieldValueParts.join(\", \");\n        }\n        /**\n         * Builds a range header field value for HTTP GET request messages.\n         *\n         * @param {Array} byteRange start and end of byte range\n         * @returns {String} range header field value\n         */\n\n      }, {\n        key: \"_buildRangeHeaderFieldValue\",\n        value: function _buildRangeHeaderFieldValue() {\n          var byteRange = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n          if (byteRange.length === 1) {\n            return \"bytes=\".concat(byteRange[0], \"-\");\n          }\n\n          if (byteRange.length === 2) {\n            return \"bytes=\".concat(byteRange[0], \"-\").concat(byteRange[1]);\n          }\n\n          return \"bytes=0-\";\n        }\n        /**\n         * Gets common type of acceptable media types and asserts that only\n         one type is specified. For example, ``(\"image/jpeg\", \"image/jp2\")``\n         will pass, but ``(\"image/jpeg\", \"video/mpeg2\")`` will raise an\n         exception.\n         * @param {String[]} acceptable media types and optionally the UIDs of the\n         corresponding transfer syntaxes\n         *\n         */\n\n      }, {\n        key: \"_getCommonMediaType\",\n        value: function _getCommonMediaType(mediaTypes) {\n          if (!mediaTypes || !mediaTypes.length) {\n            throw new Error(\"No acceptable media types provided\");\n          }\n\n          var commonMediaTypes = new Set();\n          mediaTypes.forEach(function (item) {\n            var mediaType = item.mediaType;\n\n            if (mediaType.startsWith(\"application\")) {\n              commonMediaTypes.add(mediaType);\n            } else {\n              var type = DICOMwebClient._parseMediaType(mediaType)[0];\n\n              commonMediaTypes.add(\"\".concat(type, \"/\"));\n            }\n          });\n\n          if (commonMediaTypes.size === 0) {\n            throw new Error(\"No common acceptable media type could be identified.\");\n          } else if (commonMediaTypes.size > 1) {\n            throw new Error(\"Acceptable media types must have the same type.\");\n          }\n\n          return Array.from(commonMediaTypes)[0];\n        }\n      }]);\n\n      return DICOMwebClient;\n    }();\n\n    function findSubstring(str, before, after) {\n      var beforeIndex = str.lastIndexOf(before) + before.length;\n\n      if (beforeIndex < before.length) {\n        return null;\n      }\n\n      if (after !== undefined) {\n        var afterIndex = str.lastIndexOf(after);\n\n        if (afterIndex < 0) {\n          return null;\n        }\n\n        return str.substring(beforeIndex, afterIndex);\n      }\n\n      return str.substring(beforeIndex);\n    }\n\n    function getStudyInstanceUIDFromUri(uri) {\n      var uid = findSubstring(uri, \"studies/\", \"/series\");\n\n      if (!uid) {\n        uid = findSubstring(uri, \"studies/\");\n      }\n\n      if (!uid) {\n        console.debug(\"Study Instance UID could not be dertermined from URI \\\"\".concat(uri, \"\\\"\"));\n      }\n\n      return uid;\n    }\n\n    function getSeriesInstanceUIDFromUri(uri) {\n      var uid = findSubstring(uri, \"series/\", \"/instances\");\n\n      if (!uid) {\n        uid = findSubstring(uri, \"series/\");\n      }\n\n      if (!uid) {\n        console.debug(\"Series Instance UID could not be dertermined from URI \\\"\".concat(uri, \"\\\"\"));\n      }\n\n      return uid;\n    }\n\n    function getSOPInstanceUIDFromUri(uri) {\n      var uid = findSubstring(uri, \"/instances/\", \"/frames\");\n\n      if (!uid) {\n        uid = findSubstring(uri, \"/instances/\", \"/metadata\");\n      }\n\n      if (!uid) {\n        uid = findSubstring(uri, \"/instances/\");\n      }\n\n      if (!uid) {\n        console.debug(\"SOP Instance UID could not be dertermined from URI\\\"\".concat(uri, \"\\\"\"));\n      }\n\n      return uid;\n    }\n\n    function getFrameNumbersFromUri(uri) {\n      var numbers = findSubstring(uri, \"/frames/\", \"/rendered\");\n\n      if (!numbers) {\n        numbers = findSubstring(uri, \"/frames/\");\n      }\n\n      if (numbers === undefined) {\n        console.debug(\"Frames Numbers could not be dertermined from URI\\\"\".concat(uri, \"\\\"\"));\n      }\n\n      return numbers.split(\",\");\n    }\n\n    var version = \"0.5.2\";\n\n    var api = {\n      DICOMwebClient: DICOMwebClient\n    };\n    var utils = {\n      getStudyInstanceUIDFromUri: getStudyInstanceUIDFromUri,\n      getSeriesInstanceUIDFromUri: getSeriesInstanceUIDFromUri,\n      getSOPInstanceUIDFromUri: getSOPInstanceUIDFromUri,\n      getFrameNumbersFromUri: getFrameNumbersFromUri\n    };\n\n    exports.api = api;\n    exports.utils = utils;\n    exports.version = version;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n  })));\n\n  });\n\n  var DICOMwebClient = unwrapExports(dicomwebClient);\n\n  function _getPixelSpacing(metadata) {\n    const functionalGroup = metadata.SharedFunctionalGroupsSequence[0];\n    const pixelMeasures = functionalGroup.PixelMeasuresSequence[0];\n    return pixelMeasures.PixelSpacing;\n  }\n\n  function _geometry2Scoord3d(geometry, pyramid) {\n    const frameOfReferenceUID = pyramid[pyramid.length-1].FrameOfReferenceUID;\n    const type = geometry.getType();\n    if (type === 'Point') {\n      let coordinates = geometry.getCoordinates();\n      coordinates = _geometryCoordinates2scoord3dCoordinates(coordinates, pyramid);\n      return new Point$1({\n        coordinates,\n        frameOfReferenceUID: frameOfReferenceUID\n      });\n    } else if (type === 'Polygon') {\n      /*\n       * The first linear ring of the array defines the outer-boundary (surface).\n       * Each subsequent linear ring defines a hole in the surface.\n       */\n      let coordinates = geometry.getCoordinates()[0].map(c => {\n        return _geometryCoordinates2scoord3dCoordinates(c, pyramid);\n      });\n      return new Polygon$1({\n        coordinates,\n        frameOfReferenceUID: frameOfReferenceUID\n      });\n    } else if (type === 'LineString') {\n      let coordinates = geometry.getCoordinates().map(c => {\n        return _geometryCoordinates2scoord3dCoordinates(c, pyramid);\n      });\n      return new Polyline({\n        coordinates,\n        frameOfReferenceUID: frameOfReferenceUID\n      });\n    } else if (type === 'Circle') {\n      let centerCoordinate = geometry.getCenter();\n      let radius = geometry.getRadius();\n      // Endpoints of major and  minor axis of the ellipse.\n      // In case of a circle they both have the same length.\n      let coordinates = [\n        [centerCoordinate[0] - radius, centerCoordinate[1]],\n        [centerCoordinate[0] + radius, centerCoordinate[1]],\n        [centerCoordinate[0], centerCoordinate[1] - radius],\n        [centerCoordinate[0], centerCoordinate[1] + radius],\n      ];\n      coordinates = coordinates.map(c => {\n        c.push(0);\n        return _geometryCoordinates2scoord3dCoordinates(c, pyramid)\n      });\n      return new Ellipse({\n        coordinates,\n        frameOfReferenceUID: frameOfReferenceUID\n      });\n    } else {\n      // TODO: Combine multiple points into MULTIPOINT.\n      console.error(`unknown geometry type \"${type}\"`);\n    }\n  }\n\n  function _scoord3d2Geometry(scoord3d, pyramid) {\n    const type = scoord3d.graphicType;\n    const data = scoord3d.graphicData;\n    if (type === 'POINT') {\n      let coordinates = _scoord3dCoordinates2geometryCoordinates(data, pyramid);\n      return new Point(coordinates);\n    } else if (type === 'POLYLINE') {\n      const coordinates = data.map(d => {\n        return _scoord3dCoordinates2geometryCoordinates(d, pyramid);\n      });\n      return new LineString(coordinates);\n    } else if(type === 'POLYGON'){\n      const coordinates = data.map(d => {\n        return _scoord3dCoordinates2geometryCoordinates(d, pyramid);\n      });\n      return new Polygon([coordinates]);\n    } else if (type === 'ELLIPSE') {\n      // TODO: ensure that the ellipse represents a circle, i.e. that\n      // major and minor axis form a right angle and have the same length\n      let majorAxisCoordinates = data.slice(0, 2);\n      let minorAxisCoordinates = data.slice(2, 4);\n      // Circle is defined by two points: the center point and a point on the\n      // circumference.\n      let point1 = majorAxisCoordinates[0];\n      let point2 = majorAxisCoordinates[1];\n      let coordinates = [\n        [\n          (point1[0] + point2[0]) / parseFloat(2),\n          (point1[1] + point2[1]) / parseFloat(2),\n          0\n        ],\n        point2\n      ];\n      coordinates = coordinates.map(d => {\n        return _scoord3dCoordinates2geometryCoordinates(d, pyramid);\n      });\n      // to flat coordinates\n      coordinates = [...coordinates[0].slice(0,2), ...coordinates[1].slice(0,2)];\n\n      // flat coordinates in combination with opt_layout and no opt_radius are also accepted\n      // and internaly it calculates the Radius\n      return new Circle(coordinates, null, \"XY\");\n    } else {\n      console.error(`unsupported graphic type \"${type}\"`);\n    }\n  }\n\n  function _geometryCoordinates2scoord3dCoordinates(coordinates, pyramid) {\n    return _coordinateFormatGeometry2Scoord3d([coordinates[0] + 1, coordinates[1], coordinates[2]], pyramid);\n  }\n\n  function _scoord3dCoordinates2geometryCoordinates(coordinates, pyramid) {\n    return _coordinateFormatScoord3d2Geometry([coordinates[0], coordinates[1], coordinates[2]], pyramid)\n  }\n\n  /*\n    * Translate pixel units of total pixel matrix into millimeters of\n    * slide coordinate system\n  */\n  function _coordinateFormatGeometry2Scoord3d(coordinates, pyramid) {\n    let transform = false;\n    if(!(coordinates[0] instanceof Array)) {\n      coordinates = [coordinates];\n      transform = true;\n    }\n    const metadata = pyramid[pyramid.length-1];\n    const origin = metadata.TotalPixelMatrixOriginSequence[0];\n    const xOffset = Number(origin.XOffsetInSlideCoordinateSystem);\n    const yOffset = Number(origin.YOffsetInSlideCoordinateSystem);\n    const pixelSpacing = _getPixelSpacing(metadata);\n    coordinates = coordinates.map(point => {\n      const x = Number((xOffset + (point[0] * pixelSpacing[0])).toFixed(4));\n      const y = Number((yOffset - ((point[1] - 1) * pixelSpacing[1])).toFixed(4));\n      const z = Number((0).toFixed(4));\n      return [x, y, z];\n    });\n    if (transform) {\n      return coordinates[0];\n    }\n    return coordinates;\n  }\n\n  /*\n    * Translate millimeters into pixel units of total pixel matrix of\n    * slide coordinate system\n  */\n  function _coordinateFormatScoord3d2Geometry(coordinates, pyramid) {\n    let transform = false;\n    if(!(coordinates[0] instanceof Array)) {\n      coordinates = [coordinates];\n      transform = true;\n    }\n    const metadata = pyramid[pyramid.length-1];\n    const origin = metadata.TotalPixelMatrixOriginSequence[0];\n    const xOffset = Number(origin.XOffsetInSlideCoordinateSystem);\n    const yOffset = Number(origin.YOffsetInSlideCoordinateSystem);\n    coordinates = coordinates.map(coord =>{\n      const pixelSpacing = _getPixelSpacing(pyramid[pyramid.length-1]);\n      const x = (coord[0] / pixelSpacing[0] - 1) - xOffset;\n      const y = -(coord[1] /pixelSpacing[1] - 1) - yOffset;\n      const z = coord[2];\n      return [x, y, z];\n    });\n    if (transform) {\n      return coordinates[0];\n    }\n    return coordinates;\n  }\n\n  function _getROIFromFeature(feature, pyramid){\n    let roi = {};\n    if (feature !== undefined) {\n      const geometry = feature.getGeometry();\n      const scoord3d = _geometry2Scoord3d(geometry, pyramid);\n      const properties = feature.getProperties();\n      // Remove geometry from properties mapping\n      const geometryName = feature.getGeometryName();\n      delete properties[geometryName];\n      const uid = feature.getId();\n      roi = new ROI({scoord3d, properties, uid});\n    }\n    return roi;\n  }\n\n  const _usewebgl = Symbol('usewebgl');\n  const _map = Symbol('map');\n  const _features = Symbol('features');\n  const _drawingSource = Symbol('drawingSource');\n  const _drawingLayer = Symbol('drawingLayer');\n  const _segmentations = Symbol('segmentations');\n  const _client = Symbol('client');\n  const _controls = Symbol('controls');\n  const _interactions = Symbol('interactions');\n  const _pyramidMetadata = Symbol('pyramidMetadata');\n  const _pyramidFrameMappings = Symbol('pyramidFrameMappings');\n  const _pyramidBaseMetadata = Symbol('pyramidMetadataBase');\n  const _metadata = Symbol('metadata');\n\n\n  class VLWholeSlideMicroscopyImageViewer {\n\n    /*\n     * options:\n     *   - client (instance of DICOMwebClient)\n     *   - metadata (array of DICOM JSON metadata for each image instance)\n     *   - retrieveRendered (whether frames should be retrieved using DICOMweb RetrieveRenderedTransaction; default: true)\n     *   - useWebGL (whether WebGL renderer should be used; default: true)\n     */\n    constructor(options) {\n      if ('useWebGL' in options) {\n        this[_usewebgl] = options.useWebGL;\n      } else {\n        this[_usewebgl] = true;\n      }\n      this[_client] = options.client;\n\n      if (!('retrieveRendered' in options)) {\n        options.retrieveRendered = true;\n      }\n\n      if (!('controls' in options)) {\n        options.controls = [];\n      }\n      options.controls = new Set(options.controls);\n\n      // Collection of Openlayers \"VectorLayer\" instances indexable by\n      // DICOM Series Instance UID\n      this[_segmentations] = {};\n\n      // Collection of Openlayers \"Feature\" instances\n      this[_features] = new Collection([], {unique: true});\n      // Add unique identifier to each created \"Feature\" instance\n      this[_features].on('add', (e) => {\n        // The ID may have already been set when drawn. However, features could\n        // have also been added without a draw event.\n        if (e.element.getId() === undefined) {\n          e.element.setId(generateUID());\n        }\n      });\n\n      /*\n       * To visualize images accross multiple scales, we first need to\n       * determine the image pyramid structure, i.e. the size and resolution\n       * images at the different pyramid levels.\n      */\n      this[_metadata] = options.metadata.map(m => formatImageMetadata(m));\n      // Sort instances and optionally concatenation parts if present.\n      this[_metadata].sort((a, b) => {\n        const sizeDiff = a.TotalPixelMatrixColumns - b.TotalPixelMatrixColumns;\n        if (sizeDiff === 0) {\n          if (a.ConcatenationFrameOffsetNumber !== undefined) {\n            return a.ConcatenationFrameOffsetNumber - b.ConcatenationFrameOffsetNumber;\n          }\n          return sizeDiff;\n        }\n        return sizeDiff;\n      });\n      this[_pyramidMetadata] = [];\n      this[_pyramidFrameMappings] = [];\n      let frameMappings = this[_metadata].map(m => getFrameMapping(m));\n      for (let i = 0; i < this[_metadata].length; i++) {\n        const cols = this[_metadata][i].TotalPixelMatrixColumns;\n        const rows = this[_metadata][i].TotalPixelMatrixRows;\n        const numberOfFrames = this[_metadata][i].NumberOfFrames;\n        /*\n         * Instances may be broken down into multiple concatentation parts.\n         * Therefore, we have to re-assemble instance metadata.\n        */\n        let alreadyExists = false;\n        let index = null;\n        for (let j = 0; j < this[_pyramidMetadata].length; j++) {\n          if (\n              (this[_pyramidMetadata][j].TotalPixelMatrixColumns === cols) &&\n              (this[_pyramidMetadata][j].TotalPixelMatrixRows === rows)\n            ) {\n            alreadyExists = true;\n            index = j;\n          }\n        }\n        if (alreadyExists) {\n          // Update with information obtained from current concatentation part.\n          Object.assign(this[_pyramidFrameMappings][index], frameMappings[i]);\n          this[_pyramidMetadata][index].NumberOfFrames += numberOfFrames;\n          if (\"PerFrameFunctionalGroupsSequence\" in this[_metadata][index]) {\n            this[_pyramidMetadata][index].PerFrameFunctionalGroupsSequence.push(\n              ...this[_metadata][i].PerFrameFunctionalGroupsSequence\n            );\n          }\n          if (!\"SOPInstanceUIDOfConcatenationSource\" in this[_metadata][i]) {\n            throw new Error(\n              'Attribute \"SOPInstanceUIDOfConcatenationSource\" is required ' +\n              'for concatenation parts.'\n            );\n          }\n          const sopInstanceUID = this[_metadata][i].SOPInstanceUIDOfConcatenationSource;\n          this[_pyramidMetadata][index].SOPInstanceUID = sopInstanceUID;\n          delete this[_pyramidMetadata][index].SOPInstanceUIDOfConcatenationSource;\n          delete this[_pyramidMetadata][index].ConcatenationUID;\n          delete this[_pyramidMetadata][index].InConcatenationNumber;\n          delete this[_pyramidMetadata][index].ConcatenationFrameOffsetNumber;\n        } else {\n          this[_pyramidMetadata].push(this[_metadata][i]);\n          this[_pyramidFrameMappings].push(frameMappings[i]);\n        }\n      }\n      const nLevels = this[_pyramidMetadata].length;\n      if (nLevels === 0) {\n        console.error('empty pyramid - no levels found');\n      }\n      this[_pyramidBaseMetadata] = this[_pyramidMetadata][nLevels - 1];\n      /*\n       * Collect relevant information from DICOM metadata for each pyramid\n       * level to construct the Openlayers map.\n      */\n      const tileSizes = [];\n      const totalSizes = [];\n      const resolutions = [];\n      const origins = [];\n      const offset = [0, -1];\n      const basePixelSpacing = _getPixelSpacing(this[_pyramidBaseMetadata]);\n      const baseColumns = this[_pyramidBaseMetadata].Columns;\n      const baseRows = this[_pyramidBaseMetadata].Rows;\n      const baseTotalPixelMatrixColumns = this[_pyramidBaseMetadata].TotalPixelMatrixColumns;\n      const baseTotalPixelMatrixRows = this[_pyramidBaseMetadata].TotalPixelMatrixRows;\n      for (let j = (nLevels - 1); j >= 0; j--) {\n        const columns = this[_pyramidMetadata][j].Columns;\n        const rows = this[_pyramidMetadata][j].Rows;\n        const totalPixelMatrixColumns = this[_pyramidMetadata][j].TotalPixelMatrixColumns;\n        const totalPixelMatrixRows = this[_pyramidMetadata][j].TotalPixelMatrixRows;\n        const pixelSpacing = _getPixelSpacing(this[_pyramidMetadata][j]);\n        const colFactor = Math.ceil(totalPixelMatrixColumns / columns);\n        const rowFactor = Math.ceil(totalPixelMatrixRows / rows);\n        const adjustedTotalPixelMatrixColumns = columns * colFactor;\n        const adjustedTotalPixelMatrixRows = rows * rowFactor;\n        tileSizes.push([\n          columns,\n          rows\n        ]);\n        totalSizes.push([\n          adjustedTotalPixelMatrixColumns,\n          adjustedTotalPixelMatrixRows\n        ]);\n\n        /*\n         * Compute the resolution at each pyramid level, since the zoom\n         * factor may not be the same between adjacent pyramid levels.\n        */\n        let zoomFactor = pixelSpacing[0] / basePixelSpacing[0];\n        resolutions.push(zoomFactor);\n\n        /*\n         * TODO: One may have to adjust the offset slightly due to the\n         * difference between extent of the image at a given resolution level\n         * and the actual number of tiles (frames).\n        */\n        origins.push(offset);\n      }\n      resolutions.reverse();\n      tileSizes.reverse();\n      origins.reverse();\n\n      // Functions won't be able to access \"this\"\n      const pyramid = this[_pyramidMetadata];\n      const pyramidFrameMappings = this[_pyramidFrameMappings];\n\n      /*\n       * Define custom tile URL function to retrive frames via DICOMweb\n       * WADO-RS.\n       */\n      const tileUrlFunction = (tileCoord, pixelRatio, projection) => {\n        /*\n         * Variables x and y correspond to the X and Y axes of the slide\n         * coordinate system. Since we want to view the slide horizontally\n         * with the label on the right side, the x axis of the slide\n         * coordinate system is the vertical axis of the viewport and the\n         * y axis of the slide coordinate system the horizontal axis of the\n         * viewport. Note that this is in contrast to the nomenclature used\n         * by Openlayers.\n         */\n        let z = tileCoord[0];\n        let y = tileCoord[1] + 1;\n        /*\n         * The vertical axis is inverted for the chosen tile source, i.e.\n         * it starts at -1 at the top left corner and descreases along the\n         * vertical axis to the lower left corner of the viewport.\n         */\n        let x = -(tileCoord[2] + 1) + 1;\n        let index = x + \"-\" + y;\n        let path = pyramidFrameMappings[z][index];\n        if (path === undefined) {\n          console.warn(\"tile \" + index + \" not found at level \" + z);\n          return(null);\n        }\n        let url = options.client.wadoURL +\n          \"/studies/\" + pyramid[z].StudyInstanceUID +\n          \"/series/\" + pyramid[z].SeriesInstanceUID +\n          '/instances/' + path;\n        if (options.retrieveRendered) {\n          url = url + '/rendered';\n        }\n        return(url);\n      };\n\n      const tileLoadFunction = (tile, src) => {\n        if (src !== null) {\n          const studyInstanceUID = DICOMwebClient.utils.getStudyInstanceUIDFromUri(src);\n          const seriesInstanceUID = DICOMwebClient.utils.getSeriesInstanceUIDFromUri(src);\n          const sopInstanceUID = DICOMwebClient.utils.getSOPInstanceUIDFromUri(src);\n          const frameNumbers = DICOMwebClient.utils.getFrameNumbersFromUri(src);\n          const img = tile.getImage();\n          if (options.retrieveRendered) {\n            const mediaType = 'image/png';\n            const retrieveOptions = {\n              studyInstanceUID,\n              seriesInstanceUID,\n              sopInstanceUID,\n              frameNumbers,\n              mediaTypes: [{ mediaType }]\n            };\n            options.client.retrieveInstanceFramesRendered(retrieveOptions).then((renderedFrame) => {\n              const blob = new Blob([renderedFrame], {type: mediaType});\n              img.src = window.URL.createObjectURL(blob);\n            });\n          } else {\n            // TODO: support \"image/jp2\" and \"image/jls\"\n            const mediaType = 'image/jpeg';\n\n            const retrieveOptions = {\n              studyInstanceUID,\n              seriesInstanceUID,\n              sopInstanceUID,\n              frameNumbers,\n              mediaTypes: [{mediaType, transferSyntaxUID: '1.2.840.10008.1.2.4.50'}]\n            };\n            options.client.retrieveInstanceFrames(retrieveOptions).then((rawFrames) => {\n              const blob = new Blob(rawFrames, {type: mediaType});\n              img.src = window.URL.createObjectURL(blob);\n            });\n          }\n        } else {\n          console.warn('could not load tile');\n        }\n      };\n\n      /*\n       * Frames may extend beyond the size of the total pixel matrix.\n       * The excess pixels are empty, i.e. have only a padding value.\n       * We set the extent to the size of the actual image without taken\n       * excess pixels into account.\n       * Note that the vertical axis is flipped in the used tile source,\n       * i.e. values on the axis lie in the range [-n, -1], where n is the\n       * number of rows in the total pixel matrix.\n      */\n      const extent = [\n        0,                            // min X\n        -baseTotalPixelMatrixRows,    // min Y\n        baseTotalPixelMatrixColumns,  // max X\n        -1                            // max Y\n      ];\n\n      /*\n       * Determine whether image needs to be rotated relative to slide\n       * coordinate system based on direction cosines.\n       * There are only planar rotations, since the total pixel matrix is\n       * parallel to the slide surface. Here, we further assume that rows and\n       * columns of total pixel matrix are parallel to the borders of the slide,\n       * i.e. the x and y axis of the slide coordinate system.\n       * Hence, we only account for the case where the image may be rotated by\n       * 180 degrees.\n      */\n      var degrees = 0;\n      if (\n        (this[_pyramidBaseMetadata].ImageOrientationSlide[1] === -1) &&\n        (this[_pyramidBaseMetadata].ImageOrientationSlide[3] === -1)\n      ) {\n        /*\n         * The row direction (left to right) of the total pixel matrix\n         * is defined by the first three values.\n         * The three values specify how the direction changes from the last pixel\n         * to the first pixel in the row along each of the three axes of the\n         * slide coordinate system (x, y, z), i.e. it express in which direction one\n         * is moving in the slide coordinate system when the COLUMN index changes.\n         * The column direction (top to bottom) of the total pixel matrix\n         * is defined by the first three values.\n         * The three values specify how the direction changes from the last pixel\n         * to the first pixel in the column along each of the three axes of the\n         * slide coordinate system (x, y, z), i.e. it express in which direction one\n         * is moving in the slide coordinate system when the ROW index changes.\n        */\n        degrees = 180;\n      }\n      const rotation = degrees * (Math.PI / 180);\n\n      /*\n       * Specify projection to prevent default automatic projection\n       * with the default Mercator projection.\n       */\n      const projection = new Projection({\n        code: \"NONE\",\n        units: 'metric',\n        extent: extent,\n        getPointResolution: function(pixelRes, point) {\n          /*\n           * DICOM pixel spacing has millimeter unit while the projection has\n           * has meter unit.\n           */\n          let spacing = _getPixelSpacing(pyramid[nLevels-1])[0] / 10**3;\n          let res = pixelRes * spacing;\n          return(res);\n        }\n      });\n      /*\n       * TODO: Register custom projection:\n       *  - http://openlayers.org/en/latest/apidoc/ol.proj.html\n       *  - http://openlayers.org/en/latest/apidoc/module-ol_proj.html#~ProjectionLike\n       * Direction cosines could be handled via projection rather\n       * than specifying a rotation\n       */\n\n      /*\n       * We need to specify the tile grid, since DICOM allows tiles to\n       * have different sizes at each resolution level and a different zoom\n       * factor between individual levels.\n       */\n      const tileGrid = new TileGrid({\n        extent: extent,\n        origins: origins,\n        resolutions: resolutions,\n        sizes: totalSizes,\n        tileSizes: tileSizes\n      });\n\n      /*\n       * We use the implemented XYZ tile source but customize it to retrieve\n       * frames (load tiles) via DICOMweb WADO-RS.\n       */\n      const rasterSource = new XYZ({\n        crossOrigin: \"Anonymous\",\n        tileGrid: tileGrid,\n        projection: projection,\n        wrapX: false\n      });\n      rasterSource.setTileUrlFunction(tileUrlFunction);\n      rasterSource.setTileLoadFunction(tileLoadFunction);\n\n      const imageLayer = new TileLayer({\n        extent: extent,\n        source: rasterSource,\n        preload: 1,\n        projection: projection\n      });\n\n      this[_drawingSource] = new VectorSource({\n        tileGrid: tileGrid,\n        projection: projection,\n        features: this[_features],\n        wrapX: false\n      });\n\n      this[_drawingLayer] = new VectorLayer({\n        extent: extent,\n        source: this[_drawingSource],\n        projection: projection,\n        updateWhileAnimating: true,\n        updateWhileInteracting: true,\n      });\n\n      const view = new View({\n        center: getCenter(extent),\n        extent: extent,\n        projection: projection,\n        resolutions: resolutions,\n        rotation: rotation\n      });\n\n      const overviewView = new View({\n        projection: projection,\n        resolutions: resolutions,\n        rotation: rotation\n      });\n\n      this[_interactions] = {\n        draw: undefined,\n        select: undefined,\n        modify: undefined\n      };\n\n      this[_controls] = {\n        scale: new ScaleLine({\n          units: 'metric',\n          className: ''\n        })\n      };\n      if (options.controls.has('fullscreen')) {\n        this[_controls].fullscreen = new FullScreen();\n      }\n      if (options.controls.has('overview')) {\n        this[_controls].overview = new OverviewMap({\n          view: overviewView,\n          collapsed: true,\n        });\n      }\n\n      /*\n       * Creates the map with the defined layers and view and renders it via\n       * WebGL.\n       */\n      if (this[_usewebgl]) {\n        this[_map] = new WebGLMap({\n          layers: [imageLayer, this[_drawingLayer]],\n          view: view,\n          controls: [],\n          loadTilesWhileAnimating: true,\n          loadTilesWhileInteracting: true,\n          logo: false\n        });\n      } else {\n\n        this[_map] = new Map({\n          layers: [imageLayer, this[_drawingLayer]],\n          view: view,\n          controls: [],\n          loadTilesWhileAnimating: true,\n          loadTilesWhileInteracting: true,\n          logo: false\n        });\n      }\n\n      for (let control in this[_controls]) {\n        this[_map].addControl(this[_controls][control]);\n      }\n      this[_map].getView().fit(extent, this[_map].getSize());\n\n    }\n\n    resize(){\n      this[_map].updateSize();\n    }\n    \n\n    /* Renders the images.\n     */\n    render(options) {\n      if (!('container' in options)) {\n        console.error('container must be provided for rendering images');\n      }\n      this[_map].setTarget(options.container);\n\n      // Style scale element (overriding default Openlayers CSS \"ol-scale-line\")\n      let scaleElement = this[_controls]['scale'].element;\n      scaleElement.style.position = 'absolute';\n      scaleElement.style.right = '.5em';\n      scaleElement.style.bottom = '.5em';\n      scaleElement.style.left = 'auto';\n      scaleElement.style.padding = '2px';\n      scaleElement.style.backgroundColor = 'rgba(255,255,255,.5)';\n      scaleElement.style.borderRadius = '4px';\n      scaleElement.style.margin = '1px';\n\n      let scaleInnerElement = this[_controls]['scale'].innerElement_;\n      scaleInnerElement.style.color = 'black';\n      scaleInnerElement.style.fontWeight = '600';\n      scaleInnerElement.style.fontSize = '10px';\n      scaleInnerElement.style.textAlign = 'center';\n      scaleInnerElement.style.borderWidth = '1.5px';\n      scaleInnerElement.style.borderStyle = 'solid';\n      scaleInnerElement.style.borderTop = 'none';\n      scaleInnerElement.style.borderRightColor = 'black';\n      scaleInnerElement.style.borderLeftColor = 'black';\n      scaleInnerElement.style.borderBottomColor = 'black';\n      scaleInnerElement.style.margin = '1px';\n      scaleInnerElement.style.willChange = 'contents,width';\n\n      const container = this[_map].getTargetElement();\n\n      this[_drawingSource].on(VectorEventType.ADDFEATURE, (e) => {\n        publish(container, EVENTS.ROI_ADDED, _getROIFromFeature(e.feature, this[_pyramidMetadata]));\n      });\n\n      this[_drawingSource].on(VectorEventType.CHANGEFEATURE, (e) => {\n        publish(container, EVENTS.ROI_MODIFIED, _getROIFromFeature(e.feature, this[_pyramidMetadata]));\n      });\n\n      this[_drawingSource].on(VectorEventType.REMOVEFEATURE, (e) => {\n        publish(container, EVENTS.ROI_REMOVED, _getROIFromFeature(e.feature, this[_pyramidMetadata]));\n      });\n\n      this[_map].on(MapEventType.MOVESTART, (e) => {\n        publish(container, EVENTS.MOVE_STARTED, this.getAllROIs());\n      });\n\n      this[_map].on(MapEventType.MOVEEND, (e) => {\n        publish(container, EVENTS.MOVE_ENDED, this.getAllROIs());\n      });\n\n    }\n\n    /* Activate draw interaction.\n     */\n    activateDrawInteraction(options) {\n      this.deactivateDrawInteraction();\n\n      const customOptionsMapping = {\n        point: {\n          type: 'Point',\n          geometryName: 'Point'\n        },\n        circle: {\n          type: 'Circle',\n          geometryName: 'Circle'\n        },\n        box: {\n          type: 'Circle',\n          geometryName: 'Box',\n          geometryFunction: createRegularPolygon(4),\n        },\n        polygon: {\n          type: 'Polygon',\n          geometryName: 'Polygon',\n          freehand: false,\n        },\n        freehandpolygon: {\n          type: 'Polygon',\n          geometryName: 'FreeHandPolygon',\n          freehand: true,\n        },\n        line: {\n          type: 'LineString',\n          geometryName: 'Line',\n          freehand: false,\n        },\n        freehandline: {\n          type: 'LineString',\n          geometryName: 'FreeHandLine',\n          freehand: true,\n        },\n      };\n      if (!('geometryType' in options)) {\n        console.error('geometry type must be specified for drawing interaction');\n      }\n      if (!(options.geometryType in customOptionsMapping)) {\n        console.error(`unsupported geometry type \"${options.geometryType}\"`);\n      }\n\n      const defaultDrawOptions = {source: this[_drawingSource]};\n      const customDrawOptions = customOptionsMapping[options.geometryType];\n      if ('style' in options) {\n        customDrawOptions.style = options.style;\n      }\n      const allDrawOptions = Object.assign(defaultDrawOptions, customDrawOptions);\n      this[_interactions].draw = new Draw(allDrawOptions);\n\n      const container = this[_map].getTargetElement();\n\n      //attaching openlayers events handling\n      this[_interactions].draw.on('drawend', (e) => {\n        e.feature.setId(generateUID());\n        publish(container, EVENTS.ROI_DRAWN, _getROIFromFeature(e.feature, this[_pyramidMetadata]));\n      });\n\n      this[_map].addInteraction(this[_interactions].draw);\n\n    }\n\n    /* Deactivate draw interaction.\n     */\n    deactivateDrawInteraction() {\n      if (this[_interactions].draw !== undefined) {\n        this[_map].removeInteraction(this[_interactions].draw);\n        this[_interactions].draw = undefined;\n      }\n    }\n\n    get isDrawInteractionActive() {\n      return this[_interactions].draw !== undefined;\n    }\n\n    /* Activate select interaction.\n     */\n    activateSelectInteraction(options={}) {\n      this.deactivateSelectInteraction();\n      this[_interactions].select = new Select({\n        layers: [this[_drawingLayer]]\n      });\n\n      const container = this[_map].getTargetElement();\n\n      this[_interactions].select.on('select', (e) => {\n        publish(container, EVENTS.ROI_SELECTED, _getROIFromFeature(e.selected[0], this[_pyramidMetadata]));\n      });\n\n      this[_map].addInteraction(this[_interactions].select);\n    }\n\n    /* Deactivate select interaction.\n     */\n    deactivateSelectInteraction() {\n      if (this[_interactions].select) {\n        this[_map].removeInteraction(this[_interactions].select);\n        this[_interactions].select = undefined;\n      }\n    }\n\n    get isSelectInteractionActive() {\n      return this[_interactions].select !== undefined;\n    }\n\n    /* Activate modify interaction.\n     */\n    activateModifyInteraction(options={}) {\n      this.deactivateModifyInteraction();\n      this[_interactions].modify = new Modify({\n        features: this[_features],  // TODO: or source, i.e. \"drawings\"???\n      });\n      this[_map].addInteraction(this[_interactions].modify);\n    }\n\n    /* Deactivate modify interaction.\n     */\n    deactivateModifyInteraction() {\n      if (this[_interactions].modify) {\n        this[_map].removeInteraction(this[_interactions].modify);\n        this[_interactions].modify = undefined;\n      }\n    }\n\n    get isModifyInteractionActive() {\n      return this[_interactions].modify !== undefined;\n    }\n\n    getAllROIs() {\n      let rois = [];\n      this[_features].forEach((item) => {\n          rois.push(this.getROI(item.getId()));\n      });\n      return rois;\n    }\n\n    get numberOfROIs() {\n      return this[_features].getLength();\n    }\n\n    getROI(uid) {\n      const feature = this[_drawingSource].getFeatureById(uid);\n      return _getROIFromFeature(feature, this[_pyramidMetadata]);\n    }\n\n    popROI() {\n      const feature = this[_features].pop();\n      return _getROIFromFeature(feature, this[_pyramidMetadata]);\n    }\n\n    addROI(item) {\n      const geometry = _scoord3d2Geometry(item.scoord3d, this[_pyramidMetadata]);\n      const feature = new Feature(geometry);\n      feature.setProperties(item.properties, true);\n      feature.setId(item.uid);\n      this[_features].push(feature);\n    }\n\n    removeROI(uid) {\n      const feature = this[_drawingSource].getFeatureById(uid);\n      this[_features].remove(feature);\n    }\n\n    removeAllROI() {\n      this[_features].clear();\n    }\n\n    hideROIs() {\n      this[_drawingLayer].setVisible(false);\n    }\n\n    showROIs() {\n      this[_drawingLayer].setVisible(true);\n    }\n\n    get areROIsVisible() {\n      return this[_drawingLayer].getVisible();\n    }\n\n    get imageMetadata() {\n      return this[_pyramidMetadata];\n    }\n\n  }\n\n  let api = {\n    VLWholeSlideMicroscopyImageViewer,\n  };\n  let scoord3d = {\n    Point: Point$1,\n    Multipoint,\n    Polyline,\n    Polygon: Polygon$1,\n    Ellipsoid,\n    Ellipse\n  };\n  let roi = {\n    ROI,\n  };\n\n  exports.api = api;\n  exports.scoord3d = scoord3d;\n  exports.roi = roi;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n"],"sourceRoot":""}